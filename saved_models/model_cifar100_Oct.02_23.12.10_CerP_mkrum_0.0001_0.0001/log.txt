current path: saved_models/model_cifar100_Oct.02_23.12.10_CerP_mkrum_0.0001_0.0001
Loading data
build_classes_dict done
train loaders done
get poison test loader
load data done
Loaded parameters from saved model: LR is 0.01 and current epoch is 71
create model done
Poisoned following participants: [13, 36, 58, 71]
We use following environment for graphs:  cifar100_CerP
Server Epoch:71 choose agents : [13, 36, 58, 71, 85, 4, 97, 76, 38, 94, 86, 10, 29, 34, 7, 18, 6, 22, 69, 81].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  71, local model 13, internal_epoch   1,  Average loss: 0.0062, Accuracy: 4755/5308 (89.5818%), train_poison_data_count: 415
Global model norm: 42.432124970265015.
Norm before scaling: 42.43913236689326. Distance: 2.2821293011541393
___Test Local_ResNet_18 poisoned: True, epoch: 71: Average loss: 0.5569, Accuracy: 8600/9900 (86.8687%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  71, local model 36, internal_epoch   1,  Average loss: 0.0051, Accuracy: 5305/5777 (91.8297%), train_poison_data_count: 455
Global model norm: 42.432124970265015.
Norm before scaling: 42.42960047058833. Distance: 2.1725387107991088
___Test Local_ResNet_18 poisoned: True, epoch: 71: Average loss: 0.5805, Accuracy: 8565/9900 (86.5152%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  71, local model 58, internal_epoch   1,  Average loss: 0.0071, Accuracy: 4581/5123 (89.4203%), train_poison_data_count: 403
Global model norm: 42.432124970265015.
Norm before scaling: 42.43912517598737. Distance: 2.2635782401835316
___Test Local_ResNet_18 poisoned: True, epoch: 71: Average loss: 0.4868, Accuracy: 8716/9900 (88.0404%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  71, local model 71, internal_epoch   1,  Average loss: 0.0062, Accuracy: 4941/5503 (89.7874%), train_poison_data_count: 430
Global model norm: 42.432124970265015.
Norm before scaling: 42.439276184755286. Distance: 2.3051320827150463
___Test Local_ResNet_18 poisoned: True, epoch: 71: Average loss: 0.5348, Accuracy: 8588/9900 (86.7475%)
___Train Local_ResNet_18,  epoch  71, local model 85, internal_epoch   1,  Average loss: 0.0058, Accuracy: 6155/6947 (88.5994%)
___Train Local_ResNet_18,  epoch  71, local model 85, internal_epoch   2,  Average loss: 0.0058, Accuracy: 6137/6947 (88.3403%)
___Test Local_ResNet_18 poisoned: False, epoch: 71: Average loss: 2.0295, Accuracy: 5434/10000 (54.3400%)
___Train Local_ResNet_18,  epoch  71, local model 4, internal_epoch   1,  Average loss: 0.0058, Accuracy: 3570/4028 (88.6296%)
___Train Local_ResNet_18,  epoch  71, local model 4, internal_epoch   2,  Average loss: 0.0042, Accuracy: 3704/4028 (91.9563%)
___Test Local_ResNet_18 poisoned: False, epoch: 71: Average loss: 1.9218, Accuracy: 5568/10000 (55.6800%)
___Train Local_ResNet_18,  epoch  71, local model 97, internal_epoch   1,  Average loss: 0.0066, Accuracy: 4125/4736 (87.0988%)
___Train Local_ResNet_18,  epoch  71, local model 97, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4253/4736 (89.8015%)
___Test Local_ResNet_18 poisoned: False, epoch: 71: Average loss: 2.0542, Accuracy: 5441/10000 (54.4100%)
___Train Local_ResNet_18,  epoch  71, local model 76, internal_epoch   1,  Average loss: 0.0064, Accuracy: 3444/3959 (86.9917%)
___Train Local_ResNet_18,  epoch  71, local model 76, internal_epoch   2,  Average loss: 0.0049, Accuracy: 3576/3959 (90.3258%)
___Test Local_ResNet_18 poisoned: False, epoch: 71: Average loss: 1.8765, Accuracy: 5567/10000 (55.6700%)
___Train Local_ResNet_18,  epoch  71, local model 38, internal_epoch   1,  Average loss: 0.0065, Accuracy: 5479/6235 (87.8749%)
___Train Local_ResNet_18,  epoch  71, local model 38, internal_epoch   2,  Average loss: 0.0063, Accuracy: 5446/6235 (87.3456%)
___Test Local_ResNet_18 poisoned: False, epoch: 71: Average loss: 2.3366, Accuracy: 5024/10000 (50.2400%)
___Train Local_ResNet_18,  epoch  71, local model 94, internal_epoch   1,  Average loss: 0.0069, Accuracy: 4537/5224 (86.8492%)
___Train Local_ResNet_18,  epoch  71, local model 94, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4709/5224 (90.1417%)
___Test Local_ResNet_18 poisoned: False, epoch: 71: Average loss: 2.0389, Accuracy: 5381/10000 (53.8100%)
___Train Local_ResNet_18,  epoch  71, local model 86, internal_epoch   1,  Average loss: 0.0058, Accuracy: 3463/3929 (88.1395%)
___Train Local_ResNet_18,  epoch  71, local model 86, internal_epoch   2,  Average loss: 0.0047, Accuracy: 3571/3929 (90.8883%)
___Test Local_ResNet_18 poisoned: False, epoch: 71: Average loss: 1.9168, Accuracy: 5643/10000 (56.4300%)
___Train Local_ResNet_18,  epoch  71, local model 10, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4566/5068 (90.0947%)
___Train Local_ResNet_18,  epoch  71, local model 10, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4670/5068 (92.1468%)
___Test Local_ResNet_18 poisoned: False, epoch: 71: Average loss: 1.9912, Accuracy: 5410/10000 (54.1000%)
___Train Local_ResNet_18,  epoch  71, local model 29, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4302/4732 (90.9129%)
___Train Local_ResNet_18,  epoch  71, local model 29, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4400/4732 (92.9839%)
___Test Local_ResNet_18 poisoned: False, epoch: 71: Average loss: 1.7414, Accuracy: 5880/10000 (58.8000%)
___Train Local_ResNet_18,  epoch  71, local model 34, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4426/4911 (90.1242%)
___Train Local_ResNet_18,  epoch  71, local model 34, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4504/4911 (91.7125%)
___Test Local_ResNet_18 poisoned: False, epoch: 71: Average loss: 1.9172, Accuracy: 5561/10000 (55.6100%)
___Train Local_ResNet_18,  epoch  71, local model 7, internal_epoch   1,  Average loss: 0.0069, Accuracy: 4282/4869 (87.9441%)
___Train Local_ResNet_18,  epoch  71, local model 7, internal_epoch   2,  Average loss: 0.0092, Accuracy: 4050/4869 (83.1793%)
___Test Local_ResNet_18 poisoned: False, epoch: 71: Average loss: 2.1323, Accuracy: 5094/10000 (50.9400%)
___Train Local_ResNet_18,  epoch  71, local model 18, internal_epoch   1,  Average loss: 0.0061, Accuracy: 3756/4249 (88.3973%)
___Train Local_ResNet_18,  epoch  71, local model 18, internal_epoch   2,  Average loss: 0.0050, Accuracy: 3851/4249 (90.6331%)
___Test Local_ResNet_18 poisoned: False, epoch: 71: Average loss: 1.9925, Accuracy: 5566/10000 (55.6600%)
___Train Local_ResNet_18,  epoch  71, local model 6, internal_epoch   1,  Average loss: 0.0062, Accuracy: 4417/4929 (89.6125%)
___Train Local_ResNet_18,  epoch  71, local model 6, internal_epoch   2,  Average loss: 0.0059, Accuracy: 4457/4929 (90.4240%)
___Test Local_ResNet_18 poisoned: False, epoch: 71: Average loss: 1.9621, Accuracy: 5572/10000 (55.7200%)
___Train Local_ResNet_18,  epoch  71, local model 22, internal_epoch   1,  Average loss: 0.0052, Accuracy: 5111/5696 (89.7296%)
___Train Local_ResNet_18,  epoch  71, local model 22, internal_epoch   2,  Average loss: 0.0051, Accuracy: 5127/5696 (90.0105%)
___Test Local_ResNet_18 poisoned: False, epoch: 71: Average loss: 2.1064, Accuracy: 5268/10000 (52.6800%)
___Train Local_ResNet_18,  epoch  71, local model 69, internal_epoch   1,  Average loss: 0.0054, Accuracy: 3914/4364 (89.6884%)
___Train Local_ResNet_18,  epoch  71, local model 69, internal_epoch   2,  Average loss: 0.0054, Accuracy: 3901/4364 (89.3905%)
___Test Local_ResNet_18 poisoned: False, epoch: 71: Average loss: 2.0028, Accuracy: 5447/10000 (54.4700%)
___Train Local_ResNet_18,  epoch  71, local model 81, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4533/5035 (90.0298%)
___Train Local_ResNet_18,  epoch  71, local model 81, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4650/5035 (92.3535%)
___Test Local_ResNet_18 poisoned: False, epoch: 71: Average loss: 2.0718, Accuracy: 5286/10000 (52.8600%)
time spent on training: 273.0627496242523
___Test Target_ResNet_18 poisoned: False, epoch: 71: Average loss: 1.1044, Accuracy: 7053/10000 (70.5300%)
___Test Target_ResNet_18 poisoned: True, epoch: 71: Average loss: 8.8471, Accuracy: 138/9900 (1.3939%)
Done in 299.95004868507385 sec.
Server Epoch:72 choose agents : [13, 36, 58, 71, 47, 10, 95, 98, 64, 57, 27, 85, 93, 6, 74, 54, 88, 45, 51, 52].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  72, local model 13, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4870/5308 (91.7483%), train_poison_data_count: 415
Global model norm: 42.45326589505512.
Norm before scaling: 42.4555819702155. Distance: 2.067198401412995
___Test Local_ResNet_18 poisoned: True, epoch: 72: Average loss: 0.2203, Accuracy: 9333/9900 (94.2727%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  72, local model 36, internal_epoch   1,  Average loss: 0.0044, Accuracy: 5375/5777 (93.0414%), train_poison_data_count: 455
Global model norm: 42.45326589505512.
Norm before scaling: 42.44506588714479. Distance: 1.9890448821936466
___Test Local_ResNet_18 poisoned: True, epoch: 72: Average loss: 0.2330, Accuracy: 9311/9900 (94.0505%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  72, local model 58, internal_epoch   1,  Average loss: 0.0065, Accuracy: 4598/5123 (89.7521%), train_poison_data_count: 403
Global model norm: 42.45326589505512.
Norm before scaling: 42.457551469176984. Distance: 2.1500132937353027
___Test Local_ResNet_18 poisoned: True, epoch: 72: Average loss: 0.1160, Accuracy: 9586/9900 (96.8283%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  72, local model 71, internal_epoch   1,  Average loss: 0.0050, Accuracy: 5044/5503 (91.6591%), train_poison_data_count: 430
Global model norm: 42.45326589505512.
Norm before scaling: 42.45578611230821. Distance: 2.1029966771511757
___Test Local_ResNet_18 poisoned: True, epoch: 72: Average loss: 0.2966, Accuracy: 9152/9900 (92.4444%)
___Train Local_ResNet_18,  epoch  72, local model 47, internal_epoch   1,  Average loss: 0.0068, Accuracy: 4497/5123 (87.7806%)
___Train Local_ResNet_18,  epoch  72, local model 47, internal_epoch   2,  Average loss: 0.0095, Accuracy: 4214/5123 (82.2565%)
___Test Local_ResNet_18 poisoned: False, epoch: 72: Average loss: 2.1801, Accuracy: 5015/10000 (50.1500%)
___Train Local_ResNet_18,  epoch  72, local model 10, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4544/5068 (89.6606%)
___Train Local_ResNet_18,  epoch  72, local model 10, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4621/5068 (91.1800%)
___Test Local_ResNet_18 poisoned: False, epoch: 72: Average loss: 2.0583, Accuracy: 5362/10000 (53.6200%)
___Train Local_ResNet_18,  epoch  72, local model 95, internal_epoch   1,  Average loss: 0.0067, Accuracy: 4350/5018 (86.6879%)
___Train Local_ResNet_18,  epoch  72, local model 95, internal_epoch   2,  Average loss: 0.0057, Accuracy: 4430/5018 (88.2822%)
___Test Local_ResNet_18 poisoned: False, epoch: 72: Average loss: 2.3695, Accuracy: 4961/10000 (49.6100%)
___Train Local_ResNet_18,  epoch  72, local model 98, internal_epoch   1,  Average loss: 0.0064, Accuracy: 3757/4161 (90.2908%)
___Train Local_ResNet_18,  epoch  72, local model 98, internal_epoch   2,  Average loss: 0.0057, Accuracy: 3730/4161 (89.6419%)
___Test Local_ResNet_18 poisoned: False, epoch: 72: Average loss: 2.1019, Accuracy: 5287/10000 (52.8700%)
___Train Local_ResNet_18,  epoch  72, local model 64, internal_epoch   1,  Average loss: 0.0064, Accuracy: 4304/4894 (87.9444%)
___Train Local_ResNet_18,  epoch  72, local model 64, internal_epoch   2,  Average loss: 0.0060, Accuracy: 4341/4894 (88.7004%)
___Test Local_ResNet_18 poisoned: False, epoch: 72: Average loss: 2.1598, Accuracy: 5195/10000 (51.9500%)
___Train Local_ResNet_18,  epoch  72, local model 57, internal_epoch   1,  Average loss: 0.0055, Accuracy: 4419/4956 (89.1646%)
___Train Local_ResNet_18,  epoch  72, local model 57, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4538/4956 (91.5658%)
___Test Local_ResNet_18 poisoned: False, epoch: 72: Average loss: 2.0838, Accuracy: 5325/10000 (53.2500%)
___Train Local_ResNet_18,  epoch  72, local model 27, internal_epoch   1,  Average loss: 0.0057, Accuracy: 4101/4587 (89.4048%)
___Train Local_ResNet_18,  epoch  72, local model 27, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4177/4587 (91.0617%)
___Test Local_ResNet_18 poisoned: False, epoch: 72: Average loss: 2.0424, Accuracy: 5342/10000 (53.4200%)
___Train Local_ResNet_18,  epoch  72, local model 85, internal_epoch   1,  Average loss: 0.0056, Accuracy: 6202/6947 (89.2759%)
___Train Local_ResNet_18,  epoch  72, local model 85, internal_epoch   2,  Average loss: 0.0058, Accuracy: 6165/6947 (88.7433%)
___Test Local_ResNet_18 poisoned: False, epoch: 72: Average loss: 2.2909, Accuracy: 5131/10000 (51.3100%)
___Train Local_ResNet_18,  epoch  72, local model 93, internal_epoch   1,  Average loss: 0.0057, Accuracy: 4493/5055 (88.8823%)
___Train Local_ResNet_18,  epoch  72, local model 93, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4581/5055 (90.6231%)
___Test Local_ResNet_18 poisoned: False, epoch: 72: Average loss: 2.0934, Accuracy: 5324/10000 (53.2400%)
___Train Local_ResNet_18,  epoch  72, local model 6, internal_epoch   1,  Average loss: 0.0060, Accuracy: 4420/4929 (89.6734%)
___Train Local_ResNet_18,  epoch  72, local model 6, internal_epoch   2,  Average loss: 0.0061, Accuracy: 4435/4929 (89.9777%)
___Test Local_ResNet_18 poisoned: False, epoch: 72: Average loss: 2.2763, Accuracy: 5186/10000 (51.8600%)
___Train Local_ResNet_18,  epoch  72, local model 74, internal_epoch   1,  Average loss: 0.0060, Accuracy: 4216/4797 (87.8883%)
___Train Local_ResNet_18,  epoch  72, local model 74, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4278/4797 (89.1807%)
___Test Local_ResNet_18 poisoned: False, epoch: 72: Average loss: 1.9847, Accuracy: 5321/10000 (53.2100%)
___Train Local_ResNet_18,  epoch  72, local model 54, internal_epoch   1,  Average loss: 0.0069, Accuracy: 4862/5645 (86.1293%)
___Train Local_ResNet_18,  epoch  72, local model 54, internal_epoch   2,  Average loss: 0.0067, Accuracy: 4925/5645 (87.2453%)
___Test Local_ResNet_18 poisoned: False, epoch: 72: Average loss: 2.3063, Accuracy: 5044/10000 (50.4400%)
___Train Local_ResNet_18,  epoch  72, local model 88, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4830/5362 (90.0783%)
___Train Local_ResNet_18,  epoch  72, local model 88, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4854/5362 (90.5259%)
___Test Local_ResNet_18 poisoned: False, epoch: 72: Average loss: 1.9820, Accuracy: 5424/10000 (54.2400%)
___Train Local_ResNet_18,  epoch  72, local model 45, internal_epoch   1,  Average loss: 0.0065, Accuracy: 4788/5489 (87.2290%)
___Train Local_ResNet_18,  epoch  72, local model 45, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4893/5489 (89.1419%)
___Test Local_ResNet_18 poisoned: False, epoch: 72: Average loss: 2.1096, Accuracy: 5219/10000 (52.1900%)
___Train Local_ResNet_18,  epoch  72, local model 51, internal_epoch   1,  Average loss: 0.0053, Accuracy: 3680/4108 (89.5813%)
___Train Local_ResNet_18,  epoch  72, local model 51, internal_epoch   2,  Average loss: 0.0040, Accuracy: 3823/4108 (93.0623%)
___Test Local_ResNet_18 poisoned: False, epoch: 72: Average loss: 1.9516, Accuracy: 5540/10000 (55.4000%)
___Train Local_ResNet_18,  epoch  72, local model 52, internal_epoch   1,  Average loss: 0.0053, Accuracy: 3726/4130 (90.2179%)
___Train Local_ResNet_18,  epoch  72, local model 52, internal_epoch   2,  Average loss: 0.0042, Accuracy: 3794/4130 (91.8644%)
___Test Local_ResNet_18 poisoned: False, epoch: 72: Average loss: 2.0218, Accuracy: 5486/10000 (54.8600%)
time spent on training: 274.12246561050415
___Test Target_ResNet_18 poisoned: False, epoch: 72: Average loss: 1.0964, Accuracy: 7059/10000 (70.5900%)
___Test Target_ResNet_18 poisoned: True, epoch: 72: Average loss: 7.4736, Accuracy: 334/9900 (3.3737%)
Done in 300.3858861923218 sec.
Server Epoch:73 choose agents : [13, 36, 58, 71, 31, 47, 14, 73, 99, 60, 81, 39, 40, 78, 27, 59, 7, 22, 83, 97].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  73, local model 13, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4893/5308 (92.1816%), train_poison_data_count: 415
Global model norm: 42.476357739298635.
Norm before scaling: 42.47549414119938. Distance: 1.9761974012600432
___Test Local_ResNet_18 poisoned: True, epoch: 73: Average loss: 0.3089, Accuracy: 9138/9900 (92.3030%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  73, local model 36, internal_epoch   1,  Average loss: 0.0041, Accuracy: 5395/5777 (93.3876%), train_poison_data_count: 455
Global model norm: 42.476357739298635.
Norm before scaling: 42.46978762989197. Distance: 1.9607182110368206
___Test Local_ResNet_18 poisoned: True, epoch: 73: Average loss: 0.3112, Accuracy: 9100/9900 (91.9192%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  73, local model 58, internal_epoch   1,  Average loss: 0.0059, Accuracy: 4681/5123 (91.3722%), train_poison_data_count: 403
Global model norm: 42.476357739298635.
Norm before scaling: 42.47417643771919. Distance: 1.9640765958172457
___Test Local_ResNet_18 poisoned: True, epoch: 73: Average loss: 0.2887, Accuracy: 9204/9900 (92.9697%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  73, local model 71, internal_epoch   1,  Average loss: 0.0052, Accuracy: 5010/5503 (91.0413%), train_poison_data_count: 430
Global model norm: 42.476357739298635.
Norm before scaling: 42.47559329062544. Distance: 2.0828728612007295
___Test Local_ResNet_18 poisoned: True, epoch: 73: Average loss: 0.1064, Accuracy: 9643/9900 (97.4040%)
___Train Local_ResNet_18,  epoch  73, local model 31, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4085/4537 (90.0375%)
___Train Local_ResNet_18,  epoch  73, local model 31, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4177/4537 (92.0652%)
___Test Local_ResNet_18 poisoned: False, epoch: 73: Average loss: 1.8549, Accuracy: 5711/10000 (57.1100%)
___Train Local_ResNet_18,  epoch  73, local model 47, internal_epoch   1,  Average loss: 0.0059, Accuracy: 4549/5123 (88.7956%)
___Train Local_ResNet_18,  epoch  73, local model 47, internal_epoch   2,  Average loss: 0.0065, Accuracy: 4483/5123 (87.5073%)
___Test Local_ResNet_18 poisoned: False, epoch: 73: Average loss: 2.2713, Accuracy: 4979/10000 (49.7900%)
___Train Local_ResNet_18,  epoch  73, local model 14, internal_epoch   1,  Average loss: 0.0042, Accuracy: 3840/4196 (91.5157%)
___Train Local_ResNet_18,  epoch  73, local model 14, internal_epoch   2,  Average loss: 0.0033, Accuracy: 3943/4196 (93.9704%)
___Test Local_ResNet_18 poisoned: False, epoch: 73: Average loss: 1.8319, Accuracy: 5754/10000 (57.5400%)
___Train Local_ResNet_18,  epoch  73, local model 73, internal_epoch   1,  Average loss: 0.0054, Accuracy: 4127/4605 (89.6200%)
___Train Local_ResNet_18,  epoch  73, local model 73, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4241/4605 (92.0955%)
___Test Local_ResNet_18 poisoned: False, epoch: 73: Average loss: 1.8187, Accuracy: 5778/10000 (57.7800%)
___Train Local_ResNet_18,  epoch  73, local model 99, internal_epoch   1,  Average loss: 0.0058, Accuracy: 4331/4851 (89.2806%)
___Train Local_ResNet_18,  epoch  73, local model 99, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4434/4851 (91.4038%)
___Test Local_ResNet_18 poisoned: False, epoch: 73: Average loss: 1.9158, Accuracy: 5609/10000 (56.0900%)
___Train Local_ResNet_18,  epoch  73, local model 60, internal_epoch   1,  Average loss: 0.0059, Accuracy: 3672/4145 (88.5887%)
___Train Local_ResNet_18,  epoch  73, local model 60, internal_epoch   2,  Average loss: 0.0047, Accuracy: 3788/4145 (91.3872%)
___Test Local_ResNet_18 poisoned: False, epoch: 73: Average loss: 2.0622, Accuracy: 5394/10000 (53.9400%)
___Train Local_ResNet_18,  epoch  73, local model 81, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4545/5035 (90.2681%)
___Train Local_ResNet_18,  epoch  73, local model 81, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4651/5035 (92.3734%)
___Test Local_ResNet_18 poisoned: False, epoch: 73: Average loss: 1.9017, Accuracy: 5594/10000 (55.9400%)
___Train Local_ResNet_18,  epoch  73, local model 39, internal_epoch   1,  Average loss: 0.0061, Accuracy: 3688/4175 (88.3353%)
___Train Local_ResNet_18,  epoch  73, local model 39, internal_epoch   2,  Average loss: 0.0050, Accuracy: 3816/4175 (91.4012%)
___Test Local_ResNet_18 poisoned: False, epoch: 73: Average loss: 1.9996, Accuracy: 5439/10000 (54.3900%)
___Train Local_ResNet_18,  epoch  73, local model 40, internal_epoch   1,  Average loss: 0.0043, Accuracy: 5444/5939 (91.6653%)
___Train Local_ResNet_18,  epoch  73, local model 40, internal_epoch   2,  Average loss: 0.0037, Accuracy: 5509/5939 (92.7597%)
___Test Local_ResNet_18 poisoned: False, epoch: 73: Average loss: 2.0542, Accuracy: 5329/10000 (53.2900%)
___Train Local_ResNet_18,  epoch  73, local model 78, internal_epoch   1,  Average loss: 0.0045, Accuracy: 3992/4368 (91.3919%)
___Train Local_ResNet_18,  epoch  73, local model 78, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4071/4368 (93.2005%)
___Test Local_ResNet_18 poisoned: False, epoch: 73: Average loss: 2.0624, Accuracy: 5329/10000 (53.2900%)
___Train Local_ResNet_18,  epoch  73, local model 27, internal_epoch   1,  Average loss: 0.0064, Accuracy: 4017/4587 (87.5736%)
___Train Local_ResNet_18,  epoch  73, local model 27, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4133/4587 (90.1025%)
___Test Local_ResNet_18 poisoned: False, epoch: 73: Average loss: 2.0769, Accuracy: 5318/10000 (53.1800%)
___Train Local_ResNet_18,  epoch  73, local model 59, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4127/4397 (93.8594%)
___Train Local_ResNet_18,  epoch  73, local model 59, internal_epoch   2,  Average loss: 0.0024, Accuracy: 4203/4397 (95.5879%)
___Test Local_ResNet_18 poisoned: False, epoch: 73: Average loss: 1.7420, Accuracy: 5912/10000 (59.1200%)
___Train Local_ResNet_18,  epoch  73, local model 7, internal_epoch   1,  Average loss: 0.0062, Accuracy: 4281/4869 (87.9236%)
___Train Local_ResNet_18,  epoch  73, local model 7, internal_epoch   2,  Average loss: 0.0074, Accuracy: 4185/4869 (85.9519%)
___Test Local_ResNet_18 poisoned: False, epoch: 73: Average loss: 2.2060, Accuracy: 5049/10000 (50.4900%)
___Train Local_ResNet_18,  epoch  73, local model 22, internal_epoch   1,  Average loss: 0.0050, Accuracy: 5153/5696 (90.4670%)
___Train Local_ResNet_18,  epoch  73, local model 22, internal_epoch   2,  Average loss: 0.0050, Accuracy: 5166/5696 (90.6952%)
___Test Local_ResNet_18 poisoned: False, epoch: 73: Average loss: 2.0144, Accuracy: 5413/10000 (54.1300%)
___Train Local_ResNet_18,  epoch  73, local model 83, internal_epoch   1,  Average loss: 0.0057, Accuracy: 3165/3552 (89.1047%)
___Train Local_ResNet_18,  epoch  73, local model 83, internal_epoch   2,  Average loss: 0.0039, Accuracy: 3278/3552 (92.2860%)
___Test Local_ResNet_18 poisoned: False, epoch: 73: Average loss: 1.8389, Accuracy: 5713/10000 (57.1300%)
___Train Local_ResNet_18,  epoch  73, local model 97, internal_epoch   1,  Average loss: 0.0061, Accuracy: 4150/4736 (87.6267%)
___Train Local_ResNet_18,  epoch  73, local model 97, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4270/4736 (90.1605%)
___Test Local_ResNet_18 poisoned: False, epoch: 73: Average loss: 2.0193, Accuracy: 5481/10000 (54.8100%)
time spent on training: 269.5641031265259
___Test Target_ResNet_18 poisoned: False, epoch: 73: Average loss: 1.0913, Accuracy: 7083/10000 (70.8300%)
___Test Target_ResNet_18 poisoned: True, epoch: 73: Average loss: 6.3891, Accuracy: 671/9900 (6.7778%)
Done in 295.63513350486755 sec.
Server Epoch:74 choose agents : [13, 36, 58, 71, 10, 76, 15, 42, 57, 17, 9, 3, 70, 8, 65, 33, 59, 52, 69, 11].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  74, local model 13, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4906/5308 (92.4265%), train_poison_data_count: 415
Global model norm: 42.49616394682363.
Norm before scaling: 42.49696393107836. Distance: 1.9516635767811532
___Test Local_ResNet_18 poisoned: True, epoch: 74: Average loss: 0.1150, Accuracy: 9617/9900 (97.1414%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  74, local model 36, internal_epoch   1,  Average loss: 0.0040, Accuracy: 5395/5777 (93.3876%), train_poison_data_count: 455
Global model norm: 42.49616394682363.
Norm before scaling: 42.48646096386913. Distance: 1.9367949525799661
___Test Local_ResNet_18 poisoned: True, epoch: 74: Average loss: 0.1354, Accuracy: 9541/9900 (96.3737%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  74, local model 58, internal_epoch   1,  Average loss: 0.0061, Accuracy: 4626/5123 (90.2987%), train_poison_data_count: 403
Global model norm: 42.49616394682363.
Norm before scaling: 42.49986356825528. Distance: 2.0648892753048043
___Test Local_ResNet_18 poisoned: True, epoch: 74: Average loss: 0.1634, Accuracy: 9460/9900 (95.5556%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  74, local model 71, internal_epoch   1,  Average loss: 0.0047, Accuracy: 5061/5503 (91.9680%), train_poison_data_count: 430
Global model norm: 42.49616394682363.
Norm before scaling: 42.497600173513476. Distance: 2.0084074452550724
___Test Local_ResNet_18 poisoned: True, epoch: 74: Average loss: 0.1946, Accuracy: 9390/9900 (94.8485%)
___Train Local_ResNet_18,  epoch  74, local model 10, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4628/5068 (91.3181%)
___Train Local_ResNet_18,  epoch  74, local model 10, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4550/5068 (89.7790%)
___Test Local_ResNet_18 poisoned: False, epoch: 74: Average loss: 2.2016, Accuracy: 5142/10000 (51.4200%)
___Train Local_ResNet_18,  epoch  74, local model 76, internal_epoch   1,  Average loss: 0.0062, Accuracy: 3476/3959 (87.7999%)
___Train Local_ResNet_18,  epoch  74, local model 76, internal_epoch   2,  Average loss: 0.0046, Accuracy: 3590/3959 (90.6795%)
___Test Local_ResNet_18 poisoned: False, epoch: 74: Average loss: 1.8928, Accuracy: 5637/10000 (56.3700%)
___Train Local_ResNet_18,  epoch  74, local model 15, internal_epoch   1,  Average loss: 0.0050, Accuracy: 5495/6068 (90.5570%)
___Train Local_ResNet_18,  epoch  74, local model 15, internal_epoch   2,  Average loss: 0.0047, Accuracy: 5505/6068 (90.7218%)
___Test Local_ResNet_18 poisoned: False, epoch: 74: Average loss: 1.9969, Accuracy: 5441/10000 (54.4100%)
___Train Local_ResNet_18,  epoch  74, local model 42, internal_epoch   1,  Average loss: 0.0054, Accuracy: 5328/5907 (90.1981%)
___Train Local_ResNet_18,  epoch  74, local model 42, internal_epoch   2,  Average loss: 0.0049, Accuracy: 5351/5907 (90.5874%)
___Test Local_ResNet_18 poisoned: False, epoch: 74: Average loss: 2.3186, Accuracy: 5015/10000 (50.1500%)
___Train Local_ResNet_18,  epoch  74, local model 57, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4512/4956 (91.0412%)
___Train Local_ResNet_18,  epoch  74, local model 57, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4549/4956 (91.7877%)
___Test Local_ResNet_18 poisoned: False, epoch: 74: Average loss: 1.9518, Accuracy: 5547/10000 (55.4700%)
___Train Local_ResNet_18,  epoch  74, local model 17, internal_epoch   1,  Average loss: 0.0068, Accuracy: 4233/4903 (86.3349%)
___Train Local_ResNet_18,  epoch  74, local model 17, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4423/4903 (90.2101%)
___Test Local_ResNet_18 poisoned: False, epoch: 74: Average loss: 2.2365, Accuracy: 5035/10000 (50.3500%)
___Train Local_ResNet_18,  epoch  74, local model 9, internal_epoch   1,  Average loss: 0.0064, Accuracy: 5005/5727 (87.3931%)
___Train Local_ResNet_18,  epoch  74, local model 9, internal_epoch   2,  Average loss: 0.0056, Accuracy: 5083/5727 (88.7550%)
___Test Local_ResNet_18 poisoned: False, epoch: 74: Average loss: 2.0516, Accuracy: 5442/10000 (54.4200%)
___Train Local_ResNet_18,  epoch  74, local model 3, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4890/5346 (91.4703%)
___Train Local_ResNet_18,  epoch  74, local model 3, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4964/5346 (92.8545%)
___Test Local_ResNet_18 poisoned: False, epoch: 74: Average loss: 2.1561, Accuracy: 5221/10000 (52.2100%)
___Train Local_ResNet_18,  epoch  74, local model 70, internal_epoch   1,  Average loss: 0.0043, Accuracy: 5377/5871 (91.5858%)
___Train Local_ResNet_18,  epoch  74, local model 70, internal_epoch   2,  Average loss: 0.0045, Accuracy: 5358/5871 (91.2621%)
___Test Local_ResNet_18 poisoned: False, epoch: 74: Average loss: 2.0045, Accuracy: 5483/10000 (54.8300%)
___Train Local_ResNet_18,  epoch  74, local model 8, internal_epoch   1,  Average loss: 0.0059, Accuracy: 4336/4889 (88.6889%)
___Train Local_ResNet_18,  epoch  74, local model 8, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4416/4889 (90.3252%)
___Test Local_ResNet_18 poisoned: False, epoch: 74: Average loss: 2.1436, Accuracy: 5337/10000 (53.3700%)
___Train Local_ResNet_18,  epoch  74, local model 65, internal_epoch   1,  Average loss: 0.0061, Accuracy: 4855/5497 (88.3209%)
___Train Local_ResNet_18,  epoch  74, local model 65, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4910/5497 (89.3214%)
___Test Local_ResNet_18 poisoned: False, epoch: 74: Average loss: 2.0372, Accuracy: 5348/10000 (53.4800%)
___Train Local_ResNet_18,  epoch  74, local model 33, internal_epoch   1,  Average loss: 0.0062, Accuracy: 4239/4818 (87.9826%)
___Train Local_ResNet_18,  epoch  74, local model 33, internal_epoch   2,  Average loss: 0.0059, Accuracy: 4294/4818 (89.1241%)
___Test Local_ResNet_18 poisoned: False, epoch: 74: Average loss: 1.9071, Accuracy: 5535/10000 (55.3500%)
___Train Local_ResNet_18,  epoch  74, local model 59, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4123/4397 (93.7685%)
___Train Local_ResNet_18,  epoch  74, local model 59, internal_epoch   2,  Average loss: 0.0025, Accuracy: 4203/4397 (95.5879%)
___Test Local_ResNet_18 poisoned: False, epoch: 74: Average loss: 1.8208, Accuracy: 5805/10000 (58.0500%)
___Train Local_ResNet_18,  epoch  74, local model 52, internal_epoch   1,  Average loss: 0.0052, Accuracy: 3729/4130 (90.2906%)
___Train Local_ResNet_18,  epoch  74, local model 52, internal_epoch   2,  Average loss: 0.0042, Accuracy: 3812/4130 (92.3002%)
___Test Local_ResNet_18 poisoned: False, epoch: 74: Average loss: 1.8919, Accuracy: 5696/10000 (56.9600%)
___Train Local_ResNet_18,  epoch  74, local model 69, internal_epoch   1,  Average loss: 0.0047, Accuracy: 3985/4364 (91.3153%)
___Train Local_ResNet_18,  epoch  74, local model 69, internal_epoch   2,  Average loss: 0.0049, Accuracy: 3952/4364 (90.5591%)
___Test Local_ResNet_18 poisoned: False, epoch: 74: Average loss: 2.0489, Accuracy: 5318/10000 (53.1800%)
___Train Local_ResNet_18,  epoch  74, local model 11, internal_epoch   1,  Average loss: 0.0078, Accuracy: 4839/5702 (84.8650%)
___Train Local_ResNet_18,  epoch  74, local model 11, internal_epoch   2,  Average loss: 0.0101, Accuracy: 4582/5702 (80.3578%)
___Test Local_ResNet_18 poisoned: False, epoch: 74: Average loss: 2.2282, Accuracy: 4985/10000 (49.8500%)
time spent on training: 278.079083442688
___Test Target_ResNet_18 poisoned: False, epoch: 74: Average loss: 1.0929, Accuracy: 7068/10000 (70.6800%)
___Test Target_ResNet_18 poisoned: True, epoch: 74: Average loss: 5.4961, Accuracy: 1132/9900 (11.4343%)
Done in 304.78370451927185 sec.
Server Epoch:75 choose agents : [13, 36, 58, 71, 57, 60, 74, 72, 70, 14, 43, 88, 9, 80, 22, 73, 66, 82, 56, 48].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  75, local model 13, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4924/5308 (92.7656%), train_poison_data_count: 415
Global model norm: 42.51893965625422.
Norm before scaling: 42.51290589890028. Distance: 1.8742661629547623
___Test Local_ResNet_18 poisoned: True, epoch: 75: Average loss: 0.2123, Accuracy: 9378/9900 (94.7273%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  75, local model 36, internal_epoch   1,  Average loss: 0.0037, Accuracy: 5438/5777 (94.1319%), train_poison_data_count: 455
Global model norm: 42.51893965625422.
Norm before scaling: 42.50671333696523. Distance: 1.8224120904052543
___Test Local_ResNet_18 poisoned: True, epoch: 75: Average loss: 0.2098, Accuracy: 9396/9900 (94.9091%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  75, local model 58, internal_epoch   1,  Average loss: 0.0059, Accuracy: 4653/5123 (90.8257%), train_poison_data_count: 403
Global model norm: 42.51893965625422.
Norm before scaling: 42.5198282100907. Distance: 1.9895623956613822
___Test Local_ResNet_18 poisoned: True, epoch: 75: Average loss: 0.1899, Accuracy: 9445/9900 (95.4040%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  75, local model 71, internal_epoch   1,  Average loss: 0.0044, Accuracy: 5108/5503 (92.8221%), train_poison_data_count: 430
Global model norm: 42.51893965625422.
Norm before scaling: 42.516474862876684. Distance: 1.9397635005063707
___Test Local_ResNet_18 poisoned: True, epoch: 75: Average loss: 0.1048, Accuracy: 9611/9900 (97.0808%)
___Train Local_ResNet_18,  epoch  75, local model 57, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4557/4956 (91.9492%)
___Train Local_ResNet_18,  epoch  75, local model 57, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4550/4956 (91.8079%)
___Test Local_ResNet_18 poisoned: False, epoch: 75: Average loss: 2.0301, Accuracy: 5466/10000 (54.6600%)
___Train Local_ResNet_18,  epoch  75, local model 60, internal_epoch   1,  Average loss: 0.0061, Accuracy: 3668/4145 (88.4922%)
___Train Local_ResNet_18,  epoch  75, local model 60, internal_epoch   2,  Average loss: 0.0049, Accuracy: 3738/4145 (90.1809%)
___Test Local_ResNet_18 poisoned: False, epoch: 75: Average loss: 1.9666, Accuracy: 5597/10000 (55.9700%)
___Train Local_ResNet_18,  epoch  75, local model 74, internal_epoch   1,  Average loss: 0.0059, Accuracy: 4257/4797 (88.7430%)
___Train Local_ResNet_18,  epoch  75, local model 74, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4310/4797 (89.8478%)
___Test Local_ResNet_18 poisoned: False, epoch: 75: Average loss: 1.9827, Accuracy: 5410/10000 (54.1000%)
___Train Local_ResNet_18,  epoch  75, local model 72, internal_epoch   1,  Average loss: 0.0057, Accuracy: 4648/5193 (89.5051%)
___Train Local_ResNet_18,  epoch  75, local model 72, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4639/5193 (89.3318%)
___Test Local_ResNet_18 poisoned: False, epoch: 75: Average loss: 2.2806, Accuracy: 5108/10000 (51.0800%)
___Train Local_ResNet_18,  epoch  75, local model 70, internal_epoch   1,  Average loss: 0.0041, Accuracy: 5445/5871 (92.7440%)
___Train Local_ResNet_18,  epoch  75, local model 70, internal_epoch   2,  Average loss: 0.0043, Accuracy: 5392/5871 (91.8413%)
___Test Local_ResNet_18 poisoned: False, epoch: 75: Average loss: 2.2603, Accuracy: 5152/10000 (51.5200%)
___Train Local_ResNet_18,  epoch  75, local model 14, internal_epoch   1,  Average loss: 0.0040, Accuracy: 3869/4196 (92.2069%)
___Train Local_ResNet_18,  epoch  75, local model 14, internal_epoch   2,  Average loss: 0.0033, Accuracy: 3945/4196 (94.0181%)
___Test Local_ResNet_18 poisoned: False, epoch: 75: Average loss: 1.9642, Accuracy: 5537/10000 (55.3700%)
___Train Local_ResNet_18,  epoch  75, local model 43, internal_epoch   1,  Average loss: 0.0057, Accuracy: 4433/4979 (89.0339%)
___Train Local_ResNet_18,  epoch  75, local model 43, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4535/4979 (91.0825%)
___Test Local_ResNet_18 poisoned: False, epoch: 75: Average loss: 1.9955, Accuracy: 5478/10000 (54.7800%)
___Train Local_ResNet_18,  epoch  75, local model 88, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4846/5362 (90.3767%)
___Train Local_ResNet_18,  epoch  75, local model 88, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4865/5362 (90.7311%)
___Test Local_ResNet_18 poisoned: False, epoch: 75: Average loss: 1.9993, Accuracy: 5461/10000 (54.6100%)
___Train Local_ResNet_18,  epoch  75, local model 9, internal_epoch   1,  Average loss: 0.0060, Accuracy: 5063/5727 (88.4058%)
___Train Local_ResNet_18,  epoch  75, local model 9, internal_epoch   2,  Average loss: 0.0060, Accuracy: 5033/5727 (87.8820%)
___Test Local_ResNet_18 poisoned: False, epoch: 75: Average loss: 2.0374, Accuracy: 5486/10000 (54.8600%)
___Train Local_ResNet_18,  epoch  75, local model 80, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4921/5461 (90.1117%)
___Train Local_ResNet_18,  epoch  75, local model 80, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4935/5461 (90.3681%)
___Test Local_ResNet_18 poisoned: False, epoch: 75: Average loss: 2.1324, Accuracy: 5190/10000 (51.9000%)
___Train Local_ResNet_18,  epoch  75, local model 22, internal_epoch   1,  Average loss: 0.0052, Accuracy: 5128/5696 (90.0281%)
___Train Local_ResNet_18,  epoch  75, local model 22, internal_epoch   2,  Average loss: 0.0048, Accuracy: 5165/5696 (90.6777%)
___Test Local_ResNet_18 poisoned: False, epoch: 75: Average loss: 1.8895, Accuracy: 5556/10000 (55.5600%)
___Train Local_ResNet_18,  epoch  75, local model 73, internal_epoch   1,  Average loss: 0.0050, Accuracy: 4162/4605 (90.3800%)
___Train Local_ResNet_18,  epoch  75, local model 73, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4281/4605 (92.9642%)
___Test Local_ResNet_18 poisoned: False, epoch: 75: Average loss: 1.9075, Accuracy: 5559/10000 (55.5900%)
___Train Local_ResNet_18,  epoch  75, local model 66, internal_epoch   1,  Average loss: 0.0053, Accuracy: 4335/4843 (89.5106%)
___Train Local_ResNet_18,  epoch  75, local model 66, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4394/4843 (90.7289%)
___Test Local_ResNet_18 poisoned: False, epoch: 75: Average loss: 2.2948, Accuracy: 5016/10000 (50.1600%)
___Train Local_ResNet_18,  epoch  75, local model 82, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4894/5298 (92.3745%)
___Train Local_ResNet_18,  epoch  75, local model 82, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4935/5298 (93.1484%)
___Test Local_ResNet_18 poisoned: False, epoch: 75: Average loss: 1.9342, Accuracy: 5558/10000 (55.5800%)
___Train Local_ResNet_18,  epoch  75, local model 56, internal_epoch   1,  Average loss: 0.0056, Accuracy: 4827/5427 (88.9442%)
___Train Local_ResNet_18,  epoch  75, local model 56, internal_epoch   2,  Average loss: 0.0054, Accuracy: 4843/5427 (89.2390%)
___Test Local_ResNet_18 poisoned: False, epoch: 75: Average loss: 1.9046, Accuracy: 5564/10000 (55.6400%)
___Train Local_ResNet_18,  epoch  75, local model 48, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4432/4830 (91.7598%)
___Train Local_ResNet_18,  epoch  75, local model 48, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4448/4830 (92.0911%)
___Test Local_ResNet_18 poisoned: False, epoch: 75: Average loss: 2.1730, Accuracy: 5322/10000 (53.2200%)
time spent on training: 271.8547332286835
___Test Target_ResNet_18 poisoned: False, epoch: 75: Average loss: 1.0970, Accuracy: 7048/10000 (70.4800%)
___Test Target_ResNet_18 poisoned: True, epoch: 75: Average loss: 4.6692, Accuracy: 1799/9900 (18.1717%)
Done in 298.6452479362488 sec.
Server Epoch:76 choose agents : [13, 36, 58, 71, 69, 16, 75, 60, 24, 8, 77, 11, 80, 28, 41, 2, 76, 57, 33, 78].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  76, local model 13, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4944/5308 (93.1424%), train_poison_data_count: 415
Global model norm: 42.5417376052808.
Norm before scaling: 42.538406072758974. Distance: 1.8408793068091562
___Test Local_ResNet_18 poisoned: True, epoch: 76: Average loss: 0.2142, Accuracy: 9394/9900 (94.8889%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  76, local model 36, internal_epoch   1,  Average loss: 0.0034, Accuracy: 5451/5777 (94.3569%), train_poison_data_count: 455
Global model norm: 42.5417376052808.
Norm before scaling: 42.528724208615756. Distance: 1.780733736412996
___Test Local_ResNet_18 poisoned: True, epoch: 76: Average loss: 0.1034, Accuracy: 9651/9900 (97.4848%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  76, local model 58, internal_epoch   1,  Average loss: 0.0054, Accuracy: 4681/5123 (91.3722%), train_poison_data_count: 403
Global model norm: 42.5417376052808.
Norm before scaling: 42.54160130738939. Distance: 1.933016419196416
___Test Local_ResNet_18 poisoned: True, epoch: 76: Average loss: 0.1392, Accuracy: 9542/9900 (96.3838%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  76, local model 71, internal_epoch   1,  Average loss: 0.0044, Accuracy: 5085/5503 (92.4041%), train_poison_data_count: 430
Global model norm: 42.5417376052808.
Norm before scaling: 42.543114906839655. Distance: 1.9620268330270272
___Test Local_ResNet_18 poisoned: True, epoch: 76: Average loss: 0.1393, Accuracy: 9534/9900 (96.3030%)
___Train Local_ResNet_18,  epoch  76, local model 69, internal_epoch   1,  Average loss: 0.0047, Accuracy: 3974/4364 (91.0632%)
___Train Local_ResNet_18,  epoch  76, local model 69, internal_epoch   2,  Average loss: 0.0047, Accuracy: 3985/4364 (91.3153%)
___Test Local_ResNet_18 poisoned: False, epoch: 76: Average loss: 1.9528, Accuracy: 5578/10000 (55.7800%)
___Train Local_ResNet_18,  epoch  76, local model 16, internal_epoch   1,  Average loss: 0.0056, Accuracy: 4789/5353 (89.4639%)
___Train Local_ResNet_18,  epoch  76, local model 16, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4817/5353 (89.9869%)
___Test Local_ResNet_18 poisoned: False, epoch: 76: Average loss: 1.9922, Accuracy: 5493/10000 (54.9300%)
___Train Local_ResNet_18,  epoch  76, local model 75, internal_epoch   1,  Average loss: 0.0050, Accuracy: 4221/4672 (90.3467%)
___Train Local_ResNet_18,  epoch  76, local model 75, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4299/4672 (92.0163%)
___Test Local_ResNet_18 poisoned: False, epoch: 76: Average loss: 1.8100, Accuracy: 5736/10000 (57.3600%)
___Train Local_ResNet_18,  epoch  76, local model 60, internal_epoch   1,  Average loss: 0.0056, Accuracy: 3705/4145 (89.3848%)
___Train Local_ResNet_18,  epoch  76, local model 60, internal_epoch   2,  Average loss: 0.0047, Accuracy: 3764/4145 (90.8082%)
___Test Local_ResNet_18 poisoned: False, epoch: 76: Average loss: 2.0238, Accuracy: 5548/10000 (55.4800%)
___Train Local_ResNet_18,  epoch  76, local model 24, internal_epoch   1,  Average loss: 0.0048, Accuracy: 3932/4313 (91.1662%)
___Train Local_ResNet_18,  epoch  76, local model 24, internal_epoch   2,  Average loss: 0.0044, Accuracy: 3957/4313 (91.7459%)
___Test Local_ResNet_18 poisoned: False, epoch: 76: Average loss: 1.8858, Accuracy: 5689/10000 (56.8900%)
___Train Local_ResNet_18,  epoch  76, local model 8, internal_epoch   1,  Average loss: 0.0057, Accuracy: 4356/4889 (89.0980%)
___Train Local_ResNet_18,  epoch  76, local model 8, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4384/4889 (89.6707%)
___Test Local_ResNet_18 poisoned: False, epoch: 76: Average loss: 2.0708, Accuracy: 5367/10000 (53.6700%)
___Train Local_ResNet_18,  epoch  76, local model 77, internal_epoch   1,  Average loss: 0.0068, Accuracy: 4405/5050 (87.2277%)
___Train Local_ResNet_18,  epoch  76, local model 77, internal_epoch   2,  Average loss: 0.0057, Accuracy: 4486/5050 (88.8317%)
___Test Local_ResNet_18 poisoned: False, epoch: 76: Average loss: 2.0696, Accuracy: 5245/10000 (52.4500%)
___Train Local_ResNet_18,  epoch  76, local model 11, internal_epoch   1,  Average loss: 0.0086, Accuracy: 4813/5702 (84.4090%)
___Train Local_ResNet_18,  epoch  76, local model 11, internal_epoch   2,  Average loss: 0.0112, Accuracy: 4501/5702 (78.9372%)
___Test Local_ResNet_18 poisoned: False, epoch: 76: Average loss: 2.1812, Accuracy: 5026/10000 (50.2600%)
___Train Local_ResNet_18,  epoch  76, local model 80, internal_epoch   1,  Average loss: 0.0050, Accuracy: 4928/5461 (90.2399%)
___Train Local_ResNet_18,  epoch  76, local model 80, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4944/5461 (90.5329%)
___Test Local_ResNet_18 poisoned: False, epoch: 76: Average loss: 2.1827, Accuracy: 5190/10000 (51.9000%)
___Train Local_ResNet_18,  epoch  76, local model 28, internal_epoch   1,  Average loss: 0.0062, Accuracy: 4527/5122 (88.3834%)
___Train Local_ResNet_18,  epoch  76, local model 28, internal_epoch   2,  Average loss: 0.0121, Accuracy: 4056/5122 (79.1878%)
___Test Local_ResNet_18 poisoned: False, epoch: 76: Average loss: 2.3753, Accuracy: 4673/10000 (46.7300%)
___Train Local_ResNet_18,  epoch  76, local model 41, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4275/4714 (90.6873%)
___Train Local_ResNet_18,  epoch  76, local model 41, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4371/4714 (92.7238%)
___Test Local_ResNet_18 poisoned: False, epoch: 76: Average loss: 2.1908, Accuracy: 5208/10000 (52.0800%)
___Train Local_ResNet_18,  epoch  76, local model 2, internal_epoch   1,  Average loss: 0.0055, Accuracy: 3550/3968 (89.4657%)
___Train Local_ResNet_18,  epoch  76, local model 2, internal_epoch   2,  Average loss: 0.0044, Accuracy: 3628/3968 (91.4315%)
___Test Local_ResNet_18 poisoned: False, epoch: 76: Average loss: 1.8787, Accuracy: 5610/10000 (56.1000%)
___Train Local_ResNet_18,  epoch  76, local model 76, internal_epoch   1,  Average loss: 0.0060, Accuracy: 3490/3959 (88.1536%)
___Train Local_ResNet_18,  epoch  76, local model 76, internal_epoch   2,  Average loss: 0.0044, Accuracy: 3634/3959 (91.7909%)
___Test Local_ResNet_18 poisoned: False, epoch: 76: Average loss: 1.9252, Accuracy: 5580/10000 (55.8000%)
___Train Local_ResNet_18,  epoch  76, local model 57, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4533/4956 (91.4649%)
___Train Local_ResNet_18,  epoch  76, local model 57, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4545/4956 (91.7070%)
___Test Local_ResNet_18 poisoned: False, epoch: 76: Average loss: 2.0198, Accuracy: 5469/10000 (54.6900%)
___Train Local_ResNet_18,  epoch  76, local model 33, internal_epoch   1,  Average loss: 0.0061, Accuracy: 4266/4818 (88.5430%)
___Train Local_ResNet_18,  epoch  76, local model 33, internal_epoch   2,  Average loss: 0.0054, Accuracy: 4315/4818 (89.5600%)
___Test Local_ResNet_18 poisoned: False, epoch: 76: Average loss: 2.0008, Accuracy: 5478/10000 (54.7800%)
___Train Local_ResNet_18,  epoch  76, local model 78, internal_epoch   1,  Average loss: 0.0046, Accuracy: 3985/4368 (91.2317%)
___Train Local_ResNet_18,  epoch  76, local model 78, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4009/4368 (91.7811%)
___Test Local_ResNet_18 poisoned: False, epoch: 76: Average loss: 2.1780, Accuracy: 5177/10000 (51.7700%)
time spent on training: 270.1420648097992
___Test Target_ResNet_18 poisoned: False, epoch: 76: Average loss: 1.1046, Accuracy: 7036/10000 (70.3600%)
___Test Target_ResNet_18 poisoned: True, epoch: 76: Average loss: 3.9709, Accuracy: 2568/9900 (25.9394%)
Done in 296.38074135780334 sec.
Server Epoch:77 choose agents : [13, 36, 58, 71, 29, 81, 74, 11, 98, 12, 65, 40, 72, 67, 2, 26, 91, 61, 25, 45].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  77, local model 13, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4943/5308 (93.1236%), train_poison_data_count: 415
Global model norm: 42.56291586158807.
Norm before scaling: 42.55818627185609. Distance: 1.847596955910533
___Test Local_ResNet_18 poisoned: True, epoch: 77: Average loss: 0.1057, Accuracy: 9624/9900 (97.2121%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  77, local model 36, internal_epoch   1,  Average loss: 0.0032, Accuracy: 5478/5777 (94.8243%), train_poison_data_count: 455
Global model norm: 42.56291586158807.
Norm before scaling: 42.55161732200963. Distance: 1.7269916260057387
___Test Local_ResNet_18 poisoned: True, epoch: 77: Average loss: 0.1955, Accuracy: 9406/9900 (95.0101%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  77, local model 58, internal_epoch   1,  Average loss: 0.0050, Accuracy: 4742/5123 (92.5630%), train_poison_data_count: 403
Global model norm: 42.56291586158807.
Norm before scaling: 42.55936369915042. Distance: 1.8571140423310424
___Test Local_ResNet_18 poisoned: True, epoch: 77: Average loss: 0.1984, Accuracy: 9404/9900 (94.9899%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  77, local model 71, internal_epoch   1,  Average loss: 0.0039, Accuracy: 5135/5503 (93.3127%), train_poison_data_count: 430
Global model norm: 42.56291586158807.
Norm before scaling: 42.55965769235726. Distance: 1.8785017375151107
___Test Local_ResNet_18 poisoned: True, epoch: 77: Average loss: 0.2265, Accuracy: 9315/9900 (94.0909%)
___Train Local_ResNet_18,  epoch  77, local model 29, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4372/4732 (92.3922%)
___Train Local_ResNet_18,  epoch  77, local model 29, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4392/4732 (92.8149%)
___Test Local_ResNet_18 poisoned: False, epoch: 77: Average loss: 1.9362, Accuracy: 5580/10000 (55.8000%)
___Train Local_ResNet_18,  epoch  77, local model 81, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4556/5035 (90.4866%)
___Train Local_ResNet_18,  epoch  77, local model 81, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4592/5035 (91.2016%)
___Test Local_ResNet_18 poisoned: False, epoch: 77: Average loss: 1.9126, Accuracy: 5504/10000 (55.0400%)
___Train Local_ResNet_18,  epoch  77, local model 74, internal_epoch   1,  Average loss: 0.0055, Accuracy: 4276/4797 (89.1390%)
___Train Local_ResNet_18,  epoch  77, local model 74, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4272/4797 (89.0557%)
___Test Local_ResNet_18 poisoned: False, epoch: 77: Average loss: 2.0861, Accuracy: 5277/10000 (52.7700%)
___Train Local_ResNet_18,  epoch  77, local model 11, internal_epoch   1,  Average loss: 0.0083, Accuracy: 4762/5702 (83.5146%)
___Train Local_ResNet_18,  epoch  77, local model 11, internal_epoch   2,  Average loss: 0.0092, Accuracy: 4658/5702 (81.6906%)
___Test Local_ResNet_18 poisoned: False, epoch: 77: Average loss: 2.2455, Accuracy: 4966/10000 (49.6600%)
___Train Local_ResNet_18,  epoch  77, local model 98, internal_epoch   1,  Average loss: 0.0058, Accuracy: 3797/4161 (91.2521%)
___Train Local_ResNet_18,  epoch  77, local model 98, internal_epoch   2,  Average loss: 0.0050, Accuracy: 3809/4161 (91.5405%)
___Test Local_ResNet_18 poisoned: False, epoch: 77: Average loss: 1.8896, Accuracy: 5635/10000 (56.3500%)
___Train Local_ResNet_18,  epoch  77, local model 12, internal_epoch   1,  Average loss: 0.0060, Accuracy: 4887/5526 (88.4365%)
___Train Local_ResNet_18,  epoch  77, local model 12, internal_epoch   2,  Average loss: 0.0063, Accuracy: 4831/5526 (87.4231%)
___Test Local_ResNet_18 poisoned: False, epoch: 77: Average loss: 2.0411, Accuracy: 5273/10000 (52.7300%)
___Train Local_ResNet_18,  epoch  77, local model 65, internal_epoch   1,  Average loss: 0.0056, Accuracy: 4902/5497 (89.1759%)
___Train Local_ResNet_18,  epoch  77, local model 65, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4907/5497 (89.2669%)
___Test Local_ResNet_18 poisoned: False, epoch: 77: Average loss: 2.1994, Accuracy: 5145/10000 (51.4500%)
___Train Local_ResNet_18,  epoch  77, local model 40, internal_epoch   1,  Average loss: 0.0042, Accuracy: 5447/5939 (91.7158%)
___Train Local_ResNet_18,  epoch  77, local model 40, internal_epoch   2,  Average loss: 0.0036, Accuracy: 5528/5939 (93.0796%)
___Test Local_ResNet_18 poisoned: False, epoch: 77: Average loss: 2.0319, Accuracy: 5437/10000 (54.3700%)
___Train Local_ResNet_18,  epoch  77, local model 72, internal_epoch   1,  Average loss: 0.0057, Accuracy: 4633/5193 (89.2163%)
___Train Local_ResNet_18,  epoch  77, local model 72, internal_epoch   2,  Average loss: 0.0075, Accuracy: 4444/5193 (85.5767%)
___Test Local_ResNet_18 poisoned: False, epoch: 77: Average loss: 2.2712, Accuracy: 4962/10000 (49.6200%)
___Train Local_ResNet_18,  epoch  77, local model 67, internal_epoch   1,  Average loss: 0.0066, Accuracy: 4867/5559 (87.5517%)
___Train Local_ResNet_18,  epoch  77, local model 67, internal_epoch   2,  Average loss: 0.0062, Accuracy: 4889/5559 (87.9475%)
___Test Local_ResNet_18 poisoned: False, epoch: 77: Average loss: 2.0254, Accuracy: 5314/10000 (53.1400%)
___Train Local_ResNet_18,  epoch  77, local model 2, internal_epoch   1,  Average loss: 0.0056, Accuracy: 3540/3968 (89.2137%)
___Train Local_ResNet_18,  epoch  77, local model 2, internal_epoch   2,  Average loss: 0.0043, Accuracy: 3641/3968 (91.7591%)
___Test Local_ResNet_18 poisoned: False, epoch: 77: Average loss: 1.8357, Accuracy: 5677/10000 (56.7700%)
___Train Local_ResNet_18,  epoch  77, local model 26, internal_epoch   1,  Average loss: 0.0043, Accuracy: 3751/4086 (91.8013%)
___Train Local_ResNet_18,  epoch  77, local model 26, internal_epoch   2,  Average loss: 0.0034, Accuracy: 3815/4086 (93.3676%)
___Test Local_ResNet_18 poisoned: False, epoch: 77: Average loss: 1.9335, Accuracy: 5593/10000 (55.9300%)
___Train Local_ResNet_18,  epoch  77, local model 91, internal_epoch   1,  Average loss: 0.0055, Accuracy: 4043/4527 (89.3086%)
___Train Local_ResNet_18,  epoch  77, local model 91, internal_epoch   2,  Average loss: 0.0056, Accuracy: 4026/4527 (88.9331%)
___Test Local_ResNet_18 poisoned: False, epoch: 77: Average loss: 1.9999, Accuracy: 5405/10000 (54.0500%)
___Train Local_ResNet_18,  epoch  77, local model 61, internal_epoch   1,  Average loss: 0.0054, Accuracy: 4035/4485 (89.9666%)
___Train Local_ResNet_18,  epoch  77, local model 61, internal_epoch   2,  Average loss: 0.0078, Accuracy: 3833/4485 (85.4627%)
___Test Local_ResNet_18 poisoned: False, epoch: 77: Average loss: 2.0793, Accuracy: 5241/10000 (52.4100%)
___Train Local_ResNet_18,  epoch  77, local model 25, internal_epoch   1,  Average loss: 0.0059, Accuracy: 5676/6419 (88.4250%)
___Train Local_ResNet_18,  epoch  77, local model 25, internal_epoch   2,  Average loss: 0.0070, Accuracy: 5556/6419 (86.5555%)
___Test Local_ResNet_18 poisoned: False, epoch: 77: Average loss: 2.2585, Accuracy: 5082/10000 (50.8200%)
___Train Local_ResNet_18,  epoch  77, local model 45, internal_epoch   1,  Average loss: 0.0058, Accuracy: 4858/5489 (88.5043%)
___Train Local_ResNet_18,  epoch  77, local model 45, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4976/5489 (90.6540%)
___Test Local_ResNet_18 poisoned: False, epoch: 77: Average loss: 2.0323, Accuracy: 5404/10000 (54.0400%)
time spent on training: 275.20366978645325
___Test Target_ResNet_18 poisoned: False, epoch: 77: Average loss: 1.1079, Accuracy: 7027/10000 (70.2700%)
___Test Target_ResNet_18 poisoned: True, epoch: 77: Average loss: 3.4558, Accuracy: 3267/9900 (33.0000%)
Done in 301.8932161331177 sec.
Server Epoch:78 choose agents : [13, 36, 58, 71, 56, 90, 54, 63, 94, 10, 96, 45, 38, 59, 6, 85, 55, 32, 83, 89].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  78, local model 13, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4952/5308 (93.2931%), train_poison_data_count: 415
Global model norm: 42.5866548222012.
Norm before scaling: 42.58396462248143. Distance: 1.8142056825104944
___Test Local_ResNet_18 poisoned: True, epoch: 78: Average loss: 0.1974, Accuracy: 9434/9900 (95.2929%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  78, local model 36, internal_epoch   1,  Average loss: 0.0033, Accuracy: 5495/5777 (95.1186%), train_poison_data_count: 455
Global model norm: 42.5866548222012.
Norm before scaling: 42.57168099172192. Distance: 1.7043653398777896
___Test Local_ResNet_18 poisoned: True, epoch: 78: Average loss: 0.1986, Accuracy: 9399/9900 (94.9394%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  78, local model 58, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4726/5123 (92.2506%), train_poison_data_count: 403
Global model norm: 42.5866548222012.
Norm before scaling: 42.58348590104355. Distance: 1.8373717204878977
___Test Local_ResNet_18 poisoned: True, epoch: 78: Average loss: 0.2056, Accuracy: 9369/9900 (94.6364%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  78, local model 71, internal_epoch   1,  Average loss: 0.0039, Accuracy: 5115/5503 (92.9493%), train_poison_data_count: 430
Global model norm: 42.5866548222012.
Norm before scaling: 42.583365503188276. Distance: 1.8694770215303935
___Test Local_ResNet_18 poisoned: True, epoch: 78: Average loss: 0.1387, Accuracy: 9546/9900 (96.4242%)
___Train Local_ResNet_18,  epoch  78, local model 56, internal_epoch   1,  Average loss: 0.0055, Accuracy: 4844/5427 (89.2574%)
___Train Local_ResNet_18,  epoch  78, local model 56, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4910/5427 (90.4736%)
___Test Local_ResNet_18 poisoned: False, epoch: 78: Average loss: 2.0065, Accuracy: 5482/10000 (54.8200%)
___Train Local_ResNet_18,  epoch  78, local model 90, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4372/4748 (92.0809%)
___Train Local_ResNet_18,  epoch  78, local model 90, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4347/4748 (91.5543%)
___Test Local_ResNet_18 poisoned: False, epoch: 78: Average loss: 2.1225, Accuracy: 5223/10000 (52.2300%)
___Train Local_ResNet_18,  epoch  78, local model 54, internal_epoch   1,  Average loss: 0.0069, Accuracy: 4911/5645 (86.9973%)
___Train Local_ResNet_18,  epoch  78, local model 54, internal_epoch   2,  Average loss: 0.0075, Accuracy: 4814/5645 (85.2790%)
___Test Local_ResNet_18 poisoned: False, epoch: 78: Average loss: 2.1562, Accuracy: 5081/10000 (50.8100%)
___Train Local_ResNet_18,  epoch  78, local model 63, internal_epoch   1,  Average loss: 0.0046, Accuracy: 3573/3910 (91.3811%)
___Train Local_ResNet_18,  epoch  78, local model 63, internal_epoch   2,  Average loss: 0.0063, Accuracy: 3452/3910 (88.2864%)
___Test Local_ResNet_18 poisoned: False, epoch: 78: Average loss: 2.0296, Accuracy: 5551/10000 (55.5100%)
___Train Local_ResNet_18,  epoch  78, local model 94, internal_epoch   1,  Average loss: 0.0058, Accuracy: 4626/5224 (88.5528%)
___Train Local_ResNet_18,  epoch  78, local model 94, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4752/5224 (90.9648%)
___Test Local_ResNet_18 poisoned: False, epoch: 78: Average loss: 2.0029, Accuracy: 5431/10000 (54.3100%)
___Train Local_ResNet_18,  epoch  78, local model 10, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4607/5068 (90.9037%)
___Train Local_ResNet_18,  epoch  78, local model 10, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4583/5068 (90.4301%)
___Test Local_ResNet_18 poisoned: False, epoch: 78: Average loss: 2.1593, Accuracy: 5211/10000 (52.1100%)
___Train Local_ResNet_18,  epoch  78, local model 96, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4576/5086 (89.9725%)
___Train Local_ResNet_18,  epoch  78, local model 96, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4653/5086 (91.4864%)
___Test Local_ResNet_18 poisoned: False, epoch: 78: Average loss: 2.0036, Accuracy: 5444/10000 (54.4400%)
___Train Local_ResNet_18,  epoch  78, local model 45, internal_epoch   1,  Average loss: 0.0054, Accuracy: 4893/5489 (89.1419%)
___Train Local_ResNet_18,  epoch  78, local model 45, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4966/5489 (90.4719%)
___Test Local_ResNet_18 poisoned: False, epoch: 78: Average loss: 2.0615, Accuracy: 5277/10000 (52.7700%)
___Train Local_ResNet_18,  epoch  78, local model 38, internal_epoch   1,  Average loss: 0.0059, Accuracy: 5511/6235 (88.3881%)
___Train Local_ResNet_18,  epoch  78, local model 38, internal_epoch   2,  Average loss: 0.0057, Accuracy: 5536/6235 (88.7891%)
___Test Local_ResNet_18 poisoned: False, epoch: 78: Average loss: 2.1513, Accuracy: 5284/10000 (52.8400%)
___Train Local_ResNet_18,  epoch  78, local model 59, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4148/4397 (94.3370%)
___Train Local_ResNet_18,  epoch  78, local model 59, internal_epoch   2,  Average loss: 0.0025, Accuracy: 4193/4397 (95.3605%)
___Test Local_ResNet_18 poisoned: False, epoch: 78: Average loss: 1.7921, Accuracy: 5850/10000 (58.5000%)
___Train Local_ResNet_18,  epoch  78, local model 6, internal_epoch   1,  Average loss: 0.0059, Accuracy: 4452/4929 (90.3226%)
___Train Local_ResNet_18,  epoch  78, local model 6, internal_epoch   2,  Average loss: 0.0054, Accuracy: 4484/4929 (90.9718%)
___Test Local_ResNet_18 poisoned: False, epoch: 78: Average loss: 2.0695, Accuracy: 5469/10000 (54.6900%)
___Train Local_ResNet_18,  epoch  78, local model 85, internal_epoch   1,  Average loss: 0.0055, Accuracy: 6230/6947 (89.6790%)
___Train Local_ResNet_18,  epoch  78, local model 85, internal_epoch   2,  Average loss: 0.0060, Accuracy: 6144/6947 (88.4411%)
___Test Local_ResNet_18 poisoned: False, epoch: 78: Average loss: 2.1130, Accuracy: 5221/10000 (52.2100%)
___Train Local_ResNet_18,  epoch  78, local model 55, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4291/4731 (90.6996%)
___Train Local_ResNet_18,  epoch  78, local model 55, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4347/4731 (91.8833%)
___Test Local_ResNet_18 poisoned: False, epoch: 78: Average loss: 1.9306, Accuracy: 5582/10000 (55.8200%)
___Train Local_ResNet_18,  epoch  78, local model 32, internal_epoch   1,  Average loss: 0.0066, Accuracy: 5266/6080 (86.6118%)
___Train Local_ResNet_18,  epoch  78, local model 32, internal_epoch   2,  Average loss: 0.0061, Accuracy: 5351/6080 (88.0099%)
___Test Local_ResNet_18 poisoned: False, epoch: 78: Average loss: 2.2249, Accuracy: 5154/10000 (51.5400%)
___Train Local_ResNet_18,  epoch  78, local model 83, internal_epoch   1,  Average loss: 0.0052, Accuracy: 3187/3552 (89.7241%)
___Train Local_ResNet_18,  epoch  78, local model 83, internal_epoch   2,  Average loss: 0.0038, Accuracy: 3295/3552 (92.7646%)
___Test Local_ResNet_18 poisoned: False, epoch: 78: Average loss: 1.8148, Accuracy: 5862/10000 (58.6200%)
___Train Local_ResNet_18,  epoch  78, local model 89, internal_epoch   1,  Average loss: 0.0054, Accuracy: 4315/4737 (91.0914%)
___Train Local_ResNet_18,  epoch  78, local model 89, internal_epoch   2,  Average loss: 0.0056, Accuracy: 4322/4737 (91.2392%)
___Test Local_ResNet_18 poisoned: False, epoch: 78: Average loss: 2.0556, Accuracy: 5348/10000 (53.4800%)
time spent on training: 279.71510767936707
___Test Target_ResNet_18 poisoned: False, epoch: 78: Average loss: 1.1129, Accuracy: 7023/10000 (70.2300%)
___Test Target_ResNet_18 poisoned: True, epoch: 78: Average loss: 2.8885, Accuracy: 4052/9900 (40.9293%)
Done in 306.0936691761017 sec.
Server Epoch:79 choose agents : [13, 36, 58, 71, 23, 89, 83, 1, 0, 90, 46, 70, 48, 5, 17, 96, 79, 7, 63, 39].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  79, local model 13, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4971/5308 (93.6511%), train_poison_data_count: 415
Global model norm: 42.608239063974615.
Norm before scaling: 42.604788096527365. Distance: 1.7834951740281946
___Test Local_ResNet_18 poisoned: True, epoch: 79: Average loss: 0.1785, Accuracy: 9447/9900 (95.4242%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  79, local model 36, internal_epoch   1,  Average loss: 0.0033, Accuracy: 5480/5777 (94.8589%), train_poison_data_count: 455
Global model norm: 42.608239063974615.
Norm before scaling: 42.59700986012325. Distance: 1.7660620494495949
___Test Local_ResNet_18 poisoned: True, epoch: 79: Average loss: 0.1940, Accuracy: 9446/9900 (95.4141%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  79, local model 58, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4729/5123 (92.3092%), train_poison_data_count: 403
Global model norm: 42.608239063974615.
Norm before scaling: 42.6018182357536. Distance: 1.8248099894437921
___Test Local_ResNet_18 poisoned: True, epoch: 79: Average loss: 0.3719, Accuracy: 8959/9900 (90.4949%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  79, local model 71, internal_epoch   1,  Average loss: 0.0038, Accuracy: 5122/5503 (93.0765%), train_poison_data_count: 430
Global model norm: 42.608239063974615.
Norm before scaling: 42.60296007358233. Distance: 1.8197863559248726
___Test Local_ResNet_18 poisoned: True, epoch: 79: Average loss: 0.3269, Accuracy: 9018/9900 (91.0909%)
___Train Local_ResNet_18,  epoch  79, local model 23, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4262/4549 (93.6909%)
___Train Local_ResNet_18,  epoch  79, local model 23, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4270/4549 (93.8668%)
___Test Local_ResNet_18 poisoned: False, epoch: 79: Average loss: 1.7197, Accuracy: 5900/10000 (59.0000%)
___Train Local_ResNet_18,  epoch  79, local model 89, internal_epoch   1,  Average loss: 0.0056, Accuracy: 4281/4737 (90.3737%)
___Train Local_ResNet_18,  epoch  79, local model 89, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4291/4737 (90.5848%)
___Test Local_ResNet_18 poisoned: False, epoch: 79: Average loss: 2.0850, Accuracy: 5398/10000 (53.9800%)
___Train Local_ResNet_18,  epoch  79, local model 83, internal_epoch   1,  Average loss: 0.0050, Accuracy: 3218/3552 (90.5968%)
___Train Local_ResNet_18,  epoch  79, local model 83, internal_epoch   2,  Average loss: 0.0036, Accuracy: 3310/3552 (93.1869%)
___Test Local_ResNet_18 poisoned: False, epoch: 79: Average loss: 1.8955, Accuracy: 5673/10000 (56.7300%)
___Train Local_ResNet_18,  epoch  79, local model 1, internal_epoch   1,  Average loss: 0.0039, Accuracy: 5017/5422 (92.5304%)
___Train Local_ResNet_18,  epoch  79, local model 1, internal_epoch   2,  Average loss: 0.0039, Accuracy: 5020/5422 (92.5858%)
___Test Local_ResNet_18 poisoned: False, epoch: 79: Average loss: 1.8872, Accuracy: 5688/10000 (56.8800%)
___Train Local_ResNet_18,  epoch  79, local model 0, internal_epoch   1,  Average loss: 0.0058, Accuracy: 4884/5454 (89.5490%)
___Train Local_ResNet_18,  epoch  79, local model 0, internal_epoch   2,  Average loss: 0.0065, Accuracy: 4757/5454 (87.2204%)
___Test Local_ResNet_18 poisoned: False, epoch: 79: Average loss: 2.0231, Accuracy: 5403/10000 (54.0300%)
___Train Local_ResNet_18,  epoch  79, local model 90, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4343/4748 (91.4701%)
___Train Local_ResNet_18,  epoch  79, local model 90, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4373/4748 (92.1019%)
___Test Local_ResNet_18 poisoned: False, epoch: 79: Average loss: 1.8989, Accuracy: 5569/10000 (55.6900%)
___Train Local_ResNet_18,  epoch  79, local model 46, internal_epoch   1,  Average loss: 0.0068, Accuracy: 4672/5399 (86.5345%)
___Train Local_ResNet_18,  epoch  79, local model 46, internal_epoch   2,  Average loss: 0.0064, Accuracy: 4695/5399 (86.9605%)
___Test Local_ResNet_18 poisoned: False, epoch: 79: Average loss: 2.2157, Accuracy: 5124/10000 (51.2400%)
___Train Local_ResNet_18,  epoch  79, local model 70, internal_epoch   1,  Average loss: 0.0041, Accuracy: 5437/5871 (92.6077%)
___Train Local_ResNet_18,  epoch  79, local model 70, internal_epoch   2,  Average loss: 0.0042, Accuracy: 5384/5871 (91.7050%)
___Test Local_ResNet_18 poisoned: False, epoch: 79: Average loss: 2.0795, Accuracy: 5361/10000 (53.6100%)
___Train Local_ResNet_18,  epoch  79, local model 48, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4461/4830 (92.3602%)
___Train Local_ResNet_18,  epoch  79, local model 48, internal_epoch   2,  Average loss: 0.0033, Accuracy: 4543/4830 (94.0580%)
___Test Local_ResNet_18 poisoned: False, epoch: 79: Average loss: 2.0739, Accuracy: 5507/10000 (55.0700%)
___Train Local_ResNet_18,  epoch  79, local model 5, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4624/4993 (92.6097%)
___Train Local_ResNet_18,  epoch  79, local model 5, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4642/4993 (92.9702%)
___Test Local_ResNet_18 poisoned: False, epoch: 79: Average loss: 1.8874, Accuracy: 5739/10000 (57.3900%)
___Train Local_ResNet_18,  epoch  79, local model 17, internal_epoch   1,  Average loss: 0.0063, Accuracy: 4302/4903 (87.7422%)
___Train Local_ResNet_18,  epoch  79, local model 17, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4371/4903 (89.1495%)
___Test Local_ResNet_18 poisoned: False, epoch: 79: Average loss: 2.1520, Accuracy: 5227/10000 (52.2700%)
___Train Local_ResNet_18,  epoch  79, local model 96, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4599/5086 (90.4247%)
___Train Local_ResNet_18,  epoch  79, local model 96, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4672/5086 (91.8600%)
___Test Local_ResNet_18 poisoned: False, epoch: 79: Average loss: 1.8560, Accuracy: 5640/10000 (56.4000%)
___Train Local_ResNet_18,  epoch  79, local model 79, internal_epoch   1,  Average loss: 0.0051, Accuracy: 3729/4111 (90.7079%)
___Train Local_ResNet_18,  epoch  79, local model 79, internal_epoch   2,  Average loss: 0.0051, Accuracy: 3711/4111 (90.2700%)
___Test Local_ResNet_18 poisoned: False, epoch: 79: Average loss: 2.0712, Accuracy: 5292/10000 (52.9200%)
___Train Local_ResNet_18,  epoch  79, local model 7, internal_epoch   1,  Average loss: 0.0056, Accuracy: 4350/4869 (89.3407%)
___Train Local_ResNet_18,  epoch  79, local model 7, internal_epoch   2,  Average loss: 0.0074, Accuracy: 4172/4869 (85.6849%)
___Test Local_ResNet_18 poisoned: False, epoch: 79: Average loss: 2.3325, Accuracy: 5047/10000 (50.4700%)
___Train Local_ResNet_18,  epoch  79, local model 63, internal_epoch   1,  Average loss: 0.0048, Accuracy: 3534/3910 (90.3836%)
___Train Local_ResNet_18,  epoch  79, local model 63, internal_epoch   2,  Average loss: 0.0051, Accuracy: 3543/3910 (90.6138%)
___Test Local_ResNet_18 poisoned: False, epoch: 79: Average loss: 1.9620, Accuracy: 5584/10000 (55.8400%)
___Train Local_ResNet_18,  epoch  79, local model 39, internal_epoch   1,  Average loss: 0.0056, Accuracy: 3729/4175 (89.3174%)
___Train Local_ResNet_18,  epoch  79, local model 39, internal_epoch   2,  Average loss: 0.0053, Accuracy: 3767/4175 (90.2275%)
___Test Local_ResNet_18 poisoned: False, epoch: 79: Average loss: 1.9774, Accuracy: 5475/10000 (54.7500%)
time spent on training: 268.9673354625702
___Test Target_ResNet_18 poisoned: False, epoch: 79: Average loss: 1.1172, Accuracy: 7003/10000 (70.0300%)
___Test Target_ResNet_18 poisoned: True, epoch: 79: Average loss: 2.5591, Accuracy: 4583/9900 (46.2929%)
Done in 295.5596351623535 sec.
Server Epoch:80 choose agents : [13, 36, 58, 71, 44, 30, 66, 73, 76, 81, 22, 46, 17, 34, 96, 31, 95, 40, 53, 11].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  80, local model 13, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4981/5308 (93.8395%), train_poison_data_count: 415
Global model norm: 42.62936566948672.
Norm before scaling: 42.622602915552626. Distance: 1.7547632515267384
___Test Local_ResNet_18 poisoned: True, epoch: 80: Average loss: 0.1403, Accuracy: 9563/9900 (96.5960%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  80, local model 36, internal_epoch   1,  Average loss: 0.0030, Accuracy: 5481/5777 (94.8762%), train_poison_data_count: 455
Global model norm: 42.62936566948672.
Norm before scaling: 42.61375516081926. Distance: 1.6689364554146195
___Test Local_ResNet_18 poisoned: True, epoch: 80: Average loss: 0.1129, Accuracy: 9617/9900 (97.1414%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  80, local model 58, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4759/5123 (92.8948%), train_poison_data_count: 403
Global model norm: 42.62936566948672.
Norm before scaling: 42.62217331628134. Distance: 1.7884143171552582
___Test Local_ResNet_18 poisoned: True, epoch: 80: Average loss: 0.2786, Accuracy: 9199/9900 (92.9192%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  80, local model 71, internal_epoch   1,  Average loss: 0.0038, Accuracy: 5140/5503 (93.4036%), train_poison_data_count: 430
Global model norm: 42.62936566948672.
Norm before scaling: 42.623371887436214. Distance: 1.8173616911302877
___Test Local_ResNet_18 poisoned: True, epoch: 80: Average loss: 0.2110, Accuracy: 9367/9900 (94.6162%)
___Train Local_ResNet_18,  epoch  80, local model 44, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4639/5075 (91.4089%)
___Train Local_ResNet_18,  epoch  80, local model 44, internal_epoch   2,  Average loss: 0.0057, Accuracy: 4523/5075 (89.1232%)
___Test Local_ResNet_18 poisoned: False, epoch: 80: Average loss: 2.1142, Accuracy: 5286/10000 (52.8600%)
___Train Local_ResNet_18,  epoch  80, local model 30, internal_epoch   1,  Average loss: 0.0049, Accuracy: 3421/3774 (90.6465%)
___Train Local_ResNet_18,  epoch  80, local model 30, internal_epoch   2,  Average loss: 0.0038, Accuracy: 3515/3774 (93.1373%)
___Test Local_ResNet_18 poisoned: False, epoch: 80: Average loss: 1.8105, Accuracy: 5799/10000 (57.9900%)
___Train Local_ResNet_18,  epoch  80, local model 66, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4364/4843 (90.1094%)
___Train Local_ResNet_18,  epoch  80, local model 66, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4435/4843 (91.5755%)
___Test Local_ResNet_18 poisoned: False, epoch: 80: Average loss: 2.0520, Accuracy: 5356/10000 (53.5600%)
___Train Local_ResNet_18,  epoch  80, local model 73, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4240/4605 (92.0738%)
___Train Local_ResNet_18,  epoch  80, local model 73, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4225/4605 (91.7481%)
___Test Local_ResNet_18 poisoned: False, epoch: 80: Average loss: 1.9721, Accuracy: 5425/10000 (54.2500%)
___Train Local_ResNet_18,  epoch  80, local model 76, internal_epoch   1,  Average loss: 0.0060, Accuracy: 3485/3959 (88.0273%)
___Train Local_ResNet_18,  epoch  80, local model 76, internal_epoch   2,  Average loss: 0.0046, Accuracy: 3609/3959 (91.1594%)
___Test Local_ResNet_18 poisoned: False, epoch: 80: Average loss: 2.0247, Accuracy: 5490/10000 (54.9000%)
___Train Local_ResNet_18,  epoch  80, local model 81, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4573/5035 (90.8242%)
___Train Local_ResNet_18,  epoch  80, local model 81, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4642/5035 (92.1946%)
___Test Local_ResNet_18 poisoned: False, epoch: 80: Average loss: 2.0199, Accuracy: 5465/10000 (54.6500%)
___Train Local_ResNet_18,  epoch  80, local model 22, internal_epoch   1,  Average loss: 0.0047, Accuracy: 5205/5696 (91.3799%)
___Train Local_ResNet_18,  epoch  80, local model 22, internal_epoch   2,  Average loss: 0.0041, Accuracy: 5243/5696 (92.0471%)
___Test Local_ResNet_18 poisoned: False, epoch: 80: Average loss: 1.9928, Accuracy: 5414/10000 (54.1400%)
___Train Local_ResNet_18,  epoch  80, local model 46, internal_epoch   1,  Average loss: 0.0071, Accuracy: 4658/5399 (86.2752%)
___Train Local_ResNet_18,  epoch  80, local model 46, internal_epoch   2,  Average loss: 0.0069, Accuracy: 4643/5399 (85.9974%)
___Test Local_ResNet_18 poisoned: False, epoch: 80: Average loss: 2.1889, Accuracy: 5163/10000 (51.6300%)
___Train Local_ResNet_18,  epoch  80, local model 17, internal_epoch   1,  Average loss: 0.0058, Accuracy: 4359/4903 (88.9048%)
___Train Local_ResNet_18,  epoch  80, local model 17, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4367/4903 (89.0679%)
___Test Local_ResNet_18 poisoned: False, epoch: 80: Average loss: 2.1691, Accuracy: 5177/10000 (51.7700%)
___Train Local_ResNet_18,  epoch  80, local model 34, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4473/4911 (91.0812%)
___Train Local_ResNet_18,  epoch  80, local model 34, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4499/4911 (91.6107%)
___Test Local_ResNet_18 poisoned: False, epoch: 80: Average loss: 1.9693, Accuracy: 5431/10000 (54.3100%)
___Train Local_ResNet_18,  epoch  80, local model 96, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4603/5086 (90.5033%)
___Train Local_ResNet_18,  epoch  80, local model 96, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4613/5086 (90.7000%)
___Test Local_ResNet_18 poisoned: False, epoch: 80: Average loss: 2.1426, Accuracy: 5194/10000 (51.9400%)
___Train Local_ResNet_18,  epoch  80, local model 31, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4126/4537 (90.9412%)
___Train Local_ResNet_18,  epoch  80, local model 31, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4178/4537 (92.0873%)
___Test Local_ResNet_18 poisoned: False, epoch: 80: Average loss: 1.9883, Accuracy: 5462/10000 (54.6200%)
___Train Local_ResNet_18,  epoch  80, local model 95, internal_epoch   1,  Average loss: 0.0058, Accuracy: 4461/5018 (88.9000%)
___Train Local_ResNet_18,  epoch  80, local model 95, internal_epoch   2,  Average loss: 0.0061, Accuracy: 4433/5018 (88.3420%)
___Test Local_ResNet_18 poisoned: False, epoch: 80: Average loss: 2.2536, Accuracy: 4960/10000 (49.6000%)
___Train Local_ResNet_18,  epoch  80, local model 40, internal_epoch   1,  Average loss: 0.0041, Accuracy: 5465/5939 (92.0189%)
___Train Local_ResNet_18,  epoch  80, local model 40, internal_epoch   2,  Average loss: 0.0041, Accuracy: 5470/5939 (92.1030%)
___Test Local_ResNet_18 poisoned: False, epoch: 80: Average loss: 1.9851, Accuracy: 5488/10000 (54.8800%)
___Train Local_ResNet_18,  epoch  80, local model 53, internal_epoch   1,  Average loss: 0.0067, Accuracy: 5801/6664 (87.0498%)
___Train Local_ResNet_18,  epoch  80, local model 53, internal_epoch   2,  Average loss: 0.0084, Accuracy: 5602/6664 (84.0636%)
___Test Local_ResNet_18 poisoned: False, epoch: 80: Average loss: 2.1964, Accuracy: 4999/10000 (49.9900%)
___Train Local_ResNet_18,  epoch  80, local model 11, internal_epoch   1,  Average loss: 0.0078, Accuracy: 4858/5702 (85.1982%)
___Train Local_ResNet_18,  epoch  80, local model 11, internal_epoch   2,  Average loss: 0.0109, Accuracy: 4513/5702 (79.1477%)
___Test Local_ResNet_18 poisoned: False, epoch: 80: Average loss: 2.3735, Accuracy: 4871/10000 (48.7100%)
time spent on training: 277.85206842422485
___Test Target_ResNet_18 poisoned: False, epoch: 80: Average loss: 1.1230, Accuracy: 6998/10000 (69.9800%)
___Test Target_ResNet_18 poisoned: True, epoch: 80: Average loss: 2.1850, Accuracy: 5223/9900 (52.7576%)
Done in 304.58961820602417 sec.
Server Epoch:81 choose agents : [13, 36, 58, 71, 69, 64, 10, 24, 15, 54, 35, 59, 42, 72, 84, 92, 73, 76, 29, 44].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  81, local model 13, internal_epoch   1,  Average loss: 0.0034, Accuracy: 5000/5308 (94.1974%), train_poison_data_count: 415
Global model norm: 42.6513633304413.
Norm before scaling: 42.641482391068585. Distance: 1.671868226224778
___Test Local_ResNet_18 poisoned: True, epoch: 81: Average loss: 0.0983, Accuracy: 9661/9900 (97.5859%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  81, local model 36, internal_epoch   1,  Average loss: 0.0028, Accuracy: 5511/5777 (95.3955%), train_poison_data_count: 455
Global model norm: 42.6513633304413.
Norm before scaling: 42.63259989982725. Distance: 1.6398507607406934
___Test Local_ResNet_18 poisoned: True, epoch: 81: Average loss: 0.1000, Accuracy: 9652/9900 (97.4949%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  81, local model 58, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4776/5123 (93.2266%), train_poison_data_count: 403
Global model norm: 42.6513633304413.
Norm before scaling: 42.64407736115738. Distance: 1.7459358980312478
___Test Local_ResNet_18 poisoned: True, epoch: 81: Average loss: 0.1699, Accuracy: 9447/9900 (95.4242%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  81, local model 71, internal_epoch   1,  Average loss: 0.0035, Accuracy: 5178/5503 (94.0941%), train_poison_data_count: 430
Global model norm: 42.6513633304413.
Norm before scaling: 42.64274769130224. Distance: 1.752841345811022
___Test Local_ResNet_18 poisoned: True, epoch: 81: Average loss: 0.1756, Accuracy: 9452/9900 (95.4747%)
___Train Local_ResNet_18,  epoch  81, local model 69, internal_epoch   1,  Average loss: 0.0047, Accuracy: 3969/4364 (90.9487%)
___Train Local_ResNet_18,  epoch  81, local model 69, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4008/4364 (91.8423%)
___Test Local_ResNet_18 poisoned: False, epoch: 81: Average loss: 2.0445, Accuracy: 5354/10000 (53.5400%)
___Train Local_ResNet_18,  epoch  81, local model 64, internal_epoch   1,  Average loss: 0.0060, Accuracy: 4343/4894 (88.7413%)
___Train Local_ResNet_18,  epoch  81, local model 64, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4383/4894 (89.5586%)
___Test Local_ResNet_18 poisoned: False, epoch: 81: Average loss: 2.0781, Accuracy: 5366/10000 (53.6600%)
___Train Local_ResNet_18,  epoch  81, local model 10, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4692/5068 (92.5809%)
___Train Local_ResNet_18,  epoch  81, local model 10, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4621/5068 (91.1800%)
___Test Local_ResNet_18 poisoned: False, epoch: 81: Average loss: 2.0457, Accuracy: 5291/10000 (52.9100%)
___Train Local_ResNet_18,  epoch  81, local model 24, internal_epoch   1,  Average loss: 0.0045, Accuracy: 3952/4313 (91.6300%)
___Train Local_ResNet_18,  epoch  81, local model 24, internal_epoch   2,  Average loss: 0.0042, Accuracy: 3971/4313 (92.0705%)
___Test Local_ResNet_18 poisoned: False, epoch: 81: Average loss: 1.8720, Accuracy: 5627/10000 (56.2700%)
___Train Local_ResNet_18,  epoch  81, local model 15, internal_epoch   1,  Average loss: 0.0049, Accuracy: 5508/6068 (90.7713%)
___Train Local_ResNet_18,  epoch  81, local model 15, internal_epoch   2,  Average loss: 0.0047, Accuracy: 5485/6068 (90.3922%)
___Test Local_ResNet_18 poisoned: False, epoch: 81: Average loss: 2.2018, Accuracy: 5201/10000 (52.0100%)
___Train Local_ResNet_18,  epoch  81, local model 54, internal_epoch   1,  Average loss: 0.0062, Accuracy: 4968/5645 (88.0071%)
___Train Local_ResNet_18,  epoch  81, local model 54, internal_epoch   2,  Average loss: 0.0071, Accuracy: 4886/5645 (86.5545%)
___Test Local_ResNet_18 poisoned: False, epoch: 81: Average loss: 2.4663, Accuracy: 4825/10000 (48.2500%)
___Train Local_ResNet_18,  epoch  81, local model 35, internal_epoch   1,  Average loss: 0.0052, Accuracy: 5062/5615 (90.1514%)
___Train Local_ResNet_18,  epoch  81, local model 35, internal_epoch   2,  Average loss: 0.0050, Accuracy: 5032/5615 (89.6171%)
___Test Local_ResNet_18 poisoned: False, epoch: 81: Average loss: 2.0524, Accuracy: 5272/10000 (52.7200%)
___Train Local_ResNet_18,  epoch  81, local model 59, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4137/4397 (94.0869%)
___Train Local_ResNet_18,  epoch  81, local model 59, internal_epoch   2,  Average loss: 0.0026, Accuracy: 4170/4397 (94.8374%)
___Test Local_ResNet_18 poisoned: False, epoch: 81: Average loss: 1.7682, Accuracy: 5832/10000 (58.3200%)
___Train Local_ResNet_18,  epoch  81, local model 42, internal_epoch   1,  Average loss: 0.0050, Accuracy: 5332/5907 (90.2658%)
___Train Local_ResNet_18,  epoch  81, local model 42, internal_epoch   2,  Average loss: 0.0051, Accuracy: 5320/5907 (90.0626%)
___Test Local_ResNet_18 poisoned: False, epoch: 81: Average loss: 2.2604, Accuracy: 5002/10000 (50.0200%)
___Train Local_ResNet_18,  epoch  81, local model 72, internal_epoch   1,  Average loss: 0.0055, Accuracy: 4651/5193 (89.5629%)
___Train Local_ResNet_18,  epoch  81, local model 72, internal_epoch   2,  Average loss: 0.0064, Accuracy: 4526/5193 (87.1558%)
___Test Local_ResNet_18 poisoned: False, epoch: 81: Average loss: 2.2043, Accuracy: 5222/10000 (52.2200%)
___Train Local_ResNet_18,  epoch  81, local model 84, internal_epoch   1,  Average loss: 0.0054, Accuracy: 4676/5209 (89.7677%)
___Train Local_ResNet_18,  epoch  81, local model 84, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4665/5209 (89.5565%)
___Test Local_ResNet_18 poisoned: False, epoch: 81: Average loss: 2.0737, Accuracy: 5379/10000 (53.7900%)
___Train Local_ResNet_18,  epoch  81, local model 92, internal_epoch   1,  Average loss: 0.0044, Accuracy: 6271/6812 (92.0581%)
___Train Local_ResNet_18,  epoch  81, local model 92, internal_epoch   2,  Average loss: 0.0043, Accuracy: 6265/6812 (91.9701%)
___Test Local_ResNet_18 poisoned: False, epoch: 81: Average loss: 2.1524, Accuracy: 5317/10000 (53.1700%)
___Train Local_ResNet_18,  epoch  81, local model 73, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4194/4605 (91.0749%)
___Train Local_ResNet_18,  epoch  81, local model 73, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4255/4605 (92.3996%)
___Test Local_ResNet_18 poisoned: False, epoch: 81: Average loss: 1.8924, Accuracy: 5631/10000 (56.3100%)
___Train Local_ResNet_18,  epoch  81, local model 76, internal_epoch   1,  Average loss: 0.0050, Accuracy: 3568/3959 (90.1238%)
___Train Local_ResNet_18,  epoch  81, local model 76, internal_epoch   2,  Average loss: 0.0040, Accuracy: 3641/3959 (91.9677%)
___Test Local_ResNet_18 poisoned: False, epoch: 81: Average loss: 2.0325, Accuracy: 5435/10000 (54.3500%)
___Train Local_ResNet_18,  epoch  81, local model 29, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4358/4732 (92.0964%)
___Train Local_ResNet_18,  epoch  81, local model 29, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4405/4732 (93.0896%)
___Test Local_ResNet_18 poisoned: False, epoch: 81: Average loss: 1.9182, Accuracy: 5605/10000 (56.0500%)
___Train Local_ResNet_18,  epoch  81, local model 44, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4615/5075 (90.9360%)
___Train Local_ResNet_18,  epoch  81, local model 44, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4654/5075 (91.7044%)
___Test Local_ResNet_18 poisoned: False, epoch: 81: Average loss: 2.0848, Accuracy: 5318/10000 (53.1800%)
time spent on training: 278.23483085632324
___Test Target_ResNet_18 poisoned: False, epoch: 81: Average loss: 1.1305, Accuracy: 6973/10000 (69.7300%)
___Test Target_ResNet_18 poisoned: True, epoch: 81: Average loss: 1.8779, Accuracy: 5756/9900 (58.1414%)
Done in 305.0359351634979 sec.
Server Epoch:82 choose agents : [13, 36, 58, 71, 14, 54, 3, 34, 68, 73, 15, 91, 7, 26, 79, 11, 61, 56, 16, 45].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  82, local model 13, internal_epoch   1,  Average loss: 0.0034, Accuracy: 5014/5308 (94.4612%), train_poison_data_count: 415
Global model norm: 42.67358993944981.
Norm before scaling: 42.665073206074396. Distance: 1.6759371029243233
___Test Local_ResNet_18 poisoned: True, epoch: 82: Average loss: 0.2378, Accuracy: 9328/9900 (94.2222%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  82, local model 36, internal_epoch   1,  Average loss: 0.0027, Accuracy: 5518/5777 (95.5167%), train_poison_data_count: 455
Global model norm: 42.67358993944981.
Norm before scaling: 42.65399347282371. Distance: 1.5943938058232305
___Test Local_ResNet_18 poisoned: True, epoch: 82: Average loss: 0.1430, Accuracy: 9543/9900 (96.3939%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  82, local model 58, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4803/5123 (93.7537%), train_poison_data_count: 403
Global model norm: 42.67358993944981.
Norm before scaling: 42.66358110079075. Distance: 1.6705022862866035
___Test Local_ResNet_18 poisoned: True, epoch: 82: Average loss: 0.4269, Accuracy: 8889/9900 (89.7879%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  82, local model 71, internal_epoch   1,  Average loss: 0.0036, Accuracy: 5143/5503 (93.4581%), train_poison_data_count: 430
Global model norm: 42.67358993944981.
Norm before scaling: 42.66642220744991. Distance: 1.7685947255700525
___Test Local_ResNet_18 poisoned: True, epoch: 82: Average loss: 0.3149, Accuracy: 9080/9900 (91.7172%)
___Train Local_ResNet_18,  epoch  82, local model 14, internal_epoch   1,  Average loss: 0.0036, Accuracy: 3931/4196 (93.6845%)
___Train Local_ResNet_18,  epoch  82, local model 14, internal_epoch   2,  Average loss: 0.0030, Accuracy: 3968/4196 (94.5663%)
___Test Local_ResNet_18 poisoned: False, epoch: 82: Average loss: 1.8349, Accuracy: 5707/10000 (57.0700%)
___Train Local_ResNet_18,  epoch  82, local model 54, internal_epoch   1,  Average loss: 0.0061, Accuracy: 4996/5645 (88.5031%)
___Train Local_ResNet_18,  epoch  82, local model 54, internal_epoch   2,  Average loss: 0.0069, Accuracy: 4889/5645 (86.6076%)
___Test Local_ResNet_18 poisoned: False, epoch: 82: Average loss: 2.2434, Accuracy: 5168/10000 (51.6800%)
___Train Local_ResNet_18,  epoch  82, local model 3, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4934/5346 (92.2933%)
___Train Local_ResNet_18,  epoch  82, local model 3, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4928/5346 (92.1811%)
___Test Local_ResNet_18 poisoned: False, epoch: 82: Average loss: 2.0043, Accuracy: 5395/10000 (53.9500%)
___Train Local_ResNet_18,  epoch  82, local model 34, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4471/4911 (91.0405%)
___Train Local_ResNet_18,  epoch  82, local model 34, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4456/4911 (90.7351%)
___Test Local_ResNet_18 poisoned: False, epoch: 82: Average loss: 2.0474, Accuracy: 5376/10000 (53.7600%)
___Train Local_ResNet_18,  epoch  82, local model 68, internal_epoch   1,  Average loss: 0.0046, Accuracy: 3296/3589 (91.8362%)
___Train Local_ResNet_18,  epoch  82, local model 68, internal_epoch   2,  Average loss: 0.0066, Accuracy: 3150/3589 (87.7682%)
___Test Local_ResNet_18 poisoned: False, epoch: 82: Average loss: 2.0537, Accuracy: 5369/10000 (53.6900%)
___Train Local_ResNet_18,  epoch  82, local model 73, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4260/4605 (92.5081%)
___Train Local_ResNet_18,  epoch  82, local model 73, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4306/4605 (93.5071%)
___Test Local_ResNet_18 poisoned: False, epoch: 82: Average loss: 1.9386, Accuracy: 5669/10000 (56.6900%)
___Train Local_ResNet_18,  epoch  82, local model 15, internal_epoch   1,  Average loss: 0.0046, Accuracy: 5550/6068 (91.4634%)
___Train Local_ResNet_18,  epoch  82, local model 15, internal_epoch   2,  Average loss: 0.0042, Accuracy: 5569/6068 (91.7765%)
___Test Local_ResNet_18 poisoned: False, epoch: 82: Average loss: 2.1071, Accuracy: 5301/10000 (53.0100%)
___Train Local_ResNet_18,  epoch  82, local model 91, internal_epoch   1,  Average loss: 0.0055, Accuracy: 4052/4527 (89.5074%)
___Train Local_ResNet_18,  epoch  82, local model 91, internal_epoch   2,  Average loss: 0.0059, Accuracy: 4012/4527 (88.6238%)
___Test Local_ResNet_18 poisoned: False, epoch: 82: Average loss: 1.9806, Accuracy: 5442/10000 (54.4200%)
___Train Local_ResNet_18,  epoch  82, local model 7, internal_epoch   1,  Average loss: 0.0056, Accuracy: 4386/4869 (90.0801%)
___Train Local_ResNet_18,  epoch  82, local model 7, internal_epoch   2,  Average loss: 0.0073, Accuracy: 4177/4869 (85.7876%)
___Test Local_ResNet_18 poisoned: False, epoch: 82: Average loss: 2.5412, Accuracy: 4796/10000 (47.9600%)
___Train Local_ResNet_18,  epoch  82, local model 26, internal_epoch   1,  Average loss: 0.0046, Accuracy: 3737/4086 (91.4586%)
___Train Local_ResNet_18,  epoch  82, local model 26, internal_epoch   2,  Average loss: 0.0034, Accuracy: 3820/4086 (93.4900%)
___Test Local_ResNet_18 poisoned: False, epoch: 82: Average loss: 1.9445, Accuracy: 5511/10000 (55.1100%)
___Train Local_ResNet_18,  epoch  82, local model 79, internal_epoch   1,  Average loss: 0.0050, Accuracy: 3724/4111 (90.5862%)
___Train Local_ResNet_18,  epoch  82, local model 79, internal_epoch   2,  Average loss: 0.0047, Accuracy: 3729/4111 (90.7079%)
___Test Local_ResNet_18 poisoned: False, epoch: 82: Average loss: 2.1817, Accuracy: 5144/10000 (51.4400%)
___Train Local_ResNet_18,  epoch  82, local model 11, internal_epoch   1,  Average loss: 0.0082, Accuracy: 4835/5702 (84.7948%)
___Train Local_ResNet_18,  epoch  82, local model 11, internal_epoch   2,  Average loss: 0.0119, Accuracy: 4382/5702 (76.8502%)
___Test Local_ResNet_18 poisoned: False, epoch: 82: Average loss: 2.2179, Accuracy: 4977/10000 (49.7700%)
___Train Local_ResNet_18,  epoch  82, local model 61, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4100/4485 (91.4158%)
___Train Local_ResNet_18,  epoch  82, local model 61, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4084/4485 (91.0591%)
___Test Local_ResNet_18 poisoned: False, epoch: 82: Average loss: 2.0558, Accuracy: 5313/10000 (53.1300%)
___Train Local_ResNet_18,  epoch  82, local model 56, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4883/5427 (89.9760%)
___Train Local_ResNet_18,  epoch  82, local model 56, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4863/5427 (89.6075%)
___Test Local_ResNet_18 poisoned: False, epoch: 82: Average loss: 1.9286, Accuracy: 5651/10000 (56.5100%)
___Train Local_ResNet_18,  epoch  82, local model 16, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4834/5353 (90.3045%)
___Train Local_ResNet_18,  epoch  82, local model 16, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4831/5353 (90.2485%)
___Test Local_ResNet_18 poisoned: False, epoch: 82: Average loss: 2.0781, Accuracy: 5261/10000 (52.6100%)
___Train Local_ResNet_18,  epoch  82, local model 45, internal_epoch   1,  Average loss: 0.0056, Accuracy: 4836/5489 (88.1035%)
___Train Local_ResNet_18,  epoch  82, local model 45, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4979/5489 (90.7087%)
___Test Local_ResNet_18 poisoned: False, epoch: 82: Average loss: 2.0621, Accuracy: 5323/10000 (53.2300%)
time spent on training: 273.82951641082764
___Test Target_ResNet_18 poisoned: False, epoch: 82: Average loss: 1.1318, Accuracy: 6974/10000 (69.7400%)
___Test Target_ResNet_18 poisoned: True, epoch: 82: Average loss: 1.6945, Accuracy: 6115/9900 (61.7677%)
Done in 300.24089074134827 sec.
Server Epoch:83 choose agents : [13, 36, 58, 71, 46, 78, 3, 7, 8, 74, 87, 47, 38, 94, 25, 49, 44, 70, 40, 0].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  83, local model 13, internal_epoch   1,  Average loss: 0.0032, Accuracy: 5042/5308 (94.9887%), train_poison_data_count: 415
Global model norm: 42.69620667522028.
Norm before scaling: 42.68309594778125. Distance: 1.621290300702191
___Test Local_ResNet_18 poisoned: True, epoch: 83: Average loss: 0.1069, Accuracy: 9639/9900 (97.3636%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  83, local model 36, internal_epoch   1,  Average loss: 0.0027, Accuracy: 5529/5777 (95.7071%), train_poison_data_count: 455
Global model norm: 42.69620667522028.
Norm before scaling: 42.67756736107829. Distance: 1.5988486767008814
___Test Local_ResNet_18 poisoned: True, epoch: 83: Average loss: 0.1239, Accuracy: 9581/9900 (96.7778%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  83, local model 58, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4802/5123 (93.7341%), train_poison_data_count: 403
Global model norm: 42.69620667522028.
Norm before scaling: 42.686489110010704. Distance: 1.6827750992581354
___Test Local_ResNet_18 poisoned: True, epoch: 83: Average loss: 0.4572, Accuracy: 8774/9900 (88.6263%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  83, local model 71, internal_epoch   1,  Average loss: 0.0033, Accuracy: 5189/5503 (94.2940%), train_poison_data_count: 430
Global model norm: 42.69620667522028.
Norm before scaling: 42.68714826447329. Distance: 1.731853198241525
___Test Local_ResNet_18 poisoned: True, epoch: 83: Average loss: 0.0553, Accuracy: 9758/9900 (98.5657%)
___Train Local_ResNet_18,  epoch  83, local model 46, internal_epoch   1,  Average loss: 0.0065, Accuracy: 4761/5399 (88.1830%)
___Train Local_ResNet_18,  epoch  83, local model 46, internal_epoch   2,  Average loss: 0.0062, Accuracy: 4737/5399 (87.7385%)
___Test Local_ResNet_18 poisoned: False, epoch: 83: Average loss: 2.1609, Accuracy: 5173/10000 (51.7300%)
___Train Local_ResNet_18,  epoch  83, local model 78, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4021/4368 (92.0559%)
___Train Local_ResNet_18,  epoch  83, local model 78, internal_epoch   2,  Average loss: 0.0045, Accuracy: 3974/4368 (90.9799%)
___Test Local_ResNet_18 poisoned: False, epoch: 83: Average loss: 1.9555, Accuracy: 5542/10000 (55.4200%)
___Train Local_ResNet_18,  epoch  83, local model 3, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4937/5346 (92.3494%)
___Train Local_ResNet_18,  epoch  83, local model 3, internal_epoch   2,  Average loss: 0.0035, Accuracy: 5014/5346 (93.7897%)
___Test Local_ResNet_18 poisoned: False, epoch: 83: Average loss: 1.9811, Accuracy: 5474/10000 (54.7400%)
___Train Local_ResNet_18,  epoch  83, local model 7, internal_epoch   1,  Average loss: 0.0054, Accuracy: 4387/4869 (90.1006%)
___Train Local_ResNet_18,  epoch  83, local model 7, internal_epoch   2,  Average loss: 0.0074, Accuracy: 4156/4869 (85.3563%)
___Test Local_ResNet_18 poisoned: False, epoch: 83: Average loss: 2.2272, Accuracy: 5188/10000 (51.8800%)
___Train Local_ResNet_18,  epoch  83, local model 8, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4427/4889 (90.5502%)
___Train Local_ResNet_18,  epoch  83, local model 8, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4448/4889 (90.9798%)
___Test Local_ResNet_18 poisoned: False, epoch: 83: Average loss: 2.1545, Accuracy: 5241/10000 (52.4100%)
___Train Local_ResNet_18,  epoch  83, local model 74, internal_epoch   1,  Average loss: 0.0053, Accuracy: 4277/4797 (89.1599%)
___Train Local_ResNet_18,  epoch  83, local model 74, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4320/4797 (90.0563%)
___Test Local_ResNet_18 poisoned: False, epoch: 83: Average loss: 1.9775, Accuracy: 5429/10000 (54.2900%)
___Train Local_ResNet_18,  epoch  83, local model 87, internal_epoch   1,  Average loss: 0.0059, Accuracy: 3529/3995 (88.3354%)
___Train Local_ResNet_18,  epoch  83, local model 87, internal_epoch   2,  Average loss: 0.0051, Accuracy: 3599/3995 (90.0876%)
___Test Local_ResNet_18 poisoned: False, epoch: 83: Average loss: 1.9838, Accuracy: 5456/10000 (54.5600%)
___Train Local_ResNet_18,  epoch  83, local model 47, internal_epoch   1,  Average loss: 0.0059, Accuracy: 4551/5123 (88.8347%)
___Train Local_ResNet_18,  epoch  83, local model 47, internal_epoch   2,  Average loss: 0.0060, Accuracy: 4562/5123 (89.0494%)
___Test Local_ResNet_18 poisoned: False, epoch: 83: Average loss: 2.1967, Accuracy: 5250/10000 (52.5000%)
___Train Local_ResNet_18,  epoch  83, local model 38, internal_epoch   1,  Average loss: 0.0061, Accuracy: 5528/6235 (88.6608%)
___Train Local_ResNet_18,  epoch  83, local model 38, internal_epoch   2,  Average loss: 0.0060, Accuracy: 5492/6235 (88.0834%)
___Test Local_ResNet_18 poisoned: False, epoch: 83: Average loss: 2.1584, Accuracy: 5279/10000 (52.7900%)
___Train Local_ResNet_18,  epoch  83, local model 94, internal_epoch   1,  Average loss: 0.0058, Accuracy: 4607/5224 (88.1891%)
___Train Local_ResNet_18,  epoch  83, local model 94, internal_epoch   2,  Average loss: 0.0054, Accuracy: 4641/5224 (88.8400%)
___Test Local_ResNet_18 poisoned: False, epoch: 83: Average loss: 1.9945, Accuracy: 5499/10000 (54.9900%)
___Train Local_ResNet_18,  epoch  83, local model 25, internal_epoch   1,  Average loss: 0.0062, Accuracy: 5666/6419 (88.2692%)
___Train Local_ResNet_18,  epoch  83, local model 25, internal_epoch   2,  Average loss: 0.0067, Accuracy: 5562/6419 (86.6490%)
___Test Local_ResNet_18 poisoned: False, epoch: 83: Average loss: 2.3443, Accuracy: 5081/10000 (50.8100%)
___Train Local_ResNet_18,  epoch  83, local model 49, internal_epoch   1,  Average loss: 0.0058, Accuracy: 5015/5652 (88.7297%)
___Train Local_ResNet_18,  epoch  83, local model 49, internal_epoch   2,  Average loss: 0.0056, Accuracy: 5028/5652 (88.9597%)
___Test Local_ResNet_18 poisoned: False, epoch: 83: Average loss: 2.0411, Accuracy: 5376/10000 (53.7600%)
___Train Local_ResNet_18,  epoch  83, local model 44, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4663/5075 (91.8818%)
___Train Local_ResNet_18,  epoch  83, local model 44, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4665/5075 (91.9212%)
___Test Local_ResNet_18 poisoned: False, epoch: 83: Average loss: 1.9455, Accuracy: 5473/10000 (54.7300%)
___Train Local_ResNet_18,  epoch  83, local model 70, internal_epoch   1,  Average loss: 0.0041, Accuracy: 5416/5871 (92.2500%)
___Train Local_ResNet_18,  epoch  83, local model 70, internal_epoch   2,  Average loss: 0.0040, Accuracy: 5435/5871 (92.5737%)
___Test Local_ResNet_18 poisoned: False, epoch: 83: Average loss: 2.0578, Accuracy: 5366/10000 (53.6600%)
___Train Local_ResNet_18,  epoch  83, local model 40, internal_epoch   1,  Average loss: 0.0042, Accuracy: 5453/5939 (91.8168%)
___Train Local_ResNet_18,  epoch  83, local model 40, internal_epoch   2,  Average loss: 0.0043, Accuracy: 5411/5939 (91.1096%)
___Test Local_ResNet_18 poisoned: False, epoch: 83: Average loss: 2.0244, Accuracy: 5386/10000 (53.8600%)
___Train Local_ResNet_18,  epoch  83, local model 0, internal_epoch   1,  Average loss: 0.0055, Accuracy: 4881/5454 (89.4939%)
___Train Local_ResNet_18,  epoch  83, local model 0, internal_epoch   2,  Average loss: 0.0054, Accuracy: 4879/5454 (89.4573%)
___Test Local_ResNet_18 poisoned: False, epoch: 83: Average loss: 2.0577, Accuracy: 5455/10000 (54.5500%)
time spent on training: 281.5947902202606
___Test Target_ResNet_18 poisoned: False, epoch: 83: Average loss: 1.1357, Accuracy: 6950/10000 (69.5000%)
___Test Target_ResNet_18 poisoned: True, epoch: 83: Average loss: 1.5188, Accuracy: 6445/9900 (65.1010%)
Done in 308.26726722717285 sec.
Server Epoch:84 choose agents : [13, 36, 58, 71, 80, 3, 45, 6, 57, 22, 68, 38, 76, 26, 41, 98, 61, 0, 1, 28].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  84, local model 13, internal_epoch   1,  Average loss: 0.0030, Accuracy: 5040/5308 (94.9510%), train_poison_data_count: 415
Global model norm: 42.72040876671608.
Norm before scaling: 42.70791999927019. Distance: 1.6294377692466981
___Test Local_ResNet_18 poisoned: True, epoch: 84: Average loss: 0.1471, Accuracy: 9526/9900 (96.2222%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  84, local model 36, internal_epoch   1,  Average loss: 0.0028, Accuracy: 5524/5777 (95.6206%), train_poison_data_count: 455
Global model norm: 42.72040876671608.
Norm before scaling: 42.700840933244514. Distance: 1.6181344471018795
___Test Local_ResNet_18 poisoned: True, epoch: 84: Average loss: 0.1265, Accuracy: 9586/9900 (96.8283%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  84, local model 58, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4810/5123 (93.8903%), train_poison_data_count: 403
Global model norm: 42.72040876671608.
Norm before scaling: 42.71027942720581. Distance: 1.668429237426716
___Test Local_ResNet_18 poisoned: True, epoch: 84: Average loss: 0.3205, Accuracy: 9104/9900 (91.9596%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  84, local model 71, internal_epoch   1,  Average loss: 0.0035, Accuracy: 5159/5503 (93.7489%), train_poison_data_count: 430
Global model norm: 42.72040876671608.
Norm before scaling: 42.71315172260325. Distance: 1.7617820170137457
___Test Local_ResNet_18 poisoned: True, epoch: 84: Average loss: 0.1411, Accuracy: 9534/9900 (96.3030%)
___Train Local_ResNet_18,  epoch  84, local model 80, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4955/5461 (90.7343%)
___Train Local_ResNet_18,  epoch  84, local model 80, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4921/5461 (90.1117%)
___Test Local_ResNet_18 poisoned: False, epoch: 84: Average loss: 2.1707, Accuracy: 5255/10000 (52.5500%)
___Train Local_ResNet_18,  epoch  84, local model 3, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4946/5346 (92.5178%)
___Train Local_ResNet_18,  epoch  84, local model 3, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4957/5346 (92.7235%)
___Test Local_ResNet_18 poisoned: False, epoch: 84: Average loss: 2.0481, Accuracy: 5424/10000 (54.2400%)
___Train Local_ResNet_18,  epoch  84, local model 45, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4928/5489 (89.7796%)
___Train Local_ResNet_18,  epoch  84, local model 45, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4956/5489 (90.2897%)
___Test Local_ResNet_18 poisoned: False, epoch: 84: Average loss: 2.0390, Accuracy: 5411/10000 (54.1100%)
___Train Local_ResNet_18,  epoch  84, local model 6, internal_epoch   1,  Average loss: 0.0053, Accuracy: 4520/4929 (91.7022%)
___Train Local_ResNet_18,  epoch  84, local model 6, internal_epoch   2,  Average loss: 0.0054, Accuracy: 4482/4929 (90.9312%)
___Test Local_ResNet_18 poisoned: False, epoch: 84: Average loss: 2.0388, Accuracy: 5515/10000 (55.1500%)
___Train Local_ResNet_18,  epoch  84, local model 57, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4528/4956 (91.3640%)
___Train Local_ResNet_18,  epoch  84, local model 57, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4529/4956 (91.3842%)
___Test Local_ResNet_18 poisoned: False, epoch: 84: Average loss: 2.0273, Accuracy: 5531/10000 (55.3100%)
___Train Local_ResNet_18,  epoch  84, local model 22, internal_epoch   1,  Average loss: 0.0047, Accuracy: 5170/5696 (90.7654%)
___Train Local_ResNet_18,  epoch  84, local model 22, internal_epoch   2,  Average loss: 0.0048, Accuracy: 5175/5696 (90.8532%)
___Test Local_ResNet_18 poisoned: False, epoch: 84: Average loss: 1.9499, Accuracy: 5455/10000 (54.5500%)
___Train Local_ResNet_18,  epoch  84, local model 68, internal_epoch   1,  Average loss: 0.0053, Accuracy: 3271/3589 (91.1396%)
___Train Local_ResNet_18,  epoch  84, local model 68, internal_epoch   2,  Average loss: 0.0095, Accuracy: 2968/3589 (82.6971%)
___Test Local_ResNet_18 poisoned: False, epoch: 84: Average loss: 2.2074, Accuracy: 5101/10000 (51.0100%)
___Train Local_ResNet_18,  epoch  84, local model 38, internal_epoch   1,  Average loss: 0.0059, Accuracy: 5521/6235 (88.5485%)
___Train Local_ResNet_18,  epoch  84, local model 38, internal_epoch   2,  Average loss: 0.0058, Accuracy: 5529/6235 (88.6768%)
___Test Local_ResNet_18 poisoned: False, epoch: 84: Average loss: 2.3576, Accuracy: 4943/10000 (49.4300%)
___Train Local_ResNet_18,  epoch  84, local model 76, internal_epoch   1,  Average loss: 0.0052, Accuracy: 3522/3959 (88.9619%)
___Train Local_ResNet_18,  epoch  84, local model 76, internal_epoch   2,  Average loss: 0.0046, Accuracy: 3619/3959 (91.4120%)
___Test Local_ResNet_18 poisoned: False, epoch: 84: Average loss: 1.8627, Accuracy: 5572/10000 (55.7200%)
___Train Local_ResNet_18,  epoch  84, local model 26, internal_epoch   1,  Average loss: 0.0045, Accuracy: 3743/4086 (91.6055%)
___Train Local_ResNet_18,  epoch  84, local model 26, internal_epoch   2,  Average loss: 0.0032, Accuracy: 3857/4086 (94.3955%)
___Test Local_ResNet_18 poisoned: False, epoch: 84: Average loss: 1.9329, Accuracy: 5612/10000 (56.1200%)
___Train Local_ResNet_18,  epoch  84, local model 41, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4346/4714 (92.1935%)
___Train Local_ResNet_18,  epoch  84, local model 41, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4341/4714 (92.0874%)
___Test Local_ResNet_18 poisoned: False, epoch: 84: Average loss: 2.0320, Accuracy: 5410/10000 (54.1000%)
___Train Local_ResNet_18,  epoch  84, local model 98, internal_epoch   1,  Average loss: 0.0054, Accuracy: 3818/4161 (91.7568%)
___Train Local_ResNet_18,  epoch  84, local model 98, internal_epoch   2,  Average loss: 0.0051, Accuracy: 3806/4161 (91.4684%)
___Test Local_ResNet_18 poisoned: False, epoch: 84: Average loss: 2.2191, Accuracy: 5221/10000 (52.2100%)
___Train Local_ResNet_18,  epoch  84, local model 61, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4086/4485 (91.1037%)
___Train Local_ResNet_18,  epoch  84, local model 61, internal_epoch   2,  Average loss: 0.0061, Accuracy: 3951/4485 (88.0936%)
___Test Local_ResNet_18 poisoned: False, epoch: 84: Average loss: 2.0521, Accuracy: 5266/10000 (52.6600%)
___Train Local_ResNet_18,  epoch  84, local model 0, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4959/5454 (90.9241%)
___Train Local_ResNet_18,  epoch  84, local model 0, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4965/5454 (91.0341%)
___Test Local_ResNet_18 poisoned: False, epoch: 84: Average loss: 1.9404, Accuracy: 5609/10000 (56.0900%)
___Train Local_ResNet_18,  epoch  84, local model 1, internal_epoch   1,  Average loss: 0.0037, Accuracy: 5056/5422 (93.2497%)
___Train Local_ResNet_18,  epoch  84, local model 1, internal_epoch   2,  Average loss: 0.0038, Accuracy: 5019/5422 (92.5673%)
___Test Local_ResNet_18 poisoned: False, epoch: 84: Average loss: 1.9126, Accuracy: 5709/10000 (57.0900%)
___Train Local_ResNet_18,  epoch  84, local model 28, internal_epoch   1,  Average loss: 0.0058, Accuracy: 4589/5122 (89.5939%)
___Train Local_ResNet_18,  epoch  84, local model 28, internal_epoch   2,  Average loss: 0.0096, Accuracy: 4204/5122 (82.0773%)
___Test Local_ResNet_18 poisoned: False, epoch: 84: Average loss: 2.3490, Accuracy: 4951/10000 (49.5100%)
time spent on training: 275.5785117149353
___Test Target_ResNet_18 poisoned: False, epoch: 84: Average loss: 1.1427, Accuracy: 6952/10000 (69.5200%)
___Test Target_ResNet_18 poisoned: True, epoch: 84: Average loss: 1.3085, Accuracy: 6857/9900 (69.2626%)
Done in 301.8412024974823 sec.
Server Epoch:85 choose agents : [13, 36, 58, 71, 47, 12, 88, 79, 31, 29, 65, 32, 92, 8, 20, 41, 52, 61, 39, 64].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  85, local model 13, internal_epoch   1,  Average loss: 0.0030, Accuracy: 5050/5308 (95.1394%), train_poison_data_count: 415
Global model norm: 42.743066415063154.
Norm before scaling: 42.729778660496244. Distance: 1.6041373047886973
___Test Local_ResNet_18 poisoned: True, epoch: 85: Average loss: 0.1174, Accuracy: 9588/9900 (96.8485%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  85, local model 36, internal_epoch   1,  Average loss: 0.0026, Accuracy: 5534/5777 (95.7937%), train_poison_data_count: 455
Global model norm: 42.743066415063154.
Norm before scaling: 42.72281607843606. Distance: 1.5814167854494108
___Test Local_ResNet_18 poisoned: True, epoch: 85: Average loss: 0.2268, Accuracy: 9339/9900 (94.3333%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  85, local model 58, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4801/5123 (93.7146%), train_poison_data_count: 403
Global model norm: 42.743066415063154.
Norm before scaling: 42.73044143230912. Distance: 1.6553139110557011
___Test Local_ResNet_18 poisoned: True, epoch: 85: Average loss: 0.3108, Accuracy: 9192/9900 (92.8485%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  85, local model 71, internal_epoch   1,  Average loss: 0.0032, Accuracy: 5192/5503 (94.3485%), train_poison_data_count: 430
Global model norm: 42.743066415063154.
Norm before scaling: 42.731018492498514. Distance: 1.7008478182310285
___Test Local_ResNet_18 poisoned: True, epoch: 85: Average loss: 0.1489, Accuracy: 9517/9900 (96.1313%)
___Train Local_ResNet_18,  epoch  85, local model 47, internal_epoch   1,  Average loss: 0.0057, Accuracy: 4579/5123 (89.3812%)
___Train Local_ResNet_18,  epoch  85, local model 47, internal_epoch   2,  Average loss: 0.0067, Accuracy: 4485/5123 (87.5464%)
___Test Local_ResNet_18 poisoned: False, epoch: 85: Average loss: 2.0160, Accuracy: 5450/10000 (54.5000%)
___Train Local_ResNet_18,  epoch  85, local model 12, internal_epoch   1,  Average loss: 0.0056, Accuracy: 4926/5526 (89.1422%)
___Train Local_ResNet_18,  epoch  85, local model 12, internal_epoch   2,  Average loss: 0.0056, Accuracy: 4898/5526 (88.6355%)
___Test Local_ResNet_18 poisoned: False, epoch: 85: Average loss: 2.1012, Accuracy: 5348/10000 (53.4800%)
___Train Local_ResNet_18,  epoch  85, local model 88, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4934/5362 (92.0179%)
___Train Local_ResNet_18,  epoch  85, local model 88, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4885/5362 (91.1041%)
___Test Local_ResNet_18 poisoned: False, epoch: 85: Average loss: 2.2212, Accuracy: 5158/10000 (51.5800%)
___Train Local_ResNet_18,  epoch  85, local model 79, internal_epoch   1,  Average loss: 0.0044, Accuracy: 3779/4111 (91.9241%)
___Train Local_ResNet_18,  epoch  85, local model 79, internal_epoch   2,  Average loss: 0.0041, Accuracy: 3796/4111 (92.3376%)
___Test Local_ResNet_18 poisoned: False, epoch: 85: Average loss: 1.9592, Accuracy: 5536/10000 (55.3600%)
___Train Local_ResNet_18,  epoch  85, local model 31, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4162/4537 (91.7346%)
___Train Local_ResNet_18,  epoch  85, local model 31, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4219/4537 (92.9910%)
___Test Local_ResNet_18 poisoned: False, epoch: 85: Average loss: 1.8806, Accuracy: 5638/10000 (56.3800%)
___Train Local_ResNet_18,  epoch  85, local model 29, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4428/4732 (93.5757%)
___Train Local_ResNet_18,  epoch  85, local model 29, internal_epoch   2,  Average loss: 0.0030, Accuracy: 4482/4732 (94.7168%)
___Test Local_ResNet_18 poisoned: False, epoch: 85: Average loss: 1.7994, Accuracy: 5873/10000 (58.7300%)
___Train Local_ResNet_18,  epoch  85, local model 65, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4963/5497 (90.2856%)
___Train Local_ResNet_18,  epoch  85, local model 65, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4943/5497 (89.9218%)
___Test Local_ResNet_18 poisoned: False, epoch: 85: Average loss: 2.1447, Accuracy: 5226/10000 (52.2600%)
___Train Local_ResNet_18,  epoch  85, local model 32, internal_epoch   1,  Average loss: 0.0060, Accuracy: 5349/6080 (87.9770%)
___Train Local_ResNet_18,  epoch  85, local model 32, internal_epoch   2,  Average loss: 0.0064, Accuracy: 5299/6080 (87.1546%)
___Test Local_ResNet_18 poisoned: False, epoch: 85: Average loss: 2.1613, Accuracy: 5175/10000 (51.7500%)
___Train Local_ResNet_18,  epoch  85, local model 92, internal_epoch   1,  Average loss: 0.0042, Accuracy: 6256/6812 (91.8379%)
___Train Local_ResNet_18,  epoch  85, local model 92, internal_epoch   2,  Average loss: 0.0046, Accuracy: 6187/6812 (90.8250%)
___Test Local_ResNet_18 poisoned: False, epoch: 85: Average loss: 2.0315, Accuracy: 5351/10000 (53.5100%)
___Train Local_ResNet_18,  epoch  85, local model 8, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4461/4889 (91.2457%)
___Train Local_ResNet_18,  epoch  85, local model 8, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4430/4889 (90.6116%)
___Test Local_ResNet_18 poisoned: False, epoch: 85: Average loss: 1.9491, Accuracy: 5548/10000 (55.4800%)
___Train Local_ResNet_18,  epoch  85, local model 20, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4314/4714 (91.5146%)
___Train Local_ResNet_18,  epoch  85, local model 20, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4372/4714 (92.7450%)
___Test Local_ResNet_18 poisoned: False, epoch: 85: Average loss: 1.9279, Accuracy: 5538/10000 (55.3800%)
___Train Local_ResNet_18,  epoch  85, local model 41, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4302/4714 (91.2601%)
___Train Local_ResNet_18,  epoch  85, local model 41, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4366/4714 (92.6177%)
___Test Local_ResNet_18 poisoned: False, epoch: 85: Average loss: 2.1204, Accuracy: 5316/10000 (53.1600%)
___Train Local_ResNet_18,  epoch  85, local model 52, internal_epoch   1,  Average loss: 0.0046, Accuracy: 3792/4130 (91.8160%)
___Train Local_ResNet_18,  epoch  85, local model 52, internal_epoch   2,  Average loss: 0.0042, Accuracy: 3801/4130 (92.0339%)
___Test Local_ResNet_18 poisoned: False, epoch: 85: Average loss: 1.8816, Accuracy: 5642/10000 (56.4200%)
___Train Local_ResNet_18,  epoch  85, local model 61, internal_epoch   1,  Average loss: 0.0050, Accuracy: 4056/4485 (90.4348%)
___Train Local_ResNet_18,  epoch  85, local model 61, internal_epoch   2,  Average loss: 0.0062, Accuracy: 3973/4485 (88.5842%)
___Test Local_ResNet_18 poisoned: False, epoch: 85: Average loss: 2.1689, Accuracy: 5088/10000 (50.8800%)
___Train Local_ResNet_18,  epoch  85, local model 39, internal_epoch   1,  Average loss: 0.0052, Accuracy: 3751/4175 (89.8443%)
___Train Local_ResNet_18,  epoch  85, local model 39, internal_epoch   2,  Average loss: 0.0053, Accuracy: 3769/4175 (90.2754%)
___Test Local_ResNet_18 poisoned: False, epoch: 85: Average loss: 2.0195, Accuracy: 5415/10000 (54.1500%)
___Train Local_ResNet_18,  epoch  85, local model 64, internal_epoch   1,  Average loss: 0.0061, Accuracy: 4361/4894 (89.1091%)
___Train Local_ResNet_18,  epoch  85, local model 64, internal_epoch   2,  Average loss: 0.0061, Accuracy: 4318/4894 (88.2305%)
___Test Local_ResNet_18 poisoned: False, epoch: 85: Average loss: 2.0821, Accuracy: 5319/10000 (53.1900%)
time spent on training: 276.28302240371704
___Test Target_ResNet_18 poisoned: False, epoch: 85: Average loss: 1.1465, Accuracy: 6939/10000 (69.3900%)
___Test Target_ResNet_18 poisoned: True, epoch: 85: Average loss: 1.1522, Accuracy: 7186/9900 (72.5859%)
Done in 302.83512568473816 sec.
Server Epoch:86 choose agents : [13, 36, 58, 71, 88, 39, 63, 20, 24, 15, 83, 29, 97, 50, 96, 1, 57, 30, 10, 3].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  86, local model 13, internal_epoch   1,  Average loss: 0.0030, Accuracy: 5039/5308 (94.9322%), train_poison_data_count: 415
Global model norm: 42.76520825518537.
Norm before scaling: 42.75092800984705. Distance: 1.6121209430949668
___Test Local_ResNet_18 poisoned: True, epoch: 86: Average loss: 0.1595, Accuracy: 9494/9900 (95.8990%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  86, local model 36, internal_epoch   1,  Average loss: 0.0025, Accuracy: 5554/5777 (96.1399%), train_poison_data_count: 455
Global model norm: 42.76520825518537.
Norm before scaling: 42.74251379307916. Distance: 1.5393465815905119
___Test Local_ResNet_18 poisoned: True, epoch: 86: Average loss: 0.1821, Accuracy: 9443/9900 (95.3838%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  86, local model 58, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4819/5123 (94.0660%), train_poison_data_count: 403
Global model norm: 42.76520825518537.
Norm before scaling: 42.75387751969112. Distance: 1.656091430558784
___Test Local_ResNet_18 poisoned: True, epoch: 86: Average loss: 0.2439, Accuracy: 9294/9900 (93.8788%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  86, local model 71, internal_epoch   1,  Average loss: 0.0031, Accuracy: 5222/5503 (94.8937%), train_poison_data_count: 430
Global model norm: 42.76520825518537.
Norm before scaling: 42.753333603120204. Distance: 1.6742296838870614
___Test Local_ResNet_18 poisoned: True, epoch: 86: Average loss: 0.1002, Accuracy: 9633/9900 (97.3030%)
___Train Local_ResNet_18,  epoch  86, local model 88, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4928/5362 (91.9060%)
___Train Local_ResNet_18,  epoch  86, local model 88, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4874/5362 (90.8989%)
___Test Local_ResNet_18 poisoned: False, epoch: 86: Average loss: 1.9815, Accuracy: 5460/10000 (54.6000%)
___Train Local_ResNet_18,  epoch  86, local model 39, internal_epoch   1,  Average loss: 0.0054, Accuracy: 3762/4175 (90.1078%)
___Train Local_ResNet_18,  epoch  86, local model 39, internal_epoch   2,  Average loss: 0.0049, Accuracy: 3779/4175 (90.5150%)
___Test Local_ResNet_18 poisoned: False, epoch: 86: Average loss: 2.0317, Accuracy: 5448/10000 (54.4800%)
___Train Local_ResNet_18,  epoch  86, local model 63, internal_epoch   1,  Average loss: 0.0041, Accuracy: 3618/3910 (92.5320%)
___Train Local_ResNet_18,  epoch  86, local model 63, internal_epoch   2,  Average loss: 0.0044, Accuracy: 3591/3910 (91.8414%)
___Test Local_ResNet_18 poisoned: False, epoch: 86: Average loss: 2.0865, Accuracy: 5516/10000 (55.1600%)
___Train Local_ResNet_18,  epoch  86, local model 20, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4346/4714 (92.1935%)
___Train Local_ResNet_18,  epoch  86, local model 20, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4412/4714 (93.5936%)
___Test Local_ResNet_18 poisoned: False, epoch: 86: Average loss: 1.7594, Accuracy: 5803/10000 (58.0300%)
___Train Local_ResNet_18,  epoch  86, local model 24, internal_epoch   1,  Average loss: 0.0046, Accuracy: 3924/4313 (90.9808%)
___Train Local_ResNet_18,  epoch  86, local model 24, internal_epoch   2,  Average loss: 0.0042, Accuracy: 3974/4313 (92.1400%)
___Test Local_ResNet_18 poisoned: False, epoch: 86: Average loss: 1.7777, Accuracy: 5849/10000 (58.4900%)
___Train Local_ResNet_18,  epoch  86, local model 15, internal_epoch   1,  Average loss: 0.0045, Accuracy: 5536/6068 (91.2327%)
___Train Local_ResNet_18,  epoch  86, local model 15, internal_epoch   2,  Average loss: 0.0045, Accuracy: 5548/6068 (91.4305%)
___Test Local_ResNet_18 poisoned: False, epoch: 86: Average loss: 2.0117, Accuracy: 5356/10000 (53.5600%)
___Train Local_ResNet_18,  epoch  86, local model 83, internal_epoch   1,  Average loss: 0.0047, Accuracy: 3217/3552 (90.5687%)
___Train Local_ResNet_18,  epoch  86, local model 83, internal_epoch   2,  Average loss: 0.0041, Accuracy: 3264/3552 (91.8919%)
___Test Local_ResNet_18 poisoned: False, epoch: 86: Average loss: 1.9164, Accuracy: 5562/10000 (55.6200%)
___Train Local_ResNet_18,  epoch  86, local model 29, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4377/4732 (92.4979%)
___Train Local_ResNet_18,  epoch  86, local model 29, internal_epoch   2,  Average loss: 0.0030, Accuracy: 4467/4732 (94.3998%)
___Test Local_ResNet_18 poisoned: False, epoch: 86: Average loss: 1.8113, Accuracy: 5810/10000 (58.1000%)
___Train Local_ResNet_18,  epoch  86, local model 97, internal_epoch   1,  Average loss: 0.0057, Accuracy: 4202/4736 (88.7247%)
___Train Local_ResNet_18,  epoch  86, local model 97, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4269/4736 (90.1394%)
___Test Local_ResNet_18 poisoned: False, epoch: 86: Average loss: 2.0068, Accuracy: 5382/10000 (53.8200%)
___Train Local_ResNet_18,  epoch  86, local model 50, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4345/4757 (91.3391%)
___Train Local_ResNet_18,  epoch  86, local model 50, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4357/4757 (91.5913%)
___Test Local_ResNet_18 poisoned: False, epoch: 86: Average loss: 1.9052, Accuracy: 5563/10000 (55.6300%)
___Train Local_ResNet_18,  epoch  86, local model 96, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4592/5086 (90.2871%)
___Train Local_ResNet_18,  epoch  86, local model 96, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4606/5086 (90.5623%)
___Test Local_ResNet_18 poisoned: False, epoch: 86: Average loss: 2.0045, Accuracy: 5382/10000 (53.8200%)
___Train Local_ResNet_18,  epoch  86, local model 1, internal_epoch   1,  Average loss: 0.0037, Accuracy: 5040/5422 (92.9546%)
___Train Local_ResNet_18,  epoch  86, local model 1, internal_epoch   2,  Average loss: 0.0036, Accuracy: 5034/5422 (92.8440%)
___Test Local_ResNet_18 poisoned: False, epoch: 86: Average loss: 1.8874, Accuracy: 5662/10000 (56.6200%)
___Train Local_ResNet_18,  epoch  86, local model 57, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4575/4956 (92.3123%)
___Train Local_ResNet_18,  epoch  86, local model 57, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4564/4956 (92.0904%)
___Test Local_ResNet_18 poisoned: False, epoch: 86: Average loss: 2.1811, Accuracy: 5237/10000 (52.3700%)
___Train Local_ResNet_18,  epoch  86, local model 30, internal_epoch   1,  Average loss: 0.0043, Accuracy: 3484/3774 (92.3158%)
___Train Local_ResNet_18,  epoch  86, local model 30, internal_epoch   2,  Average loss: 0.0031, Accuracy: 3576/3774 (94.7536%)
___Test Local_ResNet_18 poisoned: False, epoch: 86: Average loss: 1.8494, Accuracy: 5774/10000 (57.7400%)
___Train Local_ResNet_18,  epoch  86, local model 10, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4673/5068 (92.2060%)
___Train Local_ResNet_18,  epoch  86, local model 10, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4692/5068 (92.5809%)
___Test Local_ResNet_18 poisoned: False, epoch: 86: Average loss: 2.0507, Accuracy: 5349/10000 (53.4900%)
___Train Local_ResNet_18,  epoch  86, local model 3, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4943/5346 (92.4617%)
___Train Local_ResNet_18,  epoch  86, local model 3, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4916/5346 (91.9566%)
___Test Local_ResNet_18 poisoned: False, epoch: 86: Average loss: 2.0527, Accuracy: 5279/10000 (52.7900%)
time spent on training: 271.71276664733887
___Test Target_ResNet_18 poisoned: False, epoch: 86: Average loss: 1.1577, Accuracy: 6925/10000 (69.2500%)
___Test Target_ResNet_18 poisoned: True, epoch: 86: Average loss: 0.9799, Accuracy: 7596/9900 (76.7273%)
Done in 298.5246596336365 sec.
Server Epoch:87 choose agents : [13, 36, 58, 71, 47, 33, 81, 59, 32, 96, 60, 88, 7, 69, 95, 21, 51, 35, 93, 74].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  87, local model 13, internal_epoch   1,  Average loss: 0.0030, Accuracy: 5033/5308 (94.8191%), train_poison_data_count: 415
Global model norm: 42.784775181186674.
Norm before scaling: 42.77143616893318. Distance: 1.5947162466655787
___Test Local_ResNet_18 poisoned: True, epoch: 87: Average loss: 0.2106, Accuracy: 9368/9900 (94.6263%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  87, local model 36, internal_epoch   1,  Average loss: 0.0024, Accuracy: 5545/5777 (95.9841%), train_poison_data_count: 455
Global model norm: 42.784775181186674.
Norm before scaling: 42.761447377701536. Distance: 1.5194436957624606
___Test Local_ResNet_18 poisoned: True, epoch: 87: Average loss: 0.0988, Accuracy: 9647/9900 (97.4444%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  87, local model 58, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4810/5123 (93.8903%), train_poison_data_count: 403
Global model norm: 42.784775181186674.
Norm before scaling: 42.770166113483825. Distance: 1.5912264123503381
___Test Local_ResNet_18 poisoned: True, epoch: 87: Average loss: 0.0964, Accuracy: 9638/9900 (97.3535%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  87, local model 71, internal_epoch   1,  Average loss: 0.0031, Accuracy: 5226/5503 (94.9664%), train_poison_data_count: 430
Global model norm: 42.784775181186674.
Norm before scaling: 42.76954534232346. Distance: 1.61235614696801
___Test Local_ResNet_18 poisoned: True, epoch: 87: Average loss: 0.3318, Accuracy: 9089/9900 (91.8081%)
___Train Local_ResNet_18,  epoch  87, local model 47, internal_epoch   1,  Average loss: 0.0054, Accuracy: 4606/5123 (89.9083%)
___Train Local_ResNet_18,  epoch  87, local model 47, internal_epoch   2,  Average loss: 0.0073, Accuracy: 4450/5123 (86.8632%)
___Test Local_ResNet_18 poisoned: False, epoch: 87: Average loss: 2.0869, Accuracy: 5274/10000 (52.7400%)
___Train Local_ResNet_18,  epoch  87, local model 33, internal_epoch   1,  Average loss: 0.0054, Accuracy: 4337/4818 (90.0166%)
___Train Local_ResNet_18,  epoch  87, local model 33, internal_epoch   2,  Average loss: 0.0060, Accuracy: 4249/4818 (88.1901%)
___Test Local_ResNet_18 poisoned: False, epoch: 87: Average loss: 2.1763, Accuracy: 5254/10000 (52.5400%)
___Train Local_ResNet_18,  epoch  87, local model 81, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4599/5035 (91.3406%)
___Train Local_ResNet_18,  epoch  87, local model 81, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4630/5035 (91.9563%)
___Test Local_ResNet_18 poisoned: False, epoch: 87: Average loss: 2.0751, Accuracy: 5367/10000 (53.6700%)
___Train Local_ResNet_18,  epoch  87, local model 59, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4173/4397 (94.9056%)
___Train Local_ResNet_18,  epoch  87, local model 59, internal_epoch   2,  Average loss: 0.0025, Accuracy: 4177/4397 (94.9966%)
___Test Local_ResNet_18 poisoned: False, epoch: 87: Average loss: 1.8288, Accuracy: 5867/10000 (58.6700%)
___Train Local_ResNet_18,  epoch  87, local model 32, internal_epoch   1,  Average loss: 0.0065, Accuracy: 5290/6080 (87.0066%)
___Train Local_ResNet_18,  epoch  87, local model 32, internal_epoch   2,  Average loss: 0.0063, Accuracy: 5310/6080 (87.3355%)
___Test Local_ResNet_18 poisoned: False, epoch: 87: Average loss: 2.2817, Accuracy: 5000/10000 (50.0000%)
___Train Local_ResNet_18,  epoch  87, local model 96, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4626/5086 (90.9556%)
___Train Local_ResNet_18,  epoch  87, local model 96, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4645/5086 (91.3291%)
___Test Local_ResNet_18 poisoned: False, epoch: 87: Average loss: 2.0543, Accuracy: 5453/10000 (54.5300%)
___Train Local_ResNet_18,  epoch  87, local model 60, internal_epoch   1,  Average loss: 0.0045, Accuracy: 3797/4145 (91.6043%)
___Train Local_ResNet_18,  epoch  87, local model 60, internal_epoch   2,  Average loss: 0.0041, Accuracy: 3804/4145 (91.7732%)
___Test Local_ResNet_18 poisoned: False, epoch: 87: Average loss: 2.0933, Accuracy: 5424/10000 (54.2400%)
___Train Local_ResNet_18,  epoch  87, local model 88, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4843/5362 (90.3208%)
___Train Local_ResNet_18,  epoch  87, local model 88, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4838/5362 (90.2275%)
___Test Local_ResNet_18 poisoned: False, epoch: 87: Average loss: 2.1219, Accuracy: 5294/10000 (52.9400%)
___Train Local_ResNet_18,  epoch  87, local model 7, internal_epoch   1,  Average loss: 0.0055, Accuracy: 4356/4869 (89.4640%)
___Train Local_ResNet_18,  epoch  87, local model 7, internal_epoch   2,  Average loss: 0.0076, Accuracy: 4146/4869 (85.1510%)
___Test Local_ResNet_18 poisoned: False, epoch: 87: Average loss: 2.1783, Accuracy: 5063/10000 (50.6300%)
___Train Local_ResNet_18,  epoch  87, local model 69, internal_epoch   1,  Average loss: 0.0050, Accuracy: 3958/4364 (90.6966%)
___Train Local_ResNet_18,  epoch  87, local model 69, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4007/4364 (91.8194%)
___Test Local_ResNet_18 poisoned: False, epoch: 87: Average loss: 1.8511, Accuracy: 5688/10000 (56.8800%)
___Train Local_ResNet_18,  epoch  87, local model 95, internal_epoch   1,  Average loss: 0.0060, Accuracy: 4446/5018 (88.6010%)
___Train Local_ResNet_18,  epoch  87, local model 95, internal_epoch   2,  Average loss: 0.0058, Accuracy: 4426/5018 (88.2025%)
___Test Local_ResNet_18 poisoned: False, epoch: 87: Average loss: 2.0900, Accuracy: 5307/10000 (53.0700%)
___Train Local_ResNet_18,  epoch  87, local model 21, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4581/5038 (90.9289%)
___Train Local_ResNet_18,  epoch  87, local model 21, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4619/5038 (91.6832%)
___Test Local_ResNet_18 poisoned: False, epoch: 87: Average loss: 1.9014, Accuracy: 5671/10000 (56.7100%)
___Train Local_ResNet_18,  epoch  87, local model 51, internal_epoch   1,  Average loss: 0.0042, Accuracy: 3791/4108 (92.2833%)
___Train Local_ResNet_18,  epoch  87, local model 51, internal_epoch   2,  Average loss: 0.0048, Accuracy: 3738/4108 (90.9932%)
___Test Local_ResNet_18 poisoned: False, epoch: 87: Average loss: 2.0092, Accuracy: 5489/10000 (54.8900%)
___Train Local_ResNet_18,  epoch  87, local model 35, internal_epoch   1,  Average loss: 0.0051, Accuracy: 5059/5615 (90.0980%)
___Train Local_ResNet_18,  epoch  87, local model 35, internal_epoch   2,  Average loss: 0.0047, Accuracy: 5098/5615 (90.7925%)
___Test Local_ResNet_18 poisoned: False, epoch: 87: Average loss: 2.1783, Accuracy: 5320/10000 (53.2000%)
___Train Local_ResNet_18,  epoch  87, local model 93, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4554/5055 (90.0890%)
___Train Local_ResNet_18,  epoch  87, local model 93, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4530/5055 (89.6142%)
___Test Local_ResNet_18 poisoned: False, epoch: 87: Average loss: 2.1146, Accuracy: 5312/10000 (53.1200%)
___Train Local_ResNet_18,  epoch  87, local model 74, internal_epoch   1,  Average loss: 0.0053, Accuracy: 4290/4797 (89.4309%)
___Train Local_ResNet_18,  epoch  87, local model 74, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4327/4797 (90.2022%)
___Test Local_ResNet_18 poisoned: False, epoch: 87: Average loss: 1.9505, Accuracy: 5483/10000 (54.8300%)
time spent on training: 274.34765911102295
___Test Target_ResNet_18 poisoned: False, epoch: 87: Average loss: 1.1644, Accuracy: 6922/10000 (69.2200%)
___Test Target_ResNet_18 poisoned: True, epoch: 87: Average loss: 0.8688, Accuracy: 7848/9900 (79.2727%)
Done in 300.90444326400757 sec.
Server Epoch:88 choose agents : [13, 36, 58, 71, 91, 26, 17, 2, 35, 90, 19, 77, 49, 55, 42, 94, 76, 73, 74, 22].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  88, local model 13, internal_epoch   1,  Average loss: 0.0028, Accuracy: 5085/5308 (95.7988%), train_poison_data_count: 415
Global model norm: 42.806784232959934.
Norm before scaling: 42.791853198889534. Distance: 1.5552489833880587
___Test Local_ResNet_18 poisoned: True, epoch: 88: Average loss: 0.1031, Accuracy: 9594/9900 (96.9091%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  88, local model 36, internal_epoch   1,  Average loss: 0.0026, Accuracy: 5522/5777 (95.5859%), train_poison_data_count: 455
Global model norm: 42.806784232959934.
Norm before scaling: 42.78747843174303. Distance: 1.6127069296134882
___Test Local_ResNet_18 poisoned: True, epoch: 88: Average loss: 0.0973, Accuracy: 9652/9900 (97.4949%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  88, local model 58, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4823/5123 (94.1441%), train_poison_data_count: 403
Global model norm: 42.806784232959934.
Norm before scaling: 42.79330517468168. Distance: 1.6235651136803801
___Test Local_ResNet_18 poisoned: True, epoch: 88: Average loss: 0.1590, Accuracy: 9463/9900 (95.5859%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  88, local model 71, internal_epoch   1,  Average loss: 0.0031, Accuracy: 5207/5503 (94.6211%), train_poison_data_count: 430
Global model norm: 42.806784232959934.
Norm before scaling: 42.793620380992536. Distance: 1.6678263762055665
___Test Local_ResNet_18 poisoned: True, epoch: 88: Average loss: 0.0681, Accuracy: 9715/9900 (98.1313%)
___Train Local_ResNet_18,  epoch  88, local model 91, internal_epoch   1,  Average loss: 0.0054, Accuracy: 4073/4527 (89.9713%)
___Train Local_ResNet_18,  epoch  88, local model 91, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4022/4527 (88.8447%)
___Test Local_ResNet_18 poisoned: False, epoch: 88: Average loss: 2.0679, Accuracy: 5354/10000 (53.5400%)
___Train Local_ResNet_18,  epoch  88, local model 26, internal_epoch   1,  Average loss: 0.0037, Accuracy: 3808/4086 (93.1963%)
___Train Local_ResNet_18,  epoch  88, local model 26, internal_epoch   2,  Average loss: 0.0037, Accuracy: 3791/4086 (92.7802%)
___Test Local_ResNet_18 poisoned: False, epoch: 88: Average loss: 2.0122, Accuracy: 5467/10000 (54.6700%)
___Train Local_ResNet_18,  epoch  88, local model 17, internal_epoch   1,  Average loss: 0.0057, Accuracy: 4361/4903 (88.9455%)
___Train Local_ResNet_18,  epoch  88, local model 17, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4434/4903 (90.4344%)
___Test Local_ResNet_18 poisoned: False, epoch: 88: Average loss: 2.0258, Accuracy: 5287/10000 (52.8700%)
___Train Local_ResNet_18,  epoch  88, local model 2, internal_epoch   1,  Average loss: 0.0045, Accuracy: 3625/3968 (91.3558%)
___Train Local_ResNet_18,  epoch  88, local model 2, internal_epoch   2,  Average loss: 0.0039, Accuracy: 3675/3968 (92.6159%)
___Test Local_ResNet_18 poisoned: False, epoch: 88: Average loss: 1.7563, Accuracy: 5831/10000 (58.3100%)
___Train Local_ResNet_18,  epoch  88, local model 35, internal_epoch   1,  Average loss: 0.0047, Accuracy: 5098/5615 (90.7925%)
___Train Local_ResNet_18,  epoch  88, local model 35, internal_epoch   2,  Average loss: 0.0046, Accuracy: 5097/5615 (90.7747%)
___Test Local_ResNet_18 poisoned: False, epoch: 88: Average loss: 2.0009, Accuracy: 5462/10000 (54.6200%)
___Train Local_ResNet_18,  epoch  88, local model 90, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4419/4748 (93.0708%)
___Train Local_ResNet_18,  epoch  88, local model 90, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4379/4748 (92.2283%)
___Test Local_ResNet_18 poisoned: False, epoch: 88: Average loss: 1.9604, Accuracy: 5526/10000 (55.2600%)
___Train Local_ResNet_18,  epoch  88, local model 19, internal_epoch   1,  Average loss: 0.0050, Accuracy: 4857/5361 (90.5988%)
___Train Local_ResNet_18,  epoch  88, local model 19, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4829/5361 (90.0765%)
___Test Local_ResNet_18 poisoned: False, epoch: 88: Average loss: 2.1734, Accuracy: 5196/10000 (51.9600%)
___Train Local_ResNet_18,  epoch  88, local model 77, internal_epoch   1,  Average loss: 0.0060, Accuracy: 4484/5050 (88.7921%)
___Train Local_ResNet_18,  epoch  88, local model 77, internal_epoch   2,  Average loss: 0.0054, Accuracy: 4516/5050 (89.4257%)
___Test Local_ResNet_18 poisoned: False, epoch: 88: Average loss: 2.1211, Accuracy: 5240/10000 (52.4000%)
___Train Local_ResNet_18,  epoch  88, local model 49, internal_epoch   1,  Average loss: 0.0057, Accuracy: 5040/5652 (89.1720%)
___Train Local_ResNet_18,  epoch  88, local model 49, internal_epoch   2,  Average loss: 0.0059, Accuracy: 4998/5652 (88.4289%)
___Test Local_ResNet_18 poisoned: False, epoch: 88: Average loss: 2.1675, Accuracy: 5194/10000 (51.9400%)
___Train Local_ResNet_18,  epoch  88, local model 55, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4357/4731 (92.0947%)
___Train Local_ResNet_18,  epoch  88, local model 55, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4398/4731 (92.9613%)
___Test Local_ResNet_18 poisoned: False, epoch: 88: Average loss: 1.9528, Accuracy: 5564/10000 (55.6400%)
___Train Local_ResNet_18,  epoch  88, local model 42, internal_epoch   1,  Average loss: 0.0053, Accuracy: 5321/5907 (90.0796%)
___Train Local_ResNet_18,  epoch  88, local model 42, internal_epoch   2,  Average loss: 0.0051, Accuracy: 5297/5907 (89.6733%)
___Test Local_ResNet_18 poisoned: False, epoch: 88: Average loss: 2.4286, Accuracy: 4964/10000 (49.6400%)
___Train Local_ResNet_18,  epoch  88, local model 94, internal_epoch   1,  Average loss: 0.0055, Accuracy: 4667/5224 (89.3377%)
___Train Local_ResNet_18,  epoch  88, local model 94, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4716/5224 (90.2757%)
___Test Local_ResNet_18 poisoned: False, epoch: 88: Average loss: 2.0228, Accuracy: 5361/10000 (53.6100%)
___Train Local_ResNet_18,  epoch  88, local model 76, internal_epoch   1,  Average loss: 0.0049, Accuracy: 3592/3959 (90.7300%)
___Train Local_ResNet_18,  epoch  88, local model 76, internal_epoch   2,  Average loss: 0.0044, Accuracy: 3637/3959 (91.8666%)
___Test Local_ResNet_18 poisoned: False, epoch: 88: Average loss: 1.8556, Accuracy: 5621/10000 (56.2100%)
___Train Local_ResNet_18,  epoch  88, local model 73, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4289/4605 (93.1379%)
___Train Local_ResNet_18,  epoch  88, local model 73, internal_epoch   2,  Average loss: 0.0033, Accuracy: 4330/4605 (94.0282%)
___Test Local_ResNet_18 poisoned: False, epoch: 88: Average loss: 2.0091, Accuracy: 5564/10000 (55.6400%)
___Train Local_ResNet_18,  epoch  88, local model 74, internal_epoch   1,  Average loss: 0.0050, Accuracy: 4329/4797 (90.2439%)
___Train Local_ResNet_18,  epoch  88, local model 74, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4263/4797 (88.8680%)
___Test Local_ResNet_18 poisoned: False, epoch: 88: Average loss: 2.0271, Accuracy: 5401/10000 (54.0100%)
___Train Local_ResNet_18,  epoch  88, local model 22, internal_epoch   1,  Average loss: 0.0042, Accuracy: 5241/5696 (92.0119%)
___Train Local_ResNet_18,  epoch  88, local model 22, internal_epoch   2,  Average loss: 0.0046, Accuracy: 5201/5696 (91.3097%)
___Test Local_ResNet_18 poisoned: False, epoch: 88: Average loss: 2.0852, Accuracy: 5344/10000 (53.4400%)
time spent on training: 276.41366839408875
___Test Target_ResNet_18 poisoned: False, epoch: 88: Average loss: 1.1619, Accuracy: 6907/10000 (69.0700%)
___Test Target_ResNet_18 poisoned: True, epoch: 88: Average loss: 0.8283, Accuracy: 7911/9900 (79.9091%)
Done in 302.89376974105835 sec.
Server Epoch:89 choose agents : [13, 36, 58, 71, 59, 78, 62, 30, 12, 24, 43, 89, 46, 60, 90, 77, 95, 53, 69, 14].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  89, local model 13, internal_epoch   1,  Average loss: 0.0030, Accuracy: 5049/5308 (95.1206%), train_poison_data_count: 415
Global model norm: 42.82833449191741.
Norm before scaling: 42.814672618230425. Distance: 1.593862940956481
___Test Local_ResNet_18 poisoned: True, epoch: 89: Average loss: 0.0652, Accuracy: 9726/9900 (98.2424%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  89, local model 36, internal_epoch   1,  Average loss: 0.0026, Accuracy: 5539/5777 (95.8802%), train_poison_data_count: 455
Global model norm: 42.82833449191741.
Norm before scaling: 42.806326539389886. Distance: 1.5698275600178282
___Test Local_ResNet_18 poisoned: True, epoch: 89: Average loss: 0.1662, Accuracy: 9479/9900 (95.7475%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  89, local model 58, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4821/5123 (94.1050%), train_poison_data_count: 403
Global model norm: 42.82833449191741.
Norm before scaling: 42.812669650667516. Distance: 1.5669960947188917
___Test Local_ResNet_18 poisoned: True, epoch: 89: Average loss: 0.2679, Accuracy: 9244/9900 (93.3737%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  89, local model 71, internal_epoch   1,  Average loss: 0.0030, Accuracy: 5206/5503 (94.6029%), train_poison_data_count: 430
Global model norm: 42.82833449191741.
Norm before scaling: 42.81163462857162. Distance: 1.6157104823742414
___Test Local_ResNet_18 poisoned: True, epoch: 89: Average loss: 0.1349, Accuracy: 9569/9900 (96.6566%)
___Train Local_ResNet_18,  epoch  89, local model 59, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4180/4397 (95.0648%)
___Train Local_ResNet_18,  epoch  89, local model 59, internal_epoch   2,  Average loss: 0.0027, Accuracy: 4175/4397 (94.9511%)
___Test Local_ResNet_18 poisoned: False, epoch: 89: Average loss: 1.7677, Accuracy: 5865/10000 (58.6500%)
___Train Local_ResNet_18,  epoch  89, local model 78, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4041/4368 (92.5137%)
___Train Local_ResNet_18,  epoch  89, local model 78, internal_epoch   2,  Average loss: 0.0045, Accuracy: 3994/4368 (91.4377%)
___Test Local_ResNet_18 poisoned: False, epoch: 89: Average loss: 1.9383, Accuracy: 5509/10000 (55.0900%)
___Train Local_ResNet_18,  epoch  89, local model 62, internal_epoch   1,  Average loss: 0.0065, Accuracy: 4791/5504 (87.0458%)
___Train Local_ResNet_18,  epoch  89, local model 62, internal_epoch   2,  Average loss: 0.0060, Accuracy: 4842/5504 (87.9724%)
___Test Local_ResNet_18 poisoned: False, epoch: 89: Average loss: 2.0938, Accuracy: 5359/10000 (53.5900%)
___Train Local_ResNet_18,  epoch  89, local model 30, internal_epoch   1,  Average loss: 0.0044, Accuracy: 3454/3774 (91.5209%)
___Train Local_ResNet_18,  epoch  89, local model 30, internal_epoch   2,  Average loss: 0.0036, Accuracy: 3512/3774 (93.0578%)
___Test Local_ResNet_18 poisoned: False, epoch: 89: Average loss: 1.9047, Accuracy: 5599/10000 (55.9900%)
___Train Local_ResNet_18,  epoch  89, local model 12, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4979/5526 (90.1013%)
___Train Local_ResNet_18,  epoch  89, local model 12, internal_epoch   2,  Average loss: 0.0059, Accuracy: 4871/5526 (88.1469%)
___Test Local_ResNet_18 poisoned: False, epoch: 89: Average loss: 2.2137, Accuracy: 5085/10000 (50.8500%)
___Train Local_ResNet_18,  epoch  89, local model 24, internal_epoch   1,  Average loss: 0.0042, Accuracy: 3982/4313 (92.3255%)
___Train Local_ResNet_18,  epoch  89, local model 24, internal_epoch   2,  Average loss: 0.0039, Accuracy: 3994/4313 (92.6038%)
___Test Local_ResNet_18 poisoned: False, epoch: 89: Average loss: 1.8798, Accuracy: 5657/10000 (56.5700%)
___Train Local_ResNet_18,  epoch  89, local model 43, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4489/4979 (90.1587%)
___Train Local_ResNet_18,  epoch  89, local model 43, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4559/4979 (91.5646%)
___Test Local_ResNet_18 poisoned: False, epoch: 89: Average loss: 2.1001, Accuracy: 5313/10000 (53.1300%)
___Train Local_ResNet_18,  epoch  89, local model 89, internal_epoch   1,  Average loss: 0.0056, Accuracy: 4288/4737 (90.5214%)
___Train Local_ResNet_18,  epoch  89, local model 89, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4339/4737 (91.5981%)
___Test Local_ResNet_18 poisoned: False, epoch: 89: Average loss: 2.1005, Accuracy: 5329/10000 (53.2900%)
___Train Local_ResNet_18,  epoch  89, local model 46, internal_epoch   1,  Average loss: 0.0061, Accuracy: 4775/5399 (88.4423%)
___Train Local_ResNet_18,  epoch  89, local model 46, internal_epoch   2,  Average loss: 0.0068, Accuracy: 4673/5399 (86.5531%)
___Test Local_ResNet_18 poisoned: False, epoch: 89: Average loss: 2.0714, Accuracy: 5280/10000 (52.8000%)
___Train Local_ResNet_18,  epoch  89, local model 60, internal_epoch   1,  Average loss: 0.0048, Accuracy: 3771/4145 (90.9771%)
___Train Local_ResNet_18,  epoch  89, local model 60, internal_epoch   2,  Average loss: 0.0042, Accuracy: 3807/4145 (91.8456%)
___Test Local_ResNet_18 poisoned: False, epoch: 89: Average loss: 1.9848, Accuracy: 5468/10000 (54.6800%)
___Train Local_ResNet_18,  epoch  89, local model 90, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4426/4748 (93.2182%)
___Train Local_ResNet_18,  epoch  89, local model 90, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4355/4748 (91.7228%)
___Test Local_ResNet_18 poisoned: False, epoch: 89: Average loss: 2.1012, Accuracy: 5256/10000 (52.5600%)
___Train Local_ResNet_18,  epoch  89, local model 77, internal_epoch   1,  Average loss: 0.0058, Accuracy: 4484/5050 (88.7921%)
___Train Local_ResNet_18,  epoch  89, local model 77, internal_epoch   2,  Average loss: 0.0056, Accuracy: 4516/5050 (89.4257%)
___Test Local_ResNet_18 poisoned: False, epoch: 89: Average loss: 2.0080, Accuracy: 5382/10000 (53.8200%)
___Train Local_ResNet_18,  epoch  89, local model 95, internal_epoch   1,  Average loss: 0.0058, Accuracy: 4430/5018 (88.2822%)
___Train Local_ResNet_18,  epoch  89, local model 95, internal_epoch   2,  Average loss: 0.0054, Accuracy: 4499/5018 (89.6572%)
___Test Local_ResNet_18 poisoned: False, epoch: 89: Average loss: 2.1729, Accuracy: 5215/10000 (52.1500%)
___Train Local_ResNet_18,  epoch  89, local model 53, internal_epoch   1,  Average loss: 0.0062, Accuracy: 5893/6664 (88.4304%)
___Train Local_ResNet_18,  epoch  89, local model 53, internal_epoch   2,  Average loss: 0.0073, Accuracy: 5739/6664 (86.1194%)
___Test Local_ResNet_18 poisoned: False, epoch: 89: Average loss: 2.1272, Accuracy: 5203/10000 (52.0300%)
___Train Local_ResNet_18,  epoch  89, local model 69, internal_epoch   1,  Average loss: 0.0044, Accuracy: 3991/4364 (91.4528%)
___Train Local_ResNet_18,  epoch  89, local model 69, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4091/4364 (93.7443%)
___Test Local_ResNet_18 poisoned: False, epoch: 89: Average loss: 1.7638, Accuracy: 5881/10000 (58.8100%)
___Train Local_ResNet_18,  epoch  89, local model 14, internal_epoch   1,  Average loss: 0.0036, Accuracy: 3919/4196 (93.3985%)
___Train Local_ResNet_18,  epoch  89, local model 14, internal_epoch   2,  Average loss: 0.0033, Accuracy: 3927/4196 (93.5891%)
___Test Local_ResNet_18 poisoned: False, epoch: 89: Average loss: 1.7733, Accuracy: 5903/10000 (59.0300%)
time spent on training: 269.6459002494812
___Test Target_ResNet_18 poisoned: False, epoch: 89: Average loss: 1.1633, Accuracy: 6898/10000 (68.9800%)
___Test Target_ResNet_18 poisoned: True, epoch: 89: Average loss: 0.7582, Accuracy: 8071/9900 (81.5253%)
Done in 296.0505516529083 sec.
Server Epoch:90 choose agents : [13, 36, 58, 71, 6, 84, 86, 33, 22, 12, 42, 56, 72, 93, 82, 28, 78, 39, 99, 16].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  90, local model 13, internal_epoch   1,  Average loss: 0.0028, Accuracy: 5062/5308 (95.3655%), train_poison_data_count: 415
Global model norm: 42.84810477731556.
Norm before scaling: 42.8326395376893. Distance: 1.5781104209906331
___Test Local_ResNet_18 poisoned: True, epoch: 90: Average loss: 0.0425, Accuracy: 9777/9900 (98.7576%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  90, local model 36, internal_epoch   1,  Average loss: 0.0026, Accuracy: 5534/5777 (95.7937%), train_poison_data_count: 455
Global model norm: 42.84810477731556.
Norm before scaling: 42.82723429163168. Distance: 1.5639138500750427
___Test Local_ResNet_18 poisoned: True, epoch: 90: Average loss: 0.0666, Accuracy: 9729/9900 (98.2727%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  90, local model 58, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4855/5123 (94.7687%), train_poison_data_count: 403
Global model norm: 42.84810477731556.
Norm before scaling: 42.834275370132914. Distance: 1.5651432567756687
___Test Local_ResNet_18 poisoned: True, epoch: 90: Average loss: 0.2741, Accuracy: 9190/9900 (92.8283%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  90, local model 71, internal_epoch   1,  Average loss: 0.0029, Accuracy: 5222/5503 (94.8937%), train_poison_data_count: 430
Global model norm: 42.84810477731556.
Norm before scaling: 42.83242294195047. Distance: 1.62130802071308
___Test Local_ResNet_18 poisoned: True, epoch: 90: Average loss: 0.0926, Accuracy: 9648/9900 (97.4545%)
___Train Local_ResNet_18,  epoch  90, local model 6, internal_epoch   1,  Average loss: 0.0054, Accuracy: 4515/4929 (91.6007%)
___Train Local_ResNet_18,  epoch  90, local model 6, internal_epoch   2,  Average loss: 0.0057, Accuracy: 4467/4929 (90.6269%)
___Test Local_ResNet_18 poisoned: False, epoch: 90: Average loss: 2.2104, Accuracy: 5323/10000 (53.2300%)
___Train Local_ResNet_18,  epoch  90, local model 84, internal_epoch   1,  Average loss: 0.0053, Accuracy: 4680/5209 (89.8445%)
___Train Local_ResNet_18,  epoch  90, local model 84, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4687/5209 (89.9789%)
___Test Local_ResNet_18 poisoned: False, epoch: 90: Average loss: 2.0082, Accuracy: 5451/10000 (54.5100%)
___Train Local_ResNet_18,  epoch  90, local model 86, internal_epoch   1,  Average loss: 0.0050, Accuracy: 3528/3929 (89.7938%)
___Train Local_ResNet_18,  epoch  90, local model 86, internal_epoch   2,  Average loss: 0.0046, Accuracy: 3566/3929 (90.7610%)
___Test Local_ResNet_18 poisoned: False, epoch: 90: Average loss: 1.8845, Accuracy: 5760/10000 (57.6000%)
___Train Local_ResNet_18,  epoch  90, local model 33, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4360/4818 (90.4940%)
___Train Local_ResNet_18,  epoch  90, local model 33, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4302/4818 (89.2902%)
___Test Local_ResNet_18 poisoned: False, epoch: 90: Average loss: 2.0066, Accuracy: 5503/10000 (55.0300%)
___Train Local_ResNet_18,  epoch  90, local model 22, internal_epoch   1,  Average loss: 0.0042, Accuracy: 5256/5696 (92.2753%)
___Train Local_ResNet_18,  epoch  90, local model 22, internal_epoch   2,  Average loss: 0.0047, Accuracy: 5170/5696 (90.7654%)
___Test Local_ResNet_18 poisoned: False, epoch: 90: Average loss: 1.9407, Accuracy: 5530/10000 (55.3000%)
___Train Local_ResNet_18,  epoch  90, local model 12, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4997/5526 (90.4271%)
___Train Local_ResNet_18,  epoch  90, local model 12, internal_epoch   2,  Average loss: 0.0059, Accuracy: 4882/5526 (88.3460%)
___Test Local_ResNet_18 poisoned: False, epoch: 90: Average loss: 2.1637, Accuracy: 5220/10000 (52.2000%)
___Train Local_ResNet_18,  epoch  90, local model 42, internal_epoch   1,  Average loss: 0.0049, Accuracy: 5358/5907 (90.7059%)
___Train Local_ResNet_18,  epoch  90, local model 42, internal_epoch   2,  Average loss: 0.0045, Accuracy: 5379/5907 (91.0615%)
___Test Local_ResNet_18 poisoned: False, epoch: 90: Average loss: 2.3450, Accuracy: 5004/10000 (50.0400%)
___Train Local_ResNet_18,  epoch  90, local model 56, internal_epoch   1,  Average loss: 0.0054, Accuracy: 4852/5427 (89.4048%)
___Train Local_ResNet_18,  epoch  90, local model 56, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4883/5427 (89.9760%)
___Test Local_ResNet_18 poisoned: False, epoch: 90: Average loss: 1.9957, Accuracy: 5542/10000 (55.4200%)
___Train Local_ResNet_18,  epoch  90, local model 72, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4725/5193 (90.9879%)
___Train Local_ResNet_18,  epoch  90, local model 72, internal_epoch   2,  Average loss: 0.0061, Accuracy: 4611/5193 (88.7926%)
___Test Local_ResNet_18 poisoned: False, epoch: 90: Average loss: 2.0443, Accuracy: 5370/10000 (53.7000%)
___Train Local_ResNet_18,  epoch  90, local model 93, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4540/5055 (89.8121%)
___Train Local_ResNet_18,  epoch  90, local model 93, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4578/5055 (90.5638%)
___Test Local_ResNet_18 poisoned: False, epoch: 90: Average loss: 2.0823, Accuracy: 5404/10000 (54.0400%)
___Train Local_ResNet_18,  epoch  90, local model 82, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4903/5298 (92.5444%)
___Train Local_ResNet_18,  epoch  90, local model 82, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4905/5298 (92.5821%)
___Test Local_ResNet_18 poisoned: False, epoch: 90: Average loss: 1.9300, Accuracy: 5532/10000 (55.3200%)
___Train Local_ResNet_18,  epoch  90, local model 28, internal_epoch   1,  Average loss: 0.0059, Accuracy: 4575/5122 (89.3206%)
___Train Local_ResNet_18,  epoch  90, local model 28, internal_epoch   2,  Average loss: 0.0086, Accuracy: 4308/5122 (84.1078%)
___Test Local_ResNet_18 poisoned: False, epoch: 90: Average loss: 2.3271, Accuracy: 4915/10000 (49.1500%)
___Train Local_ResNet_18,  epoch  90, local model 78, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4057/4368 (92.8800%)
___Train Local_ResNet_18,  epoch  90, local model 78, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4045/4368 (92.6053%)
___Test Local_ResNet_18 poisoned: False, epoch: 90: Average loss: 1.9329, Accuracy: 5547/10000 (55.4700%)
___Train Local_ResNet_18,  epoch  90, local model 39, internal_epoch   1,  Average loss: 0.0048, Accuracy: 3784/4175 (90.6347%)
___Train Local_ResNet_18,  epoch  90, local model 39, internal_epoch   2,  Average loss: 0.0044, Accuracy: 3823/4175 (91.5689%)
___Test Local_ResNet_18 poisoned: False, epoch: 90: Average loss: 2.0201, Accuracy: 5417/10000 (54.1700%)
___Train Local_ResNet_18,  epoch  90, local model 99, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4374/4851 (90.1670%)
___Train Local_ResNet_18,  epoch  90, local model 99, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4399/4851 (90.6823%)
___Test Local_ResNet_18 poisoned: False, epoch: 90: Average loss: 1.9588, Accuracy: 5579/10000 (55.7900%)
___Train Local_ResNet_18,  epoch  90, local model 16, internal_epoch   1,  Average loss: 0.0050, Accuracy: 4874/5353 (91.0517%)
___Train Local_ResNet_18,  epoch  90, local model 16, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4820/5353 (90.0430%)
___Test Local_ResNet_18 poisoned: False, epoch: 90: Average loss: 2.0376, Accuracy: 5352/10000 (53.5200%)
time spent on training: 276.5980122089386
___Test Target_ResNet_18 poisoned: False, epoch: 90: Average loss: 1.1703, Accuracy: 6888/10000 (68.8800%)
___Test Target_ResNet_18 poisoned: True, epoch: 90: Average loss: 0.6611, Accuracy: 8254/9900 (83.3737%)
Done in 302.9125635623932 sec.
Server Epoch:91 choose agents : [13, 36, 58, 71, 56, 54, 18, 92, 50, 11, 82, 27, 16, 4, 75, 29, 52, 67, 62, 47].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  91, local model 13, internal_epoch   1,  Average loss: 0.0029, Accuracy: 5063/5308 (95.3843%), train_poison_data_count: 415
Global model norm: 42.871304277672145.
Norm before scaling: 42.85562665891289. Distance: 1.5578479942632337
___Test Local_ResNet_18 poisoned: True, epoch: 91: Average loss: 0.0873, Accuracy: 9662/9900 (97.5960%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  91, local model 36, internal_epoch   1,  Average loss: 0.0025, Accuracy: 5551/5777 (96.0879%), train_poison_data_count: 455
Global model norm: 42.871304277672145.
Norm before scaling: 42.846101948117024. Distance: 1.5243041092333043
___Test Local_ResNet_18 poisoned: True, epoch: 91: Average loss: 0.0593, Accuracy: 9752/9900 (98.5051%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  91, local model 58, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4862/5123 (94.9053%), train_poison_data_count: 403
Global model norm: 42.871304277672145.
Norm before scaling: 42.85187514129341. Distance: 1.5156736071156234
___Test Local_ResNet_18 poisoned: True, epoch: 91: Average loss: 0.1493, Accuracy: 9521/9900 (96.1717%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  91, local model 71, internal_epoch   1,  Average loss: 0.0028, Accuracy: 5248/5503 (95.3662%), train_poison_data_count: 430
Global model norm: 42.871304277672145.
Norm before scaling: 42.85462400754585. Distance: 1.5910170815711937
___Test Local_ResNet_18 poisoned: True, epoch: 91: Average loss: 0.0665, Accuracy: 9709/9900 (98.0707%)
___Train Local_ResNet_18,  epoch  91, local model 56, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4869/5427 (89.7181%)
___Train Local_ResNet_18,  epoch  91, local model 56, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4866/5427 (89.6628%)
___Test Local_ResNet_18 poisoned: False, epoch: 91: Average loss: 2.1825, Accuracy: 5353/10000 (53.5300%)
___Train Local_ResNet_18,  epoch  91, local model 54, internal_epoch   1,  Average loss: 0.0059, Accuracy: 5000/5645 (88.5740%)
___Train Local_ResNet_18,  epoch  91, local model 54, internal_epoch   2,  Average loss: 0.0064, Accuracy: 4914/5645 (87.0505%)
___Test Local_ResNet_18 poisoned: False, epoch: 91: Average loss: 2.0949, Accuracy: 5311/10000 (53.1100%)
___Train Local_ResNet_18,  epoch  91, local model 18, internal_epoch   1,  Average loss: 0.0046, Accuracy: 3866/4249 (90.9861%)
___Train Local_ResNet_18,  epoch  91, local model 18, internal_epoch   2,  Average loss: 0.0045, Accuracy: 3888/4249 (91.5039%)
___Test Local_ResNet_18 poisoned: False, epoch: 91: Average loss: 1.9247, Accuracy: 5593/10000 (55.9300%)
___Train Local_ResNet_18,  epoch  91, local model 92, internal_epoch   1,  Average loss: 0.0046, Accuracy: 6209/6812 (91.1480%)
___Train Local_ResNet_18,  epoch  91, local model 92, internal_epoch   2,  Average loss: 0.0045, Accuracy: 6200/6812 (91.0159%)
___Test Local_ResNet_18 poisoned: False, epoch: 91: Average loss: 1.9827, Accuracy: 5484/10000 (54.8400%)
___Train Local_ResNet_18,  epoch  91, local model 50, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4346/4757 (91.3601%)
___Train Local_ResNet_18,  epoch  91, local model 50, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4301/4757 (90.4141%)
___Test Local_ResNet_18 poisoned: False, epoch: 91: Average loss: 2.0548, Accuracy: 5475/10000 (54.7500%)
___Train Local_ResNet_18,  epoch  91, local model 11, internal_epoch   1,  Average loss: 0.0071, Accuracy: 4895/5702 (85.8471%)
___Train Local_ResNet_18,  epoch  91, local model 11, internal_epoch   2,  Average loss: 0.0079, Accuracy: 4827/5702 (84.6545%)
___Test Local_ResNet_18 poisoned: False, epoch: 91: Average loss: 2.2643, Accuracy: 5093/10000 (50.9300%)
___Train Local_ResNet_18,  epoch  91, local model 82, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4927/5298 (92.9974%)
___Train Local_ResNet_18,  epoch  91, local model 82, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4937/5298 (93.1861%)
___Test Local_ResNet_18 poisoned: False, epoch: 91: Average loss: 2.0449, Accuracy: 5482/10000 (54.8200%)
___Train Local_ResNet_18,  epoch  91, local model 27, internal_epoch   1,  Average loss: 0.0050, Accuracy: 4135/4587 (90.1461%)
___Train Local_ResNet_18,  epoch  91, local model 27, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4144/4587 (90.3423%)
___Test Local_ResNet_18 poisoned: False, epoch: 91: Average loss: 2.0324, Accuracy: 5522/10000 (55.2200%)
___Train Local_ResNet_18,  epoch  91, local model 16, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4808/5353 (89.8188%)
___Train Local_ResNet_18,  epoch  91, local model 16, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4800/5353 (89.6693%)
___Test Local_ResNet_18 poisoned: False, epoch: 91: Average loss: 2.0480, Accuracy: 5331/10000 (53.3100%)
___Train Local_ResNet_18,  epoch  91, local model 4, internal_epoch   1,  Average loss: 0.0044, Accuracy: 3696/4028 (91.7577%)
___Train Local_ResNet_18,  epoch  91, local model 4, internal_epoch   2,  Average loss: 0.0039, Accuracy: 3709/4028 (92.0804%)
___Test Local_ResNet_18 poisoned: False, epoch: 91: Average loss: 1.8338, Accuracy: 5789/10000 (57.8900%)
___Train Local_ResNet_18,  epoch  91, local model 75, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4290/4672 (91.8236%)
___Train Local_ResNet_18,  epoch  91, local model 75, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4309/4672 (92.2303%)
___Test Local_ResNet_18 poisoned: False, epoch: 91: Average loss: 1.8810, Accuracy: 5728/10000 (57.2800%)
___Train Local_ResNet_18,  epoch  91, local model 29, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4403/4732 (93.0473%)
___Train Local_ResNet_18,  epoch  91, local model 29, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4426/4732 (93.5334%)
___Test Local_ResNet_18 poisoned: False, epoch: 91: Average loss: 1.9777, Accuracy: 5544/10000 (55.4400%)
___Train Local_ResNet_18,  epoch  91, local model 52, internal_epoch   1,  Average loss: 0.0044, Accuracy: 3787/4130 (91.6949%)
___Train Local_ResNet_18,  epoch  91, local model 52, internal_epoch   2,  Average loss: 0.0044, Accuracy: 3799/4130 (91.9855%)
___Test Local_ResNet_18 poisoned: False, epoch: 91: Average loss: 1.9639, Accuracy: 5579/10000 (55.7900%)
___Train Local_ResNet_18,  epoch  91, local model 67, internal_epoch   1,  Average loss: 0.0059, Accuracy: 4935/5559 (88.7750%)
___Train Local_ResNet_18,  epoch  91, local model 67, internal_epoch   2,  Average loss: 0.0062, Accuracy: 4855/5559 (87.3359%)
___Test Local_ResNet_18 poisoned: False, epoch: 91: Average loss: 2.1704, Accuracy: 5133/10000 (51.3300%)
___Train Local_ResNet_18,  epoch  91, local model 62, internal_epoch   1,  Average loss: 0.0065, Accuracy: 4814/5504 (87.4637%)
___Train Local_ResNet_18,  epoch  91, local model 62, internal_epoch   2,  Average loss: 0.0062, Accuracy: 4807/5504 (87.3365%)
___Test Local_ResNet_18 poisoned: False, epoch: 91: Average loss: 2.0685, Accuracy: 5295/10000 (52.9500%)
___Train Local_ResNet_18,  epoch  91, local model 47, internal_epoch   1,  Average loss: 0.0057, Accuracy: 4571/5123 (89.2251%)
___Train Local_ResNet_18,  epoch  91, local model 47, internal_epoch   2,  Average loss: 0.0087, Accuracy: 4287/5123 (83.6814%)
___Test Local_ResNet_18 poisoned: False, epoch: 91: Average loss: 2.2296, Accuracy: 5075/10000 (50.7500%)
time spent on training: 278.03429675102234
___Test Target_ResNet_18 poisoned: False, epoch: 91: Average loss: 1.1739, Accuracy: 6891/10000 (68.9100%)
___Test Target_ResNet_18 poisoned: True, epoch: 91: Average loss: 0.6017, Accuracy: 8412/9900 (84.9697%)
Done in 304.693639755249 sec.
Server Epoch:92 choose agents : [13, 36, 58, 71, 74, 10, 82, 34, 43, 23, 33, 1, 44, 19, 63, 0, 28, 54, 70, 92].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  92, local model 13, internal_epoch   1,  Average loss: 0.0026, Accuracy: 5079/5308 (95.6858%), train_poison_data_count: 415
Global model norm: 42.894609332241565.
Norm before scaling: 42.874612789796714. Distance: 1.4967956490080823
___Test Local_ResNet_18 poisoned: True, epoch: 92: Average loss: 0.0352, Accuracy: 9803/9900 (99.0202%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  92, local model 36, internal_epoch   1,  Average loss: 0.0023, Accuracy: 5567/5777 (96.3649%), train_poison_data_count: 455
Global model norm: 42.894609332241565.
Norm before scaling: 42.86942212714821. Distance: 1.469985280125417
___Test Local_ResNet_18 poisoned: True, epoch: 92: Average loss: 0.2624, Accuracy: 9310/9900 (94.0404%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  92, local model 58, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4853/5123 (94.7297%), train_poison_data_count: 403
Global model norm: 42.894609332241565.
Norm before scaling: 42.87908400055396. Distance: 1.5574577608703042
___Test Local_ResNet_18 poisoned: True, epoch: 92: Average loss: 0.1421, Accuracy: 9510/9900 (96.0606%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  92, local model 71, internal_epoch   1,  Average loss: 0.0028, Accuracy: 5232/5503 (95.0754%), train_poison_data_count: 430
Global model norm: 42.894609332241565.
Norm before scaling: 42.87720503850574. Distance: 1.5955651362508412
___Test Local_ResNet_18 poisoned: True, epoch: 92: Average loss: 0.2159, Accuracy: 9364/9900 (94.5859%)
___Train Local_ResNet_18,  epoch  92, local model 74, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4266/4797 (88.9306%)
___Train Local_ResNet_18,  epoch  92, local model 74, internal_epoch   2,  Average loss: 0.0056, Accuracy: 4252/4797 (88.6387%)
___Test Local_ResNet_18 poisoned: False, epoch: 92: Average loss: 2.0005, Accuracy: 5402/10000 (54.0200%)
___Train Local_ResNet_18,  epoch  92, local model 10, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4685/5068 (92.4428%)
___Train Local_ResNet_18,  epoch  92, local model 10, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4668/5068 (92.1073%)
___Test Local_ResNet_18 poisoned: False, epoch: 92: Average loss: 1.9962, Accuracy: 5525/10000 (55.2500%)
___Train Local_ResNet_18,  epoch  92, local model 82, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4935/5298 (93.1484%)
___Train Local_ResNet_18,  epoch  92, local model 82, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4921/5298 (92.8841%)
___Test Local_ResNet_18 poisoned: False, epoch: 92: Average loss: 2.0514, Accuracy: 5440/10000 (54.4000%)
___Train Local_ResNet_18,  epoch  92, local model 34, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4483/4911 (91.2849%)
___Train Local_ResNet_18,  epoch  92, local model 34, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4541/4911 (92.4659%)
___Test Local_ResNet_18 poisoned: False, epoch: 92: Average loss: 1.9715, Accuracy: 5528/10000 (55.2800%)
___Train Local_ResNet_18,  epoch  92, local model 43, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4489/4979 (90.1587%)
___Train Local_ResNet_18,  epoch  92, local model 43, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4557/4979 (91.5244%)
___Test Local_ResNet_18 poisoned: False, epoch: 92: Average loss: 2.0185, Accuracy: 5433/10000 (54.3300%)
___Train Local_ResNet_18,  epoch  92, local model 23, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4261/4549 (93.6689%)
___Train Local_ResNet_18,  epoch  92, local model 23, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4123/4549 (90.6353%)
___Test Local_ResNet_18 poisoned: False, epoch: 92: Average loss: 1.8740, Accuracy: 5681/10000 (56.8100%)
___Train Local_ResNet_18,  epoch  92, local model 33, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4396/4818 (91.2412%)
___Train Local_ResNet_18,  epoch  92, local model 33, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4327/4818 (89.8090%)
___Test Local_ResNet_18 poisoned: False, epoch: 92: Average loss: 2.0722, Accuracy: 5333/10000 (53.3300%)
___Train Local_ResNet_18,  epoch  92, local model 1, internal_epoch   1,  Average loss: 0.0036, Accuracy: 5064/5422 (93.3973%)
___Train Local_ResNet_18,  epoch  92, local model 1, internal_epoch   2,  Average loss: 0.0034, Accuracy: 5073/5422 (93.5633%)
___Test Local_ResNet_18 poisoned: False, epoch: 92: Average loss: 1.8512, Accuracy: 5716/10000 (57.1600%)
___Train Local_ResNet_18,  epoch  92, local model 44, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4658/5075 (91.7833%)
___Train Local_ResNet_18,  epoch  92, local model 44, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4640/5075 (91.4286%)
___Test Local_ResNet_18 poisoned: False, epoch: 92: Average loss: 1.9750, Accuracy: 5536/10000 (55.3600%)
___Train Local_ResNet_18,  epoch  92, local model 19, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4817/5361 (89.8526%)
___Train Local_ResNet_18,  epoch  92, local model 19, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4808/5361 (89.6848%)
___Test Local_ResNet_18 poisoned: False, epoch: 92: Average loss: 2.1365, Accuracy: 5272/10000 (52.7200%)
___Train Local_ResNet_18,  epoch  92, local model 63, internal_epoch   1,  Average loss: 0.0047, Accuracy: 3561/3910 (91.0742%)
___Train Local_ResNet_18,  epoch  92, local model 63, internal_epoch   2,  Average loss: 0.0051, Accuracy: 3520/3910 (90.0256%)
___Test Local_ResNet_18 poisoned: False, epoch: 92: Average loss: 2.0492, Accuracy: 5540/10000 (55.4000%)
___Train Local_ResNet_18,  epoch  92, local model 0, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4926/5454 (90.3190%)
___Train Local_ResNet_18,  epoch  92, local model 0, internal_epoch   2,  Average loss: 0.0060, Accuracy: 4809/5454 (88.1738%)
___Test Local_ResNet_18 poisoned: False, epoch: 92: Average loss: 2.0556, Accuracy: 5446/10000 (54.4600%)
___Train Local_ResNet_18,  epoch  92, local model 28, internal_epoch   1,  Average loss: 0.0059, Accuracy: 4543/5122 (88.6958%)
___Train Local_ResNet_18,  epoch  92, local model 28, internal_epoch   2,  Average loss: 0.0092, Accuracy: 4216/5122 (82.3116%)
___Test Local_ResNet_18 poisoned: False, epoch: 92: Average loss: 2.3793, Accuracy: 4818/10000 (48.1800%)
___Train Local_ResNet_18,  epoch  92, local model 54, internal_epoch   1,  Average loss: 0.0060, Accuracy: 5006/5645 (88.6802%)
___Train Local_ResNet_18,  epoch  92, local model 54, internal_epoch   2,  Average loss: 0.0063, Accuracy: 4953/5645 (87.7414%)
___Test Local_ResNet_18 poisoned: False, epoch: 92: Average loss: 2.2108, Accuracy: 5095/10000 (50.9500%)
___Train Local_ResNet_18,  epoch  92, local model 70, internal_epoch   1,  Average loss: 0.0040, Accuracy: 5411/5871 (92.1649%)
___Train Local_ResNet_18,  epoch  92, local model 70, internal_epoch   2,  Average loss: 0.0044, Accuracy: 5362/5871 (91.3303%)
___Test Local_ResNet_18 poisoned: False, epoch: 92: Average loss: 2.1513, Accuracy: 5343/10000 (53.4300%)
___Train Local_ResNet_18,  epoch  92, local model 92, internal_epoch   1,  Average loss: 0.0040, Accuracy: 6308/6812 (92.6013%)
___Train Local_ResNet_18,  epoch  92, local model 92, internal_epoch   2,  Average loss: 0.0042, Accuracy: 6232/6812 (91.4856%)
___Test Local_ResNet_18 poisoned: False, epoch: 92: Average loss: 2.1575, Accuracy: 5327/10000 (53.2700%)
time spent on training: 280.8064591884613
___Test Target_ResNet_18 poisoned: False, epoch: 92: Average loss: 1.1743, Accuracy: 6887/10000 (68.8700%)
___Test Target_ResNet_18 poisoned: True, epoch: 92: Average loss: 0.5754, Accuracy: 8491/9900 (85.7677%)
Done in 307.44476985931396 sec.
Server Epoch:93 choose agents : [13, 36, 58, 71, 92, 14, 45, 16, 59, 87, 19, 95, 47, 66, 6, 7, 82, 69, 79, 4].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  93, local model 13, internal_epoch   1,  Average loss: 0.0026, Accuracy: 5079/5308 (95.6858%), train_poison_data_count: 415
Global model norm: 42.917630102707356.
Norm before scaling: 42.900440019960755. Distance: 1.5350124301469243
___Test Local_ResNet_18 poisoned: True, epoch: 93: Average loss: 0.0673, Accuracy: 9725/9900 (98.2323%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  93, local model 36, internal_epoch   1,  Average loss: 0.0025, Accuracy: 5537/5777 (95.8456%), train_poison_data_count: 455
Global model norm: 42.917630102707356.
Norm before scaling: 42.893142287240245. Distance: 1.5251823410086365
___Test Local_ResNet_18 poisoned: True, epoch: 93: Average loss: 0.1180, Accuracy: 9593/9900 (96.8990%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  93, local model 58, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4864/5123 (94.9444%), train_poison_data_count: 403
Global model norm: 42.917630102707356.
Norm before scaling: 42.900135557587404. Distance: 1.547545470769871
___Test Local_ResNet_18 poisoned: True, epoch: 93: Average loss: 0.1391, Accuracy: 9552/9900 (96.4848%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  93, local model 71, internal_epoch   1,  Average loss: 0.0028, Accuracy: 5249/5503 (95.3843%), train_poison_data_count: 430
Global model norm: 42.917630102707356.
Norm before scaling: 42.900555259828074. Distance: 1.5462312225706554
___Test Local_ResNet_18 poisoned: True, epoch: 93: Average loss: 0.0856, Accuracy: 9670/9900 (97.6768%)
___Train Local_ResNet_18,  epoch  93, local model 92, internal_epoch   1,  Average loss: 0.0039, Accuracy: 6315/6812 (92.7041%)
___Train Local_ResNet_18,  epoch  93, local model 92, internal_epoch   2,  Average loss: 0.0042, Accuracy: 6272/6812 (92.0728%)
___Test Local_ResNet_18 poisoned: False, epoch: 93: Average loss: 2.1520, Accuracy: 5426/10000 (54.2600%)
___Train Local_ResNet_18,  epoch  93, local model 14, internal_epoch   1,  Average loss: 0.0032, Accuracy: 3962/4196 (94.4233%)
___Train Local_ResNet_18,  epoch  93, local model 14, internal_epoch   2,  Average loss: 0.0029, Accuracy: 3979/4196 (94.8284%)
___Test Local_ResNet_18 poisoned: False, epoch: 93: Average loss: 1.8491, Accuracy: 5757/10000 (57.5700%)
___Train Local_ResNet_18,  epoch  93, local model 45, internal_epoch   1,  Average loss: 0.0055, Accuracy: 4874/5489 (88.7958%)
___Train Local_ResNet_18,  epoch  93, local model 45, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4965/5489 (90.4536%)
___Test Local_ResNet_18 poisoned: False, epoch: 93: Average loss: 2.0506, Accuracy: 5341/10000 (53.4100%)
___Train Local_ResNet_18,  epoch  93, local model 16, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4881/5353 (91.1825%)
___Train Local_ResNet_18,  epoch  93, local model 16, internal_epoch   2,  Average loss: 0.0054, Accuracy: 4804/5353 (89.7441%)
___Test Local_ResNet_18 poisoned: False, epoch: 93: Average loss: 2.0513, Accuracy: 5390/10000 (53.9000%)
___Train Local_ResNet_18,  epoch  93, local model 59, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4130/4397 (93.9277%)
___Train Local_ResNet_18,  epoch  93, local model 59, internal_epoch   2,  Average loss: 0.0024, Accuracy: 4199/4397 (95.4969%)
___Test Local_ResNet_18 poisoned: False, epoch: 93: Average loss: 1.8327, Accuracy: 5765/10000 (57.6500%)
___Train Local_ResNet_18,  epoch  93, local model 87, internal_epoch   1,  Average loss: 0.0056, Accuracy: 3547/3995 (88.7860%)
___Train Local_ResNet_18,  epoch  93, local model 87, internal_epoch   2,  Average loss: 0.0051, Accuracy: 3577/3995 (89.5369%)
___Test Local_ResNet_18 poisoned: False, epoch: 93: Average loss: 1.9395, Accuracy: 5462/10000 (54.6200%)
___Train Local_ResNet_18,  epoch  93, local model 19, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4850/5361 (90.4682%)
___Train Local_ResNet_18,  epoch  93, local model 19, internal_epoch   2,  Average loss: 0.0057, Accuracy: 4728/5361 (88.1925%)
___Test Local_ResNet_18 poisoned: False, epoch: 93: Average loss: 2.0637, Accuracy: 5429/10000 (54.2900%)
___Train Local_ResNet_18,  epoch  93, local model 95, internal_epoch   1,  Average loss: 0.0054, Accuracy: 4530/5018 (90.2750%)
___Train Local_ResNet_18,  epoch  93, local model 95, internal_epoch   2,  Average loss: 0.0058, Accuracy: 4438/5018 (88.4416%)
___Test Local_ResNet_18 poisoned: False, epoch: 93: Average loss: 2.0969, Accuracy: 5284/10000 (52.8400%)
___Train Local_ResNet_18,  epoch  93, local model 47, internal_epoch   1,  Average loss: 0.0058, Accuracy: 4582/5123 (89.4398%)
___Train Local_ResNet_18,  epoch  93, local model 47, internal_epoch   2,  Average loss: 0.0083, Accuracy: 4357/5123 (85.0478%)
___Test Local_ResNet_18 poisoned: False, epoch: 93: Average loss: 2.2283, Accuracy: 5041/10000 (50.4100%)
___Train Local_ResNet_18,  epoch  93, local model 66, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4404/4843 (90.9354%)
___Train Local_ResNet_18,  epoch  93, local model 66, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4430/4843 (91.4722%)
___Test Local_ResNet_18 poisoned: False, epoch: 93: Average loss: 1.8841, Accuracy: 5706/10000 (57.0600%)
___Train Local_ResNet_18,  epoch  93, local model 6, internal_epoch   1,  Average loss: 0.0050, Accuracy: 4551/4929 (92.3311%)
___Train Local_ResNet_18,  epoch  93, local model 6, internal_epoch   2,  Average loss: 0.0056, Accuracy: 4465/4929 (90.5863%)
___Test Local_ResNet_18 poisoned: False, epoch: 93: Average loss: 2.0608, Accuracy: 5481/10000 (54.8100%)
___Train Local_ResNet_18,  epoch  93, local model 7, internal_epoch   1,  Average loss: 0.0053, Accuracy: 4403/4869 (90.4292%)
___Train Local_ResNet_18,  epoch  93, local model 7, internal_epoch   2,  Average loss: 0.0092, Accuracy: 4038/4869 (82.9328%)
___Test Local_ResNet_18 poisoned: False, epoch: 93: Average loss: 2.3239, Accuracy: 4878/10000 (48.7800%)
___Train Local_ResNet_18,  epoch  93, local model 82, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4875/5298 (92.0159%)
___Train Local_ResNet_18,  epoch  93, local model 82, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4881/5298 (92.1291%)
___Test Local_ResNet_18 poisoned: False, epoch: 93: Average loss: 2.0370, Accuracy: 5326/10000 (53.2600%)
___Train Local_ResNet_18,  epoch  93, local model 69, internal_epoch   1,  Average loss: 0.0046, Accuracy: 3998/4364 (91.6132%)
___Train Local_ResNet_18,  epoch  93, local model 69, internal_epoch   2,  Average loss: 0.0059, Accuracy: 3897/4364 (89.2988%)
___Test Local_ResNet_18 poisoned: False, epoch: 93: Average loss: 2.0282, Accuracy: 5434/10000 (54.3400%)
___Train Local_ResNet_18,  epoch  93, local model 79, internal_epoch   1,  Average loss: 0.0043, Accuracy: 3774/4111 (91.8025%)
___Train Local_ResNet_18,  epoch  93, local model 79, internal_epoch   2,  Average loss: 0.0049, Accuracy: 3709/4111 (90.2214%)
___Test Local_ResNet_18 poisoned: False, epoch: 93: Average loss: 2.0099, Accuracy: 5346/10000 (53.4600%)
___Train Local_ResNet_18,  epoch  93, local model 4, internal_epoch   1,  Average loss: 0.0048, Accuracy: 3647/4028 (90.5412%)
___Train Local_ResNet_18,  epoch  93, local model 4, internal_epoch   2,  Average loss: 0.0041, Accuracy: 3713/4028 (92.1797%)
___Test Local_ResNet_18 poisoned: False, epoch: 93: Average loss: 1.9168, Accuracy: 5674/10000 (56.7400%)
time spent on training: 263.67757868766785
___Test Target_ResNet_18 poisoned: False, epoch: 93: Average loss: 1.1765, Accuracy: 6883/10000 (68.8300%)
___Test Target_ResNet_18 poisoned: True, epoch: 93: Average loss: 0.5067, Accuracy: 8640/9900 (87.2727%)
Done in 290.23980689048767 sec.
Server Epoch:94 choose agents : [13, 36, 58, 71, 14, 82, 18, 47, 52, 43, 16, 75, 27, 28, 33, 5, 17, 67, 48, 22].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  94, local model 13, internal_epoch   1,  Average loss: 0.0026, Accuracy: 5095/5308 (95.9872%), train_poison_data_count: 415
Global model norm: 42.939942047549096.
Norm before scaling: 42.919987956789285. Distance: 1.491589970810252
___Test Local_ResNet_18 poisoned: True, epoch: 94: Average loss: 0.0692, Accuracy: 9717/9900 (98.1515%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  94, local model 36, internal_epoch   1,  Average loss: 0.0023, Accuracy: 5575/5777 (96.5034%), train_poison_data_count: 455
Global model norm: 42.939942047549096.
Norm before scaling: 42.91147176664636. Distance: 1.4389220957236168
___Test Local_ResNet_18 poisoned: True, epoch: 94: Average loss: 0.1669, Accuracy: 9486/9900 (95.8182%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  94, local model 58, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4862/5123 (94.9053%), train_poison_data_count: 403
Global model norm: 42.939942047549096.
Norm before scaling: 42.92146119431033. Distance: 1.543355618035164
___Test Local_ResNet_18 poisoned: True, epoch: 94: Average loss: 0.1404, Accuracy: 9546/9900 (96.4242%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  94, local model 71, internal_epoch   1,  Average loss: 0.0028, Accuracy: 5258/5503 (95.5479%), train_poison_data_count: 430
Global model norm: 42.939942047549096.
Norm before scaling: 42.92240540489533. Distance: 1.5691253577798474
___Test Local_ResNet_18 poisoned: True, epoch: 94: Average loss: 0.0842, Accuracy: 9668/9900 (97.6566%)
___Train Local_ResNet_18,  epoch  94, local model 14, internal_epoch   1,  Average loss: 0.0032, Accuracy: 3961/4196 (94.3994%)
___Train Local_ResNet_18,  epoch  94, local model 14, internal_epoch   2,  Average loss: 0.0029, Accuracy: 3970/4196 (94.6139%)
___Test Local_ResNet_18 poisoned: False, epoch: 94: Average loss: 1.8094, Accuracy: 5797/10000 (57.9700%)
___Train Local_ResNet_18,  epoch  94, local model 82, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4907/5298 (92.6199%)
___Train Local_ResNet_18,  epoch  94, local model 82, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4934/5298 (93.1295%)
___Test Local_ResNet_18 poisoned: False, epoch: 94: Average loss: 2.0130, Accuracy: 5444/10000 (54.4400%)
___Train Local_ResNet_18,  epoch  94, local model 18, internal_epoch   1,  Average loss: 0.0049, Accuracy: 3864/4249 (90.9390%)
___Train Local_ResNet_18,  epoch  94, local model 18, internal_epoch   2,  Average loss: 0.0048, Accuracy: 3859/4249 (90.8214%)
___Test Local_ResNet_18 poisoned: False, epoch: 94: Average loss: 1.9523, Accuracy: 5599/10000 (55.9900%)
___Train Local_ResNet_18,  epoch  94, local model 47, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4620/5123 (90.1815%)
___Train Local_ResNet_18,  epoch  94, local model 47, internal_epoch   2,  Average loss: 0.0057, Accuracy: 4581/5123 (89.4203%)
___Test Local_ResNet_18 poisoned: False, epoch: 94: Average loss: 2.0761, Accuracy: 5312/10000 (53.1200%)
___Train Local_ResNet_18,  epoch  94, local model 52, internal_epoch   1,  Average loss: 0.0042, Accuracy: 3817/4130 (92.4213%)
___Train Local_ResNet_18,  epoch  94, local model 52, internal_epoch   2,  Average loss: 0.0039, Accuracy: 3826/4130 (92.6392%)
___Test Local_ResNet_18 poisoned: False, epoch: 94: Average loss: 1.9412, Accuracy: 5588/10000 (55.8800%)
___Train Local_ResNet_18,  epoch  94, local model 43, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4524/4979 (90.8616%)
___Train Local_ResNet_18,  epoch  94, local model 43, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4520/4979 (90.7813%)
___Test Local_ResNet_18 poisoned: False, epoch: 94: Average loss: 1.9563, Accuracy: 5490/10000 (54.9000%)
___Train Local_ResNet_18,  epoch  94, local model 16, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4866/5353 (90.9023%)
___Train Local_ResNet_18,  epoch  94, local model 16, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4804/5353 (89.7441%)
___Test Local_ResNet_18 poisoned: False, epoch: 94: Average loss: 2.0872, Accuracy: 5325/10000 (53.2500%)
___Train Local_ResNet_18,  epoch  94, local model 75, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4293/4672 (91.8878%)
___Train Local_ResNet_18,  epoch  94, local model 75, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4329/4672 (92.6584%)
___Test Local_ResNet_18 poisoned: False, epoch: 94: Average loss: 1.9248, Accuracy: 5724/10000 (57.2400%)
___Train Local_ResNet_18,  epoch  94, local model 27, internal_epoch   1,  Average loss: 0.0053, Accuracy: 4129/4587 (90.0153%)
___Train Local_ResNet_18,  epoch  94, local model 27, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4141/4587 (90.2769%)
___Test Local_ResNet_18 poisoned: False, epoch: 94: Average loss: 2.2437, Accuracy: 5158/10000 (51.5800%)
___Train Local_ResNet_18,  epoch  94, local model 28, internal_epoch   1,  Average loss: 0.0058, Accuracy: 4559/5122 (89.0082%)
___Train Local_ResNet_18,  epoch  94, local model 28, internal_epoch   2,  Average loss: 0.0085, Accuracy: 4313/5122 (84.2054%)
___Test Local_ResNet_18 poisoned: False, epoch: 94: Average loss: 2.2423, Accuracy: 5058/10000 (50.5800%)
___Train Local_ResNet_18,  epoch  94, local model 33, internal_epoch   1,  Average loss: 0.0050, Accuracy: 4354/4818 (90.3694%)
___Train Local_ResNet_18,  epoch  94, local model 33, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4354/4818 (90.3694%)
___Test Local_ResNet_18 poisoned: False, epoch: 94: Average loss: 2.1414, Accuracy: 5316/10000 (53.1600%)
___Train Local_ResNet_18,  epoch  94, local model 5, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4689/4993 (93.9115%)
___Train Local_ResNet_18,  epoch  94, local model 5, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4633/4993 (92.7899%)
___Test Local_ResNet_18 poisoned: False, epoch: 94: Average loss: 1.9946, Accuracy: 5610/10000 (56.1000%)
___Train Local_ResNet_18,  epoch  94, local model 17, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4432/4903 (90.3936%)
___Train Local_ResNet_18,  epoch  94, local model 17, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4407/4903 (89.8837%)
___Test Local_ResNet_18 poisoned: False, epoch: 94: Average loss: 2.1688, Accuracy: 5230/10000 (52.3000%)
___Train Local_ResNet_18,  epoch  94, local model 67, internal_epoch   1,  Average loss: 0.0056, Accuracy: 4949/5559 (89.0268%)
___Train Local_ResNet_18,  epoch  94, local model 67, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4991/5559 (89.7823%)
___Test Local_ResNet_18 poisoned: False, epoch: 94: Average loss: 2.2149, Accuracy: 5073/10000 (50.7300%)
___Train Local_ResNet_18,  epoch  94, local model 48, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4504/4830 (93.2505%)
___Train Local_ResNet_18,  epoch  94, local model 48, internal_epoch   2,  Average loss: 0.0032, Accuracy: 4539/4830 (93.9752%)
___Test Local_ResNet_18 poisoned: False, epoch: 94: Average loss: 1.9910, Accuracy: 5565/10000 (55.6500%)
___Train Local_ResNet_18,  epoch  94, local model 22, internal_epoch   1,  Average loss: 0.0046, Accuracy: 5217/5696 (91.5906%)
___Train Local_ResNet_18,  epoch  94, local model 22, internal_epoch   2,  Average loss: 0.0047, Accuracy: 5163/5696 (90.6426%)
___Test Local_ResNet_18 poisoned: False, epoch: 94: Average loss: 2.0689, Accuracy: 5298/10000 (52.9800%)
time spent on training: 272.8589732646942
___Test Target_ResNet_18 poisoned: False, epoch: 94: Average loss: 1.1721, Accuracy: 6901/10000 (69.0100%)
___Test Target_ResNet_18 poisoned: True, epoch: 94: Average loss: 0.4856, Accuracy: 8689/9900 (87.7677%)
Done in 299.23101449012756 sec.
Server Epoch:95 choose agents : [13, 36, 58, 71, 14, 47, 73, 97, 20, 45, 34, 76, 40, 35, 85, 62, 90, 54, 32, 68].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  95, local model 13, internal_epoch   1,  Average loss: 0.0026, Accuracy: 5068/5308 (95.4785%), train_poison_data_count: 415
Global model norm: 42.96118967579198.
Norm before scaling: 42.94128099255133. Distance: 1.5162456067706411
___Test Local_ResNet_18 poisoned: True, epoch: 95: Average loss: 0.0285, Accuracy: 9821/9900 (99.2020%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  95, local model 36, internal_epoch   1,  Average loss: 0.0024, Accuracy: 5559/5777 (96.2264%), train_poison_data_count: 455
Global model norm: 42.96118967579198.
Norm before scaling: 42.93351538325347. Distance: 1.4861502221369038
___Test Local_ResNet_18 poisoned: True, epoch: 95: Average loss: 0.1945, Accuracy: 9461/9900 (95.5657%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  95, local model 58, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4832/5123 (94.3197%), train_poison_data_count: 403
Global model norm: 42.96118967579198.
Norm before scaling: 42.94798930283291. Distance: 1.6063644991783717
___Test Local_ResNet_18 poisoned: True, epoch: 95: Average loss: 0.2045, Accuracy: 9376/9900 (94.7071%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  95, local model 71, internal_epoch   1,  Average loss: 0.0025, Accuracy: 5285/5503 (96.0385%), train_poison_data_count: 430
Global model norm: 42.96118967579198.
Norm before scaling: 42.94017515774854. Distance: 1.4735038604841089
___Test Local_ResNet_18 poisoned: True, epoch: 95: Average loss: 0.1534, Accuracy: 9498/9900 (95.9394%)
___Train Local_ResNet_18,  epoch  95, local model 14, internal_epoch   1,  Average loss: 0.0031, Accuracy: 3966/4196 (94.5186%)
___Train Local_ResNet_18,  epoch  95, local model 14, internal_epoch   2,  Average loss: 0.0032, Accuracy: 3953/4196 (94.2088%)
___Test Local_ResNet_18 poisoned: False, epoch: 95: Average loss: 1.8813, Accuracy: 5709/10000 (57.0900%)
___Train Local_ResNet_18,  epoch  95, local model 47, internal_epoch   1,  Average loss: 0.0055, Accuracy: 4608/5123 (89.9473%)
___Train Local_ResNet_18,  epoch  95, local model 47, internal_epoch   2,  Average loss: 0.0090, Accuracy: 4250/5123 (82.9592%)
___Test Local_ResNet_18 poisoned: False, epoch: 95: Average loss: 2.2971, Accuracy: 4971/10000 (49.7100%)
___Train Local_ResNet_18,  epoch  95, local model 73, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4265/4605 (92.6167%)
___Train Local_ResNet_18,  epoch  95, local model 73, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4259/4605 (92.4864%)
___Test Local_ResNet_18 poisoned: False, epoch: 95: Average loss: 1.8764, Accuracy: 5739/10000 (57.3900%)
___Train Local_ResNet_18,  epoch  95, local model 97, internal_epoch   1,  Average loss: 0.0055, Accuracy: 4227/4736 (89.2525%)
___Train Local_ResNet_18,  epoch  95, local model 97, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4231/4736 (89.3370%)
___Test Local_ResNet_18 poisoned: False, epoch: 95: Average loss: 2.0049, Accuracy: 5362/10000 (53.6200%)
___Train Local_ResNet_18,  epoch  95, local model 20, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4346/4714 (92.1935%)
___Train Local_ResNet_18,  epoch  95, local model 20, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4376/4714 (92.8299%)
___Test Local_ResNet_18 poisoned: False, epoch: 95: Average loss: 1.9111, Accuracy: 5534/10000 (55.3400%)
___Train Local_ResNet_18,  epoch  95, local model 45, internal_epoch   1,  Average loss: 0.0053, Accuracy: 4923/5489 (89.6885%)
___Train Local_ResNet_18,  epoch  95, local model 45, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4926/5489 (89.7431%)
___Test Local_ResNet_18 poisoned: False, epoch: 95: Average loss: 2.2212, Accuracy: 5106/10000 (51.0600%)
___Train Local_ResNet_18,  epoch  95, local model 34, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4490/4911 (91.4274%)
___Train Local_ResNet_18,  epoch  95, local model 34, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4506/4911 (91.7532%)
___Test Local_ResNet_18 poisoned: False, epoch: 95: Average loss: 2.1648, Accuracy: 5178/10000 (51.7800%)
___Train Local_ResNet_18,  epoch  95, local model 76, internal_epoch   1,  Average loss: 0.0054, Accuracy: 3530/3959 (89.1639%)
___Train Local_ResNet_18,  epoch  95, local model 76, internal_epoch   2,  Average loss: 0.0041, Accuracy: 3640/3959 (91.9424%)
___Test Local_ResNet_18 poisoned: False, epoch: 95: Average loss: 2.0109, Accuracy: 5472/10000 (54.7200%)
___Train Local_ResNet_18,  epoch  95, local model 40, internal_epoch   1,  Average loss: 0.0043, Accuracy: 5436/5939 (91.5306%)
___Train Local_ResNet_18,  epoch  95, local model 40, internal_epoch   2,  Average loss: 0.0037, Accuracy: 5524/5939 (93.0123%)
___Test Local_ResNet_18 poisoned: False, epoch: 95: Average loss: 2.1159, Accuracy: 5262/10000 (52.6200%)
___Train Local_ResNet_18,  epoch  95, local model 35, internal_epoch   1,  Average loss: 0.0045, Accuracy: 5140/5615 (91.5405%)
___Train Local_ResNet_18,  epoch  95, local model 35, internal_epoch   2,  Average loss: 0.0047, Accuracy: 5059/5615 (90.0980%)
___Test Local_ResNet_18 poisoned: False, epoch: 95: Average loss: 2.3048, Accuracy: 5138/10000 (51.3800%)
___Train Local_ResNet_18,  epoch  95, local model 85, internal_epoch   1,  Average loss: 0.0050, Accuracy: 6308/6947 (90.8018%)
___Train Local_ResNet_18,  epoch  95, local model 85, internal_epoch   2,  Average loss: 0.0060, Accuracy: 6123/6947 (88.1388%)
___Test Local_ResNet_18 poisoned: False, epoch: 95: Average loss: 2.3791, Accuracy: 5001/10000 (50.0100%)
___Train Local_ResNet_18,  epoch  95, local model 62, internal_epoch   1,  Average loss: 0.0063, Accuracy: 4807/5504 (87.3365%)
___Train Local_ResNet_18,  epoch  95, local model 62, internal_epoch   2,  Average loss: 0.0062, Accuracy: 4824/5504 (87.6453%)
___Test Local_ResNet_18 poisoned: False, epoch: 95: Average loss: 2.1349, Accuracy: 5202/10000 (52.0200%)
___Train Local_ResNet_18,  epoch  95, local model 90, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4407/4748 (92.8180%)
___Train Local_ResNet_18,  epoch  95, local model 90, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4403/4748 (92.7338%)
___Test Local_ResNet_18 poisoned: False, epoch: 95: Average loss: 2.0658, Accuracy: 5445/10000 (54.4500%)
___Train Local_ResNet_18,  epoch  95, local model 54, internal_epoch   1,  Average loss: 0.0061, Accuracy: 4981/5645 (88.2374%)
___Train Local_ResNet_18,  epoch  95, local model 54, internal_epoch   2,  Average loss: 0.0067, Accuracy: 4923/5645 (87.2099%)
___Test Local_ResNet_18 poisoned: False, epoch: 95: Average loss: 2.1563, Accuracy: 5166/10000 (51.6600%)
___Train Local_ResNet_18,  epoch  95, local model 32, internal_epoch   1,  Average loss: 0.0059, Accuracy: 5372/6080 (88.3553%)
___Train Local_ResNet_18,  epoch  95, local model 32, internal_epoch   2,  Average loss: 0.0063, Accuracy: 5306/6080 (87.2697%)
___Test Local_ResNet_18 poisoned: False, epoch: 95: Average loss: 2.2517, Accuracy: 4961/10000 (49.6100%)
___Train Local_ResNet_18,  epoch  95, local model 68, internal_epoch   1,  Average loss: 0.0045, Accuracy: 3308/3589 (92.1705%)
___Train Local_ResNet_18,  epoch  95, local model 68, internal_epoch   2,  Average loss: 0.0052, Accuracy: 3246/3589 (90.4430%)
___Test Local_ResNet_18 poisoned: False, epoch: 95: Average loss: 2.0118, Accuracy: 5499/10000 (54.9900%)
time spent on training: 277.7894790172577
___Test Target_ResNet_18 poisoned: False, epoch: 95: Average loss: 1.1716, Accuracy: 6894/10000 (68.9400%)
___Test Target_ResNet_18 poisoned: True, epoch: 95: Average loss: 0.4655, Accuracy: 8733/9900 (88.2121%)
Done in 304.46940207481384 sec.
Server Epoch:96 choose agents : [13, 36, 58, 71, 19, 26, 11, 32, 40, 65, 21, 5, 17, 92, 12, 63, 44, 51, 82, 1].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  96, local model 13, internal_epoch   1,  Average loss: 0.0024, Accuracy: 5104/5308 (96.1567%), train_poison_data_count: 415
Global model norm: 42.98275055999936.
Norm before scaling: 42.96010140234774. Distance: 1.415741487472408
___Test Local_ResNet_18 poisoned: True, epoch: 96: Average loss: 0.1217, Accuracy: 9578/9900 (96.7475%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  96, local model 36, internal_epoch   1,  Average loss: 0.0024, Accuracy: 5564/5777 (96.3130%), train_poison_data_count: 455
Global model norm: 42.98275055999936.
Norm before scaling: 42.95723709399849. Distance: 1.5122525950715573
___Test Local_ResNet_18 poisoned: True, epoch: 96: Average loss: 0.0451, Accuracy: 9766/9900 (98.6465%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  96, local model 58, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4857/5123 (94.8077%), train_poison_data_count: 403
Global model norm: 42.98275055999936.
Norm before scaling: 42.965191614022714. Distance: 1.5277340285462484
___Test Local_ResNet_18 poisoned: True, epoch: 96: Average loss: 0.2851, Accuracy: 9182/9900 (92.7475%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  96, local model 71, internal_epoch   1,  Average loss: 0.0027, Accuracy: 5267/5503 (95.7114%), train_poison_data_count: 430
Global model norm: 42.98275055999936.
Norm before scaling: 42.9638832471167. Distance: 1.5754687928571756
___Test Local_ResNet_18 poisoned: True, epoch: 96: Average loss: 0.0893, Accuracy: 9665/9900 (97.6263%)
___Train Local_ResNet_18,  epoch  96, local model 19, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4821/5361 (89.9273%)
___Train Local_ResNet_18,  epoch  96, local model 19, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4820/5361 (89.9086%)
___Test Local_ResNet_18 poisoned: False, epoch: 96: Average loss: 2.1319, Accuracy: 5186/10000 (51.8600%)
___Train Local_ResNet_18,  epoch  96, local model 26, internal_epoch   1,  Average loss: 0.0041, Accuracy: 3753/4086 (91.8502%)
___Train Local_ResNet_18,  epoch  96, local model 26, internal_epoch   2,  Average loss: 0.0032, Accuracy: 3837/4086 (93.9060%)
___Test Local_ResNet_18 poisoned: False, epoch: 96: Average loss: 2.0344, Accuracy: 5484/10000 (54.8400%)
___Train Local_ResNet_18,  epoch  96, local model 11, internal_epoch   1,  Average loss: 0.0071, Accuracy: 4924/5702 (86.3557%)
___Train Local_ResNet_18,  epoch  96, local model 11, internal_epoch   2,  Average loss: 0.0089, Accuracy: 4704/5702 (82.4974%)
___Test Local_ResNet_18 poisoned: False, epoch: 96: Average loss: 2.1855, Accuracy: 5070/10000 (50.7000%)
___Train Local_ResNet_18,  epoch  96, local model 32, internal_epoch   1,  Average loss: 0.0061, Accuracy: 5325/6080 (87.5822%)
___Train Local_ResNet_18,  epoch  96, local model 32, internal_epoch   2,  Average loss: 0.0062, Accuracy: 5281/6080 (86.8586%)
___Test Local_ResNet_18 poisoned: False, epoch: 96: Average loss: 2.1999, Accuracy: 5047/10000 (50.4700%)
___Train Local_ResNet_18,  epoch  96, local model 40, internal_epoch   1,  Average loss: 0.0043, Accuracy: 5447/5939 (91.7158%)
___Train Local_ResNet_18,  epoch  96, local model 40, internal_epoch   2,  Average loss: 0.0043, Accuracy: 5462/5939 (91.9683%)
___Test Local_ResNet_18 poisoned: False, epoch: 96: Average loss: 1.9657, Accuracy: 5446/10000 (54.4600%)
___Train Local_ResNet_18,  epoch  96, local model 65, internal_epoch   1,  Average loss: 0.0053, Accuracy: 4903/5497 (89.1941%)
___Train Local_ResNet_18,  epoch  96, local model 65, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4939/5497 (89.8490%)
___Test Local_ResNet_18 poisoned: False, epoch: 96: Average loss: 2.1766, Accuracy: 5212/10000 (52.1200%)
___Train Local_ResNet_18,  epoch  96, local model 21, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4541/5038 (90.1350%)
___Train Local_ResNet_18,  epoch  96, local model 21, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4573/5038 (90.7701%)
___Test Local_ResNet_18 poisoned: False, epoch: 96: Average loss: 1.9197, Accuracy: 5674/10000 (56.7400%)
___Train Local_ResNet_18,  epoch  96, local model 5, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4637/4993 (92.8700%)
___Train Local_ResNet_18,  epoch  96, local model 5, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4598/4993 (92.0889%)
___Test Local_ResNet_18 poisoned: False, epoch: 96: Average loss: 2.1644, Accuracy: 5370/10000 (53.7000%)
___Train Local_ResNet_18,  epoch  96, local model 17, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4403/4903 (89.8022%)
___Train Local_ResNet_18,  epoch  96, local model 17, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4423/4903 (90.2101%)
___Test Local_ResNet_18 poisoned: False, epoch: 96: Average loss: 2.1651, Accuracy: 5154/10000 (51.5400%)
___Train Local_ResNet_18,  epoch  96, local model 92, internal_epoch   1,  Average loss: 0.0040, Accuracy: 6307/6812 (92.5866%)
___Train Local_ResNet_18,  epoch  96, local model 92, internal_epoch   2,  Average loss: 0.0046, Accuracy: 6181/6812 (90.7369%)
___Test Local_ResNet_18 poisoned: False, epoch: 96: Average loss: 2.1824, Accuracy: 5275/10000 (52.7500%)
___Train Local_ResNet_18,  epoch  96, local model 12, internal_epoch   1,  Average loss: 0.0051, Accuracy: 5002/5526 (90.5176%)
___Train Local_ResNet_18,  epoch  96, local model 12, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4950/5526 (89.5765%)
___Test Local_ResNet_18 poisoned: False, epoch: 96: Average loss: 1.9444, Accuracy: 5427/10000 (54.2700%)
___Train Local_ResNet_18,  epoch  96, local model 63, internal_epoch   1,  Average loss: 0.0043, Accuracy: 3607/3910 (92.2506%)
___Train Local_ResNet_18,  epoch  96, local model 63, internal_epoch   2,  Average loss: 0.0055, Accuracy: 3509/3910 (89.7442%)
___Test Local_ResNet_18 poisoned: False, epoch: 96: Average loss: 1.9693, Accuracy: 5622/10000 (56.2200%)
___Train Local_ResNet_18,  epoch  96, local model 44, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4720/5075 (93.0049%)
___Train Local_ResNet_18,  epoch  96, local model 44, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4630/5075 (91.2315%)
___Test Local_ResNet_18 poisoned: False, epoch: 96: Average loss: 2.1902, Accuracy: 5223/10000 (52.2300%)
___Train Local_ResNet_18,  epoch  96, local model 51, internal_epoch   1,  Average loss: 0.0045, Accuracy: 3760/4108 (91.5287%)
___Train Local_ResNet_18,  epoch  96, local model 51, internal_epoch   2,  Average loss: 0.0047, Accuracy: 3754/4108 (91.3827%)
___Test Local_ResNet_18 poisoned: False, epoch: 96: Average loss: 1.9457, Accuracy: 5510/10000 (55.1000%)
___Train Local_ResNet_18,  epoch  96, local model 82, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4961/5298 (93.6391%)
___Train Local_ResNet_18,  epoch  96, local model 82, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4959/5298 (93.6014%)
___Test Local_ResNet_18 poisoned: False, epoch: 96: Average loss: 2.1290, Accuracy: 5346/10000 (53.4600%)
___Train Local_ResNet_18,  epoch  96, local model 1, internal_epoch   1,  Average loss: 0.0040, Accuracy: 5008/5422 (92.3644%)
___Train Local_ResNet_18,  epoch  96, local model 1, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4972/5422 (91.7005%)
___Test Local_ResNet_18 poisoned: False, epoch: 96: Average loss: 1.9602, Accuracy: 5489/10000 (54.8900%)
time spent on training: 278.8922047615051
___Test Target_ResNet_18 poisoned: False, epoch: 96: Average loss: 1.1666, Accuracy: 6902/10000 (69.0200%)
___Test Target_ResNet_18 poisoned: True, epoch: 96: Average loss: 0.4652, Accuracy: 8724/9900 (88.1212%)
Done in 305.6317706108093 sec.
Server Epoch:97 choose agents : [13, 36, 58, 71, 40, 64, 16, 91, 86, 42, 49, 66, 2, 8, 83, 26, 43, 81, 28, 35].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  97, local model 13, internal_epoch   1,  Average loss: 0.0024, Accuracy: 5113/5308 (96.3263%), train_poison_data_count: 415
Global model norm: 43.0061626897457.
Norm before scaling: 42.98391067769936. Distance: 1.4322714879319571
___Test Local_ResNet_18 poisoned: True, epoch: 97: Average loss: 0.0538, Accuracy: 9746/9900 (98.4444%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  97, local model 36, internal_epoch   1,  Average loss: 0.0023, Accuracy: 5567/5777 (96.3649%), train_poison_data_count: 455
Global model norm: 43.0061626897457.
Norm before scaling: 42.97903854097076. Distance: 1.4659714897214569
___Test Local_ResNet_18 poisoned: True, epoch: 97: Average loss: 0.0862, Accuracy: 9667/9900 (97.6465%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  97, local model 58, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4869/5123 (95.0420%), train_poison_data_count: 403
Global model norm: 43.0061626897457.
Norm before scaling: 42.985109101782996. Distance: 1.4922418234957895
___Test Local_ResNet_18 poisoned: True, epoch: 97: Average loss: 0.2284, Accuracy: 9346/9900 (94.4040%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  97, local model 71, internal_epoch   1,  Average loss: 0.0027, Accuracy: 5245/5503 (95.3116%), train_poison_data_count: 430
Global model norm: 43.0061626897457.
Norm before scaling: 42.98584035124968. Distance: 1.5369619373927315
___Test Local_ResNet_18 poisoned: True, epoch: 97: Average loss: 0.1117, Accuracy: 9590/9900 (96.8687%)
___Train Local_ResNet_18,  epoch  97, local model 40, internal_epoch   1,  Average loss: 0.0044, Accuracy: 5431/5939 (91.4464%)
___Train Local_ResNet_18,  epoch  97, local model 40, internal_epoch   2,  Average loss: 0.0042, Accuracy: 5432/5939 (91.4632%)
___Test Local_ResNet_18 poisoned: False, epoch: 97: Average loss: 2.2864, Accuracy: 5120/10000 (51.2000%)
___Train Local_ResNet_18,  epoch  97, local model 64, internal_epoch   1,  Average loss: 0.0060, Accuracy: 4311/4894 (88.0875%)
___Train Local_ResNet_18,  epoch  97, local model 64, internal_epoch   2,  Average loss: 0.0059, Accuracy: 4336/4894 (88.5983%)
___Test Local_ResNet_18 poisoned: False, epoch: 97: Average loss: 2.0248, Accuracy: 5361/10000 (53.6100%)
___Train Local_ResNet_18,  epoch  97, local model 16, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4821/5353 (90.0616%)
___Train Local_ResNet_18,  epoch  97, local model 16, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4838/5353 (90.3792%)
___Test Local_ResNet_18 poisoned: False, epoch: 97: Average loss: 2.0057, Accuracy: 5351/10000 (53.5100%)
___Train Local_ResNet_18,  epoch  97, local model 91, internal_epoch   1,  Average loss: 0.0053, Accuracy: 4084/4527 (90.2143%)
___Train Local_ResNet_18,  epoch  97, local model 91, internal_epoch   2,  Average loss: 0.0056, Accuracy: 4040/4527 (89.2423%)
___Test Local_ResNet_18 poisoned: False, epoch: 97: Average loss: 2.1585, Accuracy: 5179/10000 (51.7900%)
___Train Local_ResNet_18,  epoch  97, local model 86, internal_epoch   1,  Average loss: 0.0046, Accuracy: 3591/3929 (91.3973%)
___Train Local_ResNet_18,  epoch  97, local model 86, internal_epoch   2,  Average loss: 0.0040, Accuracy: 3612/3929 (91.9318%)
___Test Local_ResNet_18 poisoned: False, epoch: 97: Average loss: 1.8051, Accuracy: 5880/10000 (58.8000%)
___Train Local_ResNet_18,  epoch  97, local model 42, internal_epoch   1,  Average loss: 0.0047, Accuracy: 5388/5907 (91.2138%)
___Train Local_ResNet_18,  epoch  97, local model 42, internal_epoch   2,  Average loss: 0.0049, Accuracy: 5309/5907 (89.8764%)
___Test Local_ResNet_18 poisoned: False, epoch: 97: Average loss: 2.2592, Accuracy: 5119/10000 (51.1900%)
___Train Local_ResNet_18,  epoch  97, local model 49, internal_epoch   1,  Average loss: 0.0053, Accuracy: 5092/5652 (90.0920%)
___Train Local_ResNet_18,  epoch  97, local model 49, internal_epoch   2,  Average loss: 0.0053, Accuracy: 5059/5652 (89.5081%)
___Test Local_ResNet_18 poisoned: False, epoch: 97: Average loss: 2.1406, Accuracy: 5198/10000 (51.9800%)
___Train Local_ResNet_18,  epoch  97, local model 66, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4442/4843 (91.7200%)
___Train Local_ResNet_18,  epoch  97, local model 66, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4411/4843 (91.0799%)
___Test Local_ResNet_18 poisoned: False, epoch: 97: Average loss: 2.0453, Accuracy: 5448/10000 (54.4800%)
___Train Local_ResNet_18,  epoch  97, local model 2, internal_epoch   1,  Average loss: 0.0045, Accuracy: 3622/3968 (91.2802%)
___Train Local_ResNet_18,  epoch  97, local model 2, internal_epoch   2,  Average loss: 0.0039, Accuracy: 3661/3968 (92.2631%)
___Test Local_ResNet_18 poisoned: False, epoch: 97: Average loss: 1.8800, Accuracy: 5684/10000 (56.8400%)
___Train Local_ResNet_18,  epoch  97, local model 8, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4472/4889 (91.4706%)
___Train Local_ResNet_18,  epoch  97, local model 8, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4475/4889 (91.5320%)
___Test Local_ResNet_18 poisoned: False, epoch: 97: Average loss: 2.3894, Accuracy: 5050/10000 (50.5000%)
___Train Local_ResNet_18,  epoch  97, local model 83, internal_epoch   1,  Average loss: 0.0049, Accuracy: 3224/3552 (90.7658%)
___Train Local_ResNet_18,  epoch  97, local model 83, internal_epoch   2,  Average loss: 0.0036, Accuracy: 3297/3552 (92.8209%)
___Test Local_ResNet_18 poisoned: False, epoch: 97: Average loss: 1.9314, Accuracy: 5654/10000 (56.5400%)
___Train Local_ResNet_18,  epoch  97, local model 26, internal_epoch   1,  Average loss: 0.0034, Accuracy: 3829/4086 (93.7102%)
___Train Local_ResNet_18,  epoch  97, local model 26, internal_epoch   2,  Average loss: 0.0030, Accuracy: 3869/4086 (94.6892%)
___Test Local_ResNet_18 poisoned: False, epoch: 97: Average loss: 1.8655, Accuracy: 5804/10000 (58.0400%)
___Train Local_ResNet_18,  epoch  97, local model 43, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4559/4979 (91.5646%)
___Train Local_ResNet_18,  epoch  97, local model 43, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4573/4979 (91.8458%)
___Test Local_ResNet_18 poisoned: False, epoch: 97: Average loss: 1.9804, Accuracy: 5449/10000 (54.4900%)
___Train Local_ResNet_18,  epoch  97, local model 81, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4643/5035 (92.2145%)
___Train Local_ResNet_18,  epoch  97, local model 81, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4660/5035 (92.5521%)
___Test Local_ResNet_18 poisoned: False, epoch: 97: Average loss: 1.9711, Accuracy: 5416/10000 (54.1600%)
___Train Local_ResNet_18,  epoch  97, local model 28, internal_epoch   1,  Average loss: 0.0056, Accuracy: 4619/5122 (90.1796%)
___Train Local_ResNet_18,  epoch  97, local model 28, internal_epoch   2,  Average loss: 0.0147, Accuracy: 3744/5122 (73.0964%)
___Test Local_ResNet_18 poisoned: False, epoch: 97: Average loss: 2.4597, Accuracy: 4531/10000 (45.3100%)
___Train Local_ResNet_18,  epoch  97, local model 35, internal_epoch   1,  Average loss: 0.0044, Accuracy: 5122/5615 (91.2199%)
___Train Local_ResNet_18,  epoch  97, local model 35, internal_epoch   2,  Average loss: 0.0040, Accuracy: 5185/5615 (92.3419%)
___Test Local_ResNet_18 poisoned: False, epoch: 97: Average loss: 2.1921, Accuracy: 5187/10000 (51.8700%)
time spent on training: 274.21016120910645
___Test Target_ResNet_18 poisoned: False, epoch: 97: Average loss: 1.1760, Accuracy: 6876/10000 (68.7600%)
___Test Target_ResNet_18 poisoned: True, epoch: 97: Average loss: 0.4207, Accuracy: 8827/9900 (89.1616%)
Done in 300.94800209999084 sec.
Server Epoch:98 choose agents : [13, 36, 58, 71, 48, 89, 35, 76, 39, 12, 31, 24, 1, 54, 37, 22, 21, 17, 10, 90].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  98, local model 13, internal_epoch   1,  Average loss: 0.0025, Accuracy: 5107/5308 (96.2133%), train_poison_data_count: 415
Global model norm: 43.02711660885348.
Norm before scaling: 43.0058334297148. Distance: 1.4866089724705784
___Test Local_ResNet_18 poisoned: True, epoch: 98: Average loss: 0.0704, Accuracy: 9712/9900 (98.1010%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  98, local model 36, internal_epoch   1,  Average loss: 0.0022, Accuracy: 5584/5777 (96.6592%), train_poison_data_count: 455
Global model norm: 43.02711660885348.
Norm before scaling: 42.997960241864234. Distance: 1.453064291721624
___Test Local_ResNet_18 poisoned: True, epoch: 98: Average loss: 0.0511, Accuracy: 9757/9900 (98.5556%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  98, local model 58, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4869/5123 (95.0420%), train_poison_data_count: 403
Global model norm: 43.02711660885348.
Norm before scaling: 43.008913047907875. Distance: 1.5132834840678284
___Test Local_ResNet_18 poisoned: True, epoch: 98: Average loss: 0.1585, Accuracy: 9509/9900 (96.0505%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  98, local model 71, internal_epoch   1,  Average loss: 0.0027, Accuracy: 5270/5503 (95.7659%), train_poison_data_count: 430
Global model norm: 43.02711660885348.
Norm before scaling: 43.007709610458214. Distance: 1.5352225641191621
___Test Local_ResNet_18 poisoned: True, epoch: 98: Average loss: 0.0437, Accuracy: 9779/9900 (98.7778%)
___Train Local_ResNet_18,  epoch  98, local model 48, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4489/4830 (92.9400%)
___Train Local_ResNet_18,  epoch  98, local model 48, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4482/4830 (92.7950%)
___Test Local_ResNet_18 poisoned: False, epoch: 98: Average loss: 2.0030, Accuracy: 5565/10000 (55.6500%)
___Train Local_ResNet_18,  epoch  98, local model 89, internal_epoch   1,  Average loss: 0.0054, Accuracy: 4307/4737 (90.9225%)
___Train Local_ResNet_18,  epoch  98, local model 89, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4285/4737 (90.4581%)
___Test Local_ResNet_18 poisoned: False, epoch: 98: Average loss: 2.1089, Accuracy: 5284/10000 (52.8400%)
___Train Local_ResNet_18,  epoch  98, local model 35, internal_epoch   1,  Average loss: 0.0047, Accuracy: 5111/5615 (91.0240%)
___Train Local_ResNet_18,  epoch  98, local model 35, internal_epoch   2,  Average loss: 0.0046, Accuracy: 5109/5615 (90.9884%)
___Test Local_ResNet_18 poisoned: False, epoch: 98: Average loss: 2.0814, Accuracy: 5283/10000 (52.8300%)
___Train Local_ResNet_18,  epoch  98, local model 76, internal_epoch   1,  Average loss: 0.0051, Accuracy: 3564/3959 (90.0227%)
___Train Local_ResNet_18,  epoch  98, local model 76, internal_epoch   2,  Average loss: 0.0045, Accuracy: 3609/3959 (91.1594%)
___Test Local_ResNet_18 poisoned: False, epoch: 98: Average loss: 1.9741, Accuracy: 5452/10000 (54.5200%)
___Train Local_ResNet_18,  epoch  98, local model 39, internal_epoch   1,  Average loss: 0.0043, Accuracy: 3844/4175 (92.0719%)
___Train Local_ResNet_18,  epoch  98, local model 39, internal_epoch   2,  Average loss: 0.0043, Accuracy: 3820/4175 (91.4970%)
___Test Local_ResNet_18 poisoned: False, epoch: 98: Average loss: 1.8904, Accuracy: 5657/10000 (56.5700%)
___Train Local_ResNet_18,  epoch  98, local model 12, internal_epoch   1,  Average loss: 0.0043, Accuracy: 5091/5526 (92.1281%)
___Train Local_ResNet_18,  epoch  98, local model 12, internal_epoch   2,  Average loss: 0.0057, Accuracy: 4911/5526 (88.8708%)
___Test Local_ResNet_18 poisoned: False, epoch: 98: Average loss: 2.1653, Accuracy: 5208/10000 (52.0800%)
___Train Local_ResNet_18,  epoch  98, local model 31, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4175/4537 (92.0212%)
___Train Local_ResNet_18,  epoch  98, local model 31, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4161/4537 (91.7126%)
___Test Local_ResNet_18 poisoned: False, epoch: 98: Average loss: 1.8940, Accuracy: 5614/10000 (56.1400%)
___Train Local_ResNet_18,  epoch  98, local model 24, internal_epoch   1,  Average loss: 0.0047, Accuracy: 3934/4313 (91.2126%)
___Train Local_ResNet_18,  epoch  98, local model 24, internal_epoch   2,  Average loss: 0.0043, Accuracy: 3971/4313 (92.0705%)
___Test Local_ResNet_18 poisoned: False, epoch: 98: Average loss: 1.8968, Accuracy: 5585/10000 (55.8500%)
___Train Local_ResNet_18,  epoch  98, local model 1, internal_epoch   1,  Average loss: 0.0035, Accuracy: 5082/5422 (93.7293%)
___Train Local_ResNet_18,  epoch  98, local model 1, internal_epoch   2,  Average loss: 0.0034, Accuracy: 5078/5422 (93.6555%)
___Test Local_ResNet_18 poisoned: False, epoch: 98: Average loss: 2.0568, Accuracy: 5534/10000 (55.3400%)
___Train Local_ResNet_18,  epoch  98, local model 54, internal_epoch   1,  Average loss: 0.0061, Accuracy: 4969/5645 (88.0248%)
___Train Local_ResNet_18,  epoch  98, local model 54, internal_epoch   2,  Average loss: 0.0074, Accuracy: 4817/5645 (85.3322%)
___Test Local_ResNet_18 poisoned: False, epoch: 98: Average loss: 2.0640, Accuracy: 5244/10000 (52.4400%)
___Train Local_ResNet_18,  epoch  98, local model 37, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4356/4741 (91.8794%)
___Train Local_ResNet_18,  epoch  98, local model 37, internal_epoch   2,  Average loss: 0.0096, Accuracy: 3857/4741 (81.3541%)
___Test Local_ResNet_18 poisoned: False, epoch: 98: Average loss: 2.6592, Accuracy: 4546/10000 (45.4600%)
___Train Local_ResNet_18,  epoch  98, local model 22, internal_epoch   1,  Average loss: 0.0043, Accuracy: 5221/5696 (91.6608%)
___Train Local_ResNet_18,  epoch  98, local model 22, internal_epoch   2,  Average loss: 0.0047, Accuracy: 5180/5696 (90.9410%)
___Test Local_ResNet_18 poisoned: False, epoch: 98: Average loss: 2.0114, Accuracy: 5462/10000 (54.6200%)
___Train Local_ResNet_18,  epoch  98, local model 21, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4568/5038 (90.6709%)
___Train Local_ResNet_18,  epoch  98, local model 21, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4621/5038 (91.7229%)
___Test Local_ResNet_18 poisoned: False, epoch: 98: Average loss: 1.9890, Accuracy: 5456/10000 (54.5600%)
___Train Local_ResNet_18,  epoch  98, local model 17, internal_epoch   1,  Average loss: 0.0054, Accuracy: 4395/4903 (89.6390%)
___Train Local_ResNet_18,  epoch  98, local model 17, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4412/4903 (89.9857%)
___Test Local_ResNet_18 poisoned: False, epoch: 98: Average loss: 2.0469, Accuracy: 5273/10000 (52.7300%)
___Train Local_ResNet_18,  epoch  98, local model 10, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4687/5068 (92.4822%)
___Train Local_ResNet_18,  epoch  98, local model 10, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4620/5068 (91.1602%)
___Test Local_ResNet_18 poisoned: False, epoch: 98: Average loss: 2.2488, Accuracy: 5123/10000 (51.2300%)
___Train Local_ResNet_18,  epoch  98, local model 90, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4420/4748 (93.0918%)
___Train Local_ResNet_18,  epoch  98, local model 90, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4403/4748 (92.7338%)
___Test Local_ResNet_18 poisoned: False, epoch: 98: Average loss: 2.1015, Accuracy: 5387/10000 (53.8700%)
time spent on training: 275.30978989601135
___Test Target_ResNet_18 poisoned: False, epoch: 98: Average loss: 1.1743, Accuracy: 6896/10000 (68.9600%)
___Test Target_ResNet_18 poisoned: True, epoch: 98: Average loss: 0.3947, Accuracy: 8878/9900 (89.6768%)
Done in 301.61863112449646 sec.
Server Epoch:99 choose agents : [13, 36, 58, 71, 83, 63, 46, 35, 25, 8, 56, 22, 31, 87, 5, 7, 10, 30, 82, 80].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  99, local model 13, internal_epoch   1,  Average loss: 0.0025, Accuracy: 5099/5308 (96.0625%), train_poison_data_count: 415
Global model norm: 43.04857925392254.
Norm before scaling: 43.025967586083986. Distance: 1.4746702472173072
___Test Local_ResNet_18 poisoned: True, epoch: 99: Average loss: 0.0239, Accuracy: 9826/9900 (99.2525%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  99, local model 36, internal_epoch   1,  Average loss: 0.0024, Accuracy: 5549/5777 (96.0533%), train_poison_data_count: 455
Global model norm: 43.04857925392254.
Norm before scaling: 43.02196562649349. Distance: 1.5049700256860603
___Test Local_ResNet_18 poisoned: True, epoch: 99: Average loss: 0.0818, Accuracy: 9680/9900 (97.7778%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  99, local model 58, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4867/5123 (95.0029%), train_poison_data_count: 403
Global model norm: 43.04857925392254.
Norm before scaling: 43.02978052138716. Distance: 1.542611382542025
___Test Local_ResNet_18 poisoned: True, epoch: 99: Average loss: 0.1273, Accuracy: 9577/9900 (96.7374%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  99, local model 71, internal_epoch   1,  Average loss: 0.0027, Accuracy: 5228/5503 (95.0027%), train_poison_data_count: 430
Global model norm: 43.04857925392254.
Norm before scaling: 43.03042590668767. Distance: 1.5554748535036502
___Test Local_ResNet_18 poisoned: True, epoch: 99: Average loss: 0.1420, Accuracy: 9532/9900 (96.2828%)
___Train Local_ResNet_18,  epoch  99, local model 83, internal_epoch   1,  Average loss: 0.0046, Accuracy: 3215/3552 (90.5124%)
___Train Local_ResNet_18,  epoch  99, local model 83, internal_epoch   2,  Average loss: 0.0035, Accuracy: 3308/3552 (93.1306%)
___Test Local_ResNet_18 poisoned: False, epoch: 99: Average loss: 1.8311, Accuracy: 5823/10000 (58.2300%)
___Train Local_ResNet_18,  epoch  99, local model 63, internal_epoch   1,  Average loss: 0.0040, Accuracy: 3654/3910 (93.4527%)
___Train Local_ResNet_18,  epoch  99, local model 63, internal_epoch   2,  Average loss: 0.0078, Accuracy: 3351/3910 (85.7033%)
___Test Local_ResNet_18 poisoned: False, epoch: 99: Average loss: 2.3504, Accuracy: 5044/10000 (50.4400%)
___Train Local_ResNet_18,  epoch  99, local model 46, internal_epoch   1,  Average loss: 0.0059, Accuracy: 4785/5399 (88.6275%)
___Train Local_ResNet_18,  epoch  99, local model 46, internal_epoch   2,  Average loss: 0.0058, Accuracy: 4799/5399 (88.8868%)
___Test Local_ResNet_18 poisoned: False, epoch: 99: Average loss: 2.2079, Accuracy: 5093/10000 (50.9300%)
___Train Local_ResNet_18,  epoch  99, local model 35, internal_epoch   1,  Average loss: 0.0045, Accuracy: 5126/5615 (91.2912%)
___Train Local_ResNet_18,  epoch  99, local model 35, internal_epoch   2,  Average loss: 0.0041, Accuracy: 5164/5615 (91.9679%)
___Test Local_ResNet_18 poisoned: False, epoch: 99: Average loss: 2.1596, Accuracy: 5247/10000 (52.4700%)
___Train Local_ResNet_18,  epoch  99, local model 25, internal_epoch   1,  Average loss: 0.0059, Accuracy: 5694/6419 (88.7054%)
___Train Local_ResNet_18,  epoch  99, local model 25, internal_epoch   2,  Average loss: 0.0069, Accuracy: 5508/6419 (85.8078%)
___Test Local_ResNet_18 poisoned: False, epoch: 99: Average loss: 2.3278, Accuracy: 4853/10000 (48.5300%)
___Train Local_ResNet_18,  epoch  99, local model 8, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4430/4889 (90.6116%)
___Train Local_ResNet_18,  epoch  99, local model 8, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4416/4889 (90.3252%)
___Test Local_ResNet_18 poisoned: False, epoch: 99: Average loss: 2.1268, Accuracy: 5334/10000 (53.3400%)
___Train Local_ResNet_18,  epoch  99, local model 56, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4900/5427 (90.2893%)
___Train Local_ResNet_18,  epoch  99, local model 56, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4914/5427 (90.5473%)
___Test Local_ResNet_18 poisoned: False, epoch: 99: Average loss: 2.1277, Accuracy: 5376/10000 (53.7600%)
___Train Local_ResNet_18,  epoch  99, local model 22, internal_epoch   1,  Average loss: 0.0041, Accuracy: 5260/5696 (92.3455%)
___Train Local_ResNet_18,  epoch  99, local model 22, internal_epoch   2,  Average loss: 0.0042, Accuracy: 5225/5696 (91.7310%)
___Test Local_ResNet_18 poisoned: False, epoch: 99: Average loss: 1.9363, Accuracy: 5583/10000 (55.8300%)
___Train Local_ResNet_18,  epoch  99, local model 31, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4158/4537 (91.6465%)
___Train Local_ResNet_18,  epoch  99, local model 31, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4133/4537 (91.0954%)
___Test Local_ResNet_18 poisoned: False, epoch: 99: Average loss: 1.9097, Accuracy: 5608/10000 (56.0800%)
___Train Local_ResNet_18,  epoch  99, local model 87, internal_epoch   1,  Average loss: 0.0052, Accuracy: 3593/3995 (89.9374%)
___Train Local_ResNet_18,  epoch  99, local model 87, internal_epoch   2,  Average loss: 0.0053, Accuracy: 3562/3995 (89.1615%)
___Test Local_ResNet_18 poisoned: False, epoch: 99: Average loss: 2.1169, Accuracy: 5303/10000 (53.0300%)
___Train Local_ResNet_18,  epoch  99, local model 5, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4704/4993 (94.2119%)
___Train Local_ResNet_18,  epoch  99, local model 5, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4675/4993 (93.6311%)
___Test Local_ResNet_18 poisoned: False, epoch: 99: Average loss: 2.0649, Accuracy: 5513/10000 (55.1300%)
___Train Local_ResNet_18,  epoch  99, local model 7, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4398/4869 (90.3266%)
___Train Local_ResNet_18,  epoch  99, local model 7, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4363/4869 (89.6077%)
___Test Local_ResNet_18 poisoned: False, epoch: 99: Average loss: 2.1609, Accuracy: 5363/10000 (53.6300%)
___Train Local_ResNet_18,  epoch  99, local model 10, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4715/5068 (93.0347%)
___Train Local_ResNet_18,  epoch  99, local model 10, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4619/5068 (91.1405%)
___Test Local_ResNet_18 poisoned: False, epoch: 99: Average loss: 2.0823, Accuracy: 5375/10000 (53.7500%)
___Train Local_ResNet_18,  epoch  99, local model 30, internal_epoch   1,  Average loss: 0.0039, Accuracy: 3491/3774 (92.5013%)
___Train Local_ResNet_18,  epoch  99, local model 30, internal_epoch   2,  Average loss: 0.0033, Accuracy: 3557/3774 (94.2501%)
___Test Local_ResNet_18 poisoned: False, epoch: 99: Average loss: 2.0964, Accuracy: 5365/10000 (53.6500%)
___Train Local_ResNet_18,  epoch  99, local model 82, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4952/5298 (93.4692%)
___Train Local_ResNet_18,  epoch  99, local model 82, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4916/5298 (92.7897%)
___Test Local_ResNet_18 poisoned: False, epoch: 99: Average loss: 2.0674, Accuracy: 5376/10000 (53.7600%)
___Train Local_ResNet_18,  epoch  99, local model 80, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4983/5461 (91.2470%)
___Train Local_ResNet_18,  epoch  99, local model 80, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4997/5461 (91.5034%)
___Test Local_ResNet_18 poisoned: False, epoch: 99: Average loss: 2.1563, Accuracy: 5311/10000 (53.1100%)
time spent on training: 278.09901785850525
___Test Target_ResNet_18 poisoned: False, epoch: 99: Average loss: 1.1806, Accuracy: 6879/10000 (68.7900%)
___Test Target_ResNet_18 poisoned: True, epoch: 99: Average loss: 0.3533, Accuracy: 8970/9900 (90.6061%)
Done in 304.4087200164795 sec.
Server Epoch:100 choose agents : [13, 36, 58, 71, 87, 99, 81, 52, 95, 3, 6, 0, 51, 78, 18, 89, 92, 40, 42, 66].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 100, local model 13, internal_epoch   1,  Average loss: 0.0023, Accuracy: 5121/5308 (96.4770%), train_poison_data_count: 415
Global model norm: 43.06984272712245.
Norm before scaling: 43.04729894301224. Distance: 1.418635524214932
___Test Local_ResNet_18 poisoned: True, epoch: 100: Average loss: 0.0799, Accuracy: 9696/9900 (97.9394%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 100, local model 36, internal_epoch   1,  Average loss: 0.0022, Accuracy: 5590/5777 (96.7630%), train_poison_data_count: 455
Global model norm: 43.06984272712245.
Norm before scaling: 43.040199119362526. Distance: 1.4253060162879156
___Test Local_ResNet_18 poisoned: True, epoch: 100: Average loss: 0.0592, Accuracy: 9743/9900 (98.4141%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 100, local model 58, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4848/5123 (94.6321%), train_poison_data_count: 403
Global model norm: 43.06984272712245.
Norm before scaling: 43.048433218167915. Distance: 1.5082925615367642
___Test Local_ResNet_18 poisoned: True, epoch: 100: Average loss: 0.1218, Accuracy: 9589/9900 (96.8586%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 100, local model 71, internal_epoch   1,  Average loss: 0.0024, Accuracy: 5298/5503 (96.2748%), train_poison_data_count: 430
Global model norm: 43.06984272712245.
Norm before scaling: 43.04624971188329. Distance: 1.482513143471516
___Test Local_ResNet_18 poisoned: True, epoch: 100: Average loss: 0.0550, Accuracy: 9728/9900 (98.2626%)
___Train Local_ResNet_18,  epoch 100, local model 87, internal_epoch   1,  Average loss: 0.0054, Accuracy: 3579/3995 (89.5870%)
___Train Local_ResNet_18,  epoch 100, local model 87, internal_epoch   2,  Average loss: 0.0059, Accuracy: 3521/3995 (88.1352%)
___Test Local_ResNet_18 poisoned: False, epoch: 100: Average loss: 2.1413, Accuracy: 5299/10000 (52.9900%)
___Train Local_ResNet_18,  epoch 100, local model 99, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4407/4851 (90.8472%)
___Train Local_ResNet_18,  epoch 100, local model 99, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4373/4851 (90.1464%)
___Test Local_ResNet_18 poisoned: False, epoch: 100: Average loss: 2.2028, Accuracy: 5239/10000 (52.3900%)
___Train Local_ResNet_18,  epoch 100, local model 81, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4650/5035 (92.3535%)
___Train Local_ResNet_18,  epoch 100, local model 81, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4666/5035 (92.6713%)
___Test Local_ResNet_18 poisoned: False, epoch: 100: Average loss: 2.0027, Accuracy: 5569/10000 (55.6900%)
___Train Local_ResNet_18,  epoch 100, local model 52, internal_epoch   1,  Average loss: 0.0041, Accuracy: 3815/4130 (92.3729%)
___Train Local_ResNet_18,  epoch 100, local model 52, internal_epoch   2,  Average loss: 0.0037, Accuracy: 3862/4130 (93.5109%)
___Test Local_ResNet_18 poisoned: False, epoch: 100: Average loss: 1.9112, Accuracy: 5681/10000 (56.8100%)
___Train Local_ResNet_18,  epoch 100, local model 95, internal_epoch   1,  Average loss: 0.0055, Accuracy: 4484/5018 (89.3583%)
___Train Local_ResNet_18,  epoch 100, local model 95, internal_epoch   2,  Average loss: 0.0057, Accuracy: 4455/5018 (88.7804%)
___Test Local_ResNet_18 poisoned: False, epoch: 100: Average loss: 2.2721, Accuracy: 5133/10000 (51.3300%)
___Train Local_ResNet_18,  epoch 100, local model 3, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4988/5346 (93.3034%)
___Train Local_ResNet_18,  epoch 100, local model 3, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4957/5346 (92.7235%)
___Test Local_ResNet_18 poisoned: False, epoch: 100: Average loss: 2.1665, Accuracy: 5324/10000 (53.2400%)
___Train Local_ResNet_18,  epoch 100, local model 6, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4569/4929 (92.6963%)
___Train Local_ResNet_18,  epoch 100, local model 6, internal_epoch   2,  Average loss: 0.0058, Accuracy: 4482/4929 (90.9312%)
___Test Local_ResNet_18 poisoned: False, epoch: 100: Average loss: 2.1327, Accuracy: 5421/10000 (54.2100%)
___Train Local_ResNet_18,  epoch 100, local model 0, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4936/5454 (90.5024%)
___Train Local_ResNet_18,  epoch 100, local model 0, internal_epoch   2,  Average loss: 0.0056, Accuracy: 4879/5454 (89.4573%)
___Test Local_ResNet_18 poisoned: False, epoch: 100: Average loss: 2.2134, Accuracy: 5238/10000 (52.3800%)
___Train Local_ResNet_18,  epoch 100, local model 51, internal_epoch   1,  Average loss: 0.0041, Accuracy: 3802/4108 (92.5511%)
___Train Local_ResNet_18,  epoch 100, local model 51, internal_epoch   2,  Average loss: 0.0044, Accuracy: 3772/4108 (91.8208%)
___Test Local_ResNet_18 poisoned: False, epoch: 100: Average loss: 1.8955, Accuracy: 5699/10000 (56.9900%)
___Train Local_ResNet_18,  epoch 100, local model 78, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4068/4368 (93.1319%)
___Train Local_ResNet_18,  epoch 100, local model 78, internal_epoch   2,  Average loss: 0.0048, Accuracy: 3964/4368 (90.7509%)
___Test Local_ResNet_18 poisoned: False, epoch: 100: Average loss: 2.0546, Accuracy: 5344/10000 (53.4400%)
___Train Local_ResNet_18,  epoch 100, local model 18, internal_epoch   1,  Average loss: 0.0045, Accuracy: 3910/4249 (92.0217%)
___Train Local_ResNet_18,  epoch 100, local model 18, internal_epoch   2,  Average loss: 0.0045, Accuracy: 3879/4249 (91.2921%)
___Test Local_ResNet_18 poisoned: False, epoch: 100: Average loss: 1.9314, Accuracy: 5695/10000 (56.9500%)
___Train Local_ResNet_18,  epoch 100, local model 89, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4329/4737 (91.3870%)
___Train Local_ResNet_18,  epoch 100, local model 89, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4350/4737 (91.8303%)
___Test Local_ResNet_18 poisoned: False, epoch: 100: Average loss: 2.0809, Accuracy: 5432/10000 (54.3200%)
___Train Local_ResNet_18,  epoch 100, local model 92, internal_epoch   1,  Average loss: 0.0039, Accuracy: 6298/6812 (92.4545%)
___Train Local_ResNet_18,  epoch 100, local model 92, internal_epoch   2,  Average loss: 0.0041, Accuracy: 6246/6812 (91.6911%)
___Test Local_ResNet_18 poisoned: False, epoch: 100: Average loss: 2.2427, Accuracy: 5284/10000 (52.8400%)
___Train Local_ResNet_18,  epoch 100, local model 40, internal_epoch   1,  Average loss: 0.0039, Accuracy: 5475/5939 (92.1872%)
___Train Local_ResNet_18,  epoch 100, local model 40, internal_epoch   2,  Average loss: 0.0041, Accuracy: 5472/5939 (92.1367%)
___Test Local_ResNet_18 poisoned: False, epoch: 100: Average loss: 1.9879, Accuracy: 5411/10000 (54.1100%)
___Train Local_ResNet_18,  epoch 100, local model 42, internal_epoch   1,  Average loss: 0.0049, Accuracy: 5346/5907 (90.5028%)
___Train Local_ResNet_18,  epoch 100, local model 42, internal_epoch   2,  Average loss: 0.0051, Accuracy: 5311/5907 (89.9103%)
___Test Local_ResNet_18 poisoned: False, epoch: 100: Average loss: 2.3099, Accuracy: 5050/10000 (50.5000%)
___Train Local_ResNet_18,  epoch 100, local model 66, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4437/4843 (91.6168%)
___Train Local_ResNet_18,  epoch 100, local model 66, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4434/4843 (91.5548%)
___Test Local_ResNet_18 poisoned: False, epoch: 100: Average loss: 2.0478, Accuracy: 5374/10000 (53.7400%)
time spent on training: 271.25141644477844
___Test Target_ResNet_18 poisoned: False, epoch: 100: Average loss: 1.1871, Accuracy: 6867/10000 (68.6700%)
___Test Target_ResNet_18 poisoned: True, epoch: 100: Average loss: 0.3086, Accuracy: 9065/9900 (91.5657%)
Done in 297.70999574661255 sec.
Server Epoch:101 choose agents : [13, 36, 58, 71, 92, 3, 12, 50, 95, 31, 5, 38, 72, 61, 32, 94, 7, 57, 22, 8].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 101, local model 13, internal_epoch   1,  Average loss: 0.0024, Accuracy: 5122/5308 (96.4959%), train_poison_data_count: 415
Global model norm: 43.090748683102646.
Norm before scaling: 43.06770565641746. Distance: 1.4259467878003667
___Test Local_ResNet_18 poisoned: True, epoch: 101: Average loss: 0.0426, Accuracy: 9776/9900 (98.7475%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 101, local model 36, internal_epoch   1,  Average loss: 0.0022, Accuracy: 5571/5777 (96.4341%), train_poison_data_count: 455
Global model norm: 43.090748683102646.
Norm before scaling: 43.06110671049703. Distance: 1.4596656526218077
___Test Local_ResNet_18 poisoned: True, epoch: 101: Average loss: 0.0472, Accuracy: 9760/9900 (98.5859%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 101, local model 58, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4883/5123 (95.3152%), train_poison_data_count: 403
Global model norm: 43.090748683102646.
Norm before scaling: 43.06946577142486. Distance: 1.4810277844591044
___Test Local_ResNet_18 poisoned: True, epoch: 101: Average loss: 0.1004, Accuracy: 9649/9900 (97.4646%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 101, local model 71, internal_epoch   1,  Average loss: 0.0025, Accuracy: 5269/5503 (95.7478%), train_poison_data_count: 430
Global model norm: 43.090748683102646.
Norm before scaling: 43.07051585409095. Distance: 1.521377892740703
___Test Local_ResNet_18 poisoned: True, epoch: 101: Average loss: 0.0270, Accuracy: 9823/9900 (99.2222%)
___Train Local_ResNet_18,  epoch 101, local model 92, internal_epoch   1,  Average loss: 0.0038, Accuracy: 6329/6812 (92.9096%)
___Train Local_ResNet_18,  epoch 101, local model 92, internal_epoch   2,  Average loss: 0.0045, Accuracy: 6209/6812 (91.1480%)
___Test Local_ResNet_18 poisoned: False, epoch: 101: Average loss: 2.0884, Accuracy: 5357/10000 (53.5700%)
___Train Local_ResNet_18,  epoch 101, local model 3, internal_epoch   1,  Average loss: 0.0036, Accuracy: 5002/5346 (93.5653%)
___Train Local_ResNet_18,  epoch 101, local model 3, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4880/5346 (91.2832%)
___Test Local_ResNet_18 poisoned: False, epoch: 101: Average loss: 2.1091, Accuracy: 5278/10000 (52.7800%)
___Train Local_ResNet_18,  epoch 101, local model 12, internal_epoch   1,  Average loss: 0.0047, Accuracy: 5040/5526 (91.2052%)
___Train Local_ResNet_18,  epoch 101, local model 12, internal_epoch   2,  Average loss: 0.0059, Accuracy: 4868/5526 (88.0927%)
___Test Local_ResNet_18 poisoned: False, epoch: 101: Average loss: 2.2764, Accuracy: 5109/10000 (51.0900%)
___Train Local_ResNet_18,  epoch 101, local model 50, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4408/4757 (92.6634%)
___Train Local_ResNet_18,  epoch 101, local model 50, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4343/4757 (91.2970%)
___Test Local_ResNet_18 poisoned: False, epoch: 101: Average loss: 2.2259, Accuracy: 5228/10000 (52.2800%)
___Train Local_ResNet_18,  epoch 101, local model 95, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4575/5018 (91.1718%)
___Train Local_ResNet_18,  epoch 101, local model 95, internal_epoch   2,  Average loss: 0.0056, Accuracy: 4470/5018 (89.0793%)
___Test Local_ResNet_18 poisoned: False, epoch: 101: Average loss: 2.1624, Accuracy: 5274/10000 (52.7400%)
___Train Local_ResNet_18,  epoch 101, local model 31, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4201/4537 (92.5942%)
___Train Local_ResNet_18,  epoch 101, local model 31, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4234/4537 (93.3216%)
___Test Local_ResNet_18 poisoned: False, epoch: 101: Average loss: 1.9338, Accuracy: 5716/10000 (57.1600%)
___Train Local_ResNet_18,  epoch 101, local model 5, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4677/4993 (93.6711%)
___Train Local_ResNet_18,  epoch 101, local model 5, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4621/4993 (92.5496%)
___Test Local_ResNet_18 poisoned: False, epoch: 101: Average loss: 1.9531, Accuracy: 5612/10000 (56.1200%)
___Train Local_ResNet_18,  epoch 101, local model 38, internal_epoch   1,  Average loss: 0.0057, Accuracy: 5559/6235 (89.1580%)
___Train Local_ResNet_18,  epoch 101, local model 38, internal_epoch   2,  Average loss: 0.0060, Accuracy: 5483/6235 (87.9391%)
___Test Local_ResNet_18 poisoned: False, epoch: 101: Average loss: 2.2129, Accuracy: 5155/10000 (51.5500%)
___Train Local_ResNet_18,  epoch 101, local model 72, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4749/5193 (91.4500%)
___Train Local_ResNet_18,  epoch 101, local model 72, internal_epoch   2,  Average loss: 0.0067, Accuracy: 4505/5193 (86.7514%)
___Test Local_ResNet_18 poisoned: False, epoch: 101: Average loss: 2.4784, Accuracy: 4778/10000 (47.7800%)
___Train Local_ResNet_18,  epoch 101, local model 61, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4087/4485 (91.1260%)
___Train Local_ResNet_18,  epoch 101, local model 61, internal_epoch   2,  Average loss: 0.0086, Accuracy: 3789/4485 (84.4816%)
___Test Local_ResNet_18 poisoned: False, epoch: 101: Average loss: 2.3030, Accuracy: 4941/10000 (49.4100%)
___Train Local_ResNet_18,  epoch 101, local model 32, internal_epoch   1,  Average loss: 0.0058, Accuracy: 5367/6080 (88.2730%)
___Train Local_ResNet_18,  epoch 101, local model 32, internal_epoch   2,  Average loss: 0.0056, Accuracy: 5377/6080 (88.4375%)
___Test Local_ResNet_18 poisoned: False, epoch: 101: Average loss: 2.1202, Accuracy: 5271/10000 (52.7100%)
___Train Local_ResNet_18,  epoch 101, local model 94, internal_epoch   1,  Average loss: 0.0055, Accuracy: 4648/5224 (88.9740%)
___Train Local_ResNet_18,  epoch 101, local model 94, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4666/5224 (89.3185%)
___Test Local_ResNet_18 poisoned: False, epoch: 101: Average loss: 2.1249, Accuracy: 5269/10000 (52.6900%)
___Train Local_ResNet_18,  epoch 101, local model 7, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4428/4869 (90.9427%)
___Train Local_ResNet_18,  epoch 101, local model 7, internal_epoch   2,  Average loss: 0.0059, Accuracy: 4304/4869 (88.3960%)
___Test Local_ResNet_18 poisoned: False, epoch: 101: Average loss: 2.2199, Accuracy: 5207/10000 (52.0700%)
___Train Local_ResNet_18,  epoch 101, local model 57, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4532/4956 (91.4447%)
___Train Local_ResNet_18,  epoch 101, local model 57, internal_epoch   2,  Average loss: 0.0054, Accuracy: 4426/4956 (89.3059%)
___Test Local_ResNet_18 poisoned: False, epoch: 101: Average loss: 2.1423, Accuracy: 5263/10000 (52.6300%)
___Train Local_ResNet_18,  epoch 101, local model 22, internal_epoch   1,  Average loss: 0.0044, Accuracy: 5211/5696 (91.4853%)
___Train Local_ResNet_18,  epoch 101, local model 22, internal_epoch   2,  Average loss: 0.0046, Accuracy: 5169/5696 (90.7479%)
___Test Local_ResNet_18 poisoned: False, epoch: 101: Average loss: 1.9960, Accuracy: 5443/10000 (54.4300%)
___Train Local_ResNet_18,  epoch 101, local model 8, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4489/4889 (91.8184%)
___Train Local_ResNet_18,  epoch 101, local model 8, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4471/4889 (91.4502%)
___Test Local_ResNet_18 poisoned: False, epoch: 101: Average loss: 2.0431, Accuracy: 5343/10000 (53.4300%)
time spent on training: 277.313108921051
___Test Target_ResNet_18 poisoned: False, epoch: 101: Average loss: 1.1889, Accuracy: 6865/10000 (68.6500%)
___Test Target_ResNet_18 poisoned: True, epoch: 101: Average loss: 0.2887, Accuracy: 9117/9900 (92.0909%)
Done in 303.8627071380615 sec.
Server Epoch:102 choose agents : [13, 36, 58, 71, 1, 65, 25, 70, 59, 5, 76, 49, 11, 2, 40, 47, 23, 83, 28, 92].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 102, local model 13, internal_epoch   1,  Average loss: 0.0020, Accuracy: 5150/5308 (97.0234%), train_poison_data_count: 415
Global model norm: 43.11535925979931.
Norm before scaling: 43.08787039522042. Distance: 1.334006715646108
___Test Local_ResNet_18 poisoned: True, epoch: 102: Average loss: 0.1253, Accuracy: 9565/9900 (96.6162%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 102, local model 36, internal_epoch   1,  Average loss: 0.0023, Accuracy: 5567/5777 (96.3649%), train_poison_data_count: 455
Global model norm: 43.11535925979931.
Norm before scaling: 43.086871731711966. Distance: 1.4781905790786187
___Test Local_ResNet_18 poisoned: True, epoch: 102: Average loss: 0.0538, Accuracy: 9762/9900 (98.6061%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 102, local model 58, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4888/5123 (95.4128%), train_poison_data_count: 403
Global model norm: 43.11535925979931.
Norm before scaling: 43.094606873732616. Distance: 1.510936682621006
___Test Local_ResNet_18 poisoned: True, epoch: 102: Average loss: 0.1225, Accuracy: 9595/9900 (96.9192%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 102, local model 71, internal_epoch   1,  Average loss: 0.0026, Accuracy: 5280/5503 (95.9477%), train_poison_data_count: 430
Global model norm: 43.11535925979931.
Norm before scaling: 43.092136765035946. Distance: 1.5164272112333628
___Test Local_ResNet_18 poisoned: True, epoch: 102: Average loss: 0.0406, Accuracy: 9788/9900 (98.8687%)
___Train Local_ResNet_18,  epoch 102, local model 1, internal_epoch   1,  Average loss: 0.0036, Accuracy: 5057/5422 (93.2682%)
___Train Local_ResNet_18,  epoch 102, local model 1, internal_epoch   2,  Average loss: 0.0034, Accuracy: 5055/5422 (93.2313%)
___Test Local_ResNet_18 poisoned: False, epoch: 102: Average loss: 1.9197, Accuracy: 5690/10000 (56.9000%)
___Train Local_ResNet_18,  epoch 102, local model 65, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4994/5497 (90.8496%)
___Train Local_ResNet_18,  epoch 102, local model 65, internal_epoch   2,  Average loss: 0.0054, Accuracy: 4906/5497 (89.2487%)
___Test Local_ResNet_18 poisoned: False, epoch: 102: Average loss: 2.0707, Accuracy: 5357/10000 (53.5700%)
___Train Local_ResNet_18,  epoch 102, local model 25, internal_epoch   1,  Average loss: 0.0059, Accuracy: 5709/6419 (88.9391%)
___Train Local_ResNet_18,  epoch 102, local model 25, internal_epoch   2,  Average loss: 0.0069, Accuracy: 5541/6419 (86.3219%)
___Test Local_ResNet_18 poisoned: False, epoch: 102: Average loss: 2.3310, Accuracy: 4991/10000 (49.9100%)
___Train Local_ResNet_18,  epoch 102, local model 70, internal_epoch   1,  Average loss: 0.0040, Accuracy: 5420/5871 (92.3182%)
___Train Local_ResNet_18,  epoch 102, local model 70, internal_epoch   2,  Average loss: 0.0045, Accuracy: 5367/5871 (91.4154%)
___Test Local_ResNet_18 poisoned: False, epoch: 102: Average loss: 2.0873, Accuracy: 5326/10000 (53.2600%)
___Train Local_ResNet_18,  epoch 102, local model 59, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4146/4397 (94.2916%)
___Train Local_ResNet_18,  epoch 102, local model 59, internal_epoch   2,  Average loss: 0.0026, Accuracy: 4196/4397 (95.4287%)
___Test Local_ResNet_18 poisoned: False, epoch: 102: Average loss: 1.8213, Accuracy: 5849/10000 (58.4900%)
___Train Local_ResNet_18,  epoch 102, local model 5, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4701/4993 (94.1518%)
___Train Local_ResNet_18,  epoch 102, local model 5, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4644/4993 (93.0102%)
___Test Local_ResNet_18 poisoned: False, epoch: 102: Average loss: 2.0232, Accuracy: 5541/10000 (55.4100%)
___Train Local_ResNet_18,  epoch 102, local model 76, internal_epoch   1,  Average loss: 0.0049, Accuracy: 3583/3959 (90.5027%)
___Train Local_ResNet_18,  epoch 102, local model 76, internal_epoch   2,  Average loss: 0.0044, Accuracy: 3601/3959 (90.9573%)
___Test Local_ResNet_18 poisoned: False, epoch: 102: Average loss: 2.0781, Accuracy: 5293/10000 (52.9300%)
___Train Local_ResNet_18,  epoch 102, local model 49, internal_epoch   1,  Average loss: 0.0054, Accuracy: 5043/5652 (89.2251%)
___Train Local_ResNet_18,  epoch 102, local model 49, internal_epoch   2,  Average loss: 0.0059, Accuracy: 5027/5652 (88.9420%)
___Test Local_ResNet_18 poisoned: False, epoch: 102: Average loss: 2.1473, Accuracy: 5238/10000 (52.3800%)
___Train Local_ResNet_18,  epoch 102, local model 11, internal_epoch   1,  Average loss: 0.0069, Accuracy: 4931/5702 (86.4784%)
___Train Local_ResNet_18,  epoch 102, local model 11, internal_epoch   2,  Average loss: 0.0094, Accuracy: 4682/5702 (82.1115%)
___Test Local_ResNet_18 poisoned: False, epoch: 102: Average loss: 2.3068, Accuracy: 5153/10000 (51.5300%)
___Train Local_ResNet_18,  epoch 102, local model 2, internal_epoch   1,  Average loss: 0.0043, Accuracy: 3623/3968 (91.3054%)
___Train Local_ResNet_18,  epoch 102, local model 2, internal_epoch   2,  Average loss: 0.0040, Accuracy: 3677/3968 (92.6663%)
___Test Local_ResNet_18 poisoned: False, epoch: 102: Average loss: 1.8404, Accuracy: 5669/10000 (56.6900%)
___Train Local_ResNet_18,  epoch 102, local model 40, internal_epoch   1,  Average loss: 0.0037, Accuracy: 5508/5939 (92.7429%)
___Train Local_ResNet_18,  epoch 102, local model 40, internal_epoch   2,  Average loss: 0.0040, Accuracy: 5461/5939 (91.9515%)
___Test Local_ResNet_18 poisoned: False, epoch: 102: Average loss: 2.1158, Accuracy: 5245/10000 (52.4500%)
___Train Local_ResNet_18,  epoch 102, local model 47, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4615/5123 (90.0839%)
___Train Local_ResNet_18,  epoch 102, local model 47, internal_epoch   2,  Average loss: 0.0071, Accuracy: 4488/5123 (87.6049%)
___Test Local_ResNet_18 poisoned: False, epoch: 102: Average loss: 2.1775, Accuracy: 5162/10000 (51.6200%)
___Train Local_ResNet_18,  epoch 102, local model 23, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4277/4549 (94.0207%)
___Train Local_ResNet_18,  epoch 102, local model 23, internal_epoch   2,  Average loss: 0.0066, Accuracy: 3982/4549 (87.5357%)
___Test Local_ResNet_18 poisoned: False, epoch: 102: Average loss: 2.0077, Accuracy: 5365/10000 (53.6500%)
___Train Local_ResNet_18,  epoch 102, local model 83, internal_epoch   1,  Average loss: 0.0046, Accuracy: 3217/3552 (90.5687%)
___Train Local_ResNet_18,  epoch 102, local model 83, internal_epoch   2,  Average loss: 0.0041, Accuracy: 3278/3552 (92.2860%)
___Test Local_ResNet_18 poisoned: False, epoch: 102: Average loss: 1.8776, Accuracy: 5726/10000 (57.2600%)
___Train Local_ResNet_18,  epoch 102, local model 28, internal_epoch   1,  Average loss: 0.0058, Accuracy: 4580/5122 (89.4182%)
___Train Local_ResNet_18,  epoch 102, local model 28, internal_epoch   2,  Average loss: 0.0110, Accuracy: 4112/5122 (80.2811%)
___Test Local_ResNet_18 poisoned: False, epoch: 102: Average loss: 2.3743, Accuracy: 4820/10000 (48.2000%)
___Train Local_ResNet_18,  epoch 102, local model 92, internal_epoch   1,  Average loss: 0.0038, Accuracy: 6329/6812 (92.9096%)
___Train Local_ResNet_18,  epoch 102, local model 92, internal_epoch   2,  Average loss: 0.0040, Accuracy: 6293/6812 (92.3811%)
___Test Local_ResNet_18 poisoned: False, epoch: 102: Average loss: 2.2097, Accuracy: 5212/10000 (52.1200%)
time spent on training: 273.60018706321716
___Test Target_ResNet_18 poisoned: False, epoch: 102: Average loss: 1.1851, Accuracy: 6875/10000 (68.7500%)
___Test Target_ResNet_18 poisoned: True, epoch: 102: Average loss: 0.2740, Accuracy: 9149/9900 (92.4141%)
Done in 300.19238209724426 sec.
Server Epoch:103 choose agents : [13, 36, 58, 71, 55, 74, 81, 88, 47, 3, 20, 49, 91, 24, 85, 5, 96, 21, 80, 9].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 103, local model 13, internal_epoch   1,  Average loss: 0.0022, Accuracy: 5129/5308 (96.6277%), train_poison_data_count: 415
Global model norm: 43.13725199599095.
Norm before scaling: 43.111931896807874. Distance: 1.390707849327709
___Test Local_ResNet_18 poisoned: True, epoch: 103: Average loss: 0.1090, Accuracy: 9611/9900 (97.0808%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 103, local model 36, internal_epoch   1,  Average loss: 0.0023, Accuracy: 5560/5777 (96.2437%), train_poison_data_count: 455
Global model norm: 43.13725199599095.
Norm before scaling: 43.10826498208464. Distance: 1.4770326219183303
___Test Local_ResNet_18 poisoned: True, epoch: 103: Average loss: 0.0882, Accuracy: 9671/9900 (97.6869%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 103, local model 58, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4867/5123 (95.0029%), train_poison_data_count: 403
Global model norm: 43.13725199599095.
Norm before scaling: 43.1156622023649. Distance: 1.5026530010501231
___Test Local_ResNet_18 poisoned: True, epoch: 103: Average loss: 0.1550, Accuracy: 9505/9900 (96.0101%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 103, local model 71, internal_epoch   1,  Average loss: 0.0025, Accuracy: 5266/5503 (95.6933%), train_poison_data_count: 430
Global model norm: 43.13725199599095.
Norm before scaling: 43.113329206562526. Distance: 1.495042715578732
___Test Local_ResNet_18 poisoned: True, epoch: 103: Average loss: 0.0343, Accuracy: 9809/9900 (99.0808%)
___Train Local_ResNet_18,  epoch 103, local model 55, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4352/4731 (91.9890%)
___Train Local_ResNet_18,  epoch 103, local model 55, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4390/4731 (92.7922%)
___Test Local_ResNet_18 poisoned: False, epoch: 103: Average loss: 1.9557, Accuracy: 5582/10000 (55.8200%)
___Train Local_ResNet_18,  epoch 103, local model 74, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4358/4797 (90.8484%)
___Train Local_ResNet_18,  epoch 103, local model 74, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4318/4797 (90.0146%)
___Test Local_ResNet_18 poisoned: False, epoch: 103: Average loss: 1.9234, Accuracy: 5539/10000 (55.3900%)
___Train Local_ResNet_18,  epoch 103, local model 81, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4659/5035 (92.5323%)
___Train Local_ResNet_18,  epoch 103, local model 81, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4610/5035 (91.5591%)
___Test Local_ResNet_18 poisoned: False, epoch: 103: Average loss: 2.0235, Accuracy: 5373/10000 (53.7300%)
___Train Local_ResNet_18,  epoch 103, local model 88, internal_epoch   1,  Average loss: 0.0050, Accuracy: 4855/5362 (90.5446%)
___Train Local_ResNet_18,  epoch 103, local model 88, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4828/5362 (90.0410%)
___Test Local_ResNet_18 poisoned: False, epoch: 103: Average loss: 2.0965, Accuracy: 5311/10000 (53.1100%)
___Train Local_ResNet_18,  epoch 103, local model 47, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4656/5123 (90.8842%)
___Train Local_ResNet_18,  epoch 103, local model 47, internal_epoch   2,  Average loss: 0.0067, Accuracy: 4510/5123 (88.0344%)
___Test Local_ResNet_18 poisoned: False, epoch: 103: Average loss: 2.1793, Accuracy: 5157/10000 (51.5700%)
___Train Local_ResNet_18,  epoch 103, local model 3, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4947/5346 (92.5365%)
___Train Local_ResNet_18,  epoch 103, local model 3, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4936/5346 (92.3307%)
___Test Local_ResNet_18 poisoned: False, epoch: 103: Average loss: 1.9968, Accuracy: 5513/10000 (55.1300%)
___Train Local_ResNet_18,  epoch 103, local model 20, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4391/4714 (93.1481%)
___Train Local_ResNet_18,  epoch 103, local model 20, internal_epoch   2,  Average loss: 0.0033, Accuracy: 4408/4714 (93.5087%)
___Test Local_ResNet_18 poisoned: False, epoch: 103: Average loss: 1.8914, Accuracy: 5651/10000 (56.5100%)
___Train Local_ResNet_18,  epoch 103, local model 49, internal_epoch   1,  Average loss: 0.0053, Accuracy: 5088/5652 (90.0212%)
___Train Local_ResNet_18,  epoch 103, local model 49, internal_epoch   2,  Average loss: 0.0056, Accuracy: 5047/5652 (89.2958%)
___Test Local_ResNet_18 poisoned: False, epoch: 103: Average loss: 2.1615, Accuracy: 5268/10000 (52.6800%)
___Train Local_ResNet_18,  epoch 103, local model 91, internal_epoch   1,  Average loss: 0.0053, Accuracy: 4064/4527 (89.7725%)
___Train Local_ResNet_18,  epoch 103, local model 91, internal_epoch   2,  Average loss: 0.0061, Accuracy: 3991/4527 (88.1599%)
___Test Local_ResNet_18 poisoned: False, epoch: 103: Average loss: 2.1782, Accuracy: 5157/10000 (51.5700%)
___Train Local_ResNet_18,  epoch 103, local model 24, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4000/4313 (92.7429%)
___Train Local_ResNet_18,  epoch 103, local model 24, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4016/4313 (93.1138%)
___Test Local_ResNet_18 poisoned: False, epoch: 103: Average loss: 1.7968, Accuracy: 5859/10000 (58.5900%)
___Train Local_ResNet_18,  epoch 103, local model 85, internal_epoch   1,  Average loss: 0.0050, Accuracy: 6249/6947 (89.9525%)
___Train Local_ResNet_18,  epoch 103, local model 85, internal_epoch   2,  Average loss: 0.0056, Accuracy: 6191/6947 (89.1176%)
___Test Local_ResNet_18 poisoned: False, epoch: 103: Average loss: 2.1818, Accuracy: 5167/10000 (51.6700%)
___Train Local_ResNet_18,  epoch 103, local model 5, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4690/4993 (93.9315%)
___Train Local_ResNet_18,  epoch 103, local model 5, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4614/4993 (92.4094%)
___Test Local_ResNet_18 poisoned: False, epoch: 103: Average loss: 2.0541, Accuracy: 5571/10000 (55.7100%)
___Train Local_ResNet_18,  epoch 103, local model 96, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4668/5086 (91.7814%)
___Train Local_ResNet_18,  epoch 103, local model 96, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4704/5086 (92.4892%)
___Test Local_ResNet_18 poisoned: False, epoch: 103: Average loss: 2.1949, Accuracy: 5301/10000 (53.0100%)
___Train Local_ResNet_18,  epoch 103, local model 21, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4635/5038 (92.0008%)
___Train Local_ResNet_18,  epoch 103, local model 21, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4620/5038 (91.7031%)
___Test Local_ResNet_18 poisoned: False, epoch: 103: Average loss: 1.9003, Accuracy: 5696/10000 (56.9600%)
___Train Local_ResNet_18,  epoch 103, local model 80, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4986/5461 (91.3020%)
___Train Local_ResNet_18,  epoch 103, local model 80, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4954/5461 (90.7160%)
___Test Local_ResNet_18 poisoned: False, epoch: 103: Average loss: 2.0941, Accuracy: 5309/10000 (53.0900%)
___Train Local_ResNet_18,  epoch 103, local model 9, internal_epoch   1,  Average loss: 0.0053, Accuracy: 5123/5727 (89.4535%)
___Train Local_ResNet_18,  epoch 103, local model 9, internal_epoch   2,  Average loss: 0.0058, Accuracy: 5058/5727 (88.3185%)
___Test Local_ResNet_18 poisoned: False, epoch: 103: Average loss: 2.1983, Accuracy: 5195/10000 (51.9500%)
time spent on training: 280.4152250289917
___Test Target_ResNet_18 poisoned: False, epoch: 103: Average loss: 1.1818, Accuracy: 6871/10000 (68.7100%)
___Test Target_ResNet_18 poisoned: True, epoch: 103: Average loss: 0.2648, Accuracy: 9177/9900 (92.6970%)
Done in 307.1397843360901 sec.
Server Epoch:104 choose agents : [13, 36, 58, 71, 24, 64, 59, 90, 22, 56, 73, 1, 70, 49, 88, 11, 44, 15, 92, 29].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 104, local model 13, internal_epoch   1,  Average loss: 0.0023, Accuracy: 5105/5308 (96.1756%), train_poison_data_count: 415
Global model norm: 43.15869522625554.
Norm before scaling: 43.13699306741764. Distance: 1.4689596310620041
___Test Local_ResNet_18 poisoned: True, epoch: 104: Average loss: 0.0773, Accuracy: 9699/9900 (97.9697%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 104, local model 36, internal_epoch   1,  Average loss: 0.0020, Accuracy: 5597/5777 (96.8842%), train_poison_data_count: 455
Global model norm: 43.15869522625554.
Norm before scaling: 43.127635222927246. Distance: 1.4132174922970502
___Test Local_ResNet_18 poisoned: True, epoch: 104: Average loss: 0.0697, Accuracy: 9715/9900 (98.1313%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 104, local model 58, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4880/5123 (95.2567%), train_poison_data_count: 403
Global model norm: 43.15869522625554.
Norm before scaling: 43.138075463417465. Distance: 1.4657157235442597
___Test Local_ResNet_18 poisoned: True, epoch: 104: Average loss: 0.2382, Accuracy: 9248/9900 (93.4141%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 104, local model 71, internal_epoch   1,  Average loss: 0.0024, Accuracy: 5295/5503 (96.2202%), train_poison_data_count: 430
Global model norm: 43.15869522625554.
Norm before scaling: 43.13399758945228. Distance: 1.4629270500670049
___Test Local_ResNet_18 poisoned: True, epoch: 104: Average loss: 0.0597, Accuracy: 9735/9900 (98.3333%)
___Train Local_ResNet_18,  epoch 104, local model 24, internal_epoch   1,  Average loss: 0.0043, Accuracy: 3953/4313 (91.6531%)
___Train Local_ResNet_18,  epoch 104, local model 24, internal_epoch   2,  Average loss: 0.0043, Accuracy: 3964/4313 (91.9082%)
___Test Local_ResNet_18 poisoned: False, epoch: 104: Average loss: 1.9473, Accuracy: 5573/10000 (55.7300%)
___Train Local_ResNet_18,  epoch 104, local model 64, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4396/4894 (89.8243%)
___Train Local_ResNet_18,  epoch 104, local model 64, internal_epoch   2,  Average loss: 0.0057, Accuracy: 4339/4894 (88.6596%)
___Test Local_ResNet_18 poisoned: False, epoch: 104: Average loss: 2.0055, Accuracy: 5411/10000 (54.1100%)
___Train Local_ResNet_18,  epoch 104, local model 59, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4187/4397 (95.2240%)
___Train Local_ResNet_18,  epoch 104, local model 59, internal_epoch   2,  Average loss: 0.0023, Accuracy: 4209/4397 (95.7244%)
___Test Local_ResNet_18 poisoned: False, epoch: 104: Average loss: 1.8230, Accuracy: 5827/10000 (58.2700%)
___Train Local_ResNet_18,  epoch 104, local model 90, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4443/4748 (93.5762%)
___Train Local_ResNet_18,  epoch 104, local model 90, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4459/4748 (93.9132%)
___Test Local_ResNet_18 poisoned: False, epoch: 104: Average loss: 1.9763, Accuracy: 5557/10000 (55.5700%)
___Train Local_ResNet_18,  epoch 104, local model 22, internal_epoch   1,  Average loss: 0.0039, Accuracy: 5271/5696 (92.5386%)
___Train Local_ResNet_18,  epoch 104, local model 22, internal_epoch   2,  Average loss: 0.0045, Accuracy: 5176/5696 (90.8708%)
___Test Local_ResNet_18 poisoned: False, epoch: 104: Average loss: 1.9281, Accuracy: 5412/10000 (54.1200%)
___Train Local_ResNet_18,  epoch 104, local model 56, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4913/5427 (90.5288%)
___Train Local_ResNet_18,  epoch 104, local model 56, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4891/5427 (90.1235%)
___Test Local_ResNet_18 poisoned: False, epoch: 104: Average loss: 1.9718, Accuracy: 5564/10000 (55.6400%)
___Train Local_ResNet_18,  epoch 104, local model 73, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4280/4605 (92.9425%)
___Train Local_ResNet_18,  epoch 104, local model 73, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4285/4605 (93.0510%)
___Test Local_ResNet_18 poisoned: False, epoch: 104: Average loss: 2.1211, Accuracy: 5366/10000 (53.6600%)
___Train Local_ResNet_18,  epoch 104, local model 1, internal_epoch   1,  Average loss: 0.0034, Accuracy: 5070/5422 (93.5079%)
___Train Local_ResNet_18,  epoch 104, local model 1, internal_epoch   2,  Average loss: 0.0032, Accuracy: 5078/5422 (93.6555%)
___Test Local_ResNet_18 poisoned: False, epoch: 104: Average loss: 1.8967, Accuracy: 5704/10000 (57.0400%)
___Train Local_ResNet_18,  epoch 104, local model 70, internal_epoch   1,  Average loss: 0.0037, Accuracy: 5474/5871 (93.2379%)
___Train Local_ResNet_18,  epoch 104, local model 70, internal_epoch   2,  Average loss: 0.0048, Accuracy: 5333/5871 (90.8363%)
___Test Local_ResNet_18 poisoned: False, epoch: 104: Average loss: 2.0791, Accuracy: 5399/10000 (53.9900%)
___Train Local_ResNet_18,  epoch 104, local model 49, internal_epoch   1,  Average loss: 0.0054, Accuracy: 5074/5652 (89.7735%)
___Train Local_ResNet_18,  epoch 104, local model 49, internal_epoch   2,  Average loss: 0.0052, Accuracy: 5078/5652 (89.8443%)
___Test Local_ResNet_18 poisoned: False, epoch: 104: Average loss: 2.2990, Accuracy: 5203/10000 (52.0300%)
___Train Local_ResNet_18,  epoch 104, local model 88, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4911/5362 (91.5890%)
___Train Local_ResNet_18,  epoch 104, local model 88, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4818/5362 (89.8545%)
___Test Local_ResNet_18 poisoned: False, epoch: 104: Average loss: 2.0665, Accuracy: 5394/10000 (53.9400%)
___Train Local_ResNet_18,  epoch 104, local model 11, internal_epoch   1,  Average loss: 0.0065, Accuracy: 4939/5702 (86.6187%)
___Train Local_ResNet_18,  epoch 104, local model 11, internal_epoch   2,  Average loss: 0.0091, Accuracy: 4746/5702 (83.2340%)
___Test Local_ResNet_18 poisoned: False, epoch: 104: Average loss: 2.4742, Accuracy: 4764/10000 (47.6400%)
___Train Local_ResNet_18,  epoch 104, local model 44, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4695/5075 (92.5123%)
___Train Local_ResNet_18,  epoch 104, local model 44, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4594/5075 (90.5222%)
___Test Local_ResNet_18 poisoned: False, epoch: 104: Average loss: 2.1034, Accuracy: 5276/10000 (52.7600%)
___Train Local_ResNet_18,  epoch 104, local model 15, internal_epoch   1,  Average loss: 0.0043, Accuracy: 5555/6068 (91.5458%)
___Train Local_ResNet_18,  epoch 104, local model 15, internal_epoch   2,  Average loss: 0.0042, Accuracy: 5565/6068 (91.7106%)
___Test Local_ResNet_18 poisoned: False, epoch: 104: Average loss: 2.1071, Accuracy: 5339/10000 (53.3900%)
___Train Local_ResNet_18,  epoch 104, local model 92, internal_epoch   1,  Average loss: 0.0037, Accuracy: 6316/6812 (92.7187%)
___Train Local_ResNet_18,  epoch 104, local model 92, internal_epoch   2,  Average loss: 0.0038, Accuracy: 6313/6812 (92.6747%)
___Test Local_ResNet_18 poisoned: False, epoch: 104: Average loss: 2.0959, Accuracy: 5347/10000 (53.4700%)
___Train Local_ResNet_18,  epoch 104, local model 29, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4408/4732 (93.1530%)
___Train Local_ResNet_18,  epoch 104, local model 29, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4426/4732 (93.5334%)
___Test Local_ResNet_18 poisoned: False, epoch: 104: Average loss: 1.8942, Accuracy: 5660/10000 (56.6000%)
time spent on training: 280.748414516449
___Test Target_ResNet_18 poisoned: False, epoch: 104: Average loss: 1.1847, Accuracy: 6869/10000 (68.6900%)
___Test Target_ResNet_18 poisoned: True, epoch: 104: Average loss: 0.2623, Accuracy: 9175/9900 (92.6768%)
Done in 307.44020771980286 sec.
Server Epoch:105 choose agents : [13, 36, 58, 71, 38, 1, 27, 46, 63, 42, 19, 95, 85, 68, 67, 92, 3, 17, 59, 81].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 105, local model 13, internal_epoch   1,  Average loss: 0.0021, Accuracy: 5126/5308 (96.5712%), train_poison_data_count: 415
Global model norm: 43.1807384359624.
Norm before scaling: 43.15518786030032. Distance: 1.3750387966578064
___Test Local_ResNet_18 poisoned: True, epoch: 105: Average loss: 0.0972, Accuracy: 9643/9900 (97.4040%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 105, local model 36, internal_epoch   1,  Average loss: 0.0020, Accuracy: 5602/5777 (96.9707%), train_poison_data_count: 455
Global model norm: 43.1807384359624.
Norm before scaling: 43.14966883880382. Distance: 1.4045198605723115
___Test Local_ResNet_18 poisoned: True, epoch: 105: Average loss: 0.0703, Accuracy: 9701/9900 (97.9899%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 105, local model 58, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4902/5123 (95.6861%), train_poison_data_count: 403
Global model norm: 43.1807384359624.
Norm before scaling: 43.157849524575916. Distance: 1.449773471500842
___Test Local_ResNet_18 poisoned: True, epoch: 105: Average loss: 0.1675, Accuracy: 9449/9900 (95.4444%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 105, local model 71, internal_epoch   1,  Average loss: 0.0024, Accuracy: 5303/5503 (96.3656%), train_poison_data_count: 430
Global model norm: 43.1807384359624.
Norm before scaling: 43.154694260517594. Distance: 1.459558907465184
___Test Local_ResNet_18 poisoned: True, epoch: 105: Average loss: 0.0466, Accuracy: 9769/9900 (98.6768%)
___Train Local_ResNet_18,  epoch 105, local model 38, internal_epoch   1,  Average loss: 0.0053, Accuracy: 5596/6235 (89.7514%)
___Train Local_ResNet_18,  epoch 105, local model 38, internal_epoch   2,  Average loss: 0.0053, Accuracy: 5600/6235 (89.8156%)
___Test Local_ResNet_18 poisoned: False, epoch: 105: Average loss: 2.2042, Accuracy: 5178/10000 (51.7800%)
___Train Local_ResNet_18,  epoch 105, local model 1, internal_epoch   1,  Average loss: 0.0034, Accuracy: 5091/5422 (93.8952%)
___Train Local_ResNet_18,  epoch 105, local model 1, internal_epoch   2,  Average loss: 0.0035, Accuracy: 5060/5422 (93.3235%)
___Test Local_ResNet_18 poisoned: False, epoch: 105: Average loss: 1.7989, Accuracy: 5781/10000 (57.8100%)
___Train Local_ResNet_18,  epoch 105, local model 27, internal_epoch   1,  Average loss: 0.0053, Accuracy: 4121/4587 (89.8409%)
___Train Local_ResNet_18,  epoch 105, local model 27, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4113/4587 (89.6664%)
___Test Local_ResNet_18 poisoned: False, epoch: 105: Average loss: 2.0690, Accuracy: 5351/10000 (53.5100%)
___Train Local_ResNet_18,  epoch 105, local model 46, internal_epoch   1,  Average loss: 0.0055, Accuracy: 4848/5399 (89.7944%)
___Train Local_ResNet_18,  epoch 105, local model 46, internal_epoch   2,  Average loss: 0.0060, Accuracy: 4746/5399 (87.9052%)
___Test Local_ResNet_18 poisoned: False, epoch: 105: Average loss: 2.3850, Accuracy: 5018/10000 (50.1800%)
___Train Local_ResNet_18,  epoch 105, local model 63, internal_epoch   1,  Average loss: 0.0039, Accuracy: 3612/3910 (92.3785%)
___Train Local_ResNet_18,  epoch 105, local model 63, internal_epoch   2,  Average loss: 0.0044, Accuracy: 3597/3910 (91.9949%)
___Test Local_ResNet_18 poisoned: False, epoch: 105: Average loss: 2.0819, Accuracy: 5415/10000 (54.1500%)
___Train Local_ResNet_18,  epoch 105, local model 42, internal_epoch   1,  Average loss: 0.0048, Accuracy: 5378/5907 (91.0445%)
___Train Local_ResNet_18,  epoch 105, local model 42, internal_epoch   2,  Average loss: 0.0054, Accuracy: 5267/5907 (89.1654%)
___Test Local_ResNet_18 poisoned: False, epoch: 105: Average loss: 2.4110, Accuracy: 4978/10000 (49.7800%)
___Train Local_ResNet_18,  epoch 105, local model 19, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4848/5361 (90.4309%)
___Train Local_ResNet_18,  epoch 105, local model 19, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4811/5361 (89.7407%)
___Test Local_ResNet_18 poisoned: False, epoch: 105: Average loss: 2.0844, Accuracy: 5222/10000 (52.2200%)
___Train Local_ResNet_18,  epoch 105, local model 95, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4529/5018 (90.2551%)
___Train Local_ResNet_18,  epoch 105, local model 95, internal_epoch   2,  Average loss: 0.0054, Accuracy: 4477/5018 (89.2188%)
___Test Local_ResNet_18 poisoned: False, epoch: 105: Average loss: 2.0514, Accuracy: 5448/10000 (54.4800%)
___Train Local_ResNet_18,  epoch 105, local model 85, internal_epoch   1,  Average loss: 0.0050, Accuracy: 6297/6947 (90.6434%)
___Train Local_ResNet_18,  epoch 105, local model 85, internal_epoch   2,  Average loss: 0.0065, Accuracy: 6070/6947 (87.3758%)
___Test Local_ResNet_18 poisoned: False, epoch: 105: Average loss: 2.2490, Accuracy: 5089/10000 (50.8900%)
___Train Local_ResNet_18,  epoch 105, local model 68, internal_epoch   1,  Average loss: 0.0046, Accuracy: 3286/3589 (91.5575%)
___Train Local_ResNet_18,  epoch 105, local model 68, internal_epoch   2,  Average loss: 0.0067, Accuracy: 3178/3589 (88.5483%)
___Test Local_ResNet_18 poisoned: False, epoch: 105: Average loss: 2.0931, Accuracy: 5361/10000 (53.6100%)
___Train Local_ResNet_18,  epoch 105, local model 67, internal_epoch   1,  Average loss: 0.0051, Accuracy: 5046/5559 (90.7717%)
___Train Local_ResNet_18,  epoch 105, local model 67, internal_epoch   2,  Average loss: 0.0060, Accuracy: 4883/5559 (87.8395%)
___Test Local_ResNet_18 poisoned: False, epoch: 105: Average loss: 2.1755, Accuracy: 5168/10000 (51.6800%)
___Train Local_ResNet_18,  epoch 105, local model 92, internal_epoch   1,  Average loss: 0.0035, Accuracy: 6364/6812 (93.4234%)
___Train Local_ResNet_18,  epoch 105, local model 92, internal_epoch   2,  Average loss: 0.0043, Accuracy: 6239/6812 (91.5884%)
___Test Local_ResNet_18 poisoned: False, epoch: 105: Average loss: 2.1082, Accuracy: 5297/10000 (52.9700%)
___Train Local_ResNet_18,  epoch 105, local model 3, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4995/5346 (93.4343%)
___Train Local_ResNet_18,  epoch 105, local model 3, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4990/5346 (93.3408%)
___Test Local_ResNet_18 poisoned: False, epoch: 105: Average loss: 2.0768, Accuracy: 5395/10000 (53.9500%)
___Train Local_ResNet_18,  epoch 105, local model 17, internal_epoch   1,  Average loss: 0.0054, Accuracy: 4394/4903 (89.6186%)
___Train Local_ResNet_18,  epoch 105, local model 17, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4438/4903 (90.5160%)
___Test Local_ResNet_18 poisoned: False, epoch: 105: Average loss: 1.9361, Accuracy: 5432/10000 (54.3200%)
___Train Local_ResNet_18,  epoch 105, local model 59, internal_epoch   1,  Average loss: 0.0024, Accuracy: 4211/4397 (95.7698%)
___Train Local_ResNet_18,  epoch 105, local model 59, internal_epoch   2,  Average loss: 0.0020, Accuracy: 4245/4397 (96.5431%)
___Test Local_ResNet_18 poisoned: False, epoch: 105: Average loss: 1.7489, Accuracy: 5952/10000 (59.5200%)
___Train Local_ResNet_18,  epoch 105, local model 81, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4693/5035 (93.2075%)
___Train Local_ResNet_18,  epoch 105, local model 81, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4703/5035 (93.4062%)
___Test Local_ResNet_18 poisoned: False, epoch: 105: Average loss: 1.9626, Accuracy: 5575/10000 (55.7500%)
time spent on training: 281.13813185691833
___Test Target_ResNet_18 poisoned: False, epoch: 105: Average loss: 1.1816, Accuracy: 6873/10000 (68.7300%)
___Test Target_ResNet_18 poisoned: True, epoch: 105: Average loss: 0.2607, Accuracy: 9185/9900 (92.7778%)
Done in 307.59416127204895 sec.
Server Epoch:106 choose agents : [13, 36, 58, 71, 70, 72, 67, 66, 75, 44, 99, 84, 22, 28, 37, 74, 14, 79, 7, 54].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 106, local model 13, internal_epoch   1,  Average loss: 0.0022, Accuracy: 5117/5308 (96.4017%), train_poison_data_count: 415
Global model norm: 43.20356577532837.
Norm before scaling: 43.18018010733122. Distance: 1.4229799106705179
___Test Local_ResNet_18 poisoned: True, epoch: 106: Average loss: 0.0300, Accuracy: 9820/9900 (99.1919%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 106, local model 36, internal_epoch   1,  Average loss: 0.0023, Accuracy: 5575/5777 (96.5034%), train_poison_data_count: 455
Global model norm: 43.20356577532837.
Norm before scaling: 43.1734753594076. Distance: 1.4384229433797062
___Test Local_ResNet_18 poisoned: True, epoch: 106: Average loss: 0.0653, Accuracy: 9735/9900 (98.3333%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 106, local model 58, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4911/5123 (95.8618%), train_poison_data_count: 403
Global model norm: 43.20356577532837.
Norm before scaling: 43.18040768012589. Distance: 1.415398572451055
___Test Local_ResNet_18 poisoned: True, epoch: 106: Average loss: 0.0791, Accuracy: 9677/9900 (97.7475%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 106, local model 71, internal_epoch   1,  Average loss: 0.0024, Accuracy: 5277/5503 (95.8931%), train_poison_data_count: 430
Global model norm: 43.20356577532837.
Norm before scaling: 43.181032439023504. Distance: 1.5053909701341461
___Test Local_ResNet_18 poisoned: True, epoch: 106: Average loss: 0.0278, Accuracy: 9833/9900 (99.3232%)
___Train Local_ResNet_18,  epoch 106, local model 70, internal_epoch   1,  Average loss: 0.0041, Accuracy: 5398/5871 (91.9435%)
___Train Local_ResNet_18,  epoch 106, local model 70, internal_epoch   2,  Average loss: 0.0046, Accuracy: 5327/5871 (90.7341%)
___Test Local_ResNet_18 poisoned: False, epoch: 106: Average loss: 2.0568, Accuracy: 5294/10000 (52.9400%)
___Train Local_ResNet_18,  epoch 106, local model 72, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4719/5193 (90.8723%)
___Train Local_ResNet_18,  epoch 106, local model 72, internal_epoch   2,  Average loss: 0.0063, Accuracy: 4563/5193 (87.8683%)
___Test Local_ResNet_18 poisoned: False, epoch: 106: Average loss: 2.3677, Accuracy: 5101/10000 (51.0100%)
___Train Local_ResNet_18,  epoch 106, local model 67, internal_epoch   1,  Average loss: 0.0051, Accuracy: 5024/5559 (90.3760%)
___Train Local_ResNet_18,  epoch 106, local model 67, internal_epoch   2,  Average loss: 0.0059, Accuracy: 4913/5559 (88.3792%)
___Test Local_ResNet_18 poisoned: False, epoch: 106: Average loss: 2.1504, Accuracy: 5177/10000 (51.7700%)
___Train Local_ResNet_18,  epoch 106, local model 66, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4435/4843 (91.5755%)
___Train Local_ResNet_18,  epoch 106, local model 66, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4447/4843 (91.8233%)
___Test Local_ResNet_18 poisoned: False, epoch: 106: Average loss: 2.0349, Accuracy: 5388/10000 (53.8800%)
___Train Local_ResNet_18,  epoch 106, local model 75, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4316/4672 (92.3801%)
___Train Local_ResNet_18,  epoch 106, local model 75, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4311/4672 (92.2731%)
___Test Local_ResNet_18 poisoned: False, epoch: 106: Average loss: 1.8823, Accuracy: 5693/10000 (56.9300%)
___Train Local_ResNet_18,  epoch 106, local model 44, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4724/5075 (93.0837%)
___Train Local_ResNet_18,  epoch 106, local model 44, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4670/5075 (92.0197%)
___Test Local_ResNet_18 poisoned: False, epoch: 106: Average loss: 2.1425, Accuracy: 5316/10000 (53.1600%)
___Train Local_ResNet_18,  epoch 106, local model 99, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4416/4851 (91.0328%)
___Train Local_ResNet_18,  epoch 106, local model 99, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4426/4851 (91.2389%)
___Test Local_ResNet_18 poisoned: False, epoch: 106: Average loss: 2.1265, Accuracy: 5392/10000 (53.9200%)
___Train Local_ResNet_18,  epoch 106, local model 84, internal_epoch   1,  Average loss: 0.0050, Accuracy: 4745/5209 (91.0923%)
___Train Local_ResNet_18,  epoch 106, local model 84, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4684/5209 (89.9213%)
___Test Local_ResNet_18 poisoned: False, epoch: 106: Average loss: 2.0926, Accuracy: 5362/10000 (53.6200%)
___Train Local_ResNet_18,  epoch 106, local model 22, internal_epoch   1,  Average loss: 0.0040, Accuracy: 5259/5696 (92.3279%)
___Train Local_ResNet_18,  epoch 106, local model 22, internal_epoch   2,  Average loss: 0.0049, Accuracy: 5147/5696 (90.3617%)
___Test Local_ResNet_18 poisoned: False, epoch: 106: Average loss: 2.2129, Accuracy: 5164/10000 (51.6400%)
___Train Local_ResNet_18,  epoch 106, local model 28, internal_epoch   1,  Average loss: 0.0058, Accuracy: 4642/5122 (90.6287%)
___Train Local_ResNet_18,  epoch 106, local model 28, internal_epoch   2,  Average loss: 0.0074, Accuracy: 4415/5122 (86.1968%)
___Test Local_ResNet_18 poisoned: False, epoch: 106: Average loss: 2.4114, Accuracy: 4992/10000 (49.9200%)
___Train Local_ResNet_18,  epoch 106, local model 37, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4321/4741 (91.1411%)
___Train Local_ResNet_18,  epoch 106, local model 37, internal_epoch   2,  Average loss: 0.0075, Accuracy: 4087/4741 (86.2054%)
___Test Local_ResNet_18 poisoned: False, epoch: 106: Average loss: 2.4055, Accuracy: 4810/10000 (48.1000%)
___Train Local_ResNet_18,  epoch 106, local model 74, internal_epoch   1,  Average loss: 0.0050, Accuracy: 4324/4797 (90.1397%)
___Train Local_ResNet_18,  epoch 106, local model 74, internal_epoch   2,  Average loss: 0.0054, Accuracy: 4277/4797 (89.1599%)
___Test Local_ResNet_18 poisoned: False, epoch: 106: Average loss: 2.0848, Accuracy: 5370/10000 (53.7000%)
___Train Local_ResNet_18,  epoch 106, local model 14, internal_epoch   1,  Average loss: 0.0031, Accuracy: 3963/4196 (94.4471%)
___Train Local_ResNet_18,  epoch 106, local model 14, internal_epoch   2,  Average loss: 0.0031, Accuracy: 3957/4196 (94.3041%)
___Test Local_ResNet_18 poisoned: False, epoch: 106: Average loss: 1.8340, Accuracy: 5752/10000 (57.5200%)
___Train Local_ResNet_18,  epoch 106, local model 79, internal_epoch   1,  Average loss: 0.0043, Accuracy: 3765/4111 (91.5836%)
___Train Local_ResNet_18,  epoch 106, local model 79, internal_epoch   2,  Average loss: 0.0042, Accuracy: 3779/4111 (91.9241%)
___Test Local_ResNet_18 poisoned: False, epoch: 106: Average loss: 2.0025, Accuracy: 5390/10000 (53.9000%)
___Train Local_ResNet_18,  epoch 106, local model 7, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4483/4869 (92.0723%)
___Train Local_ResNet_18,  epoch 106, local model 7, internal_epoch   2,  Average loss: 0.0082, Accuracy: 4128/4869 (84.7813%)
___Test Local_ResNet_18 poisoned: False, epoch: 106: Average loss: 2.4435, Accuracy: 4869/10000 (48.6900%)
___Train Local_ResNet_18,  epoch 106, local model 54, internal_epoch   1,  Average loss: 0.0055, Accuracy: 5042/5645 (89.3180%)
___Train Local_ResNet_18,  epoch 106, local model 54, internal_epoch   2,  Average loss: 0.0061, Accuracy: 4969/5645 (88.0248%)
___Test Local_ResNet_18 poisoned: False, epoch: 106: Average loss: 2.0106, Accuracy: 5376/10000 (53.7600%)
time spent on training: 278.71532702445984
___Test Target_ResNet_18 poisoned: False, epoch: 106: Average loss: 1.1821, Accuracy: 6884/10000 (68.8400%)
___Test Target_ResNet_18 poisoned: True, epoch: 106: Average loss: 0.2294, Accuracy: 9257/9900 (93.5051%)
Done in 305.0591435432434 sec.
Server Epoch:107 choose agents : [13, 36, 58, 71, 16, 83, 76, 93, 11, 51, 92, 61, 72, 59, 60, 3, 30, 80, 49, 40].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 107, local model 13, internal_epoch   1,  Average loss: 0.0022, Accuracy: 5129/5308 (96.6277%), train_poison_data_count: 415
Global model norm: 43.226753823225614.
Norm before scaling: 43.20187893772677. Distance: 1.4268442867948679
___Test Local_ResNet_18 poisoned: True, epoch: 107: Average loss: 0.0536, Accuracy: 9751/9900 (98.4949%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 107, local model 36, internal_epoch   1,  Average loss: 0.0020, Accuracy: 5607/5777 (97.0573%), train_poison_data_count: 455
Global model norm: 43.226753823225614.
Norm before scaling: 43.19235992689781. Distance: 1.3718559559258414
___Test Local_ResNet_18 poisoned: True, epoch: 107: Average loss: 0.0332, Accuracy: 9811/9900 (99.1010%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 107, local model 58, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4917/5123 (95.9789%), train_poison_data_count: 403
Global model norm: 43.226753823225614.
Norm before scaling: 43.20280571762672. Distance: 1.4334232738280428
___Test Local_ResNet_18 poisoned: True, epoch: 107: Average loss: 0.1092, Accuracy: 9625/9900 (97.2222%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 107, local model 71, internal_epoch   1,  Average loss: 0.0022, Accuracy: 5308/5503 (96.4565%), train_poison_data_count: 430
Global model norm: 43.226753823225614.
Norm before scaling: 43.200630013852226. Distance: 1.420713432301892
___Test Local_ResNet_18 poisoned: True, epoch: 107: Average loss: 0.1096, Accuracy: 9610/9900 (97.0707%)
___Train Local_ResNet_18,  epoch 107, local model 16, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4883/5353 (91.2199%)
___Train Local_ResNet_18,  epoch 107, local model 16, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4853/5353 (90.6594%)
___Test Local_ResNet_18 poisoned: False, epoch: 107: Average loss: 2.1276, Accuracy: 5317/10000 (53.1700%)
___Train Local_ResNet_18,  epoch 107, local model 83, internal_epoch   1,  Average loss: 0.0045, Accuracy: 3218/3552 (90.5968%)
___Train Local_ResNet_18,  epoch 107, local model 83, internal_epoch   2,  Average loss: 0.0036, Accuracy: 3311/3552 (93.2151%)
___Test Local_ResNet_18 poisoned: False, epoch: 107: Average loss: 1.7826, Accuracy: 5867/10000 (58.6700%)
___Train Local_ResNet_18,  epoch 107, local model 76, internal_epoch   1,  Average loss: 0.0046, Accuracy: 3596/3959 (90.8310%)
___Train Local_ResNet_18,  epoch 107, local model 76, internal_epoch   2,  Average loss: 0.0041, Accuracy: 3624/3959 (91.5383%)
___Test Local_ResNet_18 poisoned: False, epoch: 107: Average loss: 1.9348, Accuracy: 5550/10000 (55.5000%)
___Train Local_ResNet_18,  epoch 107, local model 93, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4593/5055 (90.8605%)
___Train Local_ResNet_18,  epoch 107, local model 93, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4513/5055 (89.2779%)
___Test Local_ResNet_18 poisoned: False, epoch: 107: Average loss: 2.1998, Accuracy: 5143/10000 (51.4300%)
___Train Local_ResNet_18,  epoch 107, local model 11, internal_epoch   1,  Average loss: 0.0071, Accuracy: 4939/5702 (86.6187%)
___Train Local_ResNet_18,  epoch 107, local model 11, internal_epoch   2,  Average loss: 0.0127, Accuracy: 4345/5702 (76.2013%)
___Test Local_ResNet_18 poisoned: False, epoch: 107: Average loss: 2.2437, Accuracy: 4916/10000 (49.1600%)
___Train Local_ResNet_18,  epoch 107, local model 51, internal_epoch   1,  Average loss: 0.0040, Accuracy: 3803/4108 (92.5755%)
___Train Local_ResNet_18,  epoch 107, local model 51, internal_epoch   2,  Average loss: 0.0039, Accuracy: 3808/4108 (92.6972%)
___Test Local_ResNet_18 poisoned: False, epoch: 107: Average loss: 1.9161, Accuracy: 5690/10000 (56.9000%)
___Train Local_ResNet_18,  epoch 107, local model 92, internal_epoch   1,  Average loss: 0.0041, Accuracy: 6307/6812 (92.5866%)
___Train Local_ResNet_18,  epoch 107, local model 92, internal_epoch   2,  Average loss: 0.0043, Accuracy: 6261/6812 (91.9113%)
___Test Local_ResNet_18 poisoned: False, epoch: 107: Average loss: 2.1842, Accuracy: 5189/10000 (51.8900%)
___Train Local_ResNet_18,  epoch 107, local model 61, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4135/4485 (92.1962%)
___Train Local_ResNet_18,  epoch 107, local model 61, internal_epoch   2,  Average loss: 0.0061, Accuracy: 3961/4485 (88.3166%)
___Test Local_ResNet_18 poisoned: False, epoch: 107: Average loss: 2.0403, Accuracy: 5425/10000 (54.2500%)
___Train Local_ResNet_18,  epoch 107, local model 72, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4716/5193 (90.8146%)
___Train Local_ResNet_18,  epoch 107, local model 72, internal_epoch   2,  Average loss: 0.0070, Accuracy: 4493/5193 (86.5203%)
___Test Local_ResNet_18 poisoned: False, epoch: 107: Average loss: 2.4170, Accuracy: 4995/10000 (49.9500%)
___Train Local_ResNet_18,  epoch 107, local model 59, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4156/4397 (94.5190%)
___Train Local_ResNet_18,  epoch 107, local model 59, internal_epoch   2,  Average loss: 0.0023, Accuracy: 4222/4397 (96.0200%)
___Test Local_ResNet_18 poisoned: False, epoch: 107: Average loss: 1.6896, Accuracy: 6004/10000 (60.0400%)
___Train Local_ResNet_18,  epoch 107, local model 60, internal_epoch   1,  Average loss: 0.0043, Accuracy: 3799/4145 (91.6526%)
___Train Local_ResNet_18,  epoch 107, local model 60, internal_epoch   2,  Average loss: 0.0042, Accuracy: 3793/4145 (91.5078%)
___Test Local_ResNet_18 poisoned: False, epoch: 107: Average loss: 2.0060, Accuracy: 5538/10000 (55.3800%)
___Train Local_ResNet_18,  epoch 107, local model 3, internal_epoch   1,  Average loss: 0.0036, Accuracy: 5003/5346 (93.5840%)
___Train Local_ResNet_18,  epoch 107, local model 3, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4980/5346 (93.1538%)
___Test Local_ResNet_18 poisoned: False, epoch: 107: Average loss: 1.9943, Accuracy: 5500/10000 (55.0000%)
___Train Local_ResNet_18,  epoch 107, local model 30, internal_epoch   1,  Average loss: 0.0041, Accuracy: 3470/3774 (91.9449%)
___Train Local_ResNet_18,  epoch 107, local model 30, internal_epoch   2,  Average loss: 0.0034, Accuracy: 3538/3774 (93.7467%)
___Test Local_ResNet_18 poisoned: False, epoch: 107: Average loss: 1.9083, Accuracy: 5708/10000 (57.0800%)
___Train Local_ResNet_18,  epoch 107, local model 80, internal_epoch   1,  Average loss: 0.0040, Accuracy: 5040/5461 (92.2908%)
___Train Local_ResNet_18,  epoch 107, local model 80, internal_epoch   2,  Average loss: 0.0037, Accuracy: 5086/5461 (93.1331%)
___Test Local_ResNet_18 poisoned: False, epoch: 107: Average loss: 2.2266, Accuracy: 5262/10000 (52.6200%)
___Train Local_ResNet_18,  epoch 107, local model 49, internal_epoch   1,  Average loss: 0.0053, Accuracy: 5071/5652 (89.7205%)
___Train Local_ResNet_18,  epoch 107, local model 49, internal_epoch   2,  Average loss: 0.0058, Accuracy: 4986/5652 (88.2166%)
___Test Local_ResNet_18 poisoned: False, epoch: 107: Average loss: 2.0657, Accuracy: 5383/10000 (53.8300%)
___Train Local_ResNet_18,  epoch 107, local model 40, internal_epoch   1,  Average loss: 0.0035, Accuracy: 5543/5939 (93.3322%)
___Train Local_ResNet_18,  epoch 107, local model 40, internal_epoch   2,  Average loss: 0.0036, Accuracy: 5540/5939 (93.2817%)
___Test Local_ResNet_18 poisoned: False, epoch: 107: Average loss: 2.0045, Accuracy: 5422/10000 (54.2200%)
time spent on training: 276.8546543121338
___Test Target_ResNet_18 poisoned: False, epoch: 107: Average loss: 1.1906, Accuracy: 6867/10000 (68.6700%)
___Test Target_ResNet_18 poisoned: True, epoch: 107: Average loss: 0.2086, Accuracy: 9317/9900 (94.1111%)
Done in 303.1572802066803 sec.
Server Epoch:108 choose agents : [13, 36, 58, 71, 61, 73, 22, 98, 14, 33, 5, 2, 32, 21, 53, 79, 12, 10, 76, 78].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 108, local model 13, internal_epoch   1,  Average loss: 0.0022, Accuracy: 5138/5308 (96.7973%), train_poison_data_count: 415
Global model norm: 43.24680911955745.
Norm before scaling: 43.2205223222104. Distance: 1.381290568105528
___Test Local_ResNet_18 poisoned: True, epoch: 108: Average loss: 0.0411, Accuracy: 9783/9900 (98.8182%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 108, local model 36, internal_epoch   1,  Average loss: 0.0021, Accuracy: 5585/5777 (96.6765%), train_poison_data_count: 455
Global model norm: 43.24680911955745.
Norm before scaling: 43.213873267429264. Distance: 1.3837917330547185
___Test Local_ResNet_18 poisoned: True, epoch: 108: Average loss: 0.0853, Accuracy: 9680/9900 (97.7778%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 108, local model 58, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4913/5123 (95.9008%), train_poison_data_count: 403
Global model norm: 43.24680911955745.
Norm before scaling: 43.22219572308885. Distance: 1.4194641634887557
___Test Local_ResNet_18 poisoned: True, epoch: 108: Average loss: 0.0865, Accuracy: 9691/9900 (97.8889%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 108, local model 71, internal_epoch   1,  Average loss: 0.0022, Accuracy: 5321/5503 (96.6927%), train_poison_data_count: 430
Global model norm: 43.24680911955745.
Norm before scaling: 43.22049831514411. Distance: 1.4310726272418595
___Test Local_ResNet_18 poisoned: True, epoch: 108: Average loss: 0.1185, Accuracy: 9589/9900 (96.8586%)
___Train Local_ResNet_18,  epoch 108, local model 61, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4113/4485 (91.7057%)
___Train Local_ResNet_18,  epoch 108, local model 61, internal_epoch   2,  Average loss: 0.0065, Accuracy: 3932/4485 (87.6700%)
___Test Local_ResNet_18 poisoned: False, epoch: 108: Average loss: 2.0736, Accuracy: 5230/10000 (52.3000%)
___Train Local_ResNet_18,  epoch 108, local model 73, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4320/4605 (93.8111%)
___Train Local_ResNet_18,  epoch 108, local model 73, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4299/4605 (93.3550%)
___Test Local_ResNet_18 poisoned: False, epoch: 108: Average loss: 1.9685, Accuracy: 5616/10000 (56.1600%)
___Train Local_ResNet_18,  epoch 108, local model 22, internal_epoch   1,  Average loss: 0.0037, Accuracy: 5286/5696 (92.8020%)
___Train Local_ResNet_18,  epoch 108, local model 22, internal_epoch   2,  Average loss: 0.0044, Accuracy: 5192/5696 (91.1517%)
___Test Local_ResNet_18 poisoned: False, epoch: 108: Average loss: 2.0253, Accuracy: 5407/10000 (54.0700%)
___Train Local_ResNet_18,  epoch 108, local model 98, internal_epoch   1,  Average loss: 0.0048, Accuracy: 3849/4161 (92.5018%)
___Train Local_ResNet_18,  epoch 108, local model 98, internal_epoch   2,  Average loss: 0.0061, Accuracy: 3793/4161 (91.1560%)
___Test Local_ResNet_18 poisoned: False, epoch: 108: Average loss: 2.2357, Accuracy: 5246/10000 (52.4600%)
___Train Local_ResNet_18,  epoch 108, local model 14, internal_epoch   1,  Average loss: 0.0031, Accuracy: 3971/4196 (94.6378%)
___Train Local_ResNet_18,  epoch 108, local model 14, internal_epoch   2,  Average loss: 0.0028, Accuracy: 3980/4196 (94.8522%)
___Test Local_ResNet_18 poisoned: False, epoch: 108: Average loss: 1.7607, Accuracy: 5831/10000 (58.3100%)
___Train Local_ResNet_18,  epoch 108, local model 33, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4399/4818 (91.3034%)
___Train Local_ResNet_18,  epoch 108, local model 33, internal_epoch   2,  Average loss: 0.0060, Accuracy: 4249/4818 (88.1901%)
___Test Local_ResNet_18 poisoned: False, epoch: 108: Average loss: 1.9255, Accuracy: 5571/10000 (55.7100%)
___Train Local_ResNet_18,  epoch 108, local model 5, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4663/4993 (93.3907%)
___Train Local_ResNet_18,  epoch 108, local model 5, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4646/4993 (93.0503%)
___Test Local_ResNet_18 poisoned: False, epoch: 108: Average loss: 2.0954, Accuracy: 5469/10000 (54.6900%)
___Train Local_ResNet_18,  epoch 108, local model 2, internal_epoch   1,  Average loss: 0.0040, Accuracy: 3666/3968 (92.3891%)
___Train Local_ResNet_18,  epoch 108, local model 2, internal_epoch   2,  Average loss: 0.0039, Accuracy: 3644/3968 (91.8347%)
___Test Local_ResNet_18 poisoned: False, epoch: 108: Average loss: 1.9085, Accuracy: 5634/10000 (56.3400%)
___Train Local_ResNet_18,  epoch 108, local model 32, internal_epoch   1,  Average loss: 0.0058, Accuracy: 5376/6080 (88.4211%)
___Train Local_ResNet_18,  epoch 108, local model 32, internal_epoch   2,  Average loss: 0.0056, Accuracy: 5396/6080 (88.7500%)
___Test Local_ResNet_18 poisoned: False, epoch: 108: Average loss: 2.1227, Accuracy: 5326/10000 (53.2600%)
___Train Local_ResNet_18,  epoch 108, local model 21, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4599/5038 (91.2862%)
___Train Local_ResNet_18,  epoch 108, local model 21, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4586/5038 (91.0282%)
___Test Local_ResNet_18 poisoned: False, epoch: 108: Average loss: 1.8799, Accuracy: 5684/10000 (56.8400%)
___Train Local_ResNet_18,  epoch 108, local model 53, internal_epoch   1,  Average loss: 0.0063, Accuracy: 5840/6664 (87.6351%)
___Train Local_ResNet_18,  epoch 108, local model 53, internal_epoch   2,  Average loss: 0.0086, Accuracy: 5534/6664 (83.0432%)
___Test Local_ResNet_18 poisoned: False, epoch: 108: Average loss: 2.4614, Accuracy: 4799/10000 (47.9900%)
___Train Local_ResNet_18,  epoch 108, local model 79, internal_epoch   1,  Average loss: 0.0041, Accuracy: 3795/4111 (92.3133%)
___Train Local_ResNet_18,  epoch 108, local model 79, internal_epoch   2,  Average loss: 0.0040, Accuracy: 3794/4111 (92.2890%)
___Test Local_ResNet_18 poisoned: False, epoch: 108: Average loss: 2.0511, Accuracy: 5440/10000 (54.4000%)
___Train Local_ResNet_18,  epoch 108, local model 12, internal_epoch   1,  Average loss: 0.0050, Accuracy: 5018/5526 (90.8071%)
___Train Local_ResNet_18,  epoch 108, local model 12, internal_epoch   2,  Average loss: 0.0065, Accuracy: 4817/5526 (87.1697%)
___Test Local_ResNet_18 poisoned: False, epoch: 108: Average loss: 2.2809, Accuracy: 5093/10000 (50.9300%)
___Train Local_ResNet_18,  epoch 108, local model 10, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4740/5068 (93.5280%)
___Train Local_ResNet_18,  epoch 108, local model 10, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4656/5068 (91.8706%)
___Test Local_ResNet_18 poisoned: False, epoch: 108: Average loss: 2.1578, Accuracy: 5284/10000 (52.8400%)
___Train Local_ResNet_18,  epoch 108, local model 76, internal_epoch   1,  Average loss: 0.0044, Accuracy: 3612/3959 (91.2352%)
___Train Local_ResNet_18,  epoch 108, local model 76, internal_epoch   2,  Average loss: 0.0036, Accuracy: 3675/3959 (92.8265%)
___Test Local_ResNet_18 poisoned: False, epoch: 108: Average loss: 1.8975, Accuracy: 5626/10000 (56.2600%)
___Train Local_ResNet_18,  epoch 108, local model 78, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4085/4368 (93.5211%)
___Train Local_ResNet_18,  epoch 108, local model 78, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4069/4368 (93.1548%)
___Test Local_ResNet_18 poisoned: False, epoch: 108: Average loss: 1.9331, Accuracy: 5535/10000 (55.3500%)
time spent on training: 275.57437467575073
___Test Target_ResNet_18 poisoned: False, epoch: 108: Average loss: 1.1907, Accuracy: 6854/10000 (68.5400%)
___Test Target_ResNet_18 poisoned: True, epoch: 108: Average loss: 0.1967, Accuracy: 9341/9900 (94.3535%)
Done in 302.28712487220764 sec.
Server Epoch:109 choose agents : [13, 36, 58, 71, 73, 72, 84, 40, 22, 51, 8, 54, 34, 27, 68, 82, 65, 7, 14, 2].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 109, local model 13, internal_epoch   1,  Average loss: 0.0022, Accuracy: 5132/5308 (96.6843%), train_poison_data_count: 415
Global model norm: 43.26658144934148.
Norm before scaling: 43.240203629966146. Distance: 1.3903476567109416
___Test Local_ResNet_18 poisoned: True, epoch: 109: Average loss: 0.1103, Accuracy: 9614/9900 (97.1111%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 109, local model 36, internal_epoch   1,  Average loss: 0.0020, Accuracy: 5612/5777 (97.1438%), train_poison_data_count: 455
Global model norm: 43.26658144934148.
Norm before scaling: 43.233680424489364. Distance: 1.3785297863287735
___Test Local_ResNet_18 poisoned: True, epoch: 109: Average loss: 0.1024, Accuracy: 9637/9900 (97.3434%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 109, local model 58, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4910/5123 (95.8423%), train_poison_data_count: 403
Global model norm: 43.26658144934148.
Norm before scaling: 43.24194684327794. Distance: 1.426107708906643
___Test Local_ResNet_18 poisoned: True, epoch: 109: Average loss: 0.1008, Accuracy: 9634/9900 (97.3131%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 109, local model 71, internal_epoch   1,  Average loss: 0.0023, Accuracy: 5308/5503 (96.4565%), train_poison_data_count: 430
Global model norm: 43.26658144934148.
Norm before scaling: 43.24100396415565. Distance: 1.4600216039600755
___Test Local_ResNet_18 poisoned: True, epoch: 109: Average loss: 0.1250, Accuracy: 9562/9900 (96.5859%)
___Train Local_ResNet_18,  epoch 109, local model 73, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4296/4605 (93.2899%)
___Train Local_ResNet_18,  epoch 109, local model 73, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4266/4605 (92.6384%)
___Test Local_ResNet_18 poisoned: False, epoch: 109: Average loss: 1.9592, Accuracy: 5618/10000 (56.1800%)
___Train Local_ResNet_18,  epoch 109, local model 72, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4770/5193 (91.8544%)
___Train Local_ResNet_18,  epoch 109, local model 72, internal_epoch   2,  Average loss: 0.0071, Accuracy: 4481/5193 (86.2892%)
___Test Local_ResNet_18 poisoned: False, epoch: 109: Average loss: 2.2401, Accuracy: 5044/10000 (50.4400%)
___Train Local_ResNet_18,  epoch 109, local model 84, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4759/5209 (91.3611%)
___Train Local_ResNet_18,  epoch 109, local model 84, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4700/5209 (90.2285%)
___Test Local_ResNet_18 poisoned: False, epoch: 109: Average loss: 2.0554, Accuracy: 5439/10000 (54.3900%)
___Train Local_ResNet_18,  epoch 109, local model 40, internal_epoch   1,  Average loss: 0.0038, Accuracy: 5509/5939 (92.7597%)
___Train Local_ResNet_18,  epoch 109, local model 40, internal_epoch   2,  Average loss: 0.0040, Accuracy: 5461/5939 (91.9515%)
___Test Local_ResNet_18 poisoned: False, epoch: 109: Average loss: 2.0597, Accuracy: 5357/10000 (53.5700%)
___Train Local_ResNet_18,  epoch 109, local model 22, internal_epoch   1,  Average loss: 0.0036, Accuracy: 5321/5696 (93.4164%)
___Train Local_ResNet_18,  epoch 109, local model 22, internal_epoch   2,  Average loss: 0.0042, Accuracy: 5243/5696 (92.0471%)
___Test Local_ResNet_18 poisoned: False, epoch: 109: Average loss: 1.9742, Accuracy: 5507/10000 (55.0700%)
___Train Local_ResNet_18,  epoch 109, local model 51, internal_epoch   1,  Average loss: 0.0041, Accuracy: 3803/4108 (92.5755%)
___Train Local_ResNet_18,  epoch 109, local model 51, internal_epoch   2,  Average loss: 0.0054, Accuracy: 3692/4108 (89.8734%)
___Test Local_ResNet_18 poisoned: False, epoch: 109: Average loss: 2.0970, Accuracy: 5408/10000 (54.0800%)
___Train Local_ResNet_18,  epoch 109, local model 8, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4469/4889 (91.4093%)
___Train Local_ResNet_18,  epoch 109, local model 8, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4443/4889 (90.8775%)
___Test Local_ResNet_18 poisoned: False, epoch: 109: Average loss: 2.0283, Accuracy: 5337/10000 (53.3700%)
___Train Local_ResNet_18,  epoch 109, local model 54, internal_epoch   1,  Average loss: 0.0054, Accuracy: 5063/5645 (89.6900%)
___Train Local_ResNet_18,  epoch 109, local model 54, internal_epoch   2,  Average loss: 0.0069, Accuracy: 4882/5645 (86.4836%)
___Test Local_ResNet_18 poisoned: False, epoch: 109: Average loss: 2.2960, Accuracy: 4962/10000 (49.6200%)
___Train Local_ResNet_18,  epoch 109, local model 34, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4536/4911 (92.3641%)
___Train Local_ResNet_18,  epoch 109, local model 34, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4535/4911 (92.3437%)
___Test Local_ResNet_18 poisoned: False, epoch: 109: Average loss: 2.0212, Accuracy: 5327/10000 (53.2700%)
___Train Local_ResNet_18,  epoch 109, local model 27, internal_epoch   1,  Average loss: 0.0050, Accuracy: 4148/4587 (90.4295%)
___Train Local_ResNet_18,  epoch 109, local model 27, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4181/4587 (91.1489%)
___Test Local_ResNet_18 poisoned: False, epoch: 109: Average loss: 2.1100, Accuracy: 5315/10000 (53.1500%)
___Train Local_ResNet_18,  epoch 109, local model 68, internal_epoch   1,  Average loss: 0.0043, Accuracy: 3332/3589 (92.8392%)
___Train Local_ResNet_18,  epoch 109, local model 68, internal_epoch   2,  Average loss: 0.0066, Accuracy: 3148/3589 (87.7125%)
___Test Local_ResNet_18 poisoned: False, epoch: 109: Average loss: 2.2181, Accuracy: 5197/10000 (51.9700%)
___Train Local_ResNet_18,  epoch 109, local model 82, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4958/5298 (93.5825%)
___Train Local_ResNet_18,  epoch 109, local model 82, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4919/5298 (92.8464%)
___Test Local_ResNet_18 poisoned: False, epoch: 109: Average loss: 2.0398, Accuracy: 5442/10000 (54.4200%)
___Train Local_ResNet_18,  epoch 109, local model 65, internal_epoch   1,  Average loss: 0.0044, Accuracy: 5045/5497 (91.7773%)
___Train Local_ResNet_18,  epoch 109, local model 65, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4997/5497 (90.9041%)
___Test Local_ResNet_18 poisoned: False, epoch: 109: Average loss: 2.0618, Accuracy: 5367/10000 (53.6700%)
___Train Local_ResNet_18,  epoch 109, local model 7, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4427/4869 (90.9222%)
___Train Local_ResNet_18,  epoch 109, local model 7, internal_epoch   2,  Average loss: 0.0068, Accuracy: 4244/4869 (87.1637%)
___Test Local_ResNet_18 poisoned: False, epoch: 109: Average loss: 2.2671, Accuracy: 5074/10000 (50.7400%)
___Train Local_ResNet_18,  epoch 109, local model 14, internal_epoch   1,  Average loss: 0.0030, Accuracy: 3975/4196 (94.7331%)
___Train Local_ResNet_18,  epoch 109, local model 14, internal_epoch   2,  Average loss: 0.0029, Accuracy: 3969/4196 (94.5901%)
___Test Local_ResNet_18 poisoned: False, epoch: 109: Average loss: 1.7289, Accuracy: 5946/10000 (59.4600%)
___Train Local_ResNet_18,  epoch 109, local model 2, internal_epoch   1,  Average loss: 0.0042, Accuracy: 3664/3968 (92.3387%)
___Train Local_ResNet_18,  epoch 109, local model 2, internal_epoch   2,  Average loss: 0.0038, Accuracy: 3689/3968 (92.9688%)
___Test Local_ResNet_18 poisoned: False, epoch: 109: Average loss: 1.7439, Accuracy: 5870/10000 (58.7000%)
time spent on training: 268.0234303474426
___Test Target_ResNet_18 poisoned: False, epoch: 109: Average loss: 1.1917, Accuracy: 6839/10000 (68.3900%)
___Test Target_ResNet_18 poisoned: True, epoch: 109: Average loss: 0.2030, Accuracy: 9332/9900 (94.2626%)
Done in 294.8102786540985 sec.
Server Epoch:110 choose agents : [13, 36, 58, 71, 98, 90, 19, 60, 20, 39, 86, 78, 25, 23, 28, 34, 4, 9, 5, 41].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Significant loss increase detected for 13 at epoch 110: Current loss: 0.1606, Previous loss: 0.0825, Loss jump: 0.0781, Applied weight: 1.8963
Significant loss increase detected for 13 at epoch 110: Current loss: 0.2079, Previous loss: 0.1365, Loss jump: 0.0715, Applied weight: 1.2742
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 110, local model 13, internal_epoch   1,  Average loss: 0.0022, Accuracy: 5133/5308 (96.7031%), train_poison_data_count: 415
Global model norm: 43.28761375824281.
Norm before scaling: 43.26192455509738. Distance: 1.4033965512818682
___Test Local_ResNet_18 poisoned: True, epoch: 110: Average loss: 0.0305, Accuracy: 9821/9900 (99.2020%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 110, local model 36, internal_epoch   1,  Average loss: 0.0020, Accuracy: 5617/5777 (97.2304%), train_poison_data_count: 455
Global model norm: 43.28761375824281.
Norm before scaling: 43.2549573229221. Distance: 1.3639218374745414
___Test Local_ResNet_18 poisoned: True, epoch: 110: Average loss: 0.0415, Accuracy: 9790/9900 (98.8889%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 110, local model 58, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4888/5123 (95.4128%), train_poison_data_count: 403
Global model norm: 43.28761375824281.
Norm before scaling: 43.26358788992627. Distance: 1.4441228971252213
___Test Local_ResNet_18 poisoned: True, epoch: 110: Average loss: 0.2189, Accuracy: 9356/9900 (94.5051%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 110, local model 71, internal_epoch   1,  Average loss: 0.0022, Accuracy: 5326/5503 (96.7836%), train_poison_data_count: 430
Global model norm: 43.28761375824281.
Norm before scaling: 43.25962484351387. Distance: 1.4008395062154952
___Test Local_ResNet_18 poisoned: True, epoch: 110: Average loss: 0.0282, Accuracy: 9823/9900 (99.2222%)
___Train Local_ResNet_18,  epoch 110, local model 98, internal_epoch   1,  Average loss: 0.0044, Accuracy: 3880/4161 (93.2468%)
___Train Local_ResNet_18,  epoch 110, local model 98, internal_epoch   2,  Average loss: 0.0059, Accuracy: 3757/4161 (90.2908%)
___Test Local_ResNet_18 poisoned: False, epoch: 110: Average loss: 1.9879, Accuracy: 5593/10000 (55.9300%)
___Train Local_ResNet_18,  epoch 110, local model 90, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4425/4748 (93.1971%)
___Train Local_ResNet_18,  epoch 110, local model 90, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4409/4748 (92.8602%)
___Test Local_ResNet_18 poisoned: False, epoch: 110: Average loss: 1.9367, Accuracy: 5581/10000 (55.8100%)
___Train Local_ResNet_18,  epoch 110, local model 19, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4907/5361 (91.5314%)
___Train Local_ResNet_18,  epoch 110, local model 19, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4863/5361 (90.7107%)
___Test Local_ResNet_18 poisoned: False, epoch: 110: Average loss: 1.9793, Accuracy: 5482/10000 (54.8200%)
___Train Local_ResNet_18,  epoch 110, local model 60, internal_epoch   1,  Average loss: 0.0043, Accuracy: 3800/4145 (91.6767%)
___Train Local_ResNet_18,  epoch 110, local model 60, internal_epoch   2,  Average loss: 0.0039, Accuracy: 3830/4145 (92.4005%)
___Test Local_ResNet_18 poisoned: False, epoch: 110: Average loss: 1.9017, Accuracy: 5727/10000 (57.2700%)
___Train Local_ResNet_18,  epoch 110, local model 20, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4423/4714 (93.8269%)
___Train Local_ResNet_18,  epoch 110, local model 20, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4387/4714 (93.0632%)
___Test Local_ResNet_18 poisoned: False, epoch: 110: Average loss: 2.0267, Accuracy: 5550/10000 (55.5000%)
___Train Local_ResNet_18,  epoch 110, local model 39, internal_epoch   1,  Average loss: 0.0044, Accuracy: 3830/4175 (91.7365%)
___Train Local_ResNet_18,  epoch 110, local model 39, internal_epoch   2,  Average loss: 0.0049, Accuracy: 3790/4175 (90.7784%)
___Test Local_ResNet_18 poisoned: False, epoch: 110: Average loss: 2.1516, Accuracy: 5345/10000 (53.4500%)
___Train Local_ResNet_18,  epoch 110, local model 86, internal_epoch   1,  Average loss: 0.0048, Accuracy: 3574/3929 (90.9646%)
___Train Local_ResNet_18,  epoch 110, local model 86, internal_epoch   2,  Average loss: 0.0048, Accuracy: 3550/3929 (90.3538%)
___Test Local_ResNet_18 poisoned: False, epoch: 110: Average loss: 1.9381, Accuracy: 5603/10000 (56.0300%)
___Train Local_ResNet_18,  epoch 110, local model 78, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4073/4368 (93.2463%)
___Train Local_ResNet_18,  epoch 110, local model 78, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4090/4368 (93.6355%)
___Test Local_ResNet_18 poisoned: False, epoch: 110: Average loss: 1.9903, Accuracy: 5488/10000 (54.8800%)
___Train Local_ResNet_18,  epoch 110, local model 25, internal_epoch   1,  Average loss: 0.0055, Accuracy: 5753/6419 (89.6246%)
___Train Local_ResNet_18,  epoch 110, local model 25, internal_epoch   2,  Average loss: 0.0068, Accuracy: 5514/6419 (85.9012%)
___Test Local_ResNet_18 poisoned: False, epoch: 110: Average loss: 2.1718, Accuracy: 5190/10000 (51.9000%)
___Train Local_ResNet_18,  epoch 110, local model 23, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4304/4549 (94.6142%)
___Train Local_ResNet_18,  epoch 110, local model 23, internal_epoch   2,  Average loss: 0.0066, Accuracy: 3981/4549 (87.5137%)
___Test Local_ResNet_18 poisoned: False, epoch: 110: Average loss: 2.1877, Accuracy: 5171/10000 (51.7100%)
___Train Local_ResNet_18,  epoch 110, local model 28, internal_epoch   1,  Average loss: 0.0060, Accuracy: 4579/5122 (89.3987%)
___Train Local_ResNet_18,  epoch 110, local model 28, internal_epoch   2,  Average loss: 0.0146, Accuracy: 3783/5122 (73.8579%)
___Test Local_ResNet_18 poisoned: False, epoch: 110: Average loss: 2.4577, Accuracy: 4570/10000 (45.7000%)
___Train Local_ResNet_18,  epoch 110, local model 34, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4558/4911 (92.8121%)
___Train Local_ResNet_18,  epoch 110, local model 34, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4572/4911 (93.0971%)
___Test Local_ResNet_18 poisoned: False, epoch: 110: Average loss: 2.0175, Accuracy: 5387/10000 (53.8700%)
___Train Local_ResNet_18,  epoch 110, local model 4, internal_epoch   1,  Average loss: 0.0042, Accuracy: 3711/4028 (92.1301%)
___Train Local_ResNet_18,  epoch 110, local model 4, internal_epoch   2,  Average loss: 0.0041, Accuracy: 3724/4028 (92.4528%)
___Test Local_ResNet_18 poisoned: False, epoch: 110: Average loss: 1.8180, Accuracy: 5840/10000 (58.4000%)
___Train Local_ResNet_18,  epoch 110, local model 9, internal_epoch   1,  Average loss: 0.0050, Accuracy: 5170/5727 (90.2741%)
___Train Local_ResNet_18,  epoch 110, local model 9, internal_epoch   2,  Average loss: 0.0053, Accuracy: 5124/5727 (89.4709%)
___Test Local_ResNet_18 poisoned: False, epoch: 110: Average loss: 2.1398, Accuracy: 5234/10000 (52.3400%)
___Train Local_ResNet_18,  epoch 110, local model 5, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4704/4993 (94.2119%)
___Train Local_ResNet_18,  epoch 110, local model 5, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4644/4993 (93.0102%)
___Test Local_ResNet_18 poisoned: False, epoch: 110: Average loss: 2.1885, Accuracy: 5431/10000 (54.3100%)
___Train Local_ResNet_18,  epoch 110, local model 41, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4428/4714 (93.9330%)
___Train Local_ResNet_18,  epoch 110, local model 41, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4416/4714 (93.6784%)
___Test Local_ResNet_18 poisoned: False, epoch: 110: Average loss: 2.0316, Accuracy: 5548/10000 (55.4800%)
time spent on training: 270.7483186721802
___Test Target_ResNet_18 poisoned: False, epoch: 110: Average loss: 1.1913, Accuracy: 6850/10000 (68.5000%)
___Test Target_ResNet_18 poisoned: True, epoch: 110: Average loss: 0.1930, Accuracy: 9366/9900 (94.6061%)
Done in 297.2775869369507 sec.
Server Epoch:111 choose agents : [13, 36, 58, 71, 80, 69, 20, 50, 3, 73, 15, 77, 35, 56, 55, 18, 47, 21, 5, 43].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 111, local model 13, internal_epoch   1,  Average loss: 0.0020, Accuracy: 5150/5308 (97.0234%), train_poison_data_count: 415
Global model norm: 43.30657539746418.
Norm before scaling: 43.277397166058286. Distance: 1.3068793154352891
___Test Local_ResNet_18 poisoned: True, epoch: 111: Average loss: 0.0351, Accuracy: 9809/9900 (99.0808%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 111, local model 36, internal_epoch   1,  Average loss: 0.0019, Accuracy: 5618/5777 (97.2477%), train_poison_data_count: 455
Global model norm: 43.30657539746418.
Norm before scaling: 43.273627205532904. Distance: 1.3762875510765513
___Test Local_ResNet_18 poisoned: True, epoch: 111: Average loss: 0.0740, Accuracy: 9711/9900 (98.0909%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 111, local model 58, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4922/5123 (96.0765%), train_poison_data_count: 403
Global model norm: 43.30657539746418.
Norm before scaling: 43.280453230481974. Distance: 1.3733487184057813
___Test Local_ResNet_18 poisoned: True, epoch: 111: Average loss: 0.1004, Accuracy: 9641/9900 (97.3838%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 111, local model 71, internal_epoch   1,  Average loss: 0.0023, Accuracy: 5309/5503 (96.4747%), train_poison_data_count: 430
Global model norm: 43.30657539746418.
Norm before scaling: 43.282458523289925. Distance: 1.4832260503798025
___Test Local_ResNet_18 poisoned: True, epoch: 111: Average loss: 0.1627, Accuracy: 9465/9900 (95.6061%)
___Train Local_ResNet_18,  epoch 111, local model 80, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4977/5461 (91.1372%)
___Train Local_ResNet_18,  epoch 111, local model 80, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4964/5461 (90.8991%)
___Test Local_ResNet_18 poisoned: False, epoch: 111: Average loss: 2.1136, Accuracy: 5251/10000 (52.5100%)
___Train Local_ResNet_18,  epoch 111, local model 69, internal_epoch   1,  Average loss: 0.0047, Accuracy: 3997/4364 (91.5903%)
___Train Local_ResNet_18,  epoch 111, local model 69, internal_epoch   2,  Average loss: 0.0053, Accuracy: 3922/4364 (89.8717%)
___Test Local_ResNet_18 poisoned: False, epoch: 111: Average loss: 2.1148, Accuracy: 5338/10000 (53.3800%)
___Train Local_ResNet_18,  epoch 111, local model 20, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4437/4714 (94.1239%)
___Train Local_ResNet_18,  epoch 111, local model 20, internal_epoch   2,  Average loss: 0.0029, Accuracy: 4460/4714 (94.6118%)
___Test Local_ResNet_18 poisoned: False, epoch: 111: Average loss: 1.8575, Accuracy: 5777/10000 (57.7700%)
___Train Local_ResNet_18,  epoch 111, local model 50, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4374/4757 (91.9487%)
___Train Local_ResNet_18,  epoch 111, local model 50, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4291/4757 (90.2039%)
___Test Local_ResNet_18 poisoned: False, epoch: 111: Average loss: 2.1549, Accuracy: 5229/10000 (52.2900%)
___Train Local_ResNet_18,  epoch 111, local model 3, internal_epoch   1,  Average loss: 0.0035, Accuracy: 5013/5346 (93.7710%)
___Train Local_ResNet_18,  epoch 111, local model 3, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4888/5346 (91.4328%)
___Test Local_ResNet_18 poisoned: False, epoch: 111: Average loss: 2.0818, Accuracy: 5380/10000 (53.8000%)
___Train Local_ResNet_18,  epoch 111, local model 73, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4287/4605 (93.0945%)
___Train Local_ResNet_18,  epoch 111, local model 73, internal_epoch   2,  Average loss: 0.0032, Accuracy: 4333/4605 (94.0934%)
___Test Local_ResNet_18 poisoned: False, epoch: 111: Average loss: 1.8711, Accuracy: 5789/10000 (57.8900%)
___Train Local_ResNet_18,  epoch 111, local model 15, internal_epoch   1,  Average loss: 0.0044, Accuracy: 5544/6068 (91.3645%)
___Train Local_ResNet_18,  epoch 111, local model 15, internal_epoch   2,  Average loss: 0.0049, Accuracy: 5488/6068 (90.4417%)
___Test Local_ResNet_18 poisoned: False, epoch: 111: Average loss: 2.1617, Accuracy: 5117/10000 (51.1700%)
___Train Local_ResNet_18,  epoch 111, local model 77, internal_epoch   1,  Average loss: 0.0055, Accuracy: 4519/5050 (89.4851%)
___Train Local_ResNet_18,  epoch 111, local model 77, internal_epoch   2,  Average loss: 0.0058, Accuracy: 4488/5050 (88.8713%)
___Test Local_ResNet_18 poisoned: False, epoch: 111: Average loss: 2.2219, Accuracy: 5196/10000 (51.9600%)
___Train Local_ResNet_18,  epoch 111, local model 35, internal_epoch   1,  Average loss: 0.0046, Accuracy: 5119/5615 (91.1665%)
___Train Local_ResNet_18,  epoch 111, local model 35, internal_epoch   2,  Average loss: 0.0046, Accuracy: 5108/5615 (90.9706%)
___Test Local_ResNet_18 poisoned: False, epoch: 111: Average loss: 2.0669, Accuracy: 5399/10000 (53.9900%)
___Train Local_ResNet_18,  epoch 111, local model 56, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4921/5427 (90.6762%)
___Train Local_ResNet_18,  epoch 111, local model 56, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4929/5427 (90.8237%)
___Test Local_ResNet_18 poisoned: False, epoch: 111: Average loss: 2.0175, Accuracy: 5588/10000 (55.8800%)
___Train Local_ResNet_18,  epoch 111, local model 55, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4403/4731 (93.0670%)
___Train Local_ResNet_18,  epoch 111, local model 55, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4366/4731 (92.2849%)
___Test Local_ResNet_18 poisoned: False, epoch: 111: Average loss: 1.9640, Accuracy: 5564/10000 (55.6400%)
___Train Local_ResNet_18,  epoch 111, local model 18, internal_epoch   1,  Average loss: 0.0041, Accuracy: 3941/4249 (92.7512%)
___Train Local_ResNet_18,  epoch 111, local model 18, internal_epoch   2,  Average loss: 0.0042, Accuracy: 3912/4249 (92.0687%)
___Test Local_ResNet_18 poisoned: False, epoch: 111: Average loss: 1.9591, Accuracy: 5628/10000 (56.2800%)
___Train Local_ResNet_18,  epoch 111, local model 47, internal_epoch   1,  Average loss: 0.0056, Accuracy: 4625/5123 (90.2791%)
___Train Local_ResNet_18,  epoch 111, local model 47, internal_epoch   2,  Average loss: 0.0102, Accuracy: 4166/5123 (81.3195%)
___Test Local_ResNet_18 poisoned: False, epoch: 111: Average loss: 2.1744, Accuracy: 5189/10000 (51.8900%)
___Train Local_ResNet_18,  epoch 111, local model 21, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4658/5038 (92.4573%)
___Train Local_ResNet_18,  epoch 111, local model 21, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4612/5038 (91.5443%)
___Test Local_ResNet_18 poisoned: False, epoch: 111: Average loss: 1.9754, Accuracy: 5559/10000 (55.5900%)
___Train Local_ResNet_18,  epoch 111, local model 5, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4744/4993 (95.0130%)
___Train Local_ResNet_18,  epoch 111, local model 5, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4656/4993 (93.2506%)
___Test Local_ResNet_18 poisoned: False, epoch: 111: Average loss: 2.0713, Accuracy: 5566/10000 (55.6600%)
___Train Local_ResNet_18,  epoch 111, local model 43, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4593/4979 (92.2474%)
___Train Local_ResNet_18,  epoch 111, local model 43, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4631/4979 (93.0106%)
___Test Local_ResNet_18 poisoned: False, epoch: 111: Average loss: 2.0990, Accuracy: 5447/10000 (54.4700%)
time spent on training: 270.88674998283386
___Test Target_ResNet_18 poisoned: False, epoch: 111: Average loss: 1.1889, Accuracy: 6855/10000 (68.5500%)
___Test Target_ResNet_18 poisoned: True, epoch: 111: Average loss: 0.1862, Accuracy: 9385/9900 (94.7980%)
Done in 297.55867052078247 sec.
Server Epoch:112 choose agents : [13, 36, 58, 71, 56, 14, 4, 30, 82, 85, 39, 70, 91, 59, 1, 88, 49, 34, 53, 93].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 112, local model 13, internal_epoch   1,  Average loss: 0.0020, Accuracy: 5145/5308 (96.9292%), train_poison_data_count: 415
Global model norm: 43.327585474913526.
Norm before scaling: 43.29837629344128. Distance: 1.3465372055840246
___Test Local_ResNet_18 poisoned: True, epoch: 112: Average loss: 0.0344, Accuracy: 9812/9900 (99.1111%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 112, local model 36, internal_epoch   1,  Average loss: 0.0020, Accuracy: 5609/5777 (97.0919%), train_poison_data_count: 455
Global model norm: 43.327585474913526.
Norm before scaling: 43.29302496640986. Distance: 1.3664055468217753
___Test Local_ResNet_18 poisoned: True, epoch: 112: Average loss: 0.0661, Accuracy: 9723/9900 (98.2121%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 112, local model 58, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4930/5123 (96.2327%), train_poison_data_count: 403
Global model norm: 43.327585474913526.
Norm before scaling: 43.30178044206872. Distance: 1.39752747319331
___Test Local_ResNet_18 poisoned: True, epoch: 112: Average loss: 0.0700, Accuracy: 9701/9900 (97.9899%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 112, local model 71, internal_epoch   1,  Average loss: 0.0022, Accuracy: 5301/5503 (96.3293%), train_poison_data_count: 430
Global model norm: 43.327585474913526.
Norm before scaling: 43.30005373345757. Distance: 1.4276239062780118
___Test Local_ResNet_18 poisoned: True, epoch: 112: Average loss: 0.0803, Accuracy: 9683/9900 (97.8081%)
___Train Local_ResNet_18,  epoch 112, local model 56, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4874/5427 (89.8102%)
___Train Local_ResNet_18,  epoch 112, local model 56, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4836/5427 (89.1100%)
___Test Local_ResNet_18 poisoned: False, epoch: 112: Average loss: 2.1657, Accuracy: 5290/10000 (52.9000%)
___Train Local_ResNet_18,  epoch 112, local model 14, internal_epoch   1,  Average loss: 0.0031, Accuracy: 3961/4196 (94.3994%)
___Train Local_ResNet_18,  epoch 112, local model 14, internal_epoch   2,  Average loss: 0.0029, Accuracy: 3974/4196 (94.7092%)
___Test Local_ResNet_18 poisoned: False, epoch: 112: Average loss: 1.9054, Accuracy: 5684/10000 (56.8400%)
___Train Local_ResNet_18,  epoch 112, local model 4, internal_epoch   1,  Average loss: 0.0041, Accuracy: 3707/4028 (92.0308%)
___Train Local_ResNet_18,  epoch 112, local model 4, internal_epoch   2,  Average loss: 0.0038, Accuracy: 3736/4028 (92.7507%)
___Test Local_ResNet_18 poisoned: False, epoch: 112: Average loss: 1.8844, Accuracy: 5798/10000 (57.9800%)
___Train Local_ResNet_18,  epoch 112, local model 30, internal_epoch   1,  Average loss: 0.0037, Accuracy: 3522/3774 (93.3227%)
___Train Local_ResNet_18,  epoch 112, local model 30, internal_epoch   2,  Average loss: 0.0029, Accuracy: 3558/3774 (94.2766%)
___Test Local_ResNet_18 poisoned: False, epoch: 112: Average loss: 1.8328, Accuracy: 5843/10000 (58.4300%)
___Train Local_ResNet_18,  epoch 112, local model 82, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4923/5298 (92.9219%)
___Train Local_ResNet_18,  epoch 112, local model 82, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4877/5298 (92.0536%)
___Test Local_ResNet_18 poisoned: False, epoch: 112: Average loss: 2.0406, Accuracy: 5453/10000 (54.5300%)
___Train Local_ResNet_18,  epoch 112, local model 85, internal_epoch   1,  Average loss: 0.0049, Accuracy: 6307/6947 (90.7874%)
___Train Local_ResNet_18,  epoch 112, local model 85, internal_epoch   2,  Average loss: 0.0066, Accuracy: 6017/6947 (86.6129%)
___Test Local_ResNet_18 poisoned: False, epoch: 112: Average loss: 2.3502, Accuracy: 4975/10000 (49.7500%)
___Train Local_ResNet_18,  epoch 112, local model 39, internal_epoch   1,  Average loss: 0.0045, Accuracy: 3815/4175 (91.3772%)
___Train Local_ResNet_18,  epoch 112, local model 39, internal_epoch   2,  Average loss: 0.0048, Accuracy: 3792/4175 (90.8263%)
___Test Local_ResNet_18 poisoned: False, epoch: 112: Average loss: 2.0592, Accuracy: 5477/10000 (54.7700%)
___Train Local_ResNet_18,  epoch 112, local model 70, internal_epoch   1,  Average loss: 0.0041, Accuracy: 5405/5871 (92.0627%)
___Train Local_ResNet_18,  epoch 112, local model 70, internal_epoch   2,  Average loss: 0.0043, Accuracy: 5389/5871 (91.7902%)
___Test Local_ResNet_18 poisoned: False, epoch: 112: Average loss: 2.1387, Accuracy: 5318/10000 (53.1800%)
___Train Local_ResNet_18,  epoch 112, local model 91, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4105/4527 (90.6782%)
___Train Local_ResNet_18,  epoch 112, local model 91, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4044/4527 (89.3307%)
___Test Local_ResNet_18 poisoned: False, epoch: 112: Average loss: 2.0394, Accuracy: 5366/10000 (53.6600%)
___Train Local_ResNet_18,  epoch 112, local model 59, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4166/4397 (94.7464%)
___Train Local_ResNet_18,  epoch 112, local model 59, internal_epoch   2,  Average loss: 0.0025, Accuracy: 4196/4397 (95.4287%)
___Test Local_ResNet_18 poisoned: False, epoch: 112: Average loss: 1.7916, Accuracy: 5804/10000 (58.0400%)
___Train Local_ResNet_18,  epoch 112, local model 1, internal_epoch   1,  Average loss: 0.0033, Accuracy: 5083/5422 (93.7477%)
___Train Local_ResNet_18,  epoch 112, local model 1, internal_epoch   2,  Average loss: 0.0040, Accuracy: 5002/5422 (92.2538%)
___Test Local_ResNet_18 poisoned: False, epoch: 112: Average loss: 2.0217, Accuracy: 5577/10000 (55.7700%)
___Train Local_ResNet_18,  epoch 112, local model 88, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4910/5362 (91.5703%)
___Train Local_ResNet_18,  epoch 112, local model 88, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4846/5362 (90.3767%)
___Test Local_ResNet_18 poisoned: False, epoch: 112: Average loss: 2.0666, Accuracy: 5331/10000 (53.3100%)
___Train Local_ResNet_18,  epoch 112, local model 49, internal_epoch   1,  Average loss: 0.0054, Accuracy: 5072/5652 (89.7381%)
___Train Local_ResNet_18,  epoch 112, local model 49, internal_epoch   2,  Average loss: 0.0055, Accuracy: 5060/5652 (89.5258%)
___Test Local_ResNet_18 poisoned: False, epoch: 112: Average loss: 2.1558, Accuracy: 5194/10000 (51.9400%)
___Train Local_ResNet_18,  epoch 112, local model 34, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4534/4911 (92.3234%)
___Train Local_ResNet_18,  epoch 112, local model 34, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4549/4911 (92.6288%)
___Test Local_ResNet_18 poisoned: False, epoch: 112: Average loss: 2.0057, Accuracy: 5458/10000 (54.5800%)
___Train Local_ResNet_18,  epoch 112, local model 53, internal_epoch   1,  Average loss: 0.0064, Accuracy: 5833/6664 (87.5300%)
___Train Local_ResNet_18,  epoch 112, local model 53, internal_epoch   2,  Average loss: 0.0076, Accuracy: 5681/6664 (85.2491%)
___Test Local_ResNet_18 poisoned: False, epoch: 112: Average loss: 2.1834, Accuracy: 5015/10000 (50.1500%)
___Train Local_ResNet_18,  epoch 112, local model 93, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4586/5055 (90.7221%)
___Train Local_ResNet_18,  epoch 112, local model 93, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4528/5055 (89.5747%)
___Test Local_ResNet_18 poisoned: False, epoch: 112: Average loss: 2.1034, Accuracy: 5392/10000 (53.9200%)
time spent on training: 279.30283522605896
___Test Target_ResNet_18 poisoned: False, epoch: 112: Average loss: 1.1932, Accuracy: 6855/10000 (68.5500%)
___Test Target_ResNet_18 poisoned: True, epoch: 112: Average loss: 0.1729, Accuracy: 9414/9900 (95.0909%)
Done in 305.6419241428375 sec.
Server Epoch:113 choose agents : [13, 36, 58, 71, 98, 78, 33, 79, 16, 3, 62, 30, 39, 1, 15, 6, 50, 93, 66, 81].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 113, local model 13, internal_epoch   1,  Average loss: 0.0020, Accuracy: 5149/5308 (97.0045%), train_poison_data_count: 415
Global model norm: 43.34778702135136.
Norm before scaling: 43.31986234549704. Distance: 1.377796320743441
___Test Local_ResNet_18 poisoned: True, epoch: 113: Average loss: 0.0382, Accuracy: 9806/9900 (99.0505%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 113, local model 36, internal_epoch   1,  Average loss: 0.0020, Accuracy: 5591/5777 (96.7803%), train_poison_data_count: 455
Global model norm: 43.34778702135136.
Norm before scaling: 43.315700132050125. Distance: 1.430454902852746
___Test Local_ResNet_18 poisoned: True, epoch: 113: Average loss: 0.0565, Accuracy: 9763/9900 (98.6162%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 113, local model 58, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4908/5123 (95.8032%), train_poison_data_count: 403
Global model norm: 43.34778702135136.
Norm before scaling: 43.32239554843069. Distance: 1.4286735566282074
___Test Local_ResNet_18 poisoned: True, epoch: 113: Average loss: 0.0887, Accuracy: 9672/9900 (97.6970%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 113, local model 71, internal_epoch   1,  Average loss: 0.0023, Accuracy: 5298/5503 (96.2748%), train_poison_data_count: 430
Global model norm: 43.34778702135136.
Norm before scaling: 43.32161503339369. Distance: 1.460473706069786
___Test Local_ResNet_18 poisoned: True, epoch: 113: Average loss: 0.0401, Accuracy: 9787/9900 (98.8586%)
___Train Local_ResNet_18,  epoch 113, local model 98, internal_epoch   1,  Average loss: 0.0046, Accuracy: 3892/4161 (93.5352%)
___Train Local_ResNet_18,  epoch 113, local model 98, internal_epoch   2,  Average loss: 0.0054, Accuracy: 3817/4161 (91.7328%)
___Test Local_ResNet_18 poisoned: False, epoch: 113: Average loss: 2.1116, Accuracy: 5400/10000 (54.0000%)
___Train Local_ResNet_18,  epoch 113, local model 78, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4118/4368 (94.2766%)
___Train Local_ResNet_18,  epoch 113, local model 78, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4054/4368 (92.8114%)
___Test Local_ResNet_18 poisoned: False, epoch: 113: Average loss: 1.9055, Accuracy: 5583/10000 (55.8300%)
___Train Local_ResNet_18,  epoch 113, local model 33, internal_epoch   1,  Average loss: 0.0050, Accuracy: 4331/4818 (89.8921%)
___Train Local_ResNet_18,  epoch 113, local model 33, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4337/4818 (90.0166%)
___Test Local_ResNet_18 poisoned: False, epoch: 113: Average loss: 1.9036, Accuracy: 5602/10000 (56.0200%)
___Train Local_ResNet_18,  epoch 113, local model 79, internal_epoch   1,  Average loss: 0.0039, Accuracy: 3802/4111 (92.4836%)
___Train Local_ResNet_18,  epoch 113, local model 79, internal_epoch   2,  Average loss: 0.0038, Accuracy: 3816/4111 (92.8241%)
___Test Local_ResNet_18 poisoned: False, epoch: 113: Average loss: 2.1341, Accuracy: 5316/10000 (53.1600%)
___Train Local_ResNet_18,  epoch 113, local model 16, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4892/5353 (91.3880%)
___Train Local_ResNet_18,  epoch 113, local model 16, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4841/5353 (90.4353%)
___Test Local_ResNet_18 poisoned: False, epoch: 113: Average loss: 1.9432, Accuracy: 5516/10000 (55.1600%)
___Train Local_ResNet_18,  epoch 113, local model 3, internal_epoch   1,  Average loss: 0.0033, Accuracy: 5007/5346 (93.6588%)
___Train Local_ResNet_18,  epoch 113, local model 3, internal_epoch   2,  Average loss: 0.0033, Accuracy: 4998/5346 (93.4905%)
___Test Local_ResNet_18 poisoned: False, epoch: 113: Average loss: 2.1918, Accuracy: 5230/10000 (52.3000%)
___Train Local_ResNet_18,  epoch 113, local model 62, internal_epoch   1,  Average loss: 0.0058, Accuracy: 4870/5504 (88.4811%)
___Train Local_ResNet_18,  epoch 113, local model 62, internal_epoch   2,  Average loss: 0.0065, Accuracy: 4767/5504 (86.6097%)
___Test Local_ResNet_18 poisoned: False, epoch: 113: Average loss: 2.3021, Accuracy: 5026/10000 (50.2600%)
___Train Local_ResNet_18,  epoch 113, local model 30, internal_epoch   1,  Average loss: 0.0038, Accuracy: 3497/3774 (92.6603%)
___Train Local_ResNet_18,  epoch 113, local model 30, internal_epoch   2,  Average loss: 0.0035, Accuracy: 3524/3774 (93.3757%)
___Test Local_ResNet_18 poisoned: False, epoch: 113: Average loss: 1.9061, Accuracy: 5676/10000 (56.7600%)
___Train Local_ResNet_18,  epoch 113, local model 39, internal_epoch   1,  Average loss: 0.0043, Accuracy: 3835/4175 (91.8563%)
___Train Local_ResNet_18,  epoch 113, local model 39, internal_epoch   2,  Average loss: 0.0045, Accuracy: 3819/4175 (91.4731%)
___Test Local_ResNet_18 poisoned: False, epoch: 113: Average loss: 1.9925, Accuracy: 5490/10000 (54.9000%)
___Train Local_ResNet_18,  epoch 113, local model 1, internal_epoch   1,  Average loss: 0.0034, Accuracy: 5076/5422 (93.6186%)
___Train Local_ResNet_18,  epoch 113, local model 1, internal_epoch   2,  Average loss: 0.0038, Accuracy: 5046/5422 (93.0653%)
___Test Local_ResNet_18 poisoned: False, epoch: 113: Average loss: 1.9739, Accuracy: 5627/10000 (56.2700%)
___Train Local_ResNet_18,  epoch 113, local model 15, internal_epoch   1,  Average loss: 0.0040, Accuracy: 5615/6068 (92.5346%)
___Train Local_ResNet_18,  epoch 113, local model 15, internal_epoch   2,  Average loss: 0.0045, Accuracy: 5519/6068 (90.9525%)
___Test Local_ResNet_18 poisoned: False, epoch: 113: Average loss: 2.3212, Accuracy: 5144/10000 (51.4400%)
___Train Local_ResNet_18,  epoch 113, local model 6, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4549/4929 (92.2905%)
___Train Local_ResNet_18,  epoch 113, local model 6, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4486/4929 (91.0124%)
___Test Local_ResNet_18 poisoned: False, epoch: 113: Average loss: 2.0869, Accuracy: 5485/10000 (54.8500%)
___Train Local_ResNet_18,  epoch 113, local model 50, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4419/4757 (92.8947%)
___Train Local_ResNet_18,  epoch 113, local model 50, internal_epoch   2,  Average loss: 0.0054, Accuracy: 4237/4757 (89.0687%)
___Test Local_ResNet_18 poisoned: False, epoch: 113: Average loss: 2.1280, Accuracy: 5253/10000 (52.5300%)
___Train Local_ResNet_18,  epoch 113, local model 93, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4633/5055 (91.6518%)
___Train Local_ResNet_18,  epoch 113, local model 93, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4545/5055 (89.9110%)
___Test Local_ResNet_18 poisoned: False, epoch: 113: Average loss: 2.0307, Accuracy: 5505/10000 (55.0500%)
___Train Local_ResNet_18,  epoch 113, local model 66, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4466/4843 (92.2156%)
___Train Local_ResNet_18,  epoch 113, local model 66, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4460/4843 (92.0917%)
___Test Local_ResNet_18 poisoned: False, epoch: 113: Average loss: 1.9111, Accuracy: 5634/10000 (56.3400%)
___Train Local_ResNet_18,  epoch 113, local model 81, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4709/5035 (93.5253%)
___Train Local_ResNet_18,  epoch 113, local model 81, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4681/5035 (92.9692%)
___Test Local_ResNet_18 poisoned: False, epoch: 113: Average loss: 1.9149, Accuracy: 5679/10000 (56.7900%)
time spent on training: 274.31948709487915
___Test Target_ResNet_18 poisoned: False, epoch: 113: Average loss: 1.1996, Accuracy: 6842/10000 (68.4200%)
___Test Target_ResNet_18 poisoned: True, epoch: 113: Average loss: 0.1626, Accuracy: 9439/9900 (95.3434%)
Done in 301.1539375782013 sec.
Server Epoch:114 choose agents : [13, 36, 58, 71, 33, 91, 10, 81, 5, 93, 90, 24, 64, 16, 9, 18, 27, 2, 67, 82].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 114, local model 13, internal_epoch   1,  Average loss: 0.0020, Accuracy: 5149/5308 (97.0045%), train_poison_data_count: 415
Global model norm: 43.36813959840291.
Norm before scaling: 43.33882818351591. Distance: 1.3421194252451916
___Test Local_ResNet_18 poisoned: True, epoch: 114: Average loss: 0.0528, Accuracy: 9758/9900 (98.5657%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 114, local model 36, internal_epoch   1,  Average loss: 0.0019, Accuracy: 5597/5777 (96.8842%), train_poison_data_count: 455
Global model norm: 43.36813959840291.
Norm before scaling: 43.33236912363767. Distance: 1.3427348183366876
___Test Local_ResNet_18 poisoned: True, epoch: 114: Average loss: 0.0447, Accuracy: 9779/9900 (98.7778%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 114, local model 58, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4924/5123 (96.1156%), train_poison_data_count: 403
Global model norm: 43.36813959840291.
Norm before scaling: 43.34177007464191. Distance: 1.418889947114326
___Test Local_ResNet_18 poisoned: True, epoch: 114: Average loss: 0.0815, Accuracy: 9695/9900 (97.9293%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 114, local model 71, internal_epoch   1,  Average loss: 0.0023, Accuracy: 5309/5503 (96.4747%), train_poison_data_count: 430
Global model norm: 43.36813959840291.
Norm before scaling: 43.34003228468456. Distance: 1.4337491567088727
___Test Local_ResNet_18 poisoned: True, epoch: 114: Average loss: 0.0578, Accuracy: 9758/9900 (98.5657%)
___Train Local_ResNet_18,  epoch 114, local model 33, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4416/4818 (91.6563%)
___Train Local_ResNet_18,  epoch 114, local model 33, internal_epoch   2,  Average loss: 0.0059, Accuracy: 4256/4818 (88.3354%)
___Test Local_ResNet_18 poisoned: False, epoch: 114: Average loss: 2.1598, Accuracy: 5229/10000 (52.2900%)
___Train Local_ResNet_18,  epoch 114, local model 91, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4064/4527 (89.7725%)
___Train Local_ResNet_18,  epoch 114, local model 91, internal_epoch   2,  Average loss: 0.0058, Accuracy: 4019/4527 (88.7784%)
___Test Local_ResNet_18 poisoned: False, epoch: 114: Average loss: 2.0989, Accuracy: 5314/10000 (53.1400%)
___Train Local_ResNet_18,  epoch 114, local model 10, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4712/5068 (92.9755%)
___Train Local_ResNet_18,  epoch 114, local model 10, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4568/5068 (90.1342%)
___Test Local_ResNet_18 poisoned: False, epoch: 114: Average loss: 2.2832, Accuracy: 5031/10000 (50.3100%)
___Train Local_ResNet_18,  epoch 114, local model 81, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4693/5035 (93.2075%)
___Train Local_ResNet_18,  epoch 114, local model 81, internal_epoch   2,  Average loss: 0.0031, Accuracy: 4721/5035 (93.7637%)
___Test Local_ResNet_18 poisoned: False, epoch: 114: Average loss: 1.9145, Accuracy: 5716/10000 (57.1600%)
___Train Local_ResNet_18,  epoch 114, local model 5, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4763/4993 (95.3936%)
___Train Local_ResNet_18,  epoch 114, local model 5, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4672/4993 (93.5710%)
___Test Local_ResNet_18 poisoned: False, epoch: 114: Average loss: 2.0951, Accuracy: 5468/10000 (54.6800%)
___Train Local_ResNet_18,  epoch 114, local model 93, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4557/5055 (90.1484%)
___Train Local_ResNet_18,  epoch 114, local model 93, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4557/5055 (90.1484%)
___Test Local_ResNet_18 poisoned: False, epoch: 114: Average loss: 2.0652, Accuracy: 5373/10000 (53.7300%)
___Train Local_ResNet_18,  epoch 114, local model 90, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4426/4748 (93.2182%)
___Train Local_ResNet_18,  epoch 114, local model 90, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4370/4748 (92.0388%)
___Test Local_ResNet_18 poisoned: False, epoch: 114: Average loss: 2.0521, Accuracy: 5539/10000 (55.3900%)
___Train Local_ResNet_18,  epoch 114, local model 24, internal_epoch   1,  Average loss: 0.0041, Accuracy: 3996/4313 (92.6501%)
___Train Local_ResNet_18,  epoch 114, local model 24, internal_epoch   2,  Average loss: 0.0039, Accuracy: 3995/4313 (92.6269%)
___Test Local_ResNet_18 poisoned: False, epoch: 114: Average loss: 1.8975, Accuracy: 5804/10000 (58.0400%)
___Train Local_ResNet_18,  epoch 114, local model 64, internal_epoch   1,  Average loss: 0.0056, Accuracy: 4346/4894 (88.8026%)
___Train Local_ResNet_18,  epoch 114, local model 64, internal_epoch   2,  Average loss: 0.0063, Accuracy: 4291/4894 (87.6788%)
___Test Local_ResNet_18 poisoned: False, epoch: 114: Average loss: 2.1798, Accuracy: 5197/10000 (51.9700%)
___Train Local_ResNet_18,  epoch 114, local model 16, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4942/5353 (92.3221%)
___Train Local_ResNet_18,  epoch 114, local model 16, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4805/5353 (89.7627%)
___Test Local_ResNet_18 poisoned: False, epoch: 114: Average loss: 1.9925, Accuracy: 5529/10000 (55.2900%)
___Train Local_ResNet_18,  epoch 114, local model 9, internal_epoch   1,  Average loss: 0.0055, Accuracy: 5127/5727 (89.5233%)
___Train Local_ResNet_18,  epoch 114, local model 9, internal_epoch   2,  Average loss: 0.0062, Accuracy: 5044/5727 (88.0740%)
___Test Local_ResNet_18 poisoned: False, epoch: 114: Average loss: 2.1989, Accuracy: 5154/10000 (51.5400%)
___Train Local_ResNet_18,  epoch 114, local model 18, internal_epoch   1,  Average loss: 0.0040, Accuracy: 3930/4249 (92.4924%)
___Train Local_ResNet_18,  epoch 114, local model 18, internal_epoch   2,  Average loss: 0.0039, Accuracy: 3916/4249 (92.1629%)
___Test Local_ResNet_18 poisoned: False, epoch: 114: Average loss: 1.9565, Accuracy: 5578/10000 (55.7800%)
___Train Local_ResNet_18,  epoch 114, local model 27, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4171/4587 (90.9309%)
___Train Local_ResNet_18,  epoch 114, local model 27, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4117/4587 (89.7537%)
___Test Local_ResNet_18 poisoned: False, epoch: 114: Average loss: 2.1234, Accuracy: 5310/10000 (53.1000%)
___Train Local_ResNet_18,  epoch 114, local model 2, internal_epoch   1,  Average loss: 0.0043, Accuracy: 3666/3968 (92.3891%)
___Train Local_ResNet_18,  epoch 114, local model 2, internal_epoch   2,  Average loss: 0.0040, Accuracy: 3660/3968 (92.2379%)
___Test Local_ResNet_18 poisoned: False, epoch: 114: Average loss: 1.8924, Accuracy: 5653/10000 (56.5300%)
___Train Local_ResNet_18,  epoch 114, local model 67, internal_epoch   1,  Average loss: 0.0052, Accuracy: 5005/5559 (90.0342%)
___Train Local_ResNet_18,  epoch 114, local model 67, internal_epoch   2,  Average loss: 0.0056, Accuracy: 4964/5559 (89.2966%)
___Test Local_ResNet_18 poisoned: False, epoch: 114: Average loss: 2.2285, Accuracy: 5169/10000 (51.6900%)
___Train Local_ResNet_18,  epoch 114, local model 82, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4932/5298 (93.0917%)
___Train Local_ResNet_18,  epoch 114, local model 82, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4918/5298 (92.8275%)
___Test Local_ResNet_18 poisoned: False, epoch: 114: Average loss: 2.1467, Accuracy: 5390/10000 (53.9000%)
time spent on training: 273.16795778274536
___Test Target_ResNet_18 poisoned: False, epoch: 114: Average loss: 1.2032, Accuracy: 6833/10000 (68.3300%)
___Test Target_ResNet_18 poisoned: True, epoch: 114: Average loss: 0.1522, Accuracy: 9472/9900 (95.6768%)
Done in 299.5313136577606 sec.
Server Epoch:115 choose agents : [13, 36, 58, 71, 33, 82, 16, 30, 63, 31, 53, 84, 47, 60, 12, 92, 42, 39, 44, 79].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 115, local model 13, internal_epoch   1,  Average loss: 0.0019, Accuracy: 5156/5308 (97.1364%), train_poison_data_count: 415
Global model norm: 43.389190199540195.
Norm before scaling: 43.35965371532042. Distance: 1.3346269659999863
___Test Local_ResNet_18 poisoned: True, epoch: 115: Average loss: 0.0734, Accuracy: 9718/9900 (98.1616%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 115, local model 36, internal_epoch   1,  Average loss: 0.0019, Accuracy: 5609/5777 (97.0919%), train_poison_data_count: 455
Global model norm: 43.389190199540195.
Norm before scaling: 43.35247552088649. Distance: 1.3455357772793866
___Test Local_ResNet_18 poisoned: True, epoch: 115: Average loss: 0.0482, Accuracy: 9772/9900 (98.7071%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 115, local model 58, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4928/5123 (96.1936%), train_poison_data_count: 403
Global model norm: 43.389190199540195.
Norm before scaling: 43.36280673356488. Distance: 1.4068431027362478
___Test Local_ResNet_18 poisoned: True, epoch: 115: Average loss: 0.0760, Accuracy: 9706/9900 (98.0404%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 115, local model 71, internal_epoch   1,  Average loss: 0.0022, Accuracy: 5312/5503 (96.5292%), train_poison_data_count: 430
Global model norm: 43.389190199540195.
Norm before scaling: 43.35916385083723. Distance: 1.3933924023794113
___Test Local_ResNet_18 poisoned: True, epoch: 115: Average loss: 0.0439, Accuracy: 9787/9900 (98.8586%)
___Train Local_ResNet_18,  epoch 115, local model 33, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4363/4818 (90.5562%)
___Train Local_ResNet_18,  epoch 115, local model 33, internal_epoch   2,  Average loss: 0.0056, Accuracy: 4301/4818 (89.2694%)
___Test Local_ResNet_18 poisoned: False, epoch: 115: Average loss: 2.0057, Accuracy: 5449/10000 (54.4900%)
___Train Local_ResNet_18,  epoch 115, local model 82, internal_epoch   1,  Average loss: 0.0031, Accuracy: 5014/5298 (94.6395%)
___Train Local_ResNet_18,  epoch 115, local model 82, internal_epoch   2,  Average loss: 0.0032, Accuracy: 4959/5298 (93.6014%)
___Test Local_ResNet_18 poisoned: False, epoch: 115: Average loss: 2.0309, Accuracy: 5465/10000 (54.6500%)
___Train Local_ResNet_18,  epoch 115, local model 16, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4959/5353 (92.6396%)
___Train Local_ResNet_18,  epoch 115, local model 16, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4828/5353 (90.1924%)
___Test Local_ResNet_18 poisoned: False, epoch: 115: Average loss: 2.0569, Accuracy: 5437/10000 (54.3700%)
___Train Local_ResNet_18,  epoch 115, local model 30, internal_epoch   1,  Average loss: 0.0035, Accuracy: 3539/3774 (93.7732%)
___Train Local_ResNet_18,  epoch 115, local model 30, internal_epoch   2,  Average loss: 0.0037, Accuracy: 3502/3774 (92.7928%)
___Test Local_ResNet_18 poisoned: False, epoch: 115: Average loss: 1.9102, Accuracy: 5756/10000 (57.5600%)
___Train Local_ResNet_18,  epoch 115, local model 63, internal_epoch   1,  Average loss: 0.0038, Accuracy: 3624/3910 (92.6854%)
___Train Local_ResNet_18,  epoch 115, local model 63, internal_epoch   2,  Average loss: 0.0047, Accuracy: 3596/3910 (91.9693%)
___Test Local_ResNet_18 poisoned: False, epoch: 115: Average loss: 2.0359, Accuracy: 5557/10000 (55.5700%)
___Train Local_ResNet_18,  epoch 115, local model 31, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4173/4537 (91.9771%)
___Train Local_ResNet_18,  epoch 115, local model 31, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4165/4537 (91.8007%)
___Test Local_ResNet_18 poisoned: False, epoch: 115: Average loss: 1.9052, Accuracy: 5652/10000 (56.5200%)
___Train Local_ResNet_18,  epoch 115, local model 53, internal_epoch   1,  Average loss: 0.0057, Accuracy: 5907/6664 (88.6405%)
___Train Local_ResNet_18,  epoch 115, local model 53, internal_epoch   2,  Average loss: 0.0083, Accuracy: 5586/6664 (83.8235%)
___Test Local_ResNet_18 poisoned: False, epoch: 115: Average loss: 2.2161, Accuracy: 5089/10000 (50.8900%)
___Train Local_ResNet_18,  epoch 115, local model 84, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4724/5209 (90.6892%)
___Train Local_ResNet_18,  epoch 115, local model 84, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4703/5209 (90.2860%)
___Test Local_ResNet_18 poisoned: False, epoch: 115: Average loss: 2.1113, Accuracy: 5382/10000 (53.8200%)
___Train Local_ResNet_18,  epoch 115, local model 47, internal_epoch   1,  Average loss: 0.0061, Accuracy: 4607/5123 (89.9278%)
___Train Local_ResNet_18,  epoch 115, local model 47, internal_epoch   2,  Average loss: 0.0126, Accuracy: 3963/5123 (77.3570%)
___Test Local_ResNet_18 poisoned: False, epoch: 115: Average loss: 2.3519, Accuracy: 4716/10000 (47.1600%)
___Train Local_ResNet_18,  epoch 115, local model 60, internal_epoch   1,  Average loss: 0.0040, Accuracy: 3845/4145 (92.7624%)
___Train Local_ResNet_18,  epoch 115, local model 60, internal_epoch   2,  Average loss: 0.0043, Accuracy: 3795/4145 (91.5561%)
___Test Local_ResNet_18 poisoned: False, epoch: 115: Average loss: 2.0624, Accuracy: 5509/10000 (55.0900%)
___Train Local_ResNet_18,  epoch 115, local model 12, internal_epoch   1,  Average loss: 0.0043, Accuracy: 5072/5526 (91.7843%)
___Train Local_ResNet_18,  epoch 115, local model 12, internal_epoch   2,  Average loss: 0.0054, Accuracy: 4946/5526 (89.5042%)
___Test Local_ResNet_18 poisoned: False, epoch: 115: Average loss: 2.1686, Accuracy: 5286/10000 (52.8600%)
___Train Local_ResNet_18,  epoch 115, local model 92, internal_epoch   1,  Average loss: 0.0037, Accuracy: 6334/6812 (92.9830%)
___Train Local_ResNet_18,  epoch 115, local model 92, internal_epoch   2,  Average loss: 0.0044, Accuracy: 6213/6812 (91.2067%)
___Test Local_ResNet_18 poisoned: False, epoch: 115: Average loss: 2.1633, Accuracy: 5201/10000 (52.0100%)
___Train Local_ResNet_18,  epoch 115, local model 42, internal_epoch   1,  Average loss: 0.0042, Accuracy: 5427/5907 (91.8740%)
___Train Local_ResNet_18,  epoch 115, local model 42, internal_epoch   2,  Average loss: 0.0046, Accuracy: 5370/5907 (90.9091%)
___Test Local_ResNet_18 poisoned: False, epoch: 115: Average loss: 2.2101, Accuracy: 5196/10000 (51.9600%)
___Train Local_ResNet_18,  epoch 115, local model 39, internal_epoch   1,  Average loss: 0.0040, Accuracy: 3858/4175 (92.4072%)
___Train Local_ResNet_18,  epoch 115, local model 39, internal_epoch   2,  Average loss: 0.0041, Accuracy: 3862/4175 (92.5030%)
___Test Local_ResNet_18 poisoned: False, epoch: 115: Average loss: 2.1099, Accuracy: 5394/10000 (53.9400%)
___Train Local_ResNet_18,  epoch 115, local model 44, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4714/5075 (92.8867%)
___Train Local_ResNet_18,  epoch 115, local model 44, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4642/5075 (91.4680%)
___Test Local_ResNet_18 poisoned: False, epoch: 115: Average loss: 2.3353, Accuracy: 5099/10000 (50.9900%)
___Train Local_ResNet_18,  epoch 115, local model 79, internal_epoch   1,  Average loss: 0.0038, Accuracy: 3810/4111 (92.6782%)
___Train Local_ResNet_18,  epoch 115, local model 79, internal_epoch   2,  Average loss: 0.0042, Accuracy: 3768/4111 (91.6565%)
___Test Local_ResNet_18 poisoned: False, epoch: 115: Average loss: 1.9527, Accuracy: 5488/10000 (54.8800%)
time spent on training: 276.8428978919983
___Test Target_ResNet_18 poisoned: False, epoch: 115: Average loss: 1.2087, Accuracy: 6824/10000 (68.2400%)
___Test Target_ResNet_18 poisoned: True, epoch: 115: Average loss: 0.1472, Accuracy: 9498/9900 (95.9394%)
Done in 303.3448238372803 sec.
Server Epoch:116 choose agents : [13, 36, 58, 71, 41, 49, 96, 89, 92, 44, 42, 48, 23, 22, 76, 75, 29, 6, 15, 87].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 116, local model 13, internal_epoch   1,  Average loss: 0.0020, Accuracy: 5143/5308 (96.8915%), train_poison_data_count: 415
Global model norm: 43.40957679385823.
Norm before scaling: 43.38011469078819. Distance: 1.3466668519092344
___Test Local_ResNet_18 poisoned: True, epoch: 116: Average loss: 0.0514, Accuracy: 9765/9900 (98.6364%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 116, local model 36, internal_epoch   1,  Average loss: 0.0019, Accuracy: 5612/5777 (97.1438%), train_poison_data_count: 455
Global model norm: 43.40957679385823.
Norm before scaling: 43.375975144387965. Distance: 1.4002507564227298
___Test Local_ResNet_18 poisoned: True, epoch: 116: Average loss: 0.0604, Accuracy: 9740/9900 (98.3838%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 116, local model 58, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4927/5123 (96.1741%), train_poison_data_count: 403
Global model norm: 43.40957679385823.
Norm before scaling: 43.381473816686. Distance: 1.355623219947473
___Test Local_ResNet_18 poisoned: True, epoch: 116: Average loss: 0.0924, Accuracy: 9657/9900 (97.5455%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 116, local model 71, internal_epoch   1,  Average loss: 0.0023, Accuracy: 5292/5503 (96.1657%), train_poison_data_count: 430
Global model norm: 43.40957679385823.
Norm before scaling: 43.384027338699205. Distance: 1.4776933164688204
___Test Local_ResNet_18 poisoned: True, epoch: 116: Average loss: 0.0368, Accuracy: 9805/9900 (99.0404%)
___Train Local_ResNet_18,  epoch 116, local model 41, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4399/4714 (93.3178%)
___Train Local_ResNet_18,  epoch 116, local model 41, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4394/4714 (93.2117%)
___Test Local_ResNet_18 poisoned: False, epoch: 116: Average loss: 2.1661, Accuracy: 5303/10000 (53.0300%)
___Train Local_ResNet_18,  epoch 116, local model 49, internal_epoch   1,  Average loss: 0.0054, Accuracy: 5032/5652 (89.0304%)
___Train Local_ResNet_18,  epoch 116, local model 49, internal_epoch   2,  Average loss: 0.0057, Accuracy: 5006/5652 (88.5704%)
___Test Local_ResNet_18 poisoned: False, epoch: 116: Average loss: 2.2873, Accuracy: 5023/10000 (50.2300%)
___Train Local_ResNet_18,  epoch 116, local model 96, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4694/5086 (92.2926%)
___Train Local_ResNet_18,  epoch 116, local model 96, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4653/5086 (91.4864%)
___Test Local_ResNet_18 poisoned: False, epoch: 116: Average loss: 2.0429, Accuracy: 5492/10000 (54.9200%)
___Train Local_ResNet_18,  epoch 116, local model 89, internal_epoch   1,  Average loss: 0.0057, Accuracy: 4307/4737 (90.9225%)
___Train Local_ResNet_18,  epoch 116, local model 89, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4283/4737 (90.4159%)
___Test Local_ResNet_18 poisoned: False, epoch: 116: Average loss: 2.3740, Accuracy: 4993/10000 (49.9300%)
___Train Local_ResNet_18,  epoch 116, local model 92, internal_epoch   1,  Average loss: 0.0034, Accuracy: 6373/6812 (93.5555%)
___Train Local_ResNet_18,  epoch 116, local model 92, internal_epoch   2,  Average loss: 0.0041, Accuracy: 6260/6812 (91.8967%)
___Test Local_ResNet_18 poisoned: False, epoch: 116: Average loss: 2.2077, Accuracy: 5272/10000 (52.7200%)
___Train Local_ResNet_18,  epoch 116, local model 44, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4697/5075 (92.5517%)
___Train Local_ResNet_18,  epoch 116, local model 44, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4721/5075 (93.0246%)
___Test Local_ResNet_18 poisoned: False, epoch: 116: Average loss: 2.0801, Accuracy: 5455/10000 (54.5500%)
___Train Local_ResNet_18,  epoch 116, local model 42, internal_epoch   1,  Average loss: 0.0045, Accuracy: 5410/5907 (91.5863%)
___Train Local_ResNet_18,  epoch 116, local model 42, internal_epoch   2,  Average loss: 0.0050, Accuracy: 5304/5907 (89.7918%)
___Test Local_ResNet_18 poisoned: False, epoch: 116: Average loss: 2.2136, Accuracy: 5200/10000 (52.0000%)
___Train Local_ResNet_18,  epoch 116, local model 48, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4490/4830 (92.9607%)
___Train Local_ResNet_18,  epoch 116, local model 48, internal_epoch   2,  Average loss: 0.0032, Accuracy: 4550/4830 (94.2029%)
___Test Local_ResNet_18 poisoned: False, epoch: 116: Average loss: 2.1039, Accuracy: 5450/10000 (54.5000%)
___Train Local_ResNet_18,  epoch 116, local model 23, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4296/4549 (94.4383%)
___Train Local_ResNet_18,  epoch 116, local model 23, internal_epoch   2,  Average loss: 0.0071, Accuracy: 3933/4549 (86.4586%)
___Test Local_ResNet_18 poisoned: False, epoch: 116: Average loss: 2.1992, Accuracy: 5212/10000 (52.1200%)
___Train Local_ResNet_18,  epoch 116, local model 22, internal_epoch   1,  Average loss: 0.0039, Accuracy: 5252/5696 (92.2051%)
___Train Local_ResNet_18,  epoch 116, local model 22, internal_epoch   2,  Average loss: 0.0044, Accuracy: 5199/5696 (91.2746%)
___Test Local_ResNet_18 poisoned: False, epoch: 116: Average loss: 2.1059, Accuracy: 5380/10000 (53.8000%)
___Train Local_ResNet_18,  epoch 116, local model 76, internal_epoch   1,  Average loss: 0.0044, Accuracy: 3618/3959 (91.3867%)
___Train Local_ResNet_18,  epoch 116, local model 76, internal_epoch   2,  Average loss: 0.0043, Accuracy: 3621/3959 (91.4625%)
___Test Local_ResNet_18 poisoned: False, epoch: 116: Average loss: 1.9150, Accuracy: 5626/10000 (56.2600%)
___Train Local_ResNet_18,  epoch 116, local model 75, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4354/4672 (93.1935%)
___Train Local_ResNet_18,  epoch 116, local model 75, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4363/4672 (93.3861%)
___Test Local_ResNet_18 poisoned: False, epoch: 116: Average loss: 1.9787, Accuracy: 5599/10000 (55.9900%)
___Train Local_ResNet_18,  epoch 116, local model 29, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4401/4732 (93.0051%)
___Train Local_ResNet_18,  epoch 116, local model 29, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4399/4732 (92.9628%)
___Test Local_ResNet_18 poisoned: False, epoch: 116: Average loss: 1.8182, Accuracy: 5775/10000 (57.7500%)
___Train Local_ResNet_18,  epoch 116, local model 6, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4543/4929 (92.1688%)
___Train Local_ResNet_18,  epoch 116, local model 6, internal_epoch   2,  Average loss: 0.0059, Accuracy: 4454/4929 (90.3632%)
___Test Local_ResNet_18 poisoned: False, epoch: 116: Average loss: 2.1714, Accuracy: 5412/10000 (54.1200%)
___Train Local_ResNet_18,  epoch 116, local model 15, internal_epoch   1,  Average loss: 0.0039, Accuracy: 5624/6068 (92.6829%)
___Train Local_ResNet_18,  epoch 116, local model 15, internal_epoch   2,  Average loss: 0.0043, Accuracy: 5541/6068 (91.3151%)
___Test Local_ResNet_18 poisoned: False, epoch: 116: Average loss: 2.1707, Accuracy: 5334/10000 (53.3400%)
___Train Local_ResNet_18,  epoch 116, local model 87, internal_epoch   1,  Average loss: 0.0052, Accuracy: 3593/3995 (89.9374%)
___Train Local_ResNet_18,  epoch 116, local model 87, internal_epoch   2,  Average loss: 0.0053, Accuracy: 3597/3995 (90.0375%)
___Test Local_ResNet_18 poisoned: False, epoch: 116: Average loss: 2.1247, Accuracy: 5333/10000 (53.3300%)
time spent on training: 275.2703387737274
___Test Target_ResNet_18 poisoned: False, epoch: 116: Average loss: 1.2121, Accuracy: 6825/10000 (68.2500%)
___Test Target_ResNet_18 poisoned: True, epoch: 116: Average loss: 0.1403, Accuracy: 9513/9900 (96.0909%)
Done in 301.90197801589966 sec.
Server Epoch:117 choose agents : [13, 36, 58, 71, 5, 39, 78, 34, 63, 68, 55, 14, 81, 75, 43, 73, 11, 3, 70, 54].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 117, local model 13, internal_epoch   1,  Average loss: 0.0022, Accuracy: 5113/5308 (96.3263%), train_poison_data_count: 415
Global model norm: 43.43090102752302.
Norm before scaling: 43.40359372496922. Distance: 1.393871846026216
___Test Local_ResNet_18 poisoned: True, epoch: 117: Average loss: 0.0601, Accuracy: 9730/9900 (98.2828%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 117, local model 36, internal_epoch   1,  Average loss: 0.0020, Accuracy: 5587/5777 (96.7111%), train_poison_data_count: 455
Global model norm: 43.43090102752302.
Norm before scaling: 43.39829615751061. Distance: 1.4114086897824831
___Test Local_ResNet_18 poisoned: True, epoch: 117: Average loss: 0.0521, Accuracy: 9765/9900 (98.6364%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 117, local model 58, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4910/5123 (95.8423%), train_poison_data_count: 403
Global model norm: 43.43090102752302.
Norm before scaling: 43.40593783635051. Distance: 1.4537539197847587
___Test Local_ResNet_18 poisoned: True, epoch: 117: Average loss: 0.0163, Accuracy: 9855/9900 (99.5455%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 117, local model 71, internal_epoch   1,  Average loss: 0.0020, Accuracy: 5324/5503 (96.7472%), train_poison_data_count: 430
Global model norm: 43.43090102752302.
Norm before scaling: 43.40022006352618. Distance: 1.3452459480580499
___Test Local_ResNet_18 poisoned: True, epoch: 117: Average loss: 0.0480, Accuracy: 9769/9900 (98.6768%)
___Train Local_ResNet_18,  epoch 117, local model 5, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4681/4993 (93.7513%)
___Train Local_ResNet_18,  epoch 117, local model 5, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4607/4993 (92.2692%)
___Test Local_ResNet_18 poisoned: False, epoch: 117: Average loss: 2.2249, Accuracy: 5341/10000 (53.4100%)
___Train Local_ResNet_18,  epoch 117, local model 39, internal_epoch   1,  Average loss: 0.0043, Accuracy: 3839/4175 (91.9521%)
___Train Local_ResNet_18,  epoch 117, local model 39, internal_epoch   2,  Average loss: 0.0047, Accuracy: 3797/4175 (90.9461%)
___Test Local_ResNet_18 poisoned: False, epoch: 117: Average loss: 2.0258, Accuracy: 5491/10000 (54.9100%)
___Train Local_ResNet_18,  epoch 117, local model 78, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4137/4368 (94.7115%)
___Train Local_ResNet_18,  epoch 117, local model 78, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4073/4368 (93.2463%)
___Test Local_ResNet_18 poisoned: False, epoch: 117: Average loss: 2.0958, Accuracy: 5445/10000 (54.4500%)
___Train Local_ResNet_18,  epoch 117, local model 34, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4514/4911 (91.9161%)
___Train Local_ResNet_18,  epoch 117, local model 34, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4439/4911 (90.3889%)
___Test Local_ResNet_18 poisoned: False, epoch: 117: Average loss: 2.2202, Accuracy: 5224/10000 (52.2400%)
___Train Local_ResNet_18,  epoch 117, local model 63, internal_epoch   1,  Average loss: 0.0038, Accuracy: 3647/3910 (93.2737%)
___Train Local_ResNet_18,  epoch 117, local model 63, internal_epoch   2,  Average loss: 0.0053, Accuracy: 3529/3910 (90.2558%)
___Test Local_ResNet_18 poisoned: False, epoch: 117: Average loss: 2.1037, Accuracy: 5424/10000 (54.2400%)
___Train Local_ResNet_18,  epoch 117, local model 68, internal_epoch   1,  Average loss: 0.0041, Accuracy: 3310/3589 (92.2262%)
___Train Local_ResNet_18,  epoch 117, local model 68, internal_epoch   2,  Average loss: 0.0063, Accuracy: 3167/3589 (88.2419%)
___Test Local_ResNet_18 poisoned: False, epoch: 117: Average loss: 2.3176, Accuracy: 5114/10000 (51.1400%)
___Train Local_ResNet_18,  epoch 117, local model 55, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4393/4731 (92.8556%)
___Train Local_ResNet_18,  epoch 117, local model 55, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4387/4731 (92.7288%)
___Test Local_ResNet_18 poisoned: False, epoch: 117: Average loss: 1.9915, Accuracy: 5528/10000 (55.2800%)
___Train Local_ResNet_18,  epoch 117, local model 14, internal_epoch   1,  Average loss: 0.0028, Accuracy: 3994/4196 (95.1859%)
___Train Local_ResNet_18,  epoch 117, local model 14, internal_epoch   2,  Average loss: 0.0032, Accuracy: 3958/4196 (94.3279%)
___Test Local_ResNet_18 poisoned: False, epoch: 117: Average loss: 1.8978, Accuracy: 5688/10000 (56.8800%)
___Train Local_ResNet_18,  epoch 117, local model 81, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4674/5035 (92.8302%)
___Train Local_ResNet_18,  epoch 117, local model 81, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4593/5035 (91.2214%)
___Test Local_ResNet_18 poisoned: False, epoch: 117: Average loss: 2.1993, Accuracy: 5215/10000 (52.1500%)
___Train Local_ResNet_18,  epoch 117, local model 75, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4342/4672 (92.9366%)
___Train Local_ResNet_18,  epoch 117, local model 75, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4357/4672 (93.2577%)
___Test Local_ResNet_18 poisoned: False, epoch: 117: Average loss: 1.8459, Accuracy: 5752/10000 (57.5200%)
___Train Local_ResNet_18,  epoch 117, local model 43, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4565/4979 (91.6851%)
___Train Local_ResNet_18,  epoch 117, local model 43, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4572/4979 (91.8257%)
___Test Local_ResNet_18 poisoned: False, epoch: 117: Average loss: 2.0682, Accuracy: 5366/10000 (53.6600%)
___Train Local_ResNet_18,  epoch 117, local model 73, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4286/4605 (93.0727%)
___Train Local_ResNet_18,  epoch 117, local model 73, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4313/4605 (93.6591%)
___Test Local_ResNet_18 poisoned: False, epoch: 117: Average loss: 1.9641, Accuracy: 5586/10000 (55.8600%)
___Train Local_ResNet_18,  epoch 117, local model 11, internal_epoch   1,  Average loss: 0.0066, Accuracy: 4965/5702 (87.0747%)
___Train Local_ResNet_18,  epoch 117, local model 11, internal_epoch   2,  Average loss: 0.0096, Accuracy: 4699/5702 (82.4097%)
___Test Local_ResNet_18 poisoned: False, epoch: 117: Average loss: 2.2257, Accuracy: 5077/10000 (50.7700%)
___Train Local_ResNet_18,  epoch 117, local model 3, internal_epoch   1,  Average loss: 0.0032, Accuracy: 5048/5346 (94.4257%)
___Train Local_ResNet_18,  epoch 117, local model 3, internal_epoch   2,  Average loss: 0.0031, Accuracy: 5035/5346 (94.1826%)
___Test Local_ResNet_18 poisoned: False, epoch: 117: Average loss: 2.1258, Accuracy: 5306/10000 (53.0600%)
___Train Local_ResNet_18,  epoch 117, local model 70, internal_epoch   1,  Average loss: 0.0040, Accuracy: 5421/5871 (92.3352%)
___Train Local_ResNet_18,  epoch 117, local model 70, internal_epoch   2,  Average loss: 0.0048, Accuracy: 5297/5871 (90.2231%)
___Test Local_ResNet_18 poisoned: False, epoch: 117: Average loss: 2.1720, Accuracy: 5220/10000 (52.2000%)
___Train Local_ResNet_18,  epoch 117, local model 54, internal_epoch   1,  Average loss: 0.0053, Accuracy: 5085/5645 (90.0797%)
___Train Local_ResNet_18,  epoch 117, local model 54, internal_epoch   2,  Average loss: 0.0060, Accuracy: 4998/5645 (88.5385%)
___Test Local_ResNet_18 poisoned: False, epoch: 117: Average loss: 2.1989, Accuracy: 5174/10000 (51.7400%)
time spent on training: 273.45914912223816
___Test Target_ResNet_18 poisoned: False, epoch: 117: Average loss: 1.2145, Accuracy: 6822/10000 (68.2200%)
___Test Target_ResNet_18 poisoned: True, epoch: 117: Average loss: 0.1338, Accuracy: 9533/9900 (96.2929%)
Done in 300.11195278167725 sec.
Server Epoch:118 choose agents : [13, 36, 58, 71, 53, 62, 44, 64, 3, 63, 32, 24, 73, 6, 54, 16, 25, 82, 84, 41].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 118, local model 13, internal_epoch   1,  Average loss: 0.0019, Accuracy: 5158/5308 (97.1741%), train_poison_data_count: 415
Global model norm: 43.45019626726745.
Norm before scaling: 43.41946568072896. Distance: 1.2854044480363906
___Test Local_ResNet_18 poisoned: True, epoch: 118: Average loss: 0.0425, Accuracy: 9786/9900 (98.8485%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 118, local model 36, internal_epoch   1,  Average loss: 0.0019, Accuracy: 5618/5777 (97.2477%), train_poison_data_count: 455
Global model norm: 43.45019626726745.
Norm before scaling: 43.41491516055787. Distance: 1.3604779208745932
___Test Local_ResNet_18 poisoned: True, epoch: 118: Average loss: 0.0741, Accuracy: 9679/9900 (97.7677%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 118, local model 58, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4936/5123 (96.3498%), train_poison_data_count: 403
Global model norm: 43.45019626726745.
Norm before scaling: 43.42250190713336. Distance: 1.3690371834809374
___Test Local_ResNet_18 poisoned: True, epoch: 118: Average loss: 0.0630, Accuracy: 9740/9900 (98.3838%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 118, local model 71, internal_epoch   1,  Average loss: 0.0020, Accuracy: 5330/5503 (96.8563%), train_poison_data_count: 430
Global model norm: 43.45019626726745.
Norm before scaling: 43.41963155413545. Distance: 1.3550681365924166
___Test Local_ResNet_18 poisoned: True, epoch: 118: Average loss: 0.0981, Accuracy: 9623/9900 (97.2020%)
___Train Local_ResNet_18,  epoch 118, local model 53, internal_epoch   1,  Average loss: 0.0057, Accuracy: 5933/6664 (89.0306%)
___Train Local_ResNet_18,  epoch 118, local model 53, internal_epoch   2,  Average loss: 0.0090, Accuracy: 5516/6664 (82.7731%)
___Test Local_ResNet_18 poisoned: False, epoch: 118: Average loss: 2.1964, Accuracy: 4958/10000 (49.5800%)
___Train Local_ResNet_18,  epoch 118, local model 62, internal_epoch   1,  Average loss: 0.0059, Accuracy: 4861/5504 (88.3176%)
___Train Local_ResNet_18,  epoch 118, local model 62, internal_epoch   2,  Average loss: 0.0061, Accuracy: 4829/5504 (87.7362%)
___Test Local_ResNet_18 poisoned: False, epoch: 118: Average loss: 2.1911, Accuracy: 5122/10000 (51.2200%)
___Train Local_ResNet_18,  epoch 118, local model 44, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4726/5075 (93.1232%)
___Train Local_ResNet_18,  epoch 118, local model 44, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4699/5075 (92.5911%)
___Test Local_ResNet_18 poisoned: False, epoch: 118: Average loss: 2.0340, Accuracy: 5497/10000 (54.9700%)
___Train Local_ResNet_18,  epoch 118, local model 64, internal_epoch   1,  Average loss: 0.0055, Accuracy: 4360/4894 (89.0887%)
___Train Local_ResNet_18,  epoch 118, local model 64, internal_epoch   2,  Average loss: 0.0059, Accuracy: 4335/4894 (88.5779%)
___Test Local_ResNet_18 poisoned: False, epoch: 118: Average loss: 2.1218, Accuracy: 5302/10000 (53.0200%)
___Train Local_ResNet_18,  epoch 118, local model 3, internal_epoch   1,  Average loss: 0.0033, Accuracy: 5027/5346 (94.0329%)
___Train Local_ResNet_18,  epoch 118, local model 3, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4947/5346 (92.5365%)
___Test Local_ResNet_18 poisoned: False, epoch: 118: Average loss: 1.9811, Accuracy: 5496/10000 (54.9600%)
___Train Local_ResNet_18,  epoch 118, local model 63, internal_epoch   1,  Average loss: 0.0041, Accuracy: 3628/3910 (92.7877%)
___Train Local_ResNet_18,  epoch 118, local model 63, internal_epoch   2,  Average loss: 0.0062, Accuracy: 3444/3910 (88.0818%)
___Test Local_ResNet_18 poisoned: False, epoch: 118: Average loss: 2.1168, Accuracy: 5412/10000 (54.1200%)
___Train Local_ResNet_18,  epoch 118, local model 32, internal_epoch   1,  Average loss: 0.0057, Accuracy: 5389/6080 (88.6349%)
___Train Local_ResNet_18,  epoch 118, local model 32, internal_epoch   2,  Average loss: 0.0058, Accuracy: 5368/6080 (88.2895%)
___Test Local_ResNet_18 poisoned: False, epoch: 118: Average loss: 2.2922, Accuracy: 4996/10000 (49.9600%)
___Train Local_ResNet_18,  epoch 118, local model 24, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4040/4313 (93.6703%)
___Train Local_ResNet_18,  epoch 118, local model 24, internal_epoch   2,  Average loss: 0.0038, Accuracy: 3987/4313 (92.4415%)
___Test Local_ResNet_18 poisoned: False, epoch: 118: Average loss: 1.8982, Accuracy: 5684/10000 (56.8400%)
___Train Local_ResNet_18,  epoch 118, local model 73, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4312/4605 (93.6374%)
___Train Local_ResNet_18,  epoch 118, local model 73, internal_epoch   2,  Average loss: 0.0030, Accuracy: 4337/4605 (94.1802%)
___Test Local_ResNet_18 poisoned: False, epoch: 118: Average loss: 1.7828, Accuracy: 5900/10000 (59.0000%)
___Train Local_ResNet_18,  epoch 118, local model 6, internal_epoch   1,  Average loss: 0.0053, Accuracy: 4560/4929 (92.5137%)
___Train Local_ResNet_18,  epoch 118, local model 6, internal_epoch   2,  Average loss: 0.0054, Accuracy: 4491/4929 (91.1138%)
___Test Local_ResNet_18 poisoned: False, epoch: 118: Average loss: 2.0763, Accuracy: 5432/10000 (54.3200%)
___Train Local_ResNet_18,  epoch 118, local model 54, internal_epoch   1,  Average loss: 0.0054, Accuracy: 5071/5645 (89.8317%)
___Train Local_ResNet_18,  epoch 118, local model 54, internal_epoch   2,  Average loss: 0.0070, Accuracy: 4873/5645 (86.3242%)
___Test Local_ResNet_18 poisoned: False, epoch: 118: Average loss: 2.2451, Accuracy: 5064/10000 (50.6400%)
___Train Local_ResNet_18,  epoch 118, local model 16, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4928/5353 (92.0605%)
___Train Local_ResNet_18,  epoch 118, local model 16, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4818/5353 (90.0056%)
___Test Local_ResNet_18 poisoned: False, epoch: 118: Average loss: 2.0166, Accuracy: 5462/10000 (54.6200%)
___Train Local_ResNet_18,  epoch 118, local model 25, internal_epoch   1,  Average loss: 0.0056, Accuracy: 5730/6419 (89.2662%)
___Train Local_ResNet_18,  epoch 118, local model 25, internal_epoch   2,  Average loss: 0.0070, Accuracy: 5525/6419 (86.0726%)
___Test Local_ResNet_18 poisoned: False, epoch: 118: Average loss: 2.4368, Accuracy: 4954/10000 (49.5400%)
___Train Local_ResNet_18,  epoch 118, local model 82, internal_epoch   1,  Average loss: 0.0028, Accuracy: 5033/5298 (94.9981%)
___Train Local_ResNet_18,  epoch 118, local model 82, internal_epoch   2,  Average loss: 0.0031, Accuracy: 4989/5298 (94.1676%)
___Test Local_ResNet_18 poisoned: False, epoch: 118: Average loss: 1.9631, Accuracy: 5584/10000 (55.8400%)
___Train Local_ResNet_18,  epoch 118, local model 84, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4738/5209 (90.9580%)
___Train Local_ResNet_18,  epoch 118, local model 84, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4719/5209 (90.5932%)
___Test Local_ResNet_18 poisoned: False, epoch: 118: Average loss: 2.0709, Accuracy: 5470/10000 (54.7000%)
___Train Local_ResNet_18,  epoch 118, local model 41, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4369/4714 (92.6814%)
___Train Local_ResNet_18,  epoch 118, local model 41, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4354/4714 (92.3632%)
___Test Local_ResNet_18 poisoned: False, epoch: 118: Average loss: 2.0882, Accuracy: 5435/10000 (54.3500%)
time spent on training: 282.01646161079407
___Test Target_ResNet_18 poisoned: False, epoch: 118: Average loss: 1.2175, Accuracy: 6826/10000 (68.2600%)
___Test Target_ResNet_18 poisoned: True, epoch: 118: Average loss: 0.1290, Accuracy: 9553/9900 (96.4949%)
Done in 308.42045617103577 sec.
Server Epoch:119 choose agents : [13, 36, 58, 71, 20, 31, 38, 91, 81, 60, 39, 47, 52, 84, 79, 21, 4, 77, 8, 69].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 119, local model 13, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5165/5308 (97.3060%), train_poison_data_count: 415
Global model norm: 43.47196671015055.
Norm before scaling: 43.43892617937496. Distance: 1.270934986780785
___Test Local_ResNet_18 poisoned: True, epoch: 119: Average loss: 0.0762, Accuracy: 9700/9900 (97.9798%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 119, local model 36, internal_epoch   1,  Average loss: 0.0020, Accuracy: 5596/5777 (96.8669%), train_poison_data_count: 455
Global model norm: 43.47196671015055.
Norm before scaling: 43.43645176343108. Distance: 1.364119657212565
___Test Local_ResNet_18 poisoned: True, epoch: 119: Average loss: 0.0645, Accuracy: 9733/9900 (98.3131%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 119, local model 58, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4908/5123 (95.8032%), train_poison_data_count: 403
Global model norm: 43.47196671015055.
Norm before scaling: 43.44687258370489. Distance: 1.4522591749398244
___Test Local_ResNet_18 poisoned: True, epoch: 119: Average loss: 0.0980, Accuracy: 9649/9900 (97.4646%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 119, local model 71, internal_epoch   1,  Average loss: 0.0021, Accuracy: 5314/5503 (96.5655%), train_poison_data_count: 430
Global model norm: 43.47196671015055.
Norm before scaling: 43.4421886520789. Distance: 1.3822249117813505
___Test Local_ResNet_18 poisoned: True, epoch: 119: Average loss: 0.0281, Accuracy: 9826/9900 (99.2525%)
___Train Local_ResNet_18,  epoch 119, local model 20, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4373/4714 (92.7662%)
___Train Local_ResNet_18,  epoch 119, local model 20, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4394/4714 (93.2117%)
___Test Local_ResNet_18 poisoned: False, epoch: 119: Average loss: 1.9223, Accuracy: 5683/10000 (56.8300%)
___Train Local_ResNet_18,  epoch 119, local model 31, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4223/4537 (93.0791%)
___Train Local_ResNet_18,  epoch 119, local model 31, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4184/4537 (92.2195%)
___Test Local_ResNet_18 poisoned: False, epoch: 119: Average loss: 1.8464, Accuracy: 5776/10000 (57.7600%)
___Train Local_ResNet_18,  epoch 119, local model 38, internal_epoch   1,  Average loss: 0.0053, Accuracy: 5613/6235 (90.0241%)
___Train Local_ResNet_18,  epoch 119, local model 38, internal_epoch   2,  Average loss: 0.0061, Accuracy: 5466/6235 (87.6664%)
___Test Local_ResNet_18 poisoned: False, epoch: 119: Average loss: 2.3077, Accuracy: 5019/10000 (50.1900%)
___Train Local_ResNet_18,  epoch 119, local model 91, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4069/4527 (89.8829%)
___Train Local_ResNet_18,  epoch 119, local model 91, internal_epoch   2,  Average loss: 0.0056, Accuracy: 3993/4527 (88.2041%)
___Test Local_ResNet_18 poisoned: False, epoch: 119: Average loss: 2.0020, Accuracy: 5462/10000 (54.6200%)
___Train Local_ResNet_18,  epoch 119, local model 81, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4706/5035 (93.4657%)
___Train Local_ResNet_18,  epoch 119, local model 81, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4673/5035 (92.8103%)
___Test Local_ResNet_18 poisoned: False, epoch: 119: Average loss: 1.9745, Accuracy: 5513/10000 (55.1300%)
___Train Local_ResNet_18,  epoch 119, local model 60, internal_epoch   1,  Average loss: 0.0046, Accuracy: 3775/4145 (91.0736%)
___Train Local_ResNet_18,  epoch 119, local model 60, internal_epoch   2,  Average loss: 0.0043, Accuracy: 3786/4145 (91.3390%)
___Test Local_ResNet_18 poisoned: False, epoch: 119: Average loss: 2.0050, Accuracy: 5485/10000 (54.8500%)
___Train Local_ResNet_18,  epoch 119, local model 39, internal_epoch   1,  Average loss: 0.0041, Accuracy: 3871/4175 (92.7186%)
___Train Local_ResNet_18,  epoch 119, local model 39, internal_epoch   2,  Average loss: 0.0047, Accuracy: 3810/4175 (91.2575%)
___Test Local_ResNet_18 poisoned: False, epoch: 119: Average loss: 2.0626, Accuracy: 5349/10000 (53.4900%)
___Train Local_ResNet_18,  epoch 119, local model 47, internal_epoch   1,  Average loss: 0.0060, Accuracy: 4618/5123 (90.1425%)
___Train Local_ResNet_18,  epoch 119, local model 47, internal_epoch   2,  Average loss: 0.0154, Accuracy: 3688/5123 (71.9891%)
___Test Local_ResNet_18 poisoned: False, epoch: 119: Average loss: 2.4552, Accuracy: 4611/10000 (46.1100%)
___Train Local_ResNet_18,  epoch 119, local model 52, internal_epoch   1,  Average loss: 0.0033, Accuracy: 3888/4130 (94.1404%)
___Train Local_ResNet_18,  epoch 119, local model 52, internal_epoch   2,  Average loss: 0.0036, Accuracy: 3869/4130 (93.6804%)
___Test Local_ResNet_18 poisoned: False, epoch: 119: Average loss: 1.9358, Accuracy: 5614/10000 (56.1400%)
___Train Local_ResNet_18,  epoch 119, local model 84, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4780/5209 (91.7643%)
___Train Local_ResNet_18,  epoch 119, local model 84, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4720/5209 (90.6124%)
___Test Local_ResNet_18 poisoned: False, epoch: 119: Average loss: 2.0931, Accuracy: 5416/10000 (54.1600%)
___Train Local_ResNet_18,  epoch 119, local model 79, internal_epoch   1,  Average loss: 0.0039, Accuracy: 3824/4111 (93.0187%)
___Train Local_ResNet_18,  epoch 119, local model 79, internal_epoch   2,  Average loss: 0.0038, Accuracy: 3814/4111 (92.7755%)
___Test Local_ResNet_18 poisoned: False, epoch: 119: Average loss: 1.8848, Accuracy: 5754/10000 (57.5400%)
___Train Local_ResNet_18,  epoch 119, local model 21, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4647/5038 (92.2390%)
___Train Local_ResNet_18,  epoch 119, local model 21, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4618/5038 (91.6634%)
___Test Local_ResNet_18 poisoned: False, epoch: 119: Average loss: 1.9458, Accuracy: 5588/10000 (55.8800%)
___Train Local_ResNet_18,  epoch 119, local model 4, internal_epoch   1,  Average loss: 0.0037, Accuracy: 3759/4028 (93.3217%)
___Train Local_ResNet_18,  epoch 119, local model 4, internal_epoch   2,  Average loss: 0.0033, Accuracy: 3780/4028 (93.8431%)
___Test Local_ResNet_18 poisoned: False, epoch: 119: Average loss: 1.8432, Accuracy: 5807/10000 (58.0700%)
___Train Local_ResNet_18,  epoch 119, local model 77, internal_epoch   1,  Average loss: 0.0053, Accuracy: 4532/5050 (89.7426%)
___Train Local_ResNet_18,  epoch 119, local model 77, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4534/5050 (89.7822%)
___Test Local_ResNet_18 poisoned: False, epoch: 119: Average loss: 2.2884, Accuracy: 5062/10000 (50.6200%)
___Train Local_ResNet_18,  epoch 119, local model 8, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4467/4889 (91.3684%)
___Train Local_ResNet_18,  epoch 119, local model 8, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4382/4889 (89.6298%)
___Test Local_ResNet_18 poisoned: False, epoch: 119: Average loss: 2.3055, Accuracy: 5103/10000 (51.0300%)
___Train Local_ResNet_18,  epoch 119, local model 69, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4063/4364 (93.1027%)
___Train Local_ResNet_18,  epoch 119, local model 69, internal_epoch   2,  Average loss: 0.0046, Accuracy: 3967/4364 (90.9028%)
___Test Local_ResNet_18 poisoned: False, epoch: 119: Average loss: 1.9661, Accuracy: 5569/10000 (55.6900%)
time spent on training: 270.49961590766907
___Test Target_ResNet_18 poisoned: False, epoch: 119: Average loss: 1.2127, Accuracy: 6836/10000 (68.3600%)
___Test Target_ResNet_18 poisoned: True, epoch: 119: Average loss: 0.1270, Accuracy: 9558/9900 (96.5455%)
Done in 297.10048842430115 sec.
Server Epoch:120 choose agents : [13, 36, 58, 71, 72, 30, 96, 38, 62, 1, 31, 88, 21, 34, 43, 37, 10, 83, 93, 76].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 120, local model 13, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5166/5308 (97.3248%), train_poison_data_count: 415
Global model norm: 43.49116373750175.
Norm before scaling: 43.460574469317876. Distance: 1.3159761263818235
___Test Local_ResNet_18 poisoned: True, epoch: 120: Average loss: 0.0367, Accuracy: 9798/9900 (98.9697%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 120, local model 36, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5622/5777 (97.3169%), train_poison_data_count: 455
Global model norm: 43.49116373750175.
Norm before scaling: 43.452650235630045. Distance: 1.3058412213423003
___Test Local_ResNet_18 poisoned: True, epoch: 120: Average loss: 0.0559, Accuracy: 9750/9900 (98.4848%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 120, local model 58, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4942/5123 (96.4669%), train_poison_data_count: 403
Global model norm: 43.49116373750175.
Norm before scaling: 43.46266834927491. Distance: 1.3619233284682504
___Test Local_ResNet_18 poisoned: True, epoch: 120: Average loss: 0.1549, Accuracy: 9510/9900 (96.0606%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 120, local model 71, internal_epoch   1,  Average loss: 0.0021, Accuracy: 5305/5503 (96.4020%), train_poison_data_count: 430
Global model norm: 43.49116373750175.
Norm before scaling: 43.46427344850308. Distance: 1.4297249377409162
___Test Local_ResNet_18 poisoned: True, epoch: 120: Average loss: 0.1077, Accuracy: 9609/9900 (97.0606%)
___Train Local_ResNet_18,  epoch 120, local model 72, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4794/5193 (92.3166%)
___Train Local_ResNet_18,  epoch 120, local model 72, internal_epoch   2,  Average loss: 0.0066, Accuracy: 4538/5193 (87.3869%)
___Test Local_ResNet_18 poisoned: False, epoch: 120: Average loss: 2.2120, Accuracy: 5153/10000 (51.5300%)
___Train Local_ResNet_18,  epoch 120, local model 30, internal_epoch   1,  Average loss: 0.0037, Accuracy: 3505/3774 (92.8723%)
___Train Local_ResNet_18,  epoch 120, local model 30, internal_epoch   2,  Average loss: 0.0037, Accuracy: 3506/3774 (92.8988%)
___Test Local_ResNet_18 poisoned: False, epoch: 120: Average loss: 1.8440, Accuracy: 5803/10000 (58.0300%)
___Train Local_ResNet_18,  epoch 120, local model 96, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4647/5086 (91.3685%)
___Train Local_ResNet_18,  epoch 120, local model 96, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4642/5086 (91.2702%)
___Test Local_ResNet_18 poisoned: False, epoch: 120: Average loss: 2.1477, Accuracy: 5153/10000 (51.5300%)
___Train Local_ResNet_18,  epoch 120, local model 38, internal_epoch   1,  Average loss: 0.0053, Accuracy: 5611/6235 (89.9920%)
___Train Local_ResNet_18,  epoch 120, local model 38, internal_epoch   2,  Average loss: 0.0058, Accuracy: 5546/6235 (88.9495%)
___Test Local_ResNet_18 poisoned: False, epoch: 120: Average loss: 2.2388, Accuracy: 5003/10000 (50.0300%)
___Train Local_ResNet_18,  epoch 120, local model 62, internal_epoch   1,  Average loss: 0.0058, Accuracy: 4902/5504 (89.0625%)
___Train Local_ResNet_18,  epoch 120, local model 62, internal_epoch   2,  Average loss: 0.0057, Accuracy: 4869/5504 (88.4629%)
___Test Local_ResNet_18 poisoned: False, epoch: 120: Average loss: 2.1445, Accuracy: 5215/10000 (52.1500%)
___Train Local_ResNet_18,  epoch 120, local model 1, internal_epoch   1,  Average loss: 0.0031, Accuracy: 5096/5422 (93.9875%)
___Train Local_ResNet_18,  epoch 120, local model 1, internal_epoch   2,  Average loss: 0.0035, Accuracy: 5037/5422 (92.8993%)
___Test Local_ResNet_18 poisoned: False, epoch: 120: Average loss: 1.9617, Accuracy: 5686/10000 (56.8600%)
___Train Local_ResNet_18,  epoch 120, local model 31, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4229/4537 (93.2114%)
___Train Local_ResNet_18,  epoch 120, local model 31, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4146/4537 (91.3820%)
___Test Local_ResNet_18 poisoned: False, epoch: 120: Average loss: 1.9590, Accuracy: 5652/10000 (56.5200%)
___Train Local_ResNet_18,  epoch 120, local model 88, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4945/5362 (92.2231%)
___Train Local_ResNet_18,  epoch 120, local model 88, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4886/5362 (91.1227%)
___Test Local_ResNet_18 poisoned: False, epoch: 120: Average loss: 2.1441, Accuracy: 5260/10000 (52.6000%)
___Train Local_ResNet_18,  epoch 120, local model 21, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4593/5038 (91.1671%)
___Train Local_ResNet_18,  epoch 120, local model 21, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4600/5038 (91.3061%)
___Test Local_ResNet_18 poisoned: False, epoch: 120: Average loss: 1.9706, Accuracy: 5637/10000 (56.3700%)
___Train Local_ResNet_18,  epoch 120, local model 34, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4563/4911 (92.9139%)
___Train Local_ResNet_18,  epoch 120, local model 34, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4567/4911 (92.9953%)
___Test Local_ResNet_18 poisoned: False, epoch: 120: Average loss: 2.1599, Accuracy: 5192/10000 (51.9200%)
___Train Local_ResNet_18,  epoch 120, local model 43, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4613/4979 (92.6491%)
___Train Local_ResNet_18,  epoch 120, local model 43, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4559/4979 (91.5646%)
___Test Local_ResNet_18 poisoned: False, epoch: 120: Average loss: 2.1235, Accuracy: 5381/10000 (53.8100%)
___Train Local_ResNet_18,  epoch 120, local model 37, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4329/4741 (91.3099%)
___Train Local_ResNet_18,  epoch 120, local model 37, internal_epoch   2,  Average loss: 0.0102, Accuracy: 3817/4741 (80.5104%)
___Test Local_ResNet_18 poisoned: False, epoch: 120: Average loss: 2.6234, Accuracy: 4524/10000 (45.2400%)
___Train Local_ResNet_18,  epoch 120, local model 10, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4740/5068 (93.5280%)
___Train Local_ResNet_18,  epoch 120, local model 10, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4641/5068 (91.5746%)
___Test Local_ResNet_18 poisoned: False, epoch: 120: Average loss: 2.0725, Accuracy: 5388/10000 (53.8800%)
___Train Local_ResNet_18,  epoch 120, local model 83, internal_epoch   1,  Average loss: 0.0041, Accuracy: 3262/3552 (91.8356%)
___Train Local_ResNet_18,  epoch 120, local model 83, internal_epoch   2,  Average loss: 0.0038, Accuracy: 3271/3552 (92.0890%)
___Test Local_ResNet_18 poisoned: False, epoch: 120: Average loss: 1.8364, Accuracy: 5859/10000 (58.5900%)
___Train Local_ResNet_18,  epoch 120, local model 93, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4665/5055 (92.2849%)
___Train Local_ResNet_18,  epoch 120, local model 93, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4574/5055 (90.4847%)
___Test Local_ResNet_18 poisoned: False, epoch: 120: Average loss: 2.1647, Accuracy: 5262/10000 (52.6200%)
___Train Local_ResNet_18,  epoch 120, local model 76, internal_epoch   1,  Average loss: 0.0040, Accuracy: 3646/3959 (92.0940%)
___Train Local_ResNet_18,  epoch 120, local model 76, internal_epoch   2,  Average loss: 0.0041, Accuracy: 3634/3959 (91.7909%)
___Test Local_ResNet_18 poisoned: False, epoch: 120: Average loss: 1.9800, Accuracy: 5588/10000 (55.8800%)
time spent on training: 272.8178069591522
___Test Target_ResNet_18 poisoned: False, epoch: 120: Average loss: 1.2145, Accuracy: 6831/10000 (68.3100%)
___Test Target_ResNet_18 poisoned: True, epoch: 120: Average loss: 0.1205, Accuracy: 9576/9900 (96.7273%)
Done in 299.64678716659546 sec.
Server Epoch:121 choose agents : [13, 36, 58, 71, 86, 74, 94, 24, 51, 84, 63, 26, 28, 88, 55, 2, 33, 98, 34, 10].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 121, local model 13, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5163/5308 (97.2683%), train_poison_data_count: 415
Global model norm: 43.51086290146045.
Norm before scaling: 43.477812622413374. Distance: 1.266564856168681
___Test Local_ResNet_18 poisoned: True, epoch: 121: Average loss: 0.0573, Accuracy: 9754/9900 (98.5253%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 121, local model 36, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5623/5777 (97.3343%), train_poison_data_count: 455
Global model norm: 43.51086290146045.
Norm before scaling: 43.47525899326248. Distance: 1.3385336562732129
___Test Local_ResNet_18 poisoned: True, epoch: 121: Average loss: 0.1340, Accuracy: 9568/9900 (96.6465%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 121, local model 58, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4914/5123 (95.9204%), train_poison_data_count: 403
Global model norm: 43.51086290146045.
Norm before scaling: 43.48306821832709. Distance: 1.399610698591794
___Test Local_ResNet_18 poisoned: True, epoch: 121: Average loss: 0.0546, Accuracy: 9747/9900 (98.4545%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 121, local model 71, internal_epoch   1,  Average loss: 0.0020, Accuracy: 5331/5503 (96.8744%), train_poison_data_count: 430
Global model norm: 43.51086290146045.
Norm before scaling: 43.48047138200738. Distance: 1.3543264539298074
___Test Local_ResNet_18 poisoned: True, epoch: 121: Average loss: 0.0203, Accuracy: 9862/9900 (99.6162%)
___Train Local_ResNet_18,  epoch 121, local model 86, internal_epoch   1,  Average loss: 0.0047, Accuracy: 3569/3929 (90.8374%)
___Train Local_ResNet_18,  epoch 121, local model 86, internal_epoch   2,  Average loss: 0.0047, Accuracy: 3541/3929 (90.1247%)
___Test Local_ResNet_18 poisoned: False, epoch: 121: Average loss: 1.9105, Accuracy: 5685/10000 (56.8500%)
___Train Local_ResNet_18,  epoch 121, local model 74, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4377/4797 (91.2445%)
___Train Local_ResNet_18,  epoch 121, local model 74, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4289/4797 (89.4100%)
___Test Local_ResNet_18 poisoned: False, epoch: 121: Average loss: 2.0865, Accuracy: 5385/10000 (53.8500%)
___Train Local_ResNet_18,  epoch 121, local model 94, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4709/5224 (90.1417%)
___Train Local_ResNet_18,  epoch 121, local model 94, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4709/5224 (90.1417%)
___Test Local_ResNet_18 poisoned: False, epoch: 121: Average loss: 2.1050, Accuracy: 5359/10000 (53.5900%)
___Train Local_ResNet_18,  epoch 121, local model 24, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4038/4313 (93.6239%)
___Train Local_ResNet_18,  epoch 121, local model 24, internal_epoch   2,  Average loss: 0.0033, Accuracy: 4060/4313 (94.1340%)
___Test Local_ResNet_18 poisoned: False, epoch: 121: Average loss: 1.7610, Accuracy: 5859/10000 (58.5900%)
___Train Local_ResNet_18,  epoch 121, local model 51, internal_epoch   1,  Average loss: 0.0036, Accuracy: 3836/4108 (93.3788%)
___Train Local_ResNet_18,  epoch 121, local model 51, internal_epoch   2,  Average loss: 0.0036, Accuracy: 3831/4108 (93.2571%)
___Test Local_ResNet_18 poisoned: False, epoch: 121: Average loss: 1.9341, Accuracy: 5697/10000 (56.9700%)
___Train Local_ResNet_18,  epoch 121, local model 84, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4744/5209 (91.0731%)
___Train Local_ResNet_18,  epoch 121, local model 84, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4715/5209 (90.5164%)
___Test Local_ResNet_18 poisoned: False, epoch: 121: Average loss: 2.1862, Accuracy: 5183/10000 (51.8300%)
___Train Local_ResNet_18,  epoch 121, local model 63, internal_epoch   1,  Average loss: 0.0036, Accuracy: 3665/3910 (93.7340%)
___Train Local_ResNet_18,  epoch 121, local model 63, internal_epoch   2,  Average loss: 0.0040, Accuracy: 3616/3910 (92.4808%)
___Test Local_ResNet_18 poisoned: False, epoch: 121: Average loss: 1.9859, Accuracy: 5627/10000 (56.2700%)
___Train Local_ResNet_18,  epoch 121, local model 26, internal_epoch   1,  Average loss: 0.0035, Accuracy: 3815/4086 (93.3676%)
___Train Local_ResNet_18,  epoch 121, local model 26, internal_epoch   2,  Average loss: 0.0036, Accuracy: 3794/4086 (92.8536%)
___Test Local_ResNet_18 poisoned: False, epoch: 121: Average loss: 2.0642, Accuracy: 5503/10000 (55.0300%)
___Train Local_ResNet_18,  epoch 121, local model 28, internal_epoch   1,  Average loss: 0.0057, Accuracy: 4577/5122 (89.3596%)
___Train Local_ResNet_18,  epoch 121, local model 28, internal_epoch   2,  Average loss: 0.0089, Accuracy: 4283/5122 (83.6197%)
___Test Local_ResNet_18 poisoned: False, epoch: 121: Average loss: 2.4932, Accuracy: 4778/10000 (47.7800%)
___Train Local_ResNet_18,  epoch 121, local model 88, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4909/5362 (91.5517%)
___Train Local_ResNet_18,  epoch 121, local model 88, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4803/5362 (89.5748%)
___Test Local_ResNet_18 poisoned: False, epoch: 121: Average loss: 2.1044, Accuracy: 5412/10000 (54.1200%)
___Train Local_ResNet_18,  epoch 121, local model 55, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4397/4731 (92.9402%)
___Train Local_ResNet_18,  epoch 121, local model 55, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4360/4731 (92.1581%)
___Test Local_ResNet_18 poisoned: False, epoch: 121: Average loss: 2.0234, Accuracy: 5480/10000 (54.8000%)
___Train Local_ResNet_18,  epoch 121, local model 2, internal_epoch   1,  Average loss: 0.0043, Accuracy: 3639/3968 (91.7087%)
___Train Local_ResNet_18,  epoch 121, local model 2, internal_epoch   2,  Average loss: 0.0043, Accuracy: 3643/3968 (91.8095%)
___Test Local_ResNet_18 poisoned: False, epoch: 121: Average loss: 1.8874, Accuracy: 5674/10000 (56.7400%)
___Train Local_ResNet_18,  epoch 121, local model 33, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4450/4818 (92.3620%)
___Train Local_ResNet_18,  epoch 121, local model 33, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4355/4818 (90.3902%)
___Test Local_ResNet_18 poisoned: False, epoch: 121: Average loss: 2.0701, Accuracy: 5365/10000 (53.6500%)
___Train Local_ResNet_18,  epoch 121, local model 98, internal_epoch   1,  Average loss: 0.0050, Accuracy: 3870/4161 (93.0065%)
___Train Local_ResNet_18,  epoch 121, local model 98, internal_epoch   2,  Average loss: 0.0057, Accuracy: 3759/4161 (90.3389%)
___Test Local_ResNet_18 poisoned: False, epoch: 121: Average loss: 2.0111, Accuracy: 5551/10000 (55.5100%)
___Train Local_ResNet_18,  epoch 121, local model 34, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4523/4911 (92.0994%)
___Train Local_ResNet_18,  epoch 121, local model 34, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4559/4911 (92.8324%)
___Test Local_ResNet_18 poisoned: False, epoch: 121: Average loss: 2.0658, Accuracy: 5338/10000 (53.3800%)
___Train Local_ResNet_18,  epoch 121, local model 10, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4740/5068 (93.5280%)
___Train Local_ResNet_18,  epoch 121, local model 10, internal_epoch   2,  Average loss: 0.0032, Accuracy: 4754/5068 (93.8043%)
___Test Local_ResNet_18 poisoned: False, epoch: 121: Average loss: 2.0090, Accuracy: 5467/10000 (54.6700%)
time spent on training: 270.7509036064148
___Test Target_ResNet_18 poisoned: False, epoch: 121: Average loss: 1.2234, Accuracy: 6818/10000 (68.1800%)
___Test Target_ResNet_18 poisoned: True, epoch: 121: Average loss: 0.1092, Accuracy: 9605/9900 (97.0202%)
Done in 297.31441473960876 sec.
Server Epoch:122 choose agents : [13, 36, 58, 71, 33, 32, 46, 38, 22, 73, 61, 35, 83, 24, 87, 23, 3, 19, 98, 20].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 122, local model 13, internal_epoch   1,  Average loss: 0.0017, Accuracy: 5168/5308 (97.3625%), train_poison_data_count: 415
Global model norm: 43.52941881916614.
Norm before scaling: 43.495261449434786. Distance: 1.2310841792412792
___Test Local_ResNet_18 poisoned: True, epoch: 122: Average loss: 0.0666, Accuracy: 9721/9900 (98.1919%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 122, local model 36, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5617/5777 (97.2304%), train_poison_data_count: 455
Global model norm: 43.52941881916614.
Norm before scaling: 43.49361539442456. Distance: 1.3543643024692804
___Test Local_ResNet_18 poisoned: True, epoch: 122: Average loss: 0.0913, Accuracy: 9665/9900 (97.6263%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 122, local model 58, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4926/5123 (96.1546%), train_poison_data_count: 403
Global model norm: 43.52941881916614.
Norm before scaling: 43.499786727207066. Distance: 1.3445828540392528
___Test Local_ResNet_18 poisoned: True, epoch: 122: Average loss: 0.1553, Accuracy: 9511/9900 (96.0707%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 122, local model 71, internal_epoch   1,  Average loss: 0.0021, Accuracy: 5325/5503 (96.7654%), train_poison_data_count: 430
Global model norm: 43.52941881916614.
Norm before scaling: 43.49923249367812. Distance: 1.4129885394123625
___Test Local_ResNet_18 poisoned: True, epoch: 122: Average loss: 0.0902, Accuracy: 9669/9900 (97.6667%)
___Train Local_ResNet_18,  epoch 122, local model 33, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4467/4818 (92.7148%)
___Train Local_ResNet_18,  epoch 122, local model 33, internal_epoch   2,  Average loss: 0.0061, Accuracy: 4236/4818 (87.9203%)
___Test Local_ResNet_18 poisoned: False, epoch: 122: Average loss: 2.0612, Accuracy: 5247/10000 (52.4700%)
___Train Local_ResNet_18,  epoch 122, local model 32, internal_epoch   1,  Average loss: 0.0052, Accuracy: 5453/6080 (89.6875%)
___Train Local_ResNet_18,  epoch 122, local model 32, internal_epoch   2,  Average loss: 0.0059, Accuracy: 5397/6080 (88.7664%)
___Test Local_ResNet_18 poisoned: False, epoch: 122: Average loss: 2.3110, Accuracy: 5092/10000 (50.9200%)
___Train Local_ResNet_18,  epoch 122, local model 46, internal_epoch   1,  Average loss: 0.0057, Accuracy: 4809/5399 (89.0721%)
___Train Local_ResNet_18,  epoch 122, local model 46, internal_epoch   2,  Average loss: 0.0064, Accuracy: 4706/5399 (87.1643%)
___Test Local_ResNet_18 poisoned: False, epoch: 122: Average loss: 2.3678, Accuracy: 5052/10000 (50.5200%)
___Train Local_ResNet_18,  epoch 122, local model 38, internal_epoch   1,  Average loss: 0.0053, Accuracy: 5584/6235 (89.5589%)
___Train Local_ResNet_18,  epoch 122, local model 38, internal_epoch   2,  Average loss: 0.0064, Accuracy: 5466/6235 (87.6664%)
___Test Local_ResNet_18 poisoned: False, epoch: 122: Average loss: 2.4043, Accuracy: 4879/10000 (48.7900%)
___Train Local_ResNet_18,  epoch 122, local model 22, internal_epoch   1,  Average loss: 0.0035, Accuracy: 5345/5696 (93.8378%)
___Train Local_ResNet_18,  epoch 122, local model 22, internal_epoch   2,  Average loss: 0.0039, Accuracy: 5254/5696 (92.2402%)
___Test Local_ResNet_18 poisoned: False, epoch: 122: Average loss: 1.9823, Accuracy: 5563/10000 (55.6300%)
___Train Local_ResNet_18,  epoch 122, local model 73, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4335/4605 (94.1368%)
___Train Local_ResNet_18,  epoch 122, local model 73, internal_epoch   2,  Average loss: 0.0030, Accuracy: 4357/4605 (94.6145%)
___Test Local_ResNet_18 poisoned: False, epoch: 122: Average loss: 1.8242, Accuracy: 5786/10000 (57.8600%)
___Train Local_ResNet_18,  epoch 122, local model 61, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4139/4485 (92.2854%)
___Train Local_ResNet_18,  epoch 122, local model 61, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4061/4485 (90.5463%)
___Test Local_ResNet_18 poisoned: False, epoch: 122: Average loss: 2.1416, Accuracy: 5350/10000 (53.5000%)
___Train Local_ResNet_18,  epoch 122, local model 35, internal_epoch   1,  Average loss: 0.0043, Accuracy: 5134/5615 (91.4337%)
___Train Local_ResNet_18,  epoch 122, local model 35, internal_epoch   2,  Average loss: 0.0048, Accuracy: 5077/5615 (90.4185%)
___Test Local_ResNet_18 poisoned: False, epoch: 122: Average loss: 2.1780, Accuracy: 5249/10000 (52.4900%)
___Train Local_ResNet_18,  epoch 122, local model 83, internal_epoch   1,  Average loss: 0.0041, Accuracy: 3254/3552 (91.6104%)
___Train Local_ResNet_18,  epoch 122, local model 83, internal_epoch   2,  Average loss: 0.0033, Accuracy: 3303/3552 (92.9899%)
___Test Local_ResNet_18 poisoned: False, epoch: 122: Average loss: 1.7795, Accuracy: 5889/10000 (58.8900%)
___Train Local_ResNet_18,  epoch 122, local model 24, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4027/4313 (93.3689%)
___Train Local_ResNet_18,  epoch 122, local model 24, internal_epoch   2,  Average loss: 0.0032, Accuracy: 4052/4313 (93.9485%)
___Test Local_ResNet_18 poisoned: False, epoch: 122: Average loss: 1.7693, Accuracy: 5900/10000 (59.0000%)
___Train Local_ResNet_18,  epoch 122, local model 87, internal_epoch   1,  Average loss: 0.0048, Accuracy: 3617/3995 (90.5382%)
___Train Local_ResNet_18,  epoch 122, local model 87, internal_epoch   2,  Average loss: 0.0054, Accuracy: 3578/3995 (89.5620%)
___Test Local_ResNet_18 poisoned: False, epoch: 122: Average loss: 2.2513, Accuracy: 5107/10000 (51.0700%)
___Train Local_ResNet_18,  epoch 122, local model 23, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4335/4549 (95.2957%)
___Train Local_ResNet_18,  epoch 122, local model 23, internal_epoch   2,  Average loss: 0.0066, Accuracy: 3987/4549 (87.6456%)
___Test Local_ResNet_18 poisoned: False, epoch: 122: Average loss: 2.2193, Accuracy: 5174/10000 (51.7400%)
___Train Local_ResNet_18,  epoch 122, local model 3, internal_epoch   1,  Average loss: 0.0035, Accuracy: 5003/5346 (93.5840%)
___Train Local_ResNet_18,  epoch 122, local model 3, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4974/5346 (93.0415%)
___Test Local_ResNet_18 poisoned: False, epoch: 122: Average loss: 2.1286, Accuracy: 5302/10000 (53.0200%)
___Train Local_ResNet_18,  epoch 122, local model 19, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4875/5361 (90.9345%)
___Train Local_ResNet_18,  epoch 122, local model 19, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4775/5361 (89.0692%)
___Test Local_ResNet_18 poisoned: False, epoch: 122: Average loss: 2.2280, Accuracy: 5098/10000 (50.9800%)
___Train Local_ResNet_18,  epoch 122, local model 98, internal_epoch   1,  Average loss: 0.0049, Accuracy: 3865/4161 (92.8863%)
___Train Local_ResNet_18,  epoch 122, local model 98, internal_epoch   2,  Average loss: 0.0051, Accuracy: 3832/4161 (92.0932%)
___Test Local_ResNet_18 poisoned: False, epoch: 122: Average loss: 2.0325, Accuracy: 5508/10000 (55.0800%)
___Train Local_ResNet_18,  epoch 122, local model 20, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4384/4714 (92.9996%)
___Train Local_ResNet_18,  epoch 122, local model 20, internal_epoch   2,  Average loss: 0.0032, Accuracy: 4429/4714 (93.9542%)
___Test Local_ResNet_18 poisoned: False, epoch: 122: Average loss: 1.9468, Accuracy: 5632/10000 (56.3200%)
time spent on training: 276.1657130718231
___Test Target_ResNet_18 poisoned: False, epoch: 122: Average loss: 1.2321, Accuracy: 6795/10000 (67.9500%)
___Test Target_ResNet_18 poisoned: True, epoch: 122: Average loss: 0.1060, Accuracy: 9617/9900 (97.1414%)
Done in 302.8525433540344 sec.
Server Epoch:123 choose agents : [13, 36, 58, 71, 9, 53, 69, 0, 77, 5, 33, 81, 92, 66, 83, 47, 17, 1, 84, 22].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 123, local model 13, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5173/5308 (97.4567%), train_poison_data_count: 415
Global model norm: 43.549736966412894.
Norm before scaling: 43.51541601161665. Distance: 1.2507921569844267
___Test Local_ResNet_18 poisoned: True, epoch: 123: Average loss: 0.1001, Accuracy: 9641/9900 (97.3838%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 123, local model 36, internal_epoch   1,  Average loss: 0.0019, Accuracy: 5611/5777 (97.1265%), train_poison_data_count: 455
Global model norm: 43.549736966412894.
Norm before scaling: 43.51273413871579. Distance: 1.3785954198013253
___Test Local_ResNet_18 poisoned: True, epoch: 123: Average loss: 0.0429, Accuracy: 9786/9900 (98.8485%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 123, local model 58, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4945/5123 (96.5255%), train_poison_data_count: 403
Global model norm: 43.549736966412894.
Norm before scaling: 43.51931369015945. Distance: 1.3458815679183536
___Test Local_ResNet_18 poisoned: True, epoch: 123: Average loss: 0.0800, Accuracy: 9697/9900 (97.9495%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 123, local model 71, internal_epoch   1,  Average loss: 0.0020, Accuracy: 5340/5503 (97.0380%), train_poison_data_count: 430
Global model norm: 43.549736966412894.
Norm before scaling: 43.51813137979459. Distance: 1.365740549886131
___Test Local_ResNet_18 poisoned: True, epoch: 123: Average loss: 0.0458, Accuracy: 9777/9900 (98.7576%)
___Train Local_ResNet_18,  epoch 123, local model 9, internal_epoch   1,  Average loss: 0.0052, Accuracy: 5151/5727 (89.9424%)
___Train Local_ResNet_18,  epoch 123, local model 9, internal_epoch   2,  Average loss: 0.0058, Accuracy: 5062/5727 (88.3883%)
___Test Local_ResNet_18 poisoned: False, epoch: 123: Average loss: 2.0885, Accuracy: 5302/10000 (53.0200%)
___Train Local_ResNet_18,  epoch 123, local model 53, internal_epoch   1,  Average loss: 0.0064, Accuracy: 5861/6664 (87.9502%)
___Train Local_ResNet_18,  epoch 123, local model 53, internal_epoch   2,  Average loss: 0.0069, Accuracy: 5782/6664 (86.7647%)
___Test Local_ResNet_18 poisoned: False, epoch: 123: Average loss: 2.2187, Accuracy: 5138/10000 (51.3800%)
___Train Local_ResNet_18,  epoch 123, local model 69, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4063/4364 (93.1027%)
___Train Local_ResNet_18,  epoch 123, local model 69, internal_epoch   2,  Average loss: 0.0050, Accuracy: 3933/4364 (90.1237%)
___Test Local_ResNet_18 poisoned: False, epoch: 123: Average loss: 1.9428, Accuracy: 5605/10000 (56.0500%)
___Train Local_ResNet_18,  epoch 123, local model 0, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4990/5454 (91.4925%)
___Train Local_ResNet_18,  epoch 123, local model 0, internal_epoch   2,  Average loss: 0.0059, Accuracy: 4850/5454 (88.9256%)
___Test Local_ResNet_18 poisoned: False, epoch: 123: Average loss: 2.1738, Accuracy: 5179/10000 (51.7900%)
___Train Local_ResNet_18,  epoch 123, local model 77, internal_epoch   1,  Average loss: 0.0057, Accuracy: 4486/5050 (88.8317%)
___Train Local_ResNet_18,  epoch 123, local model 77, internal_epoch   2,  Average loss: 0.0062, Accuracy: 4451/5050 (88.1386%)
___Test Local_ResNet_18 poisoned: False, epoch: 123: Average loss: 2.0270, Accuracy: 5351/10000 (53.5100%)
___Train Local_ResNet_18,  epoch 123, local model 5, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4731/4993 (94.7527%)
___Train Local_ResNet_18,  epoch 123, local model 5, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4660/4993 (93.3307%)
___Test Local_ResNet_18 poisoned: False, epoch: 123: Average loss: 2.1035, Accuracy: 5473/10000 (54.7300%)
___Train Local_ResNet_18,  epoch 123, local model 33, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4423/4818 (91.8016%)
___Train Local_ResNet_18,  epoch 123, local model 33, internal_epoch   2,  Average loss: 0.0064, Accuracy: 4215/4818 (87.4844%)
___Test Local_ResNet_18 poisoned: False, epoch: 123: Average loss: 2.1584, Accuracy: 5202/10000 (52.0200%)
___Train Local_ResNet_18,  epoch 123, local model 81, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4705/5035 (93.4459%)
___Train Local_ResNet_18,  epoch 123, local model 81, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4680/5035 (92.9494%)
___Test Local_ResNet_18 poisoned: False, epoch: 123: Average loss: 1.9767, Accuracy: 5553/10000 (55.5300%)
___Train Local_ResNet_18,  epoch 123, local model 92, internal_epoch   1,  Average loss: 0.0034, Accuracy: 6363/6812 (93.4087%)
___Train Local_ResNet_18,  epoch 123, local model 92, internal_epoch   2,  Average loss: 0.0038, Accuracy: 6332/6812 (92.9536%)
___Test Local_ResNet_18 poisoned: False, epoch: 123: Average loss: 2.2187, Accuracy: 5239/10000 (52.3900%)
___Train Local_ResNet_18,  epoch 123, local model 66, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4463/4843 (92.1536%)
___Train Local_ResNet_18,  epoch 123, local model 66, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4444/4843 (91.7613%)
___Test Local_ResNet_18 poisoned: False, epoch: 123: Average loss: 2.1857, Accuracy: 5368/10000 (53.6800%)
___Train Local_ResNet_18,  epoch 123, local model 83, internal_epoch   1,  Average loss: 0.0035, Accuracy: 3327/3552 (93.6655%)
___Train Local_ResNet_18,  epoch 123, local model 83, internal_epoch   2,  Average loss: 0.0032, Accuracy: 3335/3552 (93.8908%)
___Test Local_ResNet_18 poisoned: False, epoch: 123: Average loss: 1.8125, Accuracy: 5785/10000 (57.8500%)
___Train Local_ResNet_18,  epoch 123, local model 47, internal_epoch   1,  Average loss: 0.0050, Accuracy: 4632/5123 (90.4158%)
___Train Local_ResNet_18,  epoch 123, local model 47, internal_epoch   2,  Average loss: 0.0078, Accuracy: 4388/5123 (85.6529%)
___Test Local_ResNet_18 poisoned: False, epoch: 123: Average loss: 2.4162, Accuracy: 4930/10000 (49.3000%)
___Train Local_ResNet_18,  epoch 123, local model 17, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4476/4903 (91.2910%)
___Train Local_ResNet_18,  epoch 123, local model 17, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4417/4903 (90.0877%)
___Test Local_ResNet_18 poisoned: False, epoch: 123: Average loss: 2.1144, Accuracy: 5376/10000 (53.7600%)
___Train Local_ResNet_18,  epoch 123, local model 1, internal_epoch   1,  Average loss: 0.0029, Accuracy: 5135/5422 (94.7068%)
___Train Local_ResNet_18,  epoch 123, local model 1, internal_epoch   2,  Average loss: 0.0033, Accuracy: 5061/5422 (93.3419%)
___Test Local_ResNet_18 poisoned: False, epoch: 123: Average loss: 1.8742, Accuracy: 5690/10000 (56.9000%)
___Train Local_ResNet_18,  epoch 123, local model 84, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4753/5209 (91.2459%)
___Train Local_ResNet_18,  epoch 123, local model 84, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4713/5209 (90.4780%)
___Test Local_ResNet_18 poisoned: False, epoch: 123: Average loss: 2.1428, Accuracy: 5435/10000 (54.3500%)
___Train Local_ResNet_18,  epoch 123, local model 22, internal_epoch   1,  Average loss: 0.0036, Accuracy: 5294/5696 (92.9424%)
___Train Local_ResNet_18,  epoch 123, local model 22, internal_epoch   2,  Average loss: 0.0042, Accuracy: 5227/5696 (91.7662%)
___Test Local_ResNet_18 poisoned: False, epoch: 123: Average loss: 2.0415, Accuracy: 5393/10000 (53.9300%)
time spent on training: 280.7262399196625
___Test Target_ResNet_18 poisoned: False, epoch: 123: Average loss: 1.2326, Accuracy: 6806/10000 (68.0600%)
___Test Target_ResNet_18 poisoned: True, epoch: 123: Average loss: 0.1069, Accuracy: 9613/9900 (97.1010%)
Done in 307.10985803604126 sec.
Server Epoch:124 choose agents : [13, 36, 58, 71, 33, 99, 27, 61, 22, 75, 85, 54, 11, 37, 60, 21, 32, 64, 29, 18].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 124, local model 13, internal_epoch   1,  Average loss: 0.0019, Accuracy: 5143/5308 (96.8915%), train_poison_data_count: 415
Global model norm: 43.57105283910193.
Norm before scaling: 43.53942627808731. Distance: 1.3208911688544143
___Test Local_ResNet_18 poisoned: True, epoch: 124: Average loss: 0.1004, Accuracy: 9650/9900 (97.4747%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 124, local model 36, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5618/5777 (97.2477%), train_poison_data_count: 455
Global model norm: 43.57105283910193.
Norm before scaling: 43.53453219185963. Distance: 1.3529952729305406
___Test Local_ResNet_18 poisoned: True, epoch: 124: Average loss: 0.0949, Accuracy: 9656/9900 (97.5354%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 124, local model 58, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4943/5123 (96.4864%), train_poison_data_count: 403
Global model norm: 43.57105283910193.
Norm before scaling: 43.54036970381984. Distance: 1.3394911499499997
___Test Local_ResNet_18 poisoned: True, epoch: 124: Average loss: 0.1515, Accuracy: 9482/9900 (95.7778%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 124, local model 71, internal_epoch   1,  Average loss: 0.0021, Accuracy: 5319/5503 (96.6564%), train_poison_data_count: 430
Global model norm: 43.57105283910193.
Norm before scaling: 43.54254805602145. Distance: 1.440222359946789
___Test Local_ResNet_18 poisoned: True, epoch: 124: Average loss: 0.0301, Accuracy: 9826/9900 (99.2525%)
___Train Local_ResNet_18,  epoch 124, local model 33, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4442/4818 (92.1959%)
___Train Local_ResNet_18,  epoch 124, local model 33, internal_epoch   2,  Average loss: 0.0057, Accuracy: 4268/4818 (88.5845%)
___Test Local_ResNet_18 poisoned: False, epoch: 124: Average loss: 2.0260, Accuracy: 5430/10000 (54.3000%)
___Train Local_ResNet_18,  epoch 124, local model 99, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4454/4851 (91.8161%)
___Train Local_ResNet_18,  epoch 124, local model 99, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4400/4851 (90.7029%)
___Test Local_ResNet_18 poisoned: False, epoch: 124: Average loss: 2.0515, Accuracy: 5329/10000 (53.2900%)
___Train Local_ResNet_18,  epoch 124, local model 27, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4246/4587 (92.5659%)
___Train Local_ResNet_18,  epoch 124, local model 27, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4185/4587 (91.2361%)
___Test Local_ResNet_18 poisoned: False, epoch: 124: Average loss: 2.0662, Accuracy: 5386/10000 (53.8600%)
___Train Local_ResNet_18,  epoch 124, local model 61, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4146/4485 (92.4415%)
___Train Local_ResNet_18,  epoch 124, local model 61, internal_epoch   2,  Average loss: 0.0064, Accuracy: 3907/4485 (87.1126%)
___Test Local_ResNet_18 poisoned: False, epoch: 124: Average loss: 2.0738, Accuracy: 5259/10000 (52.5900%)
___Train Local_ResNet_18,  epoch 124, local model 22, internal_epoch   1,  Average loss: 0.0035, Accuracy: 5326/5696 (93.5042%)
___Train Local_ResNet_18,  epoch 124, local model 22, internal_epoch   2,  Average loss: 0.0042, Accuracy: 5215/5696 (91.5555%)
___Test Local_ResNet_18 poisoned: False, epoch: 124: Average loss: 1.9959, Accuracy: 5400/10000 (54.0000%)
___Train Local_ResNet_18,  epoch 124, local model 75, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4350/4672 (93.1079%)
___Train Local_ResNet_18,  epoch 124, local model 75, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4329/4672 (92.6584%)
___Test Local_ResNet_18 poisoned: False, epoch: 124: Average loss: 1.8142, Accuracy: 5850/10000 (58.5000%)
___Train Local_ResNet_18,  epoch 124, local model 85, internal_epoch   1,  Average loss: 0.0052, Accuracy: 6248/6947 (89.9381%)
___Train Local_ResNet_18,  epoch 124, local model 85, internal_epoch   2,  Average loss: 0.0063, Accuracy: 6088/6947 (87.6350%)
___Test Local_ResNet_18 poisoned: False, epoch: 124: Average loss: 2.2957, Accuracy: 5155/10000 (51.5500%)
___Train Local_ResNet_18,  epoch 124, local model 54, internal_epoch   1,  Average loss: 0.0054, Accuracy: 5075/5645 (89.9026%)
___Train Local_ResNet_18,  epoch 124, local model 54, internal_epoch   2,  Average loss: 0.0063, Accuracy: 4959/5645 (87.8477%)
___Test Local_ResNet_18 poisoned: False, epoch: 124: Average loss: 2.2887, Accuracy: 5012/10000 (50.1200%)
___Train Local_ResNet_18,  epoch 124, local model 11, internal_epoch   1,  Average loss: 0.0075, Accuracy: 4912/5702 (86.1452%)
___Train Local_ResNet_18,  epoch 124, local model 11, internal_epoch   2,  Average loss: 0.0124, Accuracy: 4350/5702 (76.2890%)
___Test Local_ResNet_18 poisoned: False, epoch: 124: Average loss: 2.1859, Accuracy: 4965/10000 (49.6500%)
___Train Local_ResNet_18,  epoch 124, local model 37, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4330/4741 (91.3309%)
___Train Local_ResNet_18,  epoch 124, local model 37, internal_epoch   2,  Average loss: 0.0064, Accuracy: 4160/4741 (87.7452%)
___Test Local_ResNet_18 poisoned: False, epoch: 124: Average loss: 2.2418, Accuracy: 5148/10000 (51.4800%)
___Train Local_ResNet_18,  epoch 124, local model 60, internal_epoch   1,  Average loss: 0.0041, Accuracy: 3824/4145 (92.2557%)
___Train Local_ResNet_18,  epoch 124, local model 60, internal_epoch   2,  Average loss: 0.0047, Accuracy: 3749/4145 (90.4463%)
___Test Local_ResNet_18 poisoned: False, epoch: 124: Average loss: 1.9797, Accuracy: 5597/10000 (55.9700%)
___Train Local_ResNet_18,  epoch 124, local model 21, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4670/5038 (92.6955%)
___Train Local_ResNet_18,  epoch 124, local model 21, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4625/5038 (91.8023%)
___Test Local_ResNet_18 poisoned: False, epoch: 124: Average loss: 1.9998, Accuracy: 5497/10000 (54.9700%)
___Train Local_ResNet_18,  epoch 124, local model 32, internal_epoch   1,  Average loss: 0.0060, Accuracy: 5398/6080 (88.7829%)
___Train Local_ResNet_18,  epoch 124, local model 32, internal_epoch   2,  Average loss: 0.0065, Accuracy: 5274/6080 (86.7434%)
___Test Local_ResNet_18 poisoned: False, epoch: 124: Average loss: 2.2031, Accuracy: 5167/10000 (51.6700%)
___Train Local_ResNet_18,  epoch 124, local model 64, internal_epoch   1,  Average loss: 0.0055, Accuracy: 4396/4894 (89.8243%)
___Train Local_ResNet_18,  epoch 124, local model 64, internal_epoch   2,  Average loss: 0.0072, Accuracy: 4215/4894 (86.1259%)
___Test Local_ResNet_18 poisoned: False, epoch: 124: Average loss: 2.2736, Accuracy: 5108/10000 (51.0800%)
___Train Local_ResNet_18,  epoch 124, local model 29, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4448/4732 (93.9983%)
___Train Local_ResNet_18,  epoch 124, local model 29, internal_epoch   2,  Average loss: 0.0028, Accuracy: 4498/4732 (95.0549%)
___Test Local_ResNet_18 poisoned: False, epoch: 124: Average loss: 1.8205, Accuracy: 5803/10000 (58.0300%)
___Train Local_ResNet_18,  epoch 124, local model 18, internal_epoch   1,  Average loss: 0.0039, Accuracy: 3943/4249 (92.7983%)
___Train Local_ResNet_18,  epoch 124, local model 18, internal_epoch   2,  Average loss: 0.0045, Accuracy: 3902/4249 (91.8334%)
___Test Local_ResNet_18 poisoned: False, epoch: 124: Average loss: 2.0832, Accuracy: 5434/10000 (54.3400%)
time spent on training: 277.6671211719513
___Test Target_ResNet_18 poisoned: False, epoch: 124: Average loss: 1.2329, Accuracy: 6809/10000 (68.0900%)
___Test Target_ResNet_18 poisoned: True, epoch: 124: Average loss: 0.1146, Accuracy: 9597/9900 (96.9394%)
Done in 304.3653118610382 sec.
Server Epoch:125 choose agents : [13, 36, 58, 71, 53, 50, 93, 1, 7, 79, 52, 24, 16, 28, 10, 62, 86, 47, 98, 0].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 125, local model 13, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5162/5308 (97.2494%), train_poison_data_count: 415
Global model norm: 43.59267051754873.
Norm before scaling: 43.56198859769762. Distance: 1.3108189580379312
___Test Local_ResNet_18 poisoned: True, epoch: 125: Average loss: 0.0691, Accuracy: 9710/9900 (98.0808%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 125, local model 36, internal_epoch   1,  Average loss: 0.0019, Accuracy: 5604/5777 (97.0054%), train_poison_data_count: 455
Global model norm: 43.59267051754873.
Norm before scaling: 43.556172200030964. Distance: 1.3946185258327186
___Test Local_ResNet_18 poisoned: True, epoch: 125: Average loss: 0.0729, Accuracy: 9720/9900 (98.1818%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 125, local model 58, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4937/5123 (96.3693%), train_poison_data_count: 403
Global model norm: 43.59267051754873.
Norm before scaling: 43.56253222514949. Distance: 1.3302154694168868
___Test Local_ResNet_18 poisoned: True, epoch: 125: Average loss: 0.0374, Accuracy: 9791/9900 (98.8990%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 125, local model 71, internal_epoch   1,  Average loss: 0.0020, Accuracy: 5339/5503 (97.0198%), train_poison_data_count: 430
Global model norm: 43.59267051754873.
Norm before scaling: 43.56202782877178. Distance: 1.3674054217366238
___Test Local_ResNet_18 poisoned: True, epoch: 125: Average loss: 0.0555, Accuracy: 9761/9900 (98.5960%)
___Train Local_ResNet_18,  epoch 125, local model 53, internal_epoch   1,  Average loss: 0.0062, Accuracy: 5890/6664 (88.3854%)
___Train Local_ResNet_18,  epoch 125, local model 53, internal_epoch   2,  Average loss: 0.0071, Accuracy: 5727/6664 (85.9394%)
___Test Local_ResNet_18 poisoned: False, epoch: 125: Average loss: 2.2281, Accuracy: 4974/10000 (49.7400%)
___Train Local_ResNet_18,  epoch 125, local model 50, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4432/4757 (93.1680%)
___Train Local_ResNet_18,  epoch 125, local model 50, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4316/4757 (90.7295%)
___Test Local_ResNet_18 poisoned: False, epoch: 125: Average loss: 2.0806, Accuracy: 5296/10000 (52.9600%)
___Train Local_ResNet_18,  epoch 125, local model 93, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4628/5055 (91.5529%)
___Train Local_ResNet_18,  epoch 125, local model 93, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4580/5055 (90.6034%)
___Test Local_ResNet_18 poisoned: False, epoch: 125: Average loss: 2.1104, Accuracy: 5404/10000 (54.0400%)
___Train Local_ResNet_18,  epoch 125, local model 1, internal_epoch   1,  Average loss: 0.0029, Accuracy: 5128/5422 (94.5776%)
___Train Local_ResNet_18,  epoch 125, local model 1, internal_epoch   2,  Average loss: 0.0035, Accuracy: 5050/5422 (93.1391%)
___Test Local_ResNet_18 poisoned: False, epoch: 125: Average loss: 1.8523, Accuracy: 5714/10000 (57.1400%)
___Train Local_ResNet_18,  epoch 125, local model 7, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4426/4869 (90.9016%)
___Train Local_ResNet_18,  epoch 125, local model 7, internal_epoch   2,  Average loss: 0.0072, Accuracy: 4203/4869 (86.3216%)
___Test Local_ResNet_18 poisoned: False, epoch: 125: Average loss: 2.2736, Accuracy: 5098/10000 (50.9800%)
___Train Local_ResNet_18,  epoch 125, local model 79, internal_epoch   1,  Average loss: 0.0038, Accuracy: 3824/4111 (93.0187%)
___Train Local_ResNet_18,  epoch 125, local model 79, internal_epoch   2,  Average loss: 0.0040, Accuracy: 3818/4111 (92.8728%)
___Test Local_ResNet_18 poisoned: False, epoch: 125: Average loss: 2.0739, Accuracy: 5474/10000 (54.7400%)
___Train Local_ResNet_18,  epoch 125, local model 52, internal_epoch   1,  Average loss: 0.0037, Accuracy: 3885/4130 (94.0678%)
___Train Local_ResNet_18,  epoch 125, local model 52, internal_epoch   2,  Average loss: 0.0042, Accuracy: 3790/4130 (91.7676%)
___Test Local_ResNet_18 poisoned: False, epoch: 125: Average loss: 1.9896, Accuracy: 5592/10000 (55.9200%)
___Train Local_ResNet_18,  epoch 125, local model 24, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4032/4313 (93.4848%)
___Train Local_ResNet_18,  epoch 125, local model 24, internal_epoch   2,  Average loss: 0.0032, Accuracy: 4056/4313 (94.0413%)
___Test Local_ResNet_18 poisoned: False, epoch: 125: Average loss: 1.7686, Accuracy: 5899/10000 (58.9900%)
___Train Local_ResNet_18,  epoch 125, local model 16, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4950/5353 (92.4715%)
___Train Local_ResNet_18,  epoch 125, local model 16, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4819/5353 (90.0243%)
___Test Local_ResNet_18 poisoned: False, epoch: 125: Average loss: 2.1866, Accuracy: 5285/10000 (52.8500%)
___Train Local_ResNet_18,  epoch 125, local model 28, internal_epoch   1,  Average loss: 0.0054, Accuracy: 4652/5122 (90.8239%)
___Train Local_ResNet_18,  epoch 125, local model 28, internal_epoch   2,  Average loss: 0.0092, Accuracy: 4287/5122 (83.6978%)
___Test Local_ResNet_18 poisoned: False, epoch: 125: Average loss: 2.3791, Accuracy: 4882/10000 (48.8200%)
___Train Local_ResNet_18,  epoch 125, local model 10, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4709/5068 (92.9163%)
___Train Local_ResNet_18,  epoch 125, local model 10, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4658/5068 (91.9100%)
___Test Local_ResNet_18 poisoned: False, epoch: 125: Average loss: 2.1539, Accuracy: 5207/10000 (52.0700%)
___Train Local_ResNet_18,  epoch 125, local model 62, internal_epoch   1,  Average loss: 0.0057, Accuracy: 4885/5504 (88.7536%)
___Train Local_ResNet_18,  epoch 125, local model 62, internal_epoch   2,  Average loss: 0.0061, Accuracy: 4813/5504 (87.4455%)
___Test Local_ResNet_18 poisoned: False, epoch: 125: Average loss: 2.2032, Accuracy: 5227/10000 (52.2700%)
___Train Local_ResNet_18,  epoch 125, local model 86, internal_epoch   1,  Average loss: 0.0042, Accuracy: 3584/3929 (91.2191%)
___Train Local_ResNet_18,  epoch 125, local model 86, internal_epoch   2,  Average loss: 0.0041, Accuracy: 3618/3929 (92.0845%)
___Test Local_ResNet_18 poisoned: False, epoch: 125: Average loss: 1.8922, Accuracy: 5764/10000 (57.6400%)
___Train Local_ResNet_18,  epoch 125, local model 47, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4663/5123 (91.0209%)
___Train Local_ResNet_18,  epoch 125, local model 47, internal_epoch   2,  Average loss: 0.0087, Accuracy: 4299/5123 (83.9157%)
___Test Local_ResNet_18 poisoned: False, epoch: 125: Average loss: 2.2846, Accuracy: 4994/10000 (49.9400%)
___Train Local_ResNet_18,  epoch 125, local model 98, internal_epoch   1,  Average loss: 0.0044, Accuracy: 3904/4161 (93.8236%)
___Train Local_ResNet_18,  epoch 125, local model 98, internal_epoch   2,  Average loss: 0.0055, Accuracy: 3822/4161 (91.8529%)
___Test Local_ResNet_18 poisoned: False, epoch: 125: Average loss: 2.0199, Accuracy: 5691/10000 (56.9100%)
___Train Local_ResNet_18,  epoch 125, local model 0, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4973/5454 (91.1808%)
___Train Local_ResNet_18,  epoch 125, local model 0, internal_epoch   2,  Average loss: 0.0056, Accuracy: 4857/5454 (89.0539%)
___Test Local_ResNet_18 poisoned: False, epoch: 125: Average loss: 2.1111, Accuracy: 5409/10000 (54.0900%)
time spent on training: 277.13861775398254
___Test Target_ResNet_18 poisoned: False, epoch: 125: Average loss: 1.2337, Accuracy: 6804/10000 (68.0400%)
___Test Target_ResNet_18 poisoned: True, epoch: 125: Average loss: 0.1096, Accuracy: 9609/9900 (97.0606%)
Done in 303.6532473564148 sec.
Server Epoch:126 choose agents : [13, 36, 58, 71, 2, 78, 57, 41, 70, 21, 35, 39, 46, 53, 29, 48, 56, 65, 45, 93].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 126, local model 13, internal_epoch   1,  Average loss: 0.0017, Accuracy: 5169/5308 (97.3813%), train_poison_data_count: 415
Global model norm: 43.61347140156711.
Norm before scaling: 43.578760863951835. Distance: 1.2196228618534664
___Test Local_ResNet_18 poisoned: True, epoch: 126: Average loss: 0.1154, Accuracy: 9594/9900 (96.9091%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 126, local model 36, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5631/5777 (97.4727%), train_poison_data_count: 455
Global model norm: 43.61347140156711.
Norm before scaling: 43.576052075114895. Distance: 1.3384007282002002
___Test Local_ResNet_18 poisoned: True, epoch: 126: Average loss: 0.0800, Accuracy: 9689/9900 (97.8687%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 126, local model 58, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4944/5123 (96.5060%), train_poison_data_count: 403
Global model norm: 43.61347140156711.
Norm before scaling: 43.58393286638509. Distance: 1.3508162450366517
___Test Local_ResNet_18 poisoned: True, epoch: 126: Average loss: 0.1863, Accuracy: 9420/9900 (95.1515%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 126, local model 71, internal_epoch   1,  Average loss: 0.0020, Accuracy: 5330/5503 (96.8563%), train_poison_data_count: 430
Global model norm: 43.61347140156711.
Norm before scaling: 43.58225094756178. Distance: 1.3735887047140485
___Test Local_ResNet_18 poisoned: True, epoch: 126: Average loss: 0.0828, Accuracy: 9672/9900 (97.6970%)
___Train Local_ResNet_18,  epoch 126, local model 2, internal_epoch   1,  Average loss: 0.0037, Accuracy: 3701/3968 (93.2712%)
___Train Local_ResNet_18,  epoch 126, local model 2, internal_epoch   2,  Average loss: 0.0037, Accuracy: 3692/3968 (93.0444%)
___Test Local_ResNet_18 poisoned: False, epoch: 126: Average loss: 1.8702, Accuracy: 5731/10000 (57.3100%)
___Train Local_ResNet_18,  epoch 126, local model 78, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4102/4368 (93.9103%)
___Train Local_ResNet_18,  epoch 126, local model 78, internal_epoch   2,  Average loss: 0.0049, Accuracy: 3980/4368 (91.1172%)
___Test Local_ResNet_18 poisoned: False, epoch: 126: Average loss: 2.2183, Accuracy: 5085/10000 (50.8500%)
___Train Local_ResNet_18,  epoch 126, local model 57, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4598/4956 (92.7764%)
___Train Local_ResNet_18,  epoch 126, local model 57, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4557/4956 (91.9492%)
___Test Local_ResNet_18 poisoned: False, epoch: 126: Average loss: 2.0153, Accuracy: 5509/10000 (55.0900%)
___Train Local_ResNet_18,  epoch 126, local model 41, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4398/4714 (93.2966%)
___Train Local_ResNet_18,  epoch 126, local model 41, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4352/4714 (92.3207%)
___Test Local_ResNet_18 poisoned: False, epoch: 126: Average loss: 2.0564, Accuracy: 5501/10000 (55.0100%)
___Train Local_ResNet_18,  epoch 126, local model 70, internal_epoch   1,  Average loss: 0.0038, Accuracy: 5451/5871 (92.8462%)
___Train Local_ResNet_18,  epoch 126, local model 70, internal_epoch   2,  Average loss: 0.0044, Accuracy: 5368/5871 (91.4325%)
___Test Local_ResNet_18 poisoned: False, epoch: 126: Average loss: 2.1959, Accuracy: 5326/10000 (53.2600%)
___Train Local_ResNet_18,  epoch 126, local model 21, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4665/5038 (92.5963%)
___Train Local_ResNet_18,  epoch 126, local model 21, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4653/5038 (92.3581%)
___Test Local_ResNet_18 poisoned: False, epoch: 126: Average loss: 1.9053, Accuracy: 5609/10000 (56.0900%)
___Train Local_ResNet_18,  epoch 126, local model 35, internal_epoch   1,  Average loss: 0.0045, Accuracy: 5118/5615 (91.1487%)
___Train Local_ResNet_18,  epoch 126, local model 35, internal_epoch   2,  Average loss: 0.0046, Accuracy: 5112/5615 (91.0419%)
___Test Local_ResNet_18 poisoned: False, epoch: 126: Average loss: 2.2587, Accuracy: 5210/10000 (52.1000%)
___Train Local_ResNet_18,  epoch 126, local model 39, internal_epoch   1,  Average loss: 0.0046, Accuracy: 3807/4175 (91.1856%)
___Train Local_ResNet_18,  epoch 126, local model 39, internal_epoch   2,  Average loss: 0.0056, Accuracy: 3708/4175 (88.8144%)
___Test Local_ResNet_18 poisoned: False, epoch: 126: Average loss: 1.9888, Accuracy: 5441/10000 (54.4100%)
___Train Local_ResNet_18,  epoch 126, local model 46, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4866/5399 (90.1278%)
___Train Local_ResNet_18,  epoch 126, local model 46, internal_epoch   2,  Average loss: 0.0063, Accuracy: 4704/5399 (87.1272%)
___Test Local_ResNet_18 poisoned: False, epoch: 126: Average loss: 2.3904, Accuracy: 5087/10000 (50.8700%)
___Train Local_ResNet_18,  epoch 126, local model 53, internal_epoch   1,  Average loss: 0.0060, Accuracy: 5859/6664 (87.9202%)
___Train Local_ResNet_18,  epoch 126, local model 53, internal_epoch   2,  Average loss: 0.0074, Accuracy: 5682/6664 (85.2641%)
___Test Local_ResNet_18 poisoned: False, epoch: 126: Average loss: 2.3270, Accuracy: 4984/10000 (49.8400%)
___Train Local_ResNet_18,  epoch 126, local model 29, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4438/4732 (93.7870%)
___Train Local_ResNet_18,  epoch 126, local model 29, internal_epoch   2,  Average loss: 0.0033, Accuracy: 4435/4732 (93.7236%)
___Test Local_ResNet_18 poisoned: False, epoch: 126: Average loss: 1.9367, Accuracy: 5590/10000 (55.9000%)
___Train Local_ResNet_18,  epoch 126, local model 48, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4531/4830 (93.8095%)
___Train Local_ResNet_18,  epoch 126, local model 48, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4493/4830 (93.0228%)
___Test Local_ResNet_18 poisoned: False, epoch: 126: Average loss: 2.0328, Accuracy: 5513/10000 (55.1300%)
___Train Local_ResNet_18,  epoch 126, local model 56, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4910/5427 (90.4736%)
___Train Local_ResNet_18,  epoch 126, local model 56, internal_epoch   2,  Average loss: 0.0056, Accuracy: 4835/5427 (89.0916%)
___Test Local_ResNet_18 poisoned: False, epoch: 126: Average loss: 1.9977, Accuracy: 5503/10000 (55.0300%)
___Train Local_ResNet_18,  epoch 126, local model 65, internal_epoch   1,  Average loss: 0.0042, Accuracy: 5077/5497 (92.3595%)
___Train Local_ResNet_18,  epoch 126, local model 65, internal_epoch   2,  Average loss: 0.0046, Accuracy: 5008/5497 (91.1042%)
___Test Local_ResNet_18 poisoned: False, epoch: 126: Average loss: 2.1771, Accuracy: 5194/10000 (51.9400%)
___Train Local_ResNet_18,  epoch 126, local model 45, internal_epoch   1,  Average loss: 0.0045, Accuracy: 5010/5489 (91.2735%)
___Train Local_ResNet_18,  epoch 126, local model 45, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4978/5489 (90.6905%)
___Test Local_ResNet_18 poisoned: False, epoch: 126: Average loss: 2.0911, Accuracy: 5290/10000 (52.9000%)
___Train Local_ResNet_18,  epoch 126, local model 93, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4636/5055 (91.7112%)
___Train Local_ResNet_18,  epoch 126, local model 93, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4596/5055 (90.9199%)
___Test Local_ResNet_18 poisoned: False, epoch: 126: Average loss: 2.2201, Accuracy: 5237/10000 (52.3700%)
time spent on training: 278.8518748283386
___Test Target_ResNet_18 poisoned: False, epoch: 126: Average loss: 1.2333, Accuracy: 6805/10000 (68.0500%)
___Test Target_ResNet_18 poisoned: True, epoch: 126: Average loss: 0.1138, Accuracy: 9601/9900 (96.9798%)
Done in 305.43806171417236 sec.
Server Epoch:127 choose agents : [13, 36, 58, 71, 55, 61, 17, 94, 19, 54, 21, 96, 8, 84, 97, 57, 90, 95, 73, 16].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 127, local model 13, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5166/5308 (97.3248%), train_poison_data_count: 415
Global model norm: 43.63379657014732.
Norm before scaling: 43.600049948007516. Distance: 1.2883073386563295
___Test Local_ResNet_18 poisoned: True, epoch: 127: Average loss: 0.0642, Accuracy: 9722/9900 (98.2020%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 127, local model 36, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5614/5777 (97.1785%), train_poison_data_count: 455
Global model norm: 43.63379657014732.
Norm before scaling: 43.59647168923192. Distance: 1.358410196918457
___Test Local_ResNet_18 poisoned: True, epoch: 127: Average loss: 0.0451, Accuracy: 9789/9900 (98.8788%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 127, local model 58, internal_epoch   1,  Average loss: 0.0028, Accuracy: 4947/5123 (96.5645%), train_poison_data_count: 403
Global model norm: 43.63379657014732.
Norm before scaling: 43.60427740271016. Distance: 1.3655067794223643
___Test Local_ResNet_18 poisoned: True, epoch: 127: Average loss: 0.0216, Accuracy: 9836/9900 (99.3535%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 127, local model 71, internal_epoch   1,  Average loss: 0.0020, Accuracy: 5321/5503 (96.6927%), train_poison_data_count: 430
Global model norm: 43.63379657014732.
Norm before scaling: 43.602237916960036. Distance: 1.3930600310245596
___Test Local_ResNet_18 poisoned: True, epoch: 127: Average loss: 0.0335, Accuracy: 9819/9900 (99.1818%)
___Train Local_ResNet_18,  epoch 127, local model 55, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4442/4731 (93.8914%)
___Train Local_ResNet_18,  epoch 127, local model 55, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4378/4731 (92.5386%)
___Test Local_ResNet_18 poisoned: False, epoch: 127: Average loss: 1.9512, Accuracy: 5651/10000 (56.5100%)
___Train Local_ResNet_18,  epoch 127, local model 61, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4109/4485 (91.6165%)
___Train Local_ResNet_18,  epoch 127, local model 61, internal_epoch   2,  Average loss: 0.0073, Accuracy: 3842/4485 (85.6633%)
___Test Local_ResNet_18 poisoned: False, epoch: 127: Average loss: 2.2887, Accuracy: 5014/10000 (50.1400%)
___Train Local_ResNet_18,  epoch 127, local model 17, internal_epoch   1,  Average loss: 0.0050, Accuracy: 4396/4903 (89.6594%)
___Train Local_ResNet_18,  epoch 127, local model 17, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4394/4903 (89.6186%)
___Test Local_ResNet_18 poisoned: False, epoch: 127: Average loss: 2.2103, Accuracy: 5084/10000 (50.8400%)
___Train Local_ResNet_18,  epoch 127, local model 94, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4767/5224 (91.2519%)
___Train Local_ResNet_18,  epoch 127, local model 94, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4751/5224 (90.9456%)
___Test Local_ResNet_18 poisoned: False, epoch: 127: Average loss: 2.1177, Accuracy: 5369/10000 (53.6900%)
___Train Local_ResNet_18,  epoch 127, local model 19, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4847/5361 (90.4122%)
___Train Local_ResNet_18,  epoch 127, local model 19, internal_epoch   2,  Average loss: 0.0054, Accuracy: 4788/5361 (89.3117%)
___Test Local_ResNet_18 poisoned: False, epoch: 127: Average loss: 2.0662, Accuracy: 5390/10000 (53.9000%)
___Train Local_ResNet_18,  epoch 127, local model 54, internal_epoch   1,  Average loss: 0.0053, Accuracy: 5072/5645 (89.8494%)
___Train Local_ResNet_18,  epoch 127, local model 54, internal_epoch   2,  Average loss: 0.0064, Accuracy: 4951/5645 (87.7059%)
___Test Local_ResNet_18 poisoned: False, epoch: 127: Average loss: 2.2795, Accuracy: 5040/10000 (50.4000%)
___Train Local_ResNet_18,  epoch 127, local model 21, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4668/5038 (92.6558%)
___Train Local_ResNet_18,  epoch 127, local model 21, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4671/5038 (92.7154%)
___Test Local_ResNet_18 poisoned: False, epoch: 127: Average loss: 1.9045, Accuracy: 5737/10000 (57.3700%)
___Train Local_ResNet_18,  epoch 127, local model 96, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4640/5086 (91.2308%)
___Train Local_ResNet_18,  epoch 127, local model 96, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4586/5086 (90.1691%)
___Test Local_ResNet_18 poisoned: False, epoch: 127: Average loss: 2.2244, Accuracy: 5150/10000 (51.5000%)
___Train Local_ResNet_18,  epoch 127, local model 8, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4479/4889 (91.6138%)
___Train Local_ResNet_18,  epoch 127, local model 8, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4448/4889 (90.9798%)
___Test Local_ResNet_18 poisoned: False, epoch: 127: Average loss: 2.1271, Accuracy: 5325/10000 (53.2500%)
___Train Local_ResNet_18,  epoch 127, local model 84, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4805/5209 (92.2442%)
___Train Local_ResNet_18,  epoch 127, local model 84, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4668/5209 (89.6141%)
___Test Local_ResNet_18 poisoned: False, epoch: 127: Average loss: 2.1510, Accuracy: 5261/10000 (52.6100%)
___Train Local_ResNet_18,  epoch 127, local model 97, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4260/4736 (89.9493%)
___Train Local_ResNet_18,  epoch 127, local model 97, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4303/4736 (90.8573%)
___Test Local_ResNet_18 poisoned: False, epoch: 127: Average loss: 2.0055, Accuracy: 5565/10000 (55.6500%)
___Train Local_ResNet_18,  epoch 127, local model 57, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4576/4956 (92.3325%)
___Train Local_ResNet_18,  epoch 127, local model 57, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4429/4956 (89.3664%)
___Test Local_ResNet_18 poisoned: False, epoch: 127: Average loss: 2.1260, Accuracy: 5415/10000 (54.1500%)
___Train Local_ResNet_18,  epoch 127, local model 90, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4435/4748 (93.4078%)
___Train Local_ResNet_18,  epoch 127, local model 90, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4382/4748 (92.2915%)
___Test Local_ResNet_18 poisoned: False, epoch: 127: Average loss: 1.9301, Accuracy: 5589/10000 (55.8900%)
___Train Local_ResNet_18,  epoch 127, local model 95, internal_epoch   1,  Average loss: 0.0050, Accuracy: 4526/5018 (90.1953%)
___Train Local_ResNet_18,  epoch 127, local model 95, internal_epoch   2,  Average loss: 0.0065, Accuracy: 4373/5018 (87.1463%)
___Test Local_ResNet_18 poisoned: False, epoch: 127: Average loss: 2.2677, Accuracy: 5109/10000 (51.0900%)
___Train Local_ResNet_18,  epoch 127, local model 73, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4343/4605 (94.3105%)
___Train Local_ResNet_18,  epoch 127, local model 73, internal_epoch   2,  Average loss: 0.0032, Accuracy: 4321/4605 (93.8328%)
___Test Local_ResNet_18 poisoned: False, epoch: 127: Average loss: 1.9448, Accuracy: 5579/10000 (55.7900%)
___Train Local_ResNet_18,  epoch 127, local model 16, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4961/5353 (92.6770%)
___Train Local_ResNet_18,  epoch 127, local model 16, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4818/5353 (90.0056%)
___Test Local_ResNet_18 poisoned: False, epoch: 127: Average loss: 2.1474, Accuracy: 5368/10000 (53.6800%)
time spent on training: 276.3199610710144
___Test Target_ResNet_18 poisoned: False, epoch: 127: Average loss: 1.2377, Accuracy: 6801/10000 (68.0100%)
___Test Target_ResNet_18 poisoned: True, epoch: 127: Average loss: 0.1012, Accuracy: 9630/9900 (97.2727%)
Done in 303.1483063697815 sec.
Server Epoch:128 choose agents : [13, 36, 58, 71, 10, 72, 34, 67, 60, 23, 86, 20, 99, 97, 64, 73, 68, 40, 30, 83].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 128, local model 13, internal_epoch   1,  Average loss: 0.0017, Accuracy: 5180/5308 (97.5885%), train_poison_data_count: 415
Global model norm: 43.655116138192355.
Norm before scaling: 43.622046428042694. Distance: 1.2652322607208233
___Test Local_ResNet_18 poisoned: True, epoch: 128: Average loss: 0.0993, Accuracy: 9659/9900 (97.5657%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 128, local model 36, internal_epoch   1,  Average loss: 0.0019, Accuracy: 5618/5777 (97.2477%), train_poison_data_count: 455
Global model norm: 43.655116138192355.
Norm before scaling: 43.61819151293844. Distance: 1.3906793047985078
___Test Local_ResNet_18 poisoned: True, epoch: 128: Average loss: 0.0862, Accuracy: 9680/9900 (97.7778%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 128, local model 58, internal_epoch   1,  Average loss: 0.0028, Accuracy: 4943/5123 (96.4864%), train_poison_data_count: 403
Global model norm: 43.655116138192355.
Norm before scaling: 43.624895068373085. Distance: 1.3377571874748744
___Test Local_ResNet_18 poisoned: True, epoch: 128: Average loss: 0.0977, Accuracy: 9653/9900 (97.5051%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 128, local model 71, internal_epoch   1,  Average loss: 0.0019, Accuracy: 5339/5503 (97.0198%), train_poison_data_count: 430
Global model norm: 43.655116138192355.
Norm before scaling: 43.62152033266164. Distance: 1.3507813859082358
___Test Local_ResNet_18 poisoned: True, epoch: 128: Average loss: 0.0777, Accuracy: 9688/9900 (97.8586%)
___Train Local_ResNet_18,  epoch 128, local model 10, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4742/5068 (93.5675%)
___Train Local_ResNet_18,  epoch 128, local model 10, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4608/5068 (90.9234%)
___Test Local_ResNet_18 poisoned: False, epoch: 128: Average loss: 2.2352, Accuracy: 5203/10000 (52.0300%)
___Train Local_ResNet_18,  epoch 128, local model 72, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4714/5193 (90.7760%)
___Train Local_ResNet_18,  epoch 128, local model 72, internal_epoch   2,  Average loss: 0.0061, Accuracy: 4561/5193 (87.8298%)
___Test Local_ResNet_18 poisoned: False, epoch: 128: Average loss: 2.3232, Accuracy: 5048/10000 (50.4800%)
___Train Local_ResNet_18,  epoch 128, local model 34, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4546/4911 (92.5677%)
___Train Local_ResNet_18,  epoch 128, local model 34, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4480/4911 (91.2238%)
___Test Local_ResNet_18 poisoned: False, epoch: 128: Average loss: 1.9086, Accuracy: 5484/10000 (54.8400%)
___Train Local_ResNet_18,  epoch 128, local model 67, internal_epoch   1,  Average loss: 0.0048, Accuracy: 5035/5559 (90.5738%)
___Train Local_ResNet_18,  epoch 128, local model 67, internal_epoch   2,  Average loss: 0.0065, Accuracy: 4828/5559 (86.8502%)
___Test Local_ResNet_18 poisoned: False, epoch: 128: Average loss: 2.3171, Accuracy: 4960/10000 (49.6000%)
___Train Local_ResNet_18,  epoch 128, local model 60, internal_epoch   1,  Average loss: 0.0043, Accuracy: 3792/4145 (91.4837%)
___Train Local_ResNet_18,  epoch 128, local model 60, internal_epoch   2,  Average loss: 0.0042, Accuracy: 3822/4145 (92.2075%)
___Test Local_ResNet_18 poisoned: False, epoch: 128: Average loss: 2.0445, Accuracy: 5493/10000 (54.9300%)
___Train Local_ResNet_18,  epoch 128, local model 23, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4286/4549 (94.2185%)
___Train Local_ResNet_18,  epoch 128, local model 23, internal_epoch   2,  Average loss: 0.0056, Accuracy: 4058/4549 (89.2064%)
___Test Local_ResNet_18 poisoned: False, epoch: 128: Average loss: 2.0666, Accuracy: 5368/10000 (53.6800%)
___Train Local_ResNet_18,  epoch 128, local model 86, internal_epoch   1,  Average loss: 0.0047, Accuracy: 3565/3929 (90.7356%)
___Train Local_ResNet_18,  epoch 128, local model 86, internal_epoch   2,  Average loss: 0.0049, Accuracy: 3572/3929 (90.9137%)
___Test Local_ResNet_18 poisoned: False, epoch: 128: Average loss: 1.9645, Accuracy: 5679/10000 (56.7900%)
___Train Local_ResNet_18,  epoch 128, local model 20, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4412/4714 (93.5936%)
___Train Local_ResNet_18,  epoch 128, local model 20, internal_epoch   2,  Average loss: 0.0033, Accuracy: 4439/4714 (94.1663%)
___Test Local_ResNet_18 poisoned: False, epoch: 128: Average loss: 1.9530, Accuracy: 5646/10000 (56.4600%)
___Train Local_ResNet_18,  epoch 128, local model 99, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4444/4851 (91.6100%)
___Train Local_ResNet_18,  epoch 128, local model 99, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4471/4851 (92.1666%)
___Test Local_ResNet_18 poisoned: False, epoch: 128: Average loss: 1.9279, Accuracy: 5721/10000 (57.2100%)
___Train Local_ResNet_18,  epoch 128, local model 97, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4291/4736 (90.6039%)
___Train Local_ResNet_18,  epoch 128, local model 97, internal_epoch   2,  Average loss: 0.0054, Accuracy: 4222/4736 (89.1470%)
___Test Local_ResNet_18 poisoned: False, epoch: 128: Average loss: 2.0997, Accuracy: 5313/10000 (53.1300%)
___Train Local_ResNet_18,  epoch 128, local model 64, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4449/4894 (90.9072%)
___Train Local_ResNet_18,  epoch 128, local model 64, internal_epoch   2,  Average loss: 0.0061, Accuracy: 4323/4894 (88.3327%)
___Test Local_ResNet_18 poisoned: False, epoch: 128: Average loss: 2.2345, Accuracy: 5191/10000 (51.9100%)
___Train Local_ResNet_18,  epoch 128, local model 73, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4344/4605 (94.3322%)
___Train Local_ResNet_18,  epoch 128, local model 73, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4307/4605 (93.5288%)
___Test Local_ResNet_18 poisoned: False, epoch: 128: Average loss: 2.2219, Accuracy: 5343/10000 (53.4300%)
___Train Local_ResNet_18,  epoch 128, local model 68, internal_epoch   1,  Average loss: 0.0040, Accuracy: 3340/3589 (93.0621%)
___Train Local_ResNet_18,  epoch 128, local model 68, internal_epoch   2,  Average loss: 0.0077, Accuracy: 3081/3589 (85.8456%)
___Test Local_ResNet_18 poisoned: False, epoch: 128: Average loss: 2.2017, Accuracy: 5298/10000 (52.9800%)
___Train Local_ResNet_18,  epoch 128, local model 40, internal_epoch   1,  Average loss: 0.0040, Accuracy: 5488/5939 (92.4061%)
___Train Local_ResNet_18,  epoch 128, local model 40, internal_epoch   2,  Average loss: 0.0042, Accuracy: 5439/5939 (91.5811%)
___Test Local_ResNet_18 poisoned: False, epoch: 128: Average loss: 2.0777, Accuracy: 5381/10000 (53.8100%)
___Train Local_ResNet_18,  epoch 128, local model 30, internal_epoch   1,  Average loss: 0.0035, Accuracy: 3517/3774 (93.1902%)
___Train Local_ResNet_18,  epoch 128, local model 30, internal_epoch   2,  Average loss: 0.0032, Accuracy: 3526/3774 (93.4287%)
___Test Local_ResNet_18 poisoned: False, epoch: 128: Average loss: 1.9999, Accuracy: 5643/10000 (56.4300%)
___Train Local_ResNet_18,  epoch 128, local model 83, internal_epoch   1,  Average loss: 0.0041, Accuracy: 3266/3552 (91.9482%)
___Train Local_ResNet_18,  epoch 128, local model 83, internal_epoch   2,  Average loss: 0.0033, Accuracy: 3320/3552 (93.4685%)
___Test Local_ResNet_18 poisoned: False, epoch: 128: Average loss: 1.8890, Accuracy: 5799/10000 (57.9900%)
time spent on training: 263.9759624004364
___Test Target_ResNet_18 poisoned: False, epoch: 128: Average loss: 1.2403, Accuracy: 6801/10000 (68.0100%)
___Test Target_ResNet_18 poisoned: True, epoch: 128: Average loss: 0.1009, Accuracy: 9633/9900 (97.3030%)
Done in 290.59617853164673 sec.
Server Epoch:129 choose agents : [13, 36, 58, 71, 37, 33, 25, 48, 65, 95, 38, 74, 43, 26, 15, 14, 49, 79, 8, 78].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 129, local model 13, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5172/5308 (97.4378%), train_poison_data_count: 415
Global model norm: 43.67400486756252.
Norm before scaling: 43.63973269316908. Distance: 1.2514809895045829
___Test Local_ResNet_18 poisoned: True, epoch: 129: Average loss: 0.0872, Accuracy: 9674/9900 (97.7172%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 129, local model 36, internal_epoch   1,  Average loss: 0.0019, Accuracy: 5626/5777 (97.3862%), train_poison_data_count: 455
Global model norm: 43.67400486756252.
Norm before scaling: 43.638059918349946. Distance: 1.3747042858142162
___Test Local_ResNet_18 poisoned: True, epoch: 129: Average loss: 0.0330, Accuracy: 9820/9900 (99.1919%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 129, local model 58, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4926/5123 (96.1546%), train_poison_data_count: 403
Global model norm: 43.67400486756252.
Norm before scaling: 43.644023431049526. Distance: 1.3377321469636432
___Test Local_ResNet_18 poisoned: True, epoch: 129: Average loss: 0.1151, Accuracy: 9605/9900 (97.0202%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 129, local model 71, internal_epoch   1,  Average loss: 0.0019, Accuracy: 5340/5503 (97.0380%), train_poison_data_count: 430
Global model norm: 43.67400486756252.
Norm before scaling: 43.641015203679814. Distance: 1.341785636310625
___Test Local_ResNet_18 poisoned: True, epoch: 129: Average loss: 0.0804, Accuracy: 9691/9900 (97.8889%)
___Train Local_ResNet_18,  epoch 129, local model 37, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4382/4741 (92.4278%)
___Train Local_ResNet_18,  epoch 129, local model 37, internal_epoch   2,  Average loss: 0.0057, Accuracy: 4256/4741 (89.7701%)
___Test Local_ResNet_18 poisoned: False, epoch: 129: Average loss: 2.3693, Accuracy: 5177/10000 (51.7700%)
___Train Local_ResNet_18,  epoch 129, local model 33, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4462/4818 (92.6110%)
___Train Local_ResNet_18,  epoch 129, local model 33, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4402/4818 (91.3657%)
___Test Local_ResNet_18 poisoned: False, epoch: 129: Average loss: 2.1246, Accuracy: 5351/10000 (53.5100%)
___Train Local_ResNet_18,  epoch 129, local model 25, internal_epoch   1,  Average loss: 0.0057, Accuracy: 5694/6419 (88.7054%)
___Train Local_ResNet_18,  epoch 129, local model 25, internal_epoch   2,  Average loss: 0.0068, Accuracy: 5539/6419 (86.2907%)
___Test Local_ResNet_18 poisoned: False, epoch: 129: Average loss: 2.4112, Accuracy: 4876/10000 (48.7600%)
___Train Local_ResNet_18,  epoch 129, local model 48, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4515/4830 (93.4783%)
___Train Local_ResNet_18,  epoch 129, local model 48, internal_epoch   2,  Average loss: 0.0033, Accuracy: 4531/4830 (93.8095%)
___Test Local_ResNet_18 poisoned: False, epoch: 129: Average loss: 2.1696, Accuracy: 5360/10000 (53.6000%)
___Train Local_ResNet_18,  epoch 129, local model 65, internal_epoch   1,  Average loss: 0.0043, Accuracy: 5063/5497 (92.1048%)
___Train Local_ResNet_18,  epoch 129, local model 65, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4992/5497 (90.8132%)
___Test Local_ResNet_18 poisoned: False, epoch: 129: Average loss: 2.3805, Accuracy: 5121/10000 (51.2100%)
___Train Local_ResNet_18,  epoch 129, local model 95, internal_epoch   1,  Average loss: 0.0054, Accuracy: 4505/5018 (89.7768%)
___Train Local_ResNet_18,  epoch 129, local model 95, internal_epoch   2,  Average loss: 0.0057, Accuracy: 4442/5018 (88.5213%)
___Test Local_ResNet_18 poisoned: False, epoch: 129: Average loss: 2.0947, Accuracy: 5425/10000 (54.2500%)
___Train Local_ResNet_18,  epoch 129, local model 38, internal_epoch   1,  Average loss: 0.0047, Accuracy: 5676/6235 (91.0345%)
___Train Local_ResNet_18,  epoch 129, local model 38, internal_epoch   2,  Average loss: 0.0059, Accuracy: 5518/6235 (88.5004%)
___Test Local_ResNet_18 poisoned: False, epoch: 129: Average loss: 2.2972, Accuracy: 5082/10000 (50.8200%)
___Train Local_ResNet_18,  epoch 129, local model 74, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4359/4797 (90.8693%)
___Train Local_ResNet_18,  epoch 129, local model 74, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4333/4797 (90.3273%)
___Test Local_ResNet_18 poisoned: False, epoch: 129: Average loss: 2.0285, Accuracy: 5455/10000 (54.5500%)
___Train Local_ResNet_18,  epoch 129, local model 43, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4624/4979 (92.8701%)
___Train Local_ResNet_18,  epoch 129, local model 43, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4639/4979 (93.1713%)
___Test Local_ResNet_18 poisoned: False, epoch: 129: Average loss: 1.9770, Accuracy: 5583/10000 (55.8300%)
___Train Local_ResNet_18,  epoch 129, local model 26, internal_epoch   1,  Average loss: 0.0035, Accuracy: 3822/4086 (93.5389%)
___Train Local_ResNet_18,  epoch 129, local model 26, internal_epoch   2,  Average loss: 0.0035, Accuracy: 3798/4086 (92.9515%)
___Test Local_ResNet_18 poisoned: False, epoch: 129: Average loss: 1.9618, Accuracy: 5603/10000 (56.0300%)
___Train Local_ResNet_18,  epoch 129, local model 15, internal_epoch   1,  Average loss: 0.0040, Accuracy: 5603/6068 (92.3368%)
___Train Local_ResNet_18,  epoch 129, local model 15, internal_epoch   2,  Average loss: 0.0038, Accuracy: 5606/6068 (92.3863%)
___Test Local_ResNet_18 poisoned: False, epoch: 129: Average loss: 2.1229, Accuracy: 5312/10000 (53.1200%)
___Train Local_ResNet_18,  epoch 129, local model 14, internal_epoch   1,  Average loss: 0.0030, Accuracy: 3963/4196 (94.4471%)
___Train Local_ResNet_18,  epoch 129, local model 14, internal_epoch   2,  Average loss: 0.0028, Accuracy: 3989/4196 (95.0667%)
___Test Local_ResNet_18 poisoned: False, epoch: 129: Average loss: 1.8511, Accuracy: 5836/10000 (58.3600%)
___Train Local_ResNet_18,  epoch 129, local model 49, internal_epoch   1,  Average loss: 0.0050, Accuracy: 5115/5652 (90.4989%)
___Train Local_ResNet_18,  epoch 129, local model 49, internal_epoch   2,  Average loss: 0.0054, Accuracy: 5041/5652 (89.1897%)
___Test Local_ResNet_18 poisoned: False, epoch: 129: Average loss: 2.0394, Accuracy: 5347/10000 (53.4700%)
___Train Local_ResNet_18,  epoch 129, local model 79, internal_epoch   1,  Average loss: 0.0037, Accuracy: 3834/4111 (93.2620%)
___Train Local_ResNet_18,  epoch 129, local model 79, internal_epoch   2,  Average loss: 0.0043, Accuracy: 3776/4111 (91.8511%)
___Test Local_ResNet_18 poisoned: False, epoch: 129: Average loss: 2.0105, Accuracy: 5405/10000 (54.0500%)
___Train Local_ResNet_18,  epoch 129, local model 8, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4524/4889 (92.5343%)
___Train Local_ResNet_18,  epoch 129, local model 8, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4498/4889 (92.0025%)
___Test Local_ResNet_18 poisoned: False, epoch: 129: Average loss: 2.0404, Accuracy: 5489/10000 (54.8900%)
___Train Local_ResNet_18,  epoch 129, local model 78, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4071/4368 (93.2005%)
___Train Local_ResNet_18,  epoch 129, local model 78, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4000/4368 (91.5751%)
___Test Local_ResNet_18 poisoned: False, epoch: 129: Average loss: 2.0855, Accuracy: 5384/10000 (53.8400%)
time spent on training: 277.19456911087036
___Test Target_ResNet_18 poisoned: False, epoch: 129: Average loss: 1.2405, Accuracy: 6801/10000 (68.0100%)
___Test Target_ResNet_18 poisoned: True, epoch: 129: Average loss: 0.0998, Accuracy: 9634/9900 (97.3131%)
Done in 303.29358530044556 sec.
Server Epoch:130 choose agents : [13, 36, 58, 71, 55, 3, 46, 33, 49, 20, 1, 52, 29, 54, 11, 97, 91, 79, 88, 40].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 130, local model 13, internal_epoch   1,  Average loss: 0.0017, Accuracy: 5182/5308 (97.6262%), train_poison_data_count: 415
Global model norm: 43.69430606855429.
Norm before scaling: 43.66164767320471. Distance: 1.2931659006515641
___Test Local_ResNet_18 poisoned: True, epoch: 130: Average loss: 0.0249, Accuracy: 9834/9900 (99.3333%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 130, local model 36, internal_epoch   1,  Average loss: 0.0019, Accuracy: 5601/5777 (96.9534%), train_poison_data_count: 455
Global model norm: 43.69430606855429.
Norm before scaling: 43.65738243431029. Distance: 1.3565408386033595
___Test Local_ResNet_18 poisoned: True, epoch: 130: Average loss: 0.0652, Accuracy: 9736/9900 (98.3434%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 130, local model 58, internal_epoch   1,  Average loss: 0.0026, Accuracy: 4939/5123 (96.4084%), train_poison_data_count: 403
Global model norm: 43.69430606855429.
Norm before scaling: 43.66213274609361. Distance: 1.2998586596167963
___Test Local_ResNet_18 poisoned: True, epoch: 130: Average loss: 0.0997, Accuracy: 9642/9900 (97.3939%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 130, local model 71, internal_epoch   1,  Average loss: 0.0019, Accuracy: 5336/5503 (96.9653%), train_poison_data_count: 430
Global model norm: 43.69430606855429.
Norm before scaling: 43.66264856697097. Distance: 1.3562908922350474
___Test Local_ResNet_18 poisoned: True, epoch: 130: Average loss: 0.0435, Accuracy: 9787/9900 (98.8586%)
___Train Local_ResNet_18,  epoch 130, local model 55, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4425/4731 (93.5320%)
___Train Local_ResNet_18,  epoch 130, local model 55, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4399/4731 (92.9825%)
___Test Local_ResNet_18 poisoned: False, epoch: 130: Average loss: 2.0964, Accuracy: 5524/10000 (55.2400%)
___Train Local_ResNet_18,  epoch 130, local model 3, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4999/5346 (93.5092%)
___Train Local_ResNet_18,  epoch 130, local model 3, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4910/5346 (91.8444%)
___Test Local_ResNet_18 poisoned: False, epoch: 130: Average loss: 2.1008, Accuracy: 5362/10000 (53.6200%)
___Train Local_ResNet_18,  epoch 130, local model 46, internal_epoch   1,  Average loss: 0.0053, Accuracy: 4876/5399 (90.3130%)
___Train Local_ResNet_18,  epoch 130, local model 46, internal_epoch   2,  Average loss: 0.0065, Accuracy: 4716/5399 (87.3495%)
___Test Local_ResNet_18 poisoned: False, epoch: 130: Average loss: 2.2579, Accuracy: 5103/10000 (51.0300%)
___Train Local_ResNet_18,  epoch 130, local model 33, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4496/4818 (93.3167%)
___Train Local_ResNet_18,  epoch 130, local model 33, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4400/4818 (91.3242%)
___Test Local_ResNet_18 poisoned: False, epoch: 130: Average loss: 2.1023, Accuracy: 5486/10000 (54.8600%)
___Train Local_ResNet_18,  epoch 130, local model 49, internal_epoch   1,  Average loss: 0.0045, Accuracy: 5157/5652 (91.2420%)
___Train Local_ResNet_18,  epoch 130, local model 49, internal_epoch   2,  Average loss: 0.0062, Accuracy: 4966/5652 (87.8627%)
___Test Local_ResNet_18 poisoned: False, epoch: 130: Average loss: 2.1789, Accuracy: 5186/10000 (51.8600%)
___Train Local_ResNet_18,  epoch 130, local model 20, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4440/4714 (94.1875%)
___Train Local_ResNet_18,  epoch 130, local model 20, internal_epoch   2,  Average loss: 0.0030, Accuracy: 4454/4714 (94.4845%)
___Test Local_ResNet_18 poisoned: False, epoch: 130: Average loss: 1.9755, Accuracy: 5611/10000 (56.1100%)
___Train Local_ResNet_18,  epoch 130, local model 1, internal_epoch   1,  Average loss: 0.0031, Accuracy: 5114/5422 (94.3194%)
___Train Local_ResNet_18,  epoch 130, local model 1, internal_epoch   2,  Average loss: 0.0040, Accuracy: 5016/5422 (92.5120%)
___Test Local_ResNet_18 poisoned: False, epoch: 130: Average loss: 2.0221, Accuracy: 5496/10000 (54.9600%)
___Train Local_ResNet_18,  epoch 130, local model 52, internal_epoch   1,  Average loss: 0.0037, Accuracy: 3854/4130 (93.3172%)
___Train Local_ResNet_18,  epoch 130, local model 52, internal_epoch   2,  Average loss: 0.0040, Accuracy: 3824/4130 (92.5908%)
___Test Local_ResNet_18 poisoned: False, epoch: 130: Average loss: 2.0992, Accuracy: 5442/10000 (54.4200%)
___Train Local_ResNet_18,  epoch 130, local model 29, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4420/4732 (93.4066%)
___Train Local_ResNet_18,  epoch 130, local model 29, internal_epoch   2,  Average loss: 0.0031, Accuracy: 4451/4732 (94.0617%)
___Test Local_ResNet_18 poisoned: False, epoch: 130: Average loss: 1.7738, Accuracy: 5846/10000 (58.4600%)
___Train Local_ResNet_18,  epoch 130, local model 54, internal_epoch   1,  Average loss: 0.0051, Accuracy: 5110/5645 (90.5226%)
___Train Local_ResNet_18,  epoch 130, local model 54, internal_epoch   2,  Average loss: 0.0068, Accuracy: 4906/5645 (86.9088%)
___Test Local_ResNet_18 poisoned: False, epoch: 130: Average loss: 2.3375, Accuracy: 5009/10000 (50.0900%)
___Train Local_ResNet_18,  epoch 130, local model 11, internal_epoch   1,  Average loss: 0.0068, Accuracy: 4965/5702 (87.0747%)
___Train Local_ResNet_18,  epoch 130, local model 11, internal_epoch   2,  Average loss: 0.0117, Accuracy: 4430/5702 (77.6920%)
___Test Local_ResNet_18 poisoned: False, epoch: 130: Average loss: 2.5154, Accuracy: 4664/10000 (46.6400%)
___Train Local_ResNet_18,  epoch 130, local model 97, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4329/4736 (91.4062%)
___Train Local_ResNet_18,  epoch 130, local model 97, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4328/4736 (91.3851%)
___Test Local_ResNet_18 poisoned: False, epoch: 130: Average loss: 1.9245, Accuracy: 5605/10000 (56.0500%)
___Train Local_ResNet_18,  epoch 130, local model 91, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4097/4527 (90.5014%)
___Train Local_ResNet_18,  epoch 130, local model 91, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4049/4527 (89.4411%)
___Test Local_ResNet_18 poisoned: False, epoch: 130: Average loss: 2.0439, Accuracy: 5371/10000 (53.7100%)
___Train Local_ResNet_18,  epoch 130, local model 79, internal_epoch   1,  Average loss: 0.0036, Accuracy: 3836/4111 (93.3106%)
___Train Local_ResNet_18,  epoch 130, local model 79, internal_epoch   2,  Average loss: 0.0046, Accuracy: 3731/4111 (90.7565%)
___Test Local_ResNet_18 poisoned: False, epoch: 130: Average loss: 2.0395, Accuracy: 5364/10000 (53.6400%)
___Train Local_ResNet_18,  epoch 130, local model 88, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4920/5362 (91.7568%)
___Train Local_ResNet_18,  epoch 130, local model 88, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4876/5362 (90.9362%)
___Test Local_ResNet_18 poisoned: False, epoch: 130: Average loss: 2.1471, Accuracy: 5349/10000 (53.4900%)
___Train Local_ResNet_18,  epoch 130, local model 40, internal_epoch   1,  Average loss: 0.0037, Accuracy: 5511/5939 (92.7934%)
___Train Local_ResNet_18,  epoch 130, local model 40, internal_epoch   2,  Average loss: 0.0046, Accuracy: 5411/5939 (91.1096%)
___Test Local_ResNet_18 poisoned: False, epoch: 130: Average loss: 2.1618, Accuracy: 5235/10000 (52.3500%)
time spent on training: 277.65815353393555
___Test Target_ResNet_18 poisoned: False, epoch: 130: Average loss: 1.2399, Accuracy: 6803/10000 (68.0300%)
___Test Target_ResNet_18 poisoned: True, epoch: 130: Average loss: 0.0997, Accuracy: 9632/9900 (97.2929%)
Done in 304.359117269516 sec.
Server Epoch:131 choose agents : [13, 36, 58, 71, 44, 96, 65, 90, 49, 43, 69, 8, 56, 63, 2, 72, 42, 7, 64, 9].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 131, local model 13, internal_epoch   1,  Average loss: 0.0017, Accuracy: 5164/5308 (97.2871%), train_poison_data_count: 415
Global model norm: 43.71480867017849.
Norm before scaling: 43.681620670197205. Distance: 1.2683439835958843
___Test Local_ResNet_18 poisoned: True, epoch: 131: Average loss: 0.1101, Accuracy: 9634/9900 (97.3131%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 131, local model 36, internal_epoch   1,  Average loss: 0.0017, Accuracy: 5635/5777 (97.5420%), train_poison_data_count: 455
Global model norm: 43.71480867017849.
Norm before scaling: 43.67403281788991. Distance: 1.2910370009783618
___Test Local_ResNet_18 poisoned: True, epoch: 131: Average loss: 0.0655, Accuracy: 9729/9900 (98.2727%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 131, local model 58, internal_epoch   1,  Average loss: 0.0026, Accuracy: 4968/5123 (96.9744%), train_poison_data_count: 403
Global model norm: 43.71480867017849.
Norm before scaling: 43.68260294218612. Distance: 1.2939637380763584
___Test Local_ResNet_18 poisoned: True, epoch: 131: Average loss: 0.0739, Accuracy: 9696/9900 (97.9394%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 131, local model 71, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5358/5503 (97.3651%), train_poison_data_count: 430
Global model norm: 43.71480867017849.
Norm before scaling: 43.68007246409683. Distance: 1.3140148322024554
___Test Local_ResNet_18 poisoned: True, epoch: 131: Average loss: 0.0528, Accuracy: 9760/9900 (98.5859%)
___Train Local_ResNet_18,  epoch 131, local model 44, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4744/5075 (93.4778%)
___Train Local_ResNet_18,  epoch 131, local model 44, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4589/5075 (90.4236%)
___Test Local_ResNet_18 poisoned: False, epoch: 131: Average loss: 2.0680, Accuracy: 5356/10000 (53.5600%)
___Train Local_ResNet_18,  epoch 131, local model 96, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4671/5086 (91.8403%)
___Train Local_ResNet_18,  epoch 131, local model 96, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4628/5086 (90.9949%)
___Test Local_ResNet_18 poisoned: False, epoch: 131: Average loss: 2.1185, Accuracy: 5343/10000 (53.4300%)
___Train Local_ResNet_18,  epoch 131, local model 65, internal_epoch   1,  Average loss: 0.0045, Accuracy: 5027/5497 (91.4499%)
___Train Local_ResNet_18,  epoch 131, local model 65, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4965/5497 (90.3220%)
___Test Local_ResNet_18 poisoned: False, epoch: 131: Average loss: 1.9318, Accuracy: 5533/10000 (55.3300%)
___Train Local_ResNet_18,  epoch 131, local model 90, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4437/4748 (93.4499%)
___Train Local_ResNet_18,  epoch 131, local model 90, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4330/4748 (91.1963%)
___Test Local_ResNet_18 poisoned: False, epoch: 131: Average loss: 2.1159, Accuracy: 5394/10000 (53.9400%)
___Train Local_ResNet_18,  epoch 131, local model 49, internal_epoch   1,  Average loss: 0.0049, Accuracy: 5085/5652 (89.9682%)
___Train Local_ResNet_18,  epoch 131, local model 49, internal_epoch   2,  Average loss: 0.0062, Accuracy: 4935/5652 (87.3142%)
___Test Local_ResNet_18 poisoned: False, epoch: 131: Average loss: 2.3410, Accuracy: 5020/10000 (50.2000%)
___Train Local_ResNet_18,  epoch 131, local model 43, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4604/4979 (92.4684%)
___Train Local_ResNet_18,  epoch 131, local model 43, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4570/4979 (91.7855%)
___Test Local_ResNet_18 poisoned: False, epoch: 131: Average loss: 2.0468, Accuracy: 5489/10000 (54.8900%)
___Train Local_ResNet_18,  epoch 131, local model 69, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4024/4364 (92.2090%)
___Train Local_ResNet_18,  epoch 131, local model 69, internal_epoch   2,  Average loss: 0.0045, Accuracy: 3993/4364 (91.4986%)
___Test Local_ResNet_18 poisoned: False, epoch: 131: Average loss: 2.1007, Accuracy: 5376/10000 (53.7600%)
___Train Local_ResNet_18,  epoch 131, local model 8, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4507/4889 (92.1865%)
___Train Local_ResNet_18,  epoch 131, local model 8, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4462/4889 (91.2661%)
___Test Local_ResNet_18 poisoned: False, epoch: 131: Average loss: 1.9775, Accuracy: 5604/10000 (56.0400%)
___Train Local_ResNet_18,  epoch 131, local model 56, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4955/5427 (91.3027%)
___Train Local_ResNet_18,  epoch 131, local model 56, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4840/5427 (89.1837%)
___Test Local_ResNet_18 poisoned: False, epoch: 131: Average loss: 2.0901, Accuracy: 5408/10000 (54.0800%)
___Train Local_ResNet_18,  epoch 131, local model 63, internal_epoch   1,  Average loss: 0.0035, Accuracy: 3657/3910 (93.5294%)
___Train Local_ResNet_18,  epoch 131, local model 63, internal_epoch   2,  Average loss: 0.0046, Accuracy: 3601/3910 (92.0972%)
___Test Local_ResNet_18 poisoned: False, epoch: 131: Average loss: 2.1324, Accuracy: 5483/10000 (54.8300%)
___Train Local_ResNet_18,  epoch 131, local model 2, internal_epoch   1,  Average loss: 0.0036, Accuracy: 3692/3968 (93.0444%)
___Train Local_ResNet_18,  epoch 131, local model 2, internal_epoch   2,  Average loss: 0.0038, Accuracy: 3677/3968 (92.6663%)
___Test Local_ResNet_18 poisoned: False, epoch: 131: Average loss: 1.8621, Accuracy: 5713/10000 (57.1300%)
___Train Local_ResNet_18,  epoch 131, local model 72, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4791/5193 (92.2588%)
___Train Local_ResNet_18,  epoch 131, local model 72, internal_epoch   2,  Average loss: 0.0067, Accuracy: 4522/5193 (87.0788%)
___Test Local_ResNet_18 poisoned: False, epoch: 131: Average loss: 2.5282, Accuracy: 4751/10000 (47.5100%)
___Train Local_ResNet_18,  epoch 131, local model 42, internal_epoch   1,  Average loss: 0.0045, Accuracy: 5400/5907 (91.4170%)
___Train Local_ResNet_18,  epoch 131, local model 42, internal_epoch   2,  Average loss: 0.0049, Accuracy: 5318/5907 (90.0288%)
___Test Local_ResNet_18 poisoned: False, epoch: 131: Average loss: 2.3457, Accuracy: 4961/10000 (49.6100%)
___Train Local_ResNet_18,  epoch 131, local model 7, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4479/4869 (91.9901%)
___Train Local_ResNet_18,  epoch 131, local model 7, internal_epoch   2,  Average loss: 0.0104, Accuracy: 3939/4869 (80.8996%)
___Test Local_ResNet_18 poisoned: False, epoch: 131: Average loss: 2.4963, Accuracy: 4858/10000 (48.5800%)
___Train Local_ResNet_18,  epoch 131, local model 64, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4447/4894 (90.8664%)
___Train Local_ResNet_18,  epoch 131, local model 64, internal_epoch   2,  Average loss: 0.0062, Accuracy: 4288/4894 (87.6175%)
___Test Local_ResNet_18 poisoned: False, epoch: 131: Average loss: 2.2683, Accuracy: 5233/10000 (52.3300%)
___Train Local_ResNet_18,  epoch 131, local model 9, internal_epoch   1,  Average loss: 0.0047, Accuracy: 5194/5727 (90.6932%)
___Train Local_ResNet_18,  epoch 131, local model 9, internal_epoch   2,  Average loss: 0.0061, Accuracy: 5022/5727 (87.6899%)
___Test Local_ResNet_18 poisoned: False, epoch: 131: Average loss: 2.1823, Accuracy: 5206/10000 (52.0600%)
time spent on training: 276.23469948768616
___Test Target_ResNet_18 poisoned: False, epoch: 131: Average loss: 1.2429, Accuracy: 6799/10000 (67.9900%)
___Test Target_ResNet_18 poisoned: True, epoch: 131: Average loss: 0.1014, Accuracy: 9621/9900 (97.1818%)
Done in 302.4496560096741 sec.
Server Epoch:132 choose agents : [13, 36, 58, 71, 66, 50, 48, 43, 31, 92, 4, 61, 56, 47, 18, 87, 89, 21, 97, 70].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 132, local model 13, internal_epoch   1,  Average loss: 0.0017, Accuracy: 5166/5308 (97.3248%), train_poison_data_count: 415
Global model norm: 43.73627435362936.
Norm before scaling: 43.702947633265396. Distance: 1.2762064872744205
___Test Local_ResNet_18 poisoned: True, epoch: 132: Average loss: 0.0407, Accuracy: 9794/9900 (98.9293%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 132, local model 36, internal_epoch   1,  Average loss: 0.0017, Accuracy: 5630/5777 (97.4554%), train_poison_data_count: 455
Global model norm: 43.73627435362936.
Norm before scaling: 43.69605351485918. Distance: 1.2933320517550015
___Test Local_ResNet_18 poisoned: True, epoch: 132: Average loss: 0.0873, Accuracy: 9687/9900 (97.8485%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 132, local model 58, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4952/5123 (96.6621%), train_poison_data_count: 403
Global model norm: 43.73627435362936.
Norm before scaling: 43.7033498497076. Distance: 1.295771071521577
___Test Local_ResNet_18 poisoned: True, epoch: 132: Average loss: 0.0417, Accuracy: 9790/9900 (98.8889%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 132, local model 71, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5363/5503 (97.4559%), train_poison_data_count: 430
Global model norm: 43.73627435362936.
Norm before scaling: 43.702469996432264. Distance: 1.3149541888941914
___Test Local_ResNet_18 poisoned: True, epoch: 132: Average loss: 0.0426, Accuracy: 9792/9900 (98.9091%)
___Train Local_ResNet_18,  epoch 132, local model 66, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4514/4843 (93.2067%)
___Train Local_ResNet_18,  epoch 132, local model 66, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4467/4843 (92.2362%)
___Test Local_ResNet_18 poisoned: False, epoch: 132: Average loss: 1.9550, Accuracy: 5551/10000 (55.5100%)
___Train Local_ResNet_18,  epoch 132, local model 50, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4442/4757 (93.3782%)
___Train Local_ResNet_18,  epoch 132, local model 50, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4337/4757 (91.1709%)
___Test Local_ResNet_18 poisoned: False, epoch: 132: Average loss: 1.9183, Accuracy: 5569/10000 (55.6900%)
___Train Local_ResNet_18,  epoch 132, local model 48, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4512/4830 (93.4161%)
___Train Local_ResNet_18,  epoch 132, local model 48, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4474/4830 (92.6294%)
___Test Local_ResNet_18 poisoned: False, epoch: 132: Average loss: 2.1038, Accuracy: 5331/10000 (53.3100%)
___Train Local_ResNet_18,  epoch 132, local model 43, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4584/4979 (92.0667%)
___Train Local_ResNet_18,  epoch 132, local model 43, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4565/4979 (91.6851%)
___Test Local_ResNet_18 poisoned: False, epoch: 132: Average loss: 2.0304, Accuracy: 5472/10000 (54.7200%)
___Train Local_ResNet_18,  epoch 132, local model 31, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4206/4537 (92.7044%)
___Train Local_ResNet_18,  epoch 132, local model 31, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4202/4537 (92.6163%)
___Test Local_ResNet_18 poisoned: False, epoch: 132: Average loss: 2.0057, Accuracy: 5519/10000 (55.1900%)
___Train Local_ResNet_18,  epoch 132, local model 92, internal_epoch   1,  Average loss: 0.0038, Accuracy: 6308/6812 (92.6013%)
___Train Local_ResNet_18,  epoch 132, local model 92, internal_epoch   2,  Average loss: 0.0044, Accuracy: 6218/6812 (91.2801%)
___Test Local_ResNet_18 poisoned: False, epoch: 132: Average loss: 2.1908, Accuracy: 5316/10000 (53.1600%)
___Train Local_ResNet_18,  epoch 132, local model 4, internal_epoch   1,  Average loss: 0.0036, Accuracy: 3762/4028 (93.3962%)
___Train Local_ResNet_18,  epoch 132, local model 4, internal_epoch   2,  Average loss: 0.0037, Accuracy: 3741/4028 (92.8749%)
___Test Local_ResNet_18 poisoned: False, epoch: 132: Average loss: 2.0277, Accuracy: 5588/10000 (55.8800%)
___Train Local_ResNet_18,  epoch 132, local model 61, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4169/4485 (92.9543%)
___Train Local_ResNet_18,  epoch 132, local model 61, internal_epoch   2,  Average loss: 0.0057, Accuracy: 3982/4485 (88.7848%)
___Test Local_ResNet_18 poisoned: False, epoch: 132: Average loss: 2.1138, Accuracy: 5313/10000 (53.1300%)
___Train Local_ResNet_18,  epoch 132, local model 56, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4969/5427 (91.5607%)
___Train Local_ResNet_18,  epoch 132, local model 56, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4902/5427 (90.3261%)
___Test Local_ResNet_18 poisoned: False, epoch: 132: Average loss: 2.0558, Accuracy: 5450/10000 (54.5000%)
___Train Local_ResNet_18,  epoch 132, local model 47, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4648/5123 (90.7281%)
___Train Local_ResNet_18,  epoch 132, local model 47, internal_epoch   2,  Average loss: 0.0097, Accuracy: 4176/5123 (81.5147%)
___Test Local_ResNet_18 poisoned: False, epoch: 132: Average loss: 2.3734, Accuracy: 4842/10000 (48.4200%)
___Train Local_ResNet_18,  epoch 132, local model 18, internal_epoch   1,  Average loss: 0.0035, Accuracy: 3973/4249 (93.5044%)
___Train Local_ResNet_18,  epoch 132, local model 18, internal_epoch   2,  Average loss: 0.0043, Accuracy: 3887/4249 (91.4803%)
___Test Local_ResNet_18 poisoned: False, epoch: 132: Average loss: 2.0914, Accuracy: 5486/10000 (54.8600%)
___Train Local_ResNet_18,  epoch 132, local model 87, internal_epoch   1,  Average loss: 0.0047, Accuracy: 3640/3995 (91.1139%)
___Train Local_ResNet_18,  epoch 132, local model 87, internal_epoch   2,  Average loss: 0.0053, Accuracy: 3577/3995 (89.5369%)
___Test Local_ResNet_18 poisoned: False, epoch: 132: Average loss: 2.0928, Accuracy: 5433/10000 (54.3300%)
___Train Local_ResNet_18,  epoch 132, local model 89, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4394/4737 (92.7591%)
___Train Local_ResNet_18,  epoch 132, local model 89, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4330/4737 (91.4081%)
___Test Local_ResNet_18 poisoned: False, epoch: 132: Average loss: 2.0908, Accuracy: 5405/10000 (54.0500%)
___Train Local_ResNet_18,  epoch 132, local model 21, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4703/5038 (93.3505%)
___Train Local_ResNet_18,  epoch 132, local model 21, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4637/5038 (92.0405%)
___Test Local_ResNet_18 poisoned: False, epoch: 132: Average loss: 1.8408, Accuracy: 5853/10000 (58.5300%)
___Train Local_ResNet_18,  epoch 132, local model 97, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4323/4736 (91.2796%)
___Train Local_ResNet_18,  epoch 132, local model 97, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4249/4736 (89.7171%)
___Test Local_ResNet_18 poisoned: False, epoch: 132: Average loss: 2.0883, Accuracy: 5308/10000 (53.0800%)
___Train Local_ResNet_18,  epoch 132, local model 70, internal_epoch   1,  Average loss: 0.0036, Accuracy: 5491/5871 (93.5275%)
___Train Local_ResNet_18,  epoch 132, local model 70, internal_epoch   2,  Average loss: 0.0041, Accuracy: 5398/5871 (91.9435%)
___Test Local_ResNet_18 poisoned: False, epoch: 132: Average loss: 2.2239, Accuracy: 5343/10000 (53.4300%)
time spent on training: 274.2206254005432
___Test Target_ResNet_18 poisoned: False, epoch: 132: Average loss: 1.2464, Accuracy: 6805/10000 (68.0500%)
___Test Target_ResNet_18 poisoned: True, epoch: 132: Average loss: 0.0940, Accuracy: 9644/9900 (97.4141%)
Done in 300.59079146385193 sec.
Server Epoch:133 choose agents : [13, 36, 58, 71, 14, 60, 82, 89, 72, 33, 79, 92, 81, 56, 75, 19, 78, 66, 16, 20].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 133, local model 13, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5197/5308 (97.9088%), train_poison_data_count: 415
Global model norm: 43.756331852069565.
Norm before scaling: 43.719355897338254. Distance: 1.1838422457755913
___Test Local_ResNet_18 poisoned: True, epoch: 133: Average loss: 0.0717, Accuracy: 9709/9900 (98.0707%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 133, local model 36, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5621/5777 (97.2996%), train_poison_data_count: 455
Global model norm: 43.756331852069565.
Norm before scaling: 43.718867271107904. Distance: 1.3773712605516406
___Test Local_ResNet_18 poisoned: True, epoch: 133: Average loss: 0.0497, Accuracy: 9778/9900 (98.7677%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 133, local model 58, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4946/5123 (96.5450%), train_poison_data_count: 403
Global model norm: 43.756331852069565.
Norm before scaling: 43.72497749829681. Distance: 1.3222809513167344
___Test Local_ResNet_18 poisoned: True, epoch: 133: Average loss: 0.0502, Accuracy: 9772/9900 (98.7071%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 133, local model 71, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5351/5503 (97.2379%), train_poison_data_count: 430
Global model norm: 43.756331852069565.
Norm before scaling: 43.72086083181574. Distance: 1.2710383932466138
___Test Local_ResNet_18 poisoned: True, epoch: 133: Average loss: 0.0145, Accuracy: 9864/9900 (99.6364%)
___Train Local_ResNet_18,  epoch 133, local model 14, internal_epoch   1,  Average loss: 0.0029, Accuracy: 3980/4196 (94.8522%)
___Train Local_ResNet_18,  epoch 133, local model 14, internal_epoch   2,  Average loss: 0.0028, Accuracy: 3995/4196 (95.2097%)
___Test Local_ResNet_18 poisoned: False, epoch: 133: Average loss: 1.9243, Accuracy: 5661/10000 (56.6100%)
___Train Local_ResNet_18,  epoch 133, local model 60, internal_epoch   1,  Average loss: 0.0042, Accuracy: 3828/4145 (92.3522%)
___Train Local_ResNet_18,  epoch 133, local model 60, internal_epoch   2,  Average loss: 0.0041, Accuracy: 3803/4145 (91.7491%)
___Test Local_ResNet_18 poisoned: False, epoch: 133: Average loss: 1.9673, Accuracy: 5589/10000 (55.8900%)
___Train Local_ResNet_18,  epoch 133, local model 82, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4989/5298 (94.1676%)
___Train Local_ResNet_18,  epoch 133, local model 82, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4936/5298 (93.1672%)
___Test Local_ResNet_18 poisoned: False, epoch: 133: Average loss: 1.9988, Accuracy: 5641/10000 (56.4100%)
___Train Local_ResNet_18,  epoch 133, local model 89, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4332/4737 (91.4503%)
___Train Local_ResNet_18,  epoch 133, local model 89, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4369/4737 (92.2314%)
___Test Local_ResNet_18 poisoned: False, epoch: 133: Average loss: 2.0983, Accuracy: 5532/10000 (55.3200%)
___Train Local_ResNet_18,  epoch 133, local model 72, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4699/5193 (90.4872%)
___Train Local_ResNet_18,  epoch 133, local model 72, internal_epoch   2,  Average loss: 0.0066, Accuracy: 4526/5193 (87.1558%)
___Test Local_ResNet_18 poisoned: False, epoch: 133: Average loss: 2.2156, Accuracy: 5190/10000 (51.9000%)
___Train Local_ResNet_18,  epoch 133, local model 33, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4511/4818 (93.6281%)
___Train Local_ResNet_18,  epoch 133, local model 33, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4313/4818 (89.5185%)
___Test Local_ResNet_18 poisoned: False, epoch: 133: Average loss: 2.0730, Accuracy: 5487/10000 (54.8700%)
___Train Local_ResNet_18,  epoch 133, local model 79, internal_epoch   1,  Average loss: 0.0034, Accuracy: 3856/4111 (93.7971%)
___Train Local_ResNet_18,  epoch 133, local model 79, internal_epoch   2,  Average loss: 0.0031, Accuracy: 3874/4111 (94.2350%)
___Test Local_ResNet_18 poisoned: False, epoch: 133: Average loss: 1.9750, Accuracy: 5598/10000 (55.9800%)
___Train Local_ResNet_18,  epoch 133, local model 92, internal_epoch   1,  Average loss: 0.0037, Accuracy: 6334/6812 (92.9830%)
___Train Local_ResNet_18,  epoch 133, local model 92, internal_epoch   2,  Average loss: 0.0036, Accuracy: 6329/6812 (92.9096%)
___Test Local_ResNet_18 poisoned: False, epoch: 133: Average loss: 2.2692, Accuracy: 5215/10000 (52.1500%)
___Train Local_ResNet_18,  epoch 133, local model 81, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4693/5035 (93.2075%)
___Train Local_ResNet_18,  epoch 133, local model 81, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4662/5035 (92.5919%)
___Test Local_ResNet_18 poisoned: False, epoch: 133: Average loss: 2.0347, Accuracy: 5574/10000 (55.7400%)
___Train Local_ResNet_18,  epoch 133, local model 56, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4983/5427 (91.8187%)
___Train Local_ResNet_18,  epoch 133, local model 56, internal_epoch   2,  Average loss: 0.0059, Accuracy: 4767/5427 (87.8386%)
___Test Local_ResNet_18 poisoned: False, epoch: 133: Average loss: 2.2095, Accuracy: 5188/10000 (51.8800%)
___Train Local_ResNet_18,  epoch 133, local model 75, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4338/4672 (92.8510%)
___Train Local_ResNet_18,  epoch 133, local model 75, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4351/4672 (93.1293%)
___Test Local_ResNet_18 poisoned: False, epoch: 133: Average loss: 1.8805, Accuracy: 5631/10000 (56.3100%)
___Train Local_ResNet_18,  epoch 133, local model 19, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4922/5361 (91.8112%)
___Train Local_ResNet_18,  epoch 133, local model 19, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4857/5361 (90.5988%)
___Test Local_ResNet_18 poisoned: False, epoch: 133: Average loss: 2.0377, Accuracy: 5397/10000 (53.9700%)
___Train Local_ResNet_18,  epoch 133, local model 78, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4143/4368 (94.8489%)
___Train Local_ResNet_18,  epoch 133, local model 78, internal_epoch   2,  Average loss: 0.0031, Accuracy: 4096/4368 (93.7729%)
___Test Local_ResNet_18 poisoned: False, epoch: 133: Average loss: 1.9731, Accuracy: 5613/10000 (56.1300%)
___Train Local_ResNet_18,  epoch 133, local model 66, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4492/4843 (92.7524%)
___Train Local_ResNet_18,  epoch 133, local model 66, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4451/4843 (91.9058%)
___Test Local_ResNet_18 poisoned: False, epoch: 133: Average loss: 2.0252, Accuracy: 5563/10000 (55.6300%)
___Train Local_ResNet_18,  epoch 133, local model 16, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4970/5353 (92.8451%)
___Train Local_ResNet_18,  epoch 133, local model 16, internal_epoch   2,  Average loss: 0.0057, Accuracy: 4778/5353 (89.2584%)
___Test Local_ResNet_18 poisoned: False, epoch: 133: Average loss: 2.0416, Accuracy: 5394/10000 (53.9400%)
___Train Local_ResNet_18,  epoch 133, local model 20, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4440/4714 (94.1875%)
___Train Local_ResNet_18,  epoch 133, local model 20, internal_epoch   2,  Average loss: 0.0032, Accuracy: 4438/4714 (94.1451%)
___Test Local_ResNet_18 poisoned: False, epoch: 133: Average loss: 1.7989, Accuracy: 5839/10000 (58.3900%)
time spent on training: 275.91119742393494
___Test Target_ResNet_18 poisoned: False, epoch: 133: Average loss: 1.2591, Accuracy: 6772/10000 (67.7200%)
___Test Target_ResNet_18 poisoned: True, epoch: 133: Average loss: 0.0803, Accuracy: 9686/9900 (97.8384%)
Done in 302.1512689590454 sec.
Server Epoch:134 choose agents : [13, 36, 58, 71, 23, 49, 30, 9, 15, 85, 92, 17, 70, 56, 51, 53, 43, 46, 64, 2].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 134, local model 13, internal_epoch   1,  Average loss: 0.0016, Accuracy: 5190/5308 (97.7769%), train_poison_data_count: 415
Global model norm: 43.77523686177709.
Norm before scaling: 43.73814711090666. Distance: 1.2044885513154282
___Test Local_ResNet_18 poisoned: True, epoch: 134: Average loss: 0.0374, Accuracy: 9800/9900 (98.9899%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 134, local model 36, internal_epoch   1,  Average loss: 0.0017, Accuracy: 5639/5777 (97.6112%), train_poison_data_count: 455
Global model norm: 43.77523686177709.
Norm before scaling: 43.735463544866825. Distance: 1.2912993472807612
___Test Local_ResNet_18 poisoned: True, epoch: 134: Average loss: 0.0874, Accuracy: 9686/9900 (97.8384%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 134, local model 58, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4971/5123 (97.0330%), train_poison_data_count: 403
Global model norm: 43.77523686177709.
Norm before scaling: 43.74154912799943. Distance: 1.2706873867257578
___Test Local_ResNet_18 poisoned: True, epoch: 134: Average loss: 0.1457, Accuracy: 9499/9900 (95.9495%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 134, local model 71, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5352/5503 (97.2560%), train_poison_data_count: 430
Global model norm: 43.77523686177709.
Norm before scaling: 43.74037282469995. Distance: 1.338881388894299
___Test Local_ResNet_18 poisoned: True, epoch: 134: Average loss: 0.0333, Accuracy: 9823/9900 (99.2222%)
___Train Local_ResNet_18,  epoch 134, local model 23, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4289/4549 (94.2845%)
___Train Local_ResNet_18,  epoch 134, local model 23, internal_epoch   2,  Average loss: 0.0073, Accuracy: 3932/4549 (86.4366%)
___Test Local_ResNet_18 poisoned: False, epoch: 134: Average loss: 2.3145, Accuracy: 4870/10000 (48.7000%)
___Train Local_ResNet_18,  epoch 134, local model 49, internal_epoch   1,  Average loss: 0.0053, Accuracy: 5072/5652 (89.7381%)
___Train Local_ResNet_18,  epoch 134, local model 49, internal_epoch   2,  Average loss: 0.0061, Accuracy: 4980/5652 (88.1104%)
___Test Local_ResNet_18 poisoned: False, epoch: 134: Average loss: 2.2863, Accuracy: 5081/10000 (50.8100%)
___Train Local_ResNet_18,  epoch 134, local model 30, internal_epoch   1,  Average loss: 0.0033, Accuracy: 3545/3774 (93.9322%)
___Train Local_ResNet_18,  epoch 134, local model 30, internal_epoch   2,  Average loss: 0.0028, Accuracy: 3582/3774 (94.9126%)
___Test Local_ResNet_18 poisoned: False, epoch: 134: Average loss: 1.8387, Accuracy: 5817/10000 (58.1700%)
___Train Local_ResNet_18,  epoch 134, local model 9, internal_epoch   1,  Average loss: 0.0046, Accuracy: 5213/5727 (91.0250%)
___Train Local_ResNet_18,  epoch 134, local model 9, internal_epoch   2,  Average loss: 0.0056, Accuracy: 5096/5727 (88.9820%)
___Test Local_ResNet_18 poisoned: False, epoch: 134: Average loss: 2.2041, Accuracy: 5178/10000 (51.7800%)
___Train Local_ResNet_18,  epoch 134, local model 15, internal_epoch   1,  Average loss: 0.0042, Accuracy: 5572/6068 (91.8260%)
___Train Local_ResNet_18,  epoch 134, local model 15, internal_epoch   2,  Average loss: 0.0045, Accuracy: 5531/6068 (91.1503%)
___Test Local_ResNet_18 poisoned: False, epoch: 134: Average loss: 2.1424, Accuracy: 5339/10000 (53.3900%)
___Train Local_ResNet_18,  epoch 134, local model 85, internal_epoch   1,  Average loss: 0.0050, Accuracy: 6281/6947 (90.4131%)
___Train Local_ResNet_18,  epoch 134, local model 85, internal_epoch   2,  Average loss: 0.0060, Accuracy: 6099/6947 (87.7933%)
___Test Local_ResNet_18 poisoned: False, epoch: 134: Average loss: 2.1549, Accuracy: 5337/10000 (53.3700%)
___Train Local_ResNet_18,  epoch 134, local model 92, internal_epoch   1,  Average loss: 0.0035, Accuracy: 6354/6812 (93.2766%)
___Train Local_ResNet_18,  epoch 134, local model 92, internal_epoch   2,  Average loss: 0.0045, Accuracy: 6183/6812 (90.7663%)
___Test Local_ResNet_18 poisoned: False, epoch: 134: Average loss: 2.1772, Accuracy: 5309/10000 (53.0900%)
___Train Local_ResNet_18,  epoch 134, local model 17, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4456/4903 (90.8831%)
___Train Local_ResNet_18,  epoch 134, local model 17, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4489/4903 (91.5562%)
___Test Local_ResNet_18 poisoned: False, epoch: 134: Average loss: 2.1940, Accuracy: 5237/10000 (52.3700%)
___Train Local_ResNet_18,  epoch 134, local model 70, internal_epoch   1,  Average loss: 0.0035, Accuracy: 5485/5871 (93.4253%)
___Train Local_ResNet_18,  epoch 134, local model 70, internal_epoch   2,  Average loss: 0.0042, Accuracy: 5420/5871 (92.3182%)
___Test Local_ResNet_18 poisoned: False, epoch: 134: Average loss: 2.1187, Accuracy: 5328/10000 (53.2800%)
___Train Local_ResNet_18,  epoch 134, local model 56, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4933/5427 (90.8974%)
___Train Local_ResNet_18,  epoch 134, local model 56, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4894/5427 (90.1787%)
___Test Local_ResNet_18 poisoned: False, epoch: 134: Average loss: 1.9914, Accuracy: 5564/10000 (55.6400%)
___Train Local_ResNet_18,  epoch 134, local model 51, internal_epoch   1,  Average loss: 0.0035, Accuracy: 3833/4108 (93.3057%)
___Train Local_ResNet_18,  epoch 134, local model 51, internal_epoch   2,  Average loss: 0.0034, Accuracy: 3846/4108 (93.6222%)
___Test Local_ResNet_18 poisoned: False, epoch: 134: Average loss: 1.9229, Accuracy: 5603/10000 (56.0300%)
___Train Local_ResNet_18,  epoch 134, local model 53, internal_epoch   1,  Average loss: 0.0058, Accuracy: 5923/6664 (88.8806%)
___Train Local_ResNet_18,  epoch 134, local model 53, internal_epoch   2,  Average loss: 0.0084, Accuracy: 5534/6664 (83.0432%)
___Test Local_ResNet_18 poisoned: False, epoch: 134: Average loss: 2.1644, Accuracy: 5182/10000 (51.8200%)
___Train Local_ResNet_18,  epoch 134, local model 43, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4625/4979 (92.8901%)
___Train Local_ResNet_18,  epoch 134, local model 43, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4599/4979 (92.3679%)
___Test Local_ResNet_18 poisoned: False, epoch: 134: Average loss: 2.0327, Accuracy: 5490/10000 (54.9000%)
___Train Local_ResNet_18,  epoch 134, local model 46, internal_epoch   1,  Average loss: 0.0050, Accuracy: 4876/5399 (90.3130%)
___Train Local_ResNet_18,  epoch 134, local model 46, internal_epoch   2,  Average loss: 0.0062, Accuracy: 4756/5399 (88.0904%)
___Test Local_ResNet_18 poisoned: False, epoch: 134: Average loss: 2.3342, Accuracy: 4955/10000 (49.5500%)
___Train Local_ResNet_18,  epoch 134, local model 64, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4450/4894 (90.9277%)
___Train Local_ResNet_18,  epoch 134, local model 64, internal_epoch   2,  Average loss: 0.0058, Accuracy: 4338/4894 (88.6391%)
___Test Local_ResNet_18 poisoned: False, epoch: 134: Average loss: 2.1907, Accuracy: 5314/10000 (53.1400%)
___Train Local_ResNet_18,  epoch 134, local model 2, internal_epoch   1,  Average loss: 0.0035, Accuracy: 3702/3968 (93.2964%)
___Train Local_ResNet_18,  epoch 134, local model 2, internal_epoch   2,  Average loss: 0.0035, Accuracy: 3711/3968 (93.5232%)
___Test Local_ResNet_18 poisoned: False, epoch: 134: Average loss: 1.8604, Accuracy: 5705/10000 (57.0500%)
time spent on training: 282.76935386657715
___Test Target_ResNet_18 poisoned: False, epoch: 134: Average loss: 1.2573, Accuracy: 6782/10000 (67.8200%)
___Test Target_ResNet_18 poisoned: True, epoch: 134: Average loss: 0.0881, Accuracy: 9664/9900 (97.6162%)
Done in 309.4698135852814 sec.
Server Epoch:135 choose agents : [13, 36, 58, 71, 92, 49, 57, 40, 46, 85, 37, 51, 30, 8, 73, 21, 28, 82, 80, 48].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 135, local model 13, internal_epoch   1,  Average loss: 0.0017, Accuracy: 5171/5308 (97.4190%), train_poison_data_count: 415
Global model norm: 43.79770000114875.
Norm before scaling: 43.761648839819635. Distance: 1.2648491070582684
___Test Local_ResNet_18 poisoned: True, epoch: 135: Average loss: 0.0387, Accuracy: 9795/9900 (98.9394%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 135, local model 36, internal_epoch   1,  Average loss: 0.0017, Accuracy: 5632/5777 (97.4900%), train_poison_data_count: 455
Global model norm: 43.79770000114875.
Norm before scaling: 43.75871286009079. Distance: 1.3231307429719243
___Test Local_ResNet_18 poisoned: True, epoch: 135: Average loss: 0.0390, Accuracy: 9804/9900 (99.0303%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 135, local model 58, internal_epoch   1,  Average loss: 0.0026, Accuracy: 4950/5123 (96.6231%), train_poison_data_count: 403
Global model norm: 43.79770000114875.
Norm before scaling: 43.76577143183286. Distance: 1.3271671206834295
___Test Local_ResNet_18 poisoned: True, epoch: 135: Average loss: 0.1919, Accuracy: 9419/9900 (95.1414%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 135, local model 71, internal_epoch   1,  Average loss: 0.0019, Accuracy: 5340/5503 (97.0380%), train_poison_data_count: 430
Global model norm: 43.79770000114875.
Norm before scaling: 43.76527495620458. Distance: 1.370005944997878
___Test Local_ResNet_18 poisoned: True, epoch: 135: Average loss: 0.0133, Accuracy: 9866/9900 (99.6566%)
___Train Local_ResNet_18,  epoch 135, local model 92, internal_epoch   1,  Average loss: 0.0035, Accuracy: 6345/6812 (93.1445%)
___Train Local_ResNet_18,  epoch 135, local model 92, internal_epoch   2,  Average loss: 0.0046, Accuracy: 6199/6812 (91.0012%)
___Test Local_ResNet_18 poisoned: False, epoch: 135: Average loss: 2.2250, Accuracy: 5233/10000 (52.3300%)
___Train Local_ResNet_18,  epoch 135, local model 49, internal_epoch   1,  Average loss: 0.0046, Accuracy: 5172/5652 (91.5074%)
___Train Local_ResNet_18,  epoch 135, local model 49, internal_epoch   2,  Average loss: 0.0051, Accuracy: 5069/5652 (89.6851%)
___Test Local_ResNet_18 poisoned: False, epoch: 135: Average loss: 2.0967, Accuracy: 5391/10000 (53.9100%)
___Train Local_ResNet_18,  epoch 135, local model 57, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4610/4956 (93.0186%)
___Train Local_ResNet_18,  epoch 135, local model 57, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4545/4956 (91.7070%)
___Test Local_ResNet_18 poisoned: False, epoch: 135: Average loss: 2.0260, Accuracy: 5599/10000 (55.9900%)
___Train Local_ResNet_18,  epoch 135, local model 40, internal_epoch   1,  Average loss: 0.0038, Accuracy: 5520/5939 (92.9449%)
___Train Local_ResNet_18,  epoch 135, local model 40, internal_epoch   2,  Average loss: 0.0039, Accuracy: 5478/5939 (92.2378%)
___Test Local_ResNet_18 poisoned: False, epoch: 135: Average loss: 2.0424, Accuracy: 5375/10000 (53.7500%)
___Train Local_ResNet_18,  epoch 135, local model 46, internal_epoch   1,  Average loss: 0.0056, Accuracy: 4821/5399 (89.2943%)
___Train Local_ResNet_18,  epoch 135, local model 46, internal_epoch   2,  Average loss: 0.0067, Accuracy: 4694/5399 (86.9420%)
___Test Local_ResNet_18 poisoned: False, epoch: 135: Average loss: 2.2026, Accuracy: 5217/10000 (52.1700%)
___Train Local_ResNet_18,  epoch 135, local model 85, internal_epoch   1,  Average loss: 0.0051, Accuracy: 6237/6947 (89.7798%)
___Train Local_ResNet_18,  epoch 135, local model 85, internal_epoch   2,  Average loss: 0.0064, Accuracy: 6058/6947 (87.2031%)
___Test Local_ResNet_18 poisoned: False, epoch: 135: Average loss: 2.1612, Accuracy: 5128/10000 (51.2800%)
___Train Local_ResNet_18,  epoch 135, local model 37, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4397/4741 (92.7441%)
___Train Local_ResNet_18,  epoch 135, local model 37, internal_epoch   2,  Average loss: 0.0061, Accuracy: 4183/4741 (88.2303%)
___Test Local_ResNet_18 poisoned: False, epoch: 135: Average loss: 2.4058, Accuracy: 4981/10000 (49.8100%)
___Train Local_ResNet_18,  epoch 135, local model 51, internal_epoch   1,  Average loss: 0.0035, Accuracy: 3851/4108 (93.7439%)
___Train Local_ResNet_18,  epoch 135, local model 51, internal_epoch   2,  Average loss: 0.0047, Accuracy: 3778/4108 (91.9669%)
___Test Local_ResNet_18 poisoned: False, epoch: 135: Average loss: 2.0231, Accuracy: 5518/10000 (55.1800%)
___Train Local_ResNet_18,  epoch 135, local model 30, internal_epoch   1,  Average loss: 0.0034, Accuracy: 3527/3774 (93.4552%)
___Train Local_ResNet_18,  epoch 135, local model 30, internal_epoch   2,  Average loss: 0.0028, Accuracy: 3584/3774 (94.9656%)
___Test Local_ResNet_18 poisoned: False, epoch: 135: Average loss: 1.8037, Accuracy: 5841/10000 (58.4100%)
___Train Local_ResNet_18,  epoch 135, local model 8, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4540/4889 (92.8615%)
___Train Local_ResNet_18,  epoch 135, local model 8, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4458/4889 (91.1843%)
___Test Local_ResNet_18 poisoned: False, epoch: 135: Average loss: 2.2331, Accuracy: 5260/10000 (52.6000%)
___Train Local_ResNet_18,  epoch 135, local model 73, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4361/4605 (94.7014%)
___Train Local_ResNet_18,  epoch 135, local model 73, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4318/4605 (93.7676%)
___Test Local_ResNet_18 poisoned: False, epoch: 135: Average loss: 1.9864, Accuracy: 5601/10000 (56.0100%)
___Train Local_ResNet_18,  epoch 135, local model 21, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4684/5038 (92.9734%)
___Train Local_ResNet_18,  epoch 135, local model 21, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4642/5038 (92.1397%)
___Test Local_ResNet_18 poisoned: False, epoch: 135: Average loss: 1.9553, Accuracy: 5686/10000 (56.8600%)
___Train Local_ResNet_18,  epoch 135, local model 28, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4650/5122 (90.7848%)
___Train Local_ResNet_18,  epoch 135, local model 28, internal_epoch   2,  Average loss: 0.0073, Accuracy: 4430/5122 (86.4897%)
___Test Local_ResNet_18 poisoned: False, epoch: 135: Average loss: 2.1515, Accuracy: 5183/10000 (51.8300%)
___Train Local_ResNet_18,  epoch 135, local model 82, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4977/5298 (93.9411%)
___Train Local_ResNet_18,  epoch 135, local model 82, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4918/5298 (92.8275%)
___Test Local_ResNet_18 poisoned: False, epoch: 135: Average loss: 2.0710, Accuracy: 5427/10000 (54.2700%)
___Train Local_ResNet_18,  epoch 135, local model 80, internal_epoch   1,  Average loss: 0.0039, Accuracy: 5050/5461 (92.4739%)
___Train Local_ResNet_18,  epoch 135, local model 80, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4956/5461 (90.7526%)
___Test Local_ResNet_18 poisoned: False, epoch: 135: Average loss: 2.1855, Accuracy: 5380/10000 (53.8000%)
___Train Local_ResNet_18,  epoch 135, local model 48, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4514/4830 (93.4576%)
___Train Local_ResNet_18,  epoch 135, local model 48, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4494/4830 (93.0435%)
___Test Local_ResNet_18 poisoned: False, epoch: 135: Average loss: 2.1317, Accuracy: 5389/10000 (53.8900%)
time spent on training: 281.37332105636597
___Test Target_ResNet_18 poisoned: False, epoch: 135: Average loss: 1.2647, Accuracy: 6764/10000 (67.6400%)
___Test Target_ResNet_18 poisoned: True, epoch: 135: Average loss: 0.0819, Accuracy: 9683/9900 (97.8081%)
Done in 307.6676404476166 sec.
Server Epoch:136 choose agents : [13, 36, 58, 71, 32, 67, 70, 18, 87, 0, 98, 29, 99, 28, 40, 75, 92, 80, 64, 39].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 136, local model 13, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5159/5308 (97.1929%), train_poison_data_count: 415
Global model norm: 43.81810268652529.
Norm before scaling: 43.78480618810237. Distance: 1.3162109048947819
___Test Local_ResNet_18 poisoned: True, epoch: 136: Average loss: 0.0422, Accuracy: 9792/9900 (98.9091%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 136, local model 36, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5639/5777 (97.6112%), train_poison_data_count: 455
Global model norm: 43.81810268652529.
Norm before scaling: 43.77972065271417. Distance: 1.330390792596672
___Test Local_ResNet_18 poisoned: True, epoch: 136: Average loss: 0.0387, Accuracy: 9795/9900 (98.9394%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 136, local model 58, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4947/5123 (96.5645%), train_poison_data_count: 403
Global model norm: 43.81810268652529.
Norm before scaling: 43.78467933571342. Distance: 1.3037117147264772
___Test Local_ResNet_18 poisoned: True, epoch: 136: Average loss: 0.1956, Accuracy: 9440/9900 (95.3535%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 136, local model 71, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5347/5503 (97.1652%), train_poison_data_count: 430
Global model norm: 43.81810268652529.
Norm before scaling: 43.78376766047978. Distance: 1.3222234767129613
___Test Local_ResNet_18 poisoned: True, epoch: 136: Average loss: 0.0469, Accuracy: 9777/9900 (98.7576%)
___Train Local_ResNet_18,  epoch 136, local model 32, internal_epoch   1,  Average loss: 0.0058, Accuracy: 5372/6080 (88.3553%)
___Train Local_ResNet_18,  epoch 136, local model 32, internal_epoch   2,  Average loss: 0.0062, Accuracy: 5357/6080 (88.1086%)
___Test Local_ResNet_18 poisoned: False, epoch: 136: Average loss: 2.2667, Accuracy: 5030/10000 (50.3000%)
___Train Local_ResNet_18,  epoch 136, local model 67, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4996/5559 (89.8723%)
___Train Local_ResNet_18,  epoch 136, local model 67, internal_epoch   2,  Average loss: 0.0068, Accuracy: 4798/5559 (86.3105%)
___Test Local_ResNet_18 poisoned: False, epoch: 136: Average loss: 2.1361, Accuracy: 5195/10000 (51.9500%)
___Train Local_ResNet_18,  epoch 136, local model 70, internal_epoch   1,  Average loss: 0.0035, Accuracy: 5484/5871 (93.4083%)
___Train Local_ResNet_18,  epoch 136, local model 70, internal_epoch   2,  Average loss: 0.0042, Accuracy: 5387/5871 (91.7561%)
___Test Local_ResNet_18 poisoned: False, epoch: 136: Average loss: 2.1783, Accuracy: 5281/10000 (52.8100%)
___Train Local_ResNet_18,  epoch 136, local model 18, internal_epoch   1,  Average loss: 0.0034, Accuracy: 3985/4249 (93.7868%)
___Train Local_ResNet_18,  epoch 136, local model 18, internal_epoch   2,  Average loss: 0.0038, Accuracy: 3939/4249 (92.7042%)
___Test Local_ResNet_18 poisoned: False, epoch: 136: Average loss: 2.0646, Accuracy: 5528/10000 (55.2800%)
___Train Local_ResNet_18,  epoch 136, local model 87, internal_epoch   1,  Average loss: 0.0046, Accuracy: 3653/3995 (91.4393%)
___Train Local_ResNet_18,  epoch 136, local model 87, internal_epoch   2,  Average loss: 0.0050, Accuracy: 3603/3995 (90.1877%)
___Test Local_ResNet_18 poisoned: False, epoch: 136: Average loss: 2.3531, Accuracy: 5043/10000 (50.4300%)
___Train Local_ResNet_18,  epoch 136, local model 0, internal_epoch   1,  Average loss: 0.0044, Accuracy: 5002/5454 (91.7125%)
___Train Local_ResNet_18,  epoch 136, local model 0, internal_epoch   2,  Average loss: 0.0061, Accuracy: 4821/5454 (88.3938%)
___Test Local_ResNet_18 poisoned: False, epoch: 136: Average loss: 2.0976, Accuracy: 5382/10000 (53.8200%)
___Train Local_ResNet_18,  epoch 136, local model 98, internal_epoch   1,  Average loss: 0.0047, Accuracy: 3888/4161 (93.4391%)
___Train Local_ResNet_18,  epoch 136, local model 98, internal_epoch   2,  Average loss: 0.0051, Accuracy: 3853/4161 (92.5979%)
___Test Local_ResNet_18 poisoned: False, epoch: 136: Average loss: 2.0123, Accuracy: 5572/10000 (55.7200%)
___Train Local_ResNet_18,  epoch 136, local model 29, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4502/4732 (95.1395%)
___Train Local_ResNet_18,  epoch 136, local model 29, internal_epoch   2,  Average loss: 0.0028, Accuracy: 4472/4732 (94.5055%)
___Test Local_ResNet_18 poisoned: False, epoch: 136: Average loss: 1.7987, Accuracy: 5943/10000 (59.4300%)
___Train Local_ResNet_18,  epoch 136, local model 99, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4417/4851 (91.0534%)
___Train Local_ResNet_18,  epoch 136, local model 99, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4441/4851 (91.5481%)
___Test Local_ResNet_18 poisoned: False, epoch: 136: Average loss: 2.0742, Accuracy: 5409/10000 (54.0900%)
___Train Local_ResNet_18,  epoch 136, local model 28, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4662/5122 (91.0191%)
___Train Local_ResNet_18,  epoch 136, local model 28, internal_epoch   2,  Average loss: 0.0112, Accuracy: 4144/5122 (80.9059%)
___Test Local_ResNet_18 poisoned: False, epoch: 136: Average loss: 2.7091, Accuracy: 4560/10000 (45.6000%)
___Train Local_ResNet_18,  epoch 136, local model 40, internal_epoch   1,  Average loss: 0.0040, Accuracy: 5485/5939 (92.3556%)
___Train Local_ResNet_18,  epoch 136, local model 40, internal_epoch   2,  Average loss: 0.0040, Accuracy: 5481/5939 (92.2883%)
___Test Local_ResNet_18 poisoned: False, epoch: 136: Average loss: 2.0693, Accuracy: 5356/10000 (53.5600%)
___Train Local_ResNet_18,  epoch 136, local model 75, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4410/4672 (94.3921%)
___Train Local_ResNet_18,  epoch 136, local model 75, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4359/4672 (93.3005%)
___Test Local_ResNet_18 poisoned: False, epoch: 136: Average loss: 1.9287, Accuracy: 5751/10000 (57.5100%)
___Train Local_ResNet_18,  epoch 136, local model 92, internal_epoch   1,  Average loss: 0.0032, Accuracy: 6402/6812 (93.9812%)
___Train Local_ResNet_18,  epoch 136, local model 92, internal_epoch   2,  Average loss: 0.0043, Accuracy: 6221/6812 (91.3241%)
___Test Local_ResNet_18 poisoned: False, epoch: 136: Average loss: 2.1503, Accuracy: 5349/10000 (53.4900%)
___Train Local_ResNet_18,  epoch 136, local model 80, internal_epoch   1,  Average loss: 0.0036, Accuracy: 5073/5461 (92.8951%)
___Train Local_ResNet_18,  epoch 136, local model 80, internal_epoch   2,  Average loss: 0.0039, Accuracy: 5048/5461 (92.4373%)
___Test Local_ResNet_18 poisoned: False, epoch: 136: Average loss: 2.1204, Accuracy: 5381/10000 (53.8100%)
___Train Local_ResNet_18,  epoch 136, local model 64, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4464/4894 (91.2137%)
___Train Local_ResNet_18,  epoch 136, local model 64, internal_epoch   2,  Average loss: 0.0056, Accuracy: 4349/4894 (88.8639%)
___Test Local_ResNet_18 poisoned: False, epoch: 136: Average loss: 2.1380, Accuracy: 5352/10000 (53.5200%)
___Train Local_ResNet_18,  epoch 136, local model 39, internal_epoch   1,  Average loss: 0.0041, Accuracy: 3861/4175 (92.4790%)
___Train Local_ResNet_18,  epoch 136, local model 39, internal_epoch   2,  Average loss: 0.0044, Accuracy: 3831/4175 (91.7605%)
___Test Local_ResNet_18 poisoned: False, epoch: 136: Average loss: 2.0475, Accuracy: 5474/10000 (54.7400%)
time spent on training: 278.5816352367401
___Test Target_ResNet_18 poisoned: False, epoch: 136: Average loss: 1.2709, Accuracy: 6747/10000 (67.4700%)
___Test Target_ResNet_18 poisoned: True, epoch: 136: Average loss: 0.0827, Accuracy: 9680/9900 (97.7778%)
Done in 305.31601119041443 sec.
Server Epoch:137 choose agents : [13, 36, 58, 71, 94, 74, 82, 63, 27, 55, 92, 11, 34, 79, 60, 59, 43, 16, 78, 3].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 137, local model 13, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5190/5308 (97.7769%), train_poison_data_count: 415
Global model norm: 43.83852789864542.
Norm before scaling: 43.80036442574565. Distance: 1.1924828339786704
___Test Local_ResNet_18 poisoned: True, epoch: 137: Average loss: 0.0554, Accuracy: 9746/9900 (98.4444%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 137, local model 36, internal_epoch   1,  Average loss: 0.0017, Accuracy: 5644/5777 (97.6978%), train_poison_data_count: 455
Global model norm: 43.83852789864542.
Norm before scaling: 43.798855255356706. Distance: 1.3040025020704078
___Test Local_ResNet_18 poisoned: True, epoch: 137: Average loss: 0.0690, Accuracy: 9728/9900 (98.2626%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 137, local model 58, internal_epoch   1,  Average loss: 0.0026, Accuracy: 4956/5123 (96.7402%), train_poison_data_count: 403
Global model norm: 43.83852789864542.
Norm before scaling: 43.80590317891314. Distance: 1.3164111853260834
___Test Local_ResNet_18 poisoned: True, epoch: 137: Average loss: 0.0497, Accuracy: 9769/9900 (98.6768%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 137, local model 71, internal_epoch   1,  Average loss: 0.0019, Accuracy: 5353/5503 (97.2742%), train_poison_data_count: 430
Global model norm: 43.83852789864542.
Norm before scaling: 43.80531519859705. Distance: 1.3540212944446743
___Test Local_ResNet_18 poisoned: True, epoch: 137: Average loss: 0.0793, Accuracy: 9700/9900 (97.9798%)
___Train Local_ResNet_18,  epoch 137, local model 94, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4780/5224 (91.5008%)
___Train Local_ResNet_18,  epoch 137, local model 94, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4694/5224 (89.8545%)
___Test Local_ResNet_18 poisoned: False, epoch: 137: Average loss: 2.1594, Accuracy: 5233/10000 (52.3300%)
___Train Local_ResNet_18,  epoch 137, local model 74, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4373/4797 (91.1611%)
___Train Local_ResNet_18,  epoch 137, local model 74, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4324/4797 (90.1397%)
___Test Local_ResNet_18 poisoned: False, epoch: 137: Average loss: 1.9766, Accuracy: 5616/10000 (56.1600%)
___Train Local_ResNet_18,  epoch 137, local model 82, internal_epoch   1,  Average loss: 0.0029, Accuracy: 5027/5298 (94.8849%)
___Train Local_ResNet_18,  epoch 137, local model 82, internal_epoch   2,  Average loss: 0.0029, Accuracy: 5001/5298 (94.3941%)
___Test Local_ResNet_18 poisoned: False, epoch: 137: Average loss: 1.8776, Accuracy: 5773/10000 (57.7300%)
___Train Local_ResNet_18,  epoch 137, local model 63, internal_epoch   1,  Average loss: 0.0034, Accuracy: 3680/3910 (94.1176%)
___Train Local_ResNet_18,  epoch 137, local model 63, internal_epoch   2,  Average loss: 0.0066, Accuracy: 3423/3910 (87.5448%)
___Test Local_ResNet_18 poisoned: False, epoch: 137: Average loss: 2.1922, Accuracy: 5337/10000 (53.3700%)
___Train Local_ResNet_18,  epoch 137, local model 27, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4227/4587 (92.1517%)
___Train Local_ResNet_18,  epoch 137, local model 27, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4222/4587 (92.0427%)
___Test Local_ResNet_18 poisoned: False, epoch: 137: Average loss: 2.0623, Accuracy: 5356/10000 (53.5600%)
___Train Local_ResNet_18,  epoch 137, local model 55, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4427/4731 (93.5743%)
___Train Local_ResNet_18,  epoch 137, local model 55, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4409/4731 (93.1938%)
___Test Local_ResNet_18 poisoned: False, epoch: 137: Average loss: 2.0451, Accuracy: 5462/10000 (54.6200%)
___Train Local_ResNet_18,  epoch 137, local model 92, internal_epoch   1,  Average loss: 0.0030, Accuracy: 6439/6812 (94.5244%)
___Train Local_ResNet_18,  epoch 137, local model 92, internal_epoch   2,  Average loss: 0.0041, Accuracy: 6278/6812 (92.1609%)
___Test Local_ResNet_18 poisoned: False, epoch: 137: Average loss: 2.2690, Accuracy: 5207/10000 (52.0700%)
___Train Local_ResNet_18,  epoch 137, local model 11, internal_epoch   1,  Average loss: 0.0061, Accuracy: 5021/5702 (88.0568%)
___Train Local_ResNet_18,  epoch 137, local model 11, internal_epoch   2,  Average loss: 0.0079, Accuracy: 4827/5702 (84.6545%)
___Test Local_ResNet_18 poisoned: False, epoch: 137: Average loss: 2.2995, Accuracy: 5113/10000 (51.1300%)
___Train Local_ResNet_18,  epoch 137, local model 34, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4574/4911 (93.1379%)
___Train Local_ResNet_18,  epoch 137, local model 34, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4566/4911 (92.9750%)
___Test Local_ResNet_18 poisoned: False, epoch: 137: Average loss: 2.0017, Accuracy: 5555/10000 (55.5500%)
___Train Local_ResNet_18,  epoch 137, local model 79, internal_epoch   1,  Average loss: 0.0038, Accuracy: 3814/4111 (92.7755%)
___Train Local_ResNet_18,  epoch 137, local model 79, internal_epoch   2,  Average loss: 0.0044, Accuracy: 3749/4111 (91.1944%)
___Test Local_ResNet_18 poisoned: False, epoch: 137: Average loss: 2.1005, Accuracy: 5441/10000 (54.4100%)
___Train Local_ResNet_18,  epoch 137, local model 60, internal_epoch   1,  Average loss: 0.0038, Accuracy: 3846/4145 (92.7865%)
___Train Local_ResNet_18,  epoch 137, local model 60, internal_epoch   2,  Average loss: 0.0035, Accuracy: 3857/4145 (93.0519%)
___Test Local_ResNet_18 poisoned: False, epoch: 137: Average loss: 2.0308, Accuracy: 5595/10000 (55.9500%)
___Train Local_ResNet_18,  epoch 137, local model 59, internal_epoch   1,  Average loss: 0.0025, Accuracy: 4205/4397 (95.6334%)
___Train Local_ResNet_18,  epoch 137, local model 59, internal_epoch   2,  Average loss: 0.0022, Accuracy: 4210/4397 (95.7471%)
___Test Local_ResNet_18 poisoned: False, epoch: 137: Average loss: 1.7915, Accuracy: 5843/10000 (58.4300%)
___Train Local_ResNet_18,  epoch 137, local model 43, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4582/4979 (92.0265%)
___Train Local_ResNet_18,  epoch 137, local model 43, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4545/4979 (91.2834%)
___Test Local_ResNet_18 poisoned: False, epoch: 137: Average loss: 2.1050, Accuracy: 5366/10000 (53.6600%)
___Train Local_ResNet_18,  epoch 137, local model 16, internal_epoch   1,  Average loss: 0.0035, Accuracy: 5007/5353 (93.5363%)
___Train Local_ResNet_18,  epoch 137, local model 16, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4806/5353 (89.7814%)
___Test Local_ResNet_18 poisoned: False, epoch: 137: Average loss: 2.1131, Accuracy: 5408/10000 (54.0800%)
___Train Local_ResNet_18,  epoch 137, local model 78, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4135/4368 (94.6658%)
___Train Local_ResNet_18,  epoch 137, local model 78, internal_epoch   2,  Average loss: 0.0032, Accuracy: 4105/4368 (93.9789%)
___Test Local_ResNet_18 poisoned: False, epoch: 137: Average loss: 1.9839, Accuracy: 5656/10000 (56.5600%)
___Train Local_ResNet_18,  epoch 137, local model 3, internal_epoch   1,  Average loss: 0.0031, Accuracy: 5040/5346 (94.2761%)
___Train Local_ResNet_18,  epoch 137, local model 3, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4964/5346 (92.8545%)
___Test Local_ResNet_18 poisoned: False, epoch: 137: Average loss: 2.0556, Accuracy: 5481/10000 (54.8100%)
time spent on training: 265.8087468147278
___Test Target_ResNet_18 poisoned: False, epoch: 137: Average loss: 1.2664, Accuracy: 6750/10000 (67.5000%)
___Test Target_ResNet_18 poisoned: True, epoch: 137: Average loss: 0.0805, Accuracy: 9682/9900 (97.7980%)
Done in 292.2732312679291 sec.
Server Epoch:138 choose agents : [13, 36, 58, 71, 45, 90, 54, 95, 30, 48, 61, 73, 15, 85, 88, 94, 78, 18, 0, 40].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 138, local model 13, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5197/5308 (97.9088%), train_poison_data_count: 415
Global model norm: 43.85725970139522.
Norm before scaling: 43.81935211886624. Distance: 1.1903671486052942
___Test Local_ResNet_18 poisoned: True, epoch: 138: Average loss: 0.1050, Accuracy: 9622/9900 (97.1919%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 138, local model 36, internal_epoch   1,  Average loss: 0.0017, Accuracy: 5629/5777 (97.4381%), train_poison_data_count: 455
Global model norm: 43.85725970139522.
Norm before scaling: 43.817177777207135. Distance: 1.310014096249749
___Test Local_ResNet_18 poisoned: True, epoch: 138: Average loss: 0.0868, Accuracy: 9662/9900 (97.5960%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 138, local model 58, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4949/5123 (96.6036%), train_poison_data_count: 403
Global model norm: 43.85725970139522.
Norm before scaling: 43.825154478211054. Distance: 1.3241360168718952
___Test Local_ResNet_18 poisoned: True, epoch: 138: Average loss: 0.1611, Accuracy: 9495/9900 (95.9091%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 138, local model 71, internal_epoch   1,  Average loss: 0.0019, Accuracy: 5358/5503 (97.3651%), train_poison_data_count: 430
Global model norm: 43.85725970139522.
Norm before scaling: 43.82374783177995. Distance: 1.3605646211669906
___Test Local_ResNet_18 poisoned: True, epoch: 138: Average loss: 0.0642, Accuracy: 9731/9900 (98.2929%)
___Train Local_ResNet_18,  epoch 138, local model 45, internal_epoch   1,  Average loss: 0.0042, Accuracy: 5025/5489 (91.5467%)
___Train Local_ResNet_18,  epoch 138, local model 45, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4962/5489 (90.3990%)
___Test Local_ResNet_18 poisoned: False, epoch: 138: Average loss: 2.1123, Accuracy: 5317/10000 (53.1700%)
___Train Local_ResNet_18,  epoch 138, local model 90, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4481/4748 (94.3766%)
___Train Local_ResNet_18,  epoch 138, local model 90, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4435/4748 (93.4078%)
___Test Local_ResNet_18 poisoned: False, epoch: 138: Average loss: 2.1183, Accuracy: 5326/10000 (53.2600%)
___Train Local_ResNet_18,  epoch 138, local model 54, internal_epoch   1,  Average loss: 0.0048, Accuracy: 5114/5645 (90.5934%)
___Train Local_ResNet_18,  epoch 138, local model 54, internal_epoch   2,  Average loss: 0.0068, Accuracy: 4911/5645 (86.9973%)
___Test Local_ResNet_18 poisoned: False, epoch: 138: Average loss: 2.2691, Accuracy: 5179/10000 (51.7900%)
___Train Local_ResNet_18,  epoch 138, local model 95, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4566/5018 (90.9924%)
___Train Local_ResNet_18,  epoch 138, local model 95, internal_epoch   2,  Average loss: 0.0058, Accuracy: 4442/5018 (88.5213%)
___Test Local_ResNet_18 poisoned: False, epoch: 138: Average loss: 2.1812, Accuracy: 5226/10000 (52.2600%)
___Train Local_ResNet_18,  epoch 138, local model 30, internal_epoch   1,  Average loss: 0.0032, Accuracy: 3529/3774 (93.5082%)
___Train Local_ResNet_18,  epoch 138, local model 30, internal_epoch   2,  Average loss: 0.0031, Accuracy: 3532/3774 (93.5877%)
___Test Local_ResNet_18 poisoned: False, epoch: 138: Average loss: 2.0205, Accuracy: 5554/10000 (55.5400%)
___Train Local_ResNet_18,  epoch 138, local model 48, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4555/4830 (94.3064%)
___Train Local_ResNet_18,  epoch 138, local model 48, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4487/4830 (92.8986%)
___Test Local_ResNet_18 poisoned: False, epoch: 138: Average loss: 2.1264, Accuracy: 5481/10000 (54.8100%)
___Train Local_ResNet_18,  epoch 138, local model 61, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4140/4485 (92.3077%)
___Train Local_ResNet_18,  epoch 138, local model 61, internal_epoch   2,  Average loss: 0.0094, Accuracy: 3732/4485 (83.2107%)
___Test Local_ResNet_18 poisoned: False, epoch: 138: Average loss: 2.4128, Accuracy: 4846/10000 (48.4600%)
___Train Local_ResNet_18,  epoch 138, local model 73, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4327/4605 (93.9631%)
___Train Local_ResNet_18,  epoch 138, local model 73, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4296/4605 (93.2899%)
___Test Local_ResNet_18 poisoned: False, epoch: 138: Average loss: 1.9283, Accuracy: 5756/10000 (57.5600%)
___Train Local_ResNet_18,  epoch 138, local model 15, internal_epoch   1,  Average loss: 0.0039, Accuracy: 5613/6068 (92.5016%)
___Train Local_ResNet_18,  epoch 138, local model 15, internal_epoch   2,  Average loss: 0.0046, Accuracy: 5507/6068 (90.7548%)
___Test Local_ResNet_18 poisoned: False, epoch: 138: Average loss: 2.1518, Accuracy: 5350/10000 (53.5000%)
___Train Local_ResNet_18,  epoch 138, local model 85, internal_epoch   1,  Average loss: 0.0046, Accuracy: 6309/6947 (90.8162%)
___Train Local_ResNet_18,  epoch 138, local model 85, internal_epoch   2,  Average loss: 0.0063, Accuracy: 6105/6947 (87.8797%)
___Test Local_ResNet_18 poisoned: False, epoch: 138: Average loss: 2.3671, Accuracy: 5061/10000 (50.6100%)
___Train Local_ResNet_18,  epoch 138, local model 88, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4927/5362 (91.8874%)
___Train Local_ResNet_18,  epoch 138, local model 88, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4896/5362 (91.3092%)
___Test Local_ResNet_18 poisoned: False, epoch: 138: Average loss: 2.0604, Accuracy: 5421/10000 (54.2100%)
___Train Local_ResNet_18,  epoch 138, local model 94, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4762/5224 (91.1562%)
___Train Local_ResNet_18,  epoch 138, local model 94, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4705/5224 (90.0651%)
___Test Local_ResNet_18 poisoned: False, epoch: 138: Average loss: 2.1540, Accuracy: 5364/10000 (53.6400%)
___Train Local_ResNet_18,  epoch 138, local model 78, internal_epoch   1,  Average loss: 0.0028, Accuracy: 4161/4368 (95.2610%)
___Train Local_ResNet_18,  epoch 138, local model 78, internal_epoch   2,  Average loss: 0.0032, Accuracy: 4127/4368 (94.4826%)
___Test Local_ResNet_18 poisoned: False, epoch: 138: Average loss: 1.9297, Accuracy: 5623/10000 (56.2300%)
___Train Local_ResNet_18,  epoch 138, local model 18, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4000/4249 (94.1398%)
___Train Local_ResNet_18,  epoch 138, local model 18, internal_epoch   2,  Average loss: 0.0040, Accuracy: 3935/4249 (92.6100%)
___Test Local_ResNet_18 poisoned: False, epoch: 138: Average loss: 1.8660, Accuracy: 5825/10000 (58.2500%)
___Train Local_ResNet_18,  epoch 138, local model 0, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4980/5454 (91.3091%)
___Train Local_ResNet_18,  epoch 138, local model 0, internal_epoch   2,  Average loss: 0.0061, Accuracy: 4788/5454 (87.7888%)
___Test Local_ResNet_18 poisoned: False, epoch: 138: Average loss: 2.2186, Accuracy: 5235/10000 (52.3500%)
___Train Local_ResNet_18,  epoch 138, local model 40, internal_epoch   1,  Average loss: 0.0036, Accuracy: 5516/5939 (92.8776%)
___Train Local_ResNet_18,  epoch 138, local model 40, internal_epoch   2,  Average loss: 0.0043, Accuracy: 5433/5939 (91.4800%)
___Test Local_ResNet_18 poisoned: False, epoch: 138: Average loss: 2.0606, Accuracy: 5341/10000 (53.4100%)
time spent on training: 278.09812688827515
___Test Target_ResNet_18 poisoned: False, epoch: 138: Average loss: 1.2699, Accuracy: 6764/10000 (67.6400%)
___Test Target_ResNet_18 poisoned: True, epoch: 138: Average loss: 0.0866, Accuracy: 9663/9900 (97.6061%)
Done in 304.7775774002075 sec.
Server Epoch:139 choose agents : [13, 36, 58, 71, 59, 30, 64, 19, 12, 82, 16, 74, 70, 85, 50, 67, 57, 72, 18, 46].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 139, local model 13, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5169/5308 (97.3813%), train_poison_data_count: 415
Global model norm: 43.8777988334505.
Norm before scaling: 43.845201942726156. Distance: 1.309615871880067
___Test Local_ResNet_18 poisoned: True, epoch: 139: Average loss: 0.0542, Accuracy: 9764/9900 (98.6263%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 139, local model 36, internal_epoch   1,  Average loss: 0.0017, Accuracy: 5632/5777 (97.4900%), train_poison_data_count: 455
Global model norm: 43.8777988334505.
Norm before scaling: 43.8376006356665. Distance: 1.3250533992875306
___Test Local_ResNet_18 poisoned: True, epoch: 139: Average loss: 0.0191, Accuracy: 9841/9900 (99.4040%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 139, local model 58, internal_epoch   1,  Average loss: 0.0026, Accuracy: 4974/5123 (97.0915%), train_poison_data_count: 403
Global model norm: 43.8777988334505.
Norm before scaling: 43.84289663059385. Distance: 1.2499323826621251
___Test Local_ResNet_18 poisoned: True, epoch: 139: Average loss: 0.0841, Accuracy: 9687/9900 (97.8485%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 139, local model 71, internal_epoch   1,  Average loss: 0.0019, Accuracy: 5356/5503 (97.3287%), train_poison_data_count: 430
Global model norm: 43.8777988334505.
Norm before scaling: 43.844569942885315. Distance: 1.3697867399448616
___Test Local_ResNet_18 poisoned: True, epoch: 139: Average loss: 0.0461, Accuracy: 9780/9900 (98.7879%)
___Train Local_ResNet_18,  epoch 139, local model 59, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4167/4397 (94.7692%)
___Train Local_ResNet_18,  epoch 139, local model 59, internal_epoch   2,  Average loss: 0.0025, Accuracy: 4199/4397 (95.4969%)
___Test Local_ResNet_18 poisoned: False, epoch: 139: Average loss: 1.8151, Accuracy: 5837/10000 (58.3700%)
___Train Local_ResNet_18,  epoch 139, local model 30, internal_epoch   1,  Average loss: 0.0030, Accuracy: 3573/3774 (94.6741%)
___Train Local_ResNet_18,  epoch 139, local model 30, internal_epoch   2,  Average loss: 0.0024, Accuracy: 3623/3774 (95.9989%)
___Test Local_ResNet_18 poisoned: False, epoch: 139: Average loss: 1.7555, Accuracy: 5896/10000 (58.9600%)
___Train Local_ResNet_18,  epoch 139, local model 64, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4450/4894 (90.9277%)
___Train Local_ResNet_18,  epoch 139, local model 64, internal_epoch   2,  Average loss: 0.0065, Accuracy: 4243/4894 (86.6980%)
___Test Local_ResNet_18 poisoned: False, epoch: 139: Average loss: 2.3327, Accuracy: 5028/10000 (50.2800%)
___Train Local_ResNet_18,  epoch 139, local model 19, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4848/5361 (90.4309%)
___Train Local_ResNet_18,  epoch 139, local model 19, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4771/5361 (88.9946%)
___Test Local_ResNet_18 poisoned: False, epoch: 139: Average loss: 2.2732, Accuracy: 5056/10000 (50.5600%)
___Train Local_ResNet_18,  epoch 139, local model 12, internal_epoch   1,  Average loss: 0.0046, Accuracy: 5049/5526 (91.3681%)
___Train Local_ResNet_18,  epoch 139, local model 12, internal_epoch   2,  Average loss: 0.0063, Accuracy: 4887/5526 (88.4365%)
___Test Local_ResNet_18 poisoned: False, epoch: 139: Average loss: 2.3000, Accuracy: 5195/10000 (51.9500%)
___Train Local_ResNet_18,  epoch 139, local model 82, internal_epoch   1,  Average loss: 0.0030, Accuracy: 5009/5298 (94.5451%)
___Train Local_ResNet_18,  epoch 139, local model 82, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4919/5298 (92.8464%)
___Test Local_ResNet_18 poisoned: False, epoch: 139: Average loss: 2.2476, Accuracy: 5296/10000 (52.9600%)
___Train Local_ResNet_18,  epoch 139, local model 16, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4915/5353 (91.8177%)
___Train Local_ResNet_18,  epoch 139, local model 16, internal_epoch   2,  Average loss: 0.0057, Accuracy: 4770/5353 (89.1089%)
___Test Local_ResNet_18 poisoned: False, epoch: 139: Average loss: 2.1601, Accuracy: 5270/10000 (52.7000%)
___Train Local_ResNet_18,  epoch 139, local model 74, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4414/4797 (92.0158%)
___Train Local_ResNet_18,  epoch 139, local model 74, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4367/4797 (91.0361%)
___Test Local_ResNet_18 poisoned: False, epoch: 139: Average loss: 2.0740, Accuracy: 5468/10000 (54.6800%)
___Train Local_ResNet_18,  epoch 139, local model 70, internal_epoch   1,  Average loss: 0.0036, Accuracy: 5469/5871 (93.1528%)
___Train Local_ResNet_18,  epoch 139, local model 70, internal_epoch   2,  Average loss: 0.0047, Accuracy: 5325/5871 (90.7001%)
___Test Local_ResNet_18 poisoned: False, epoch: 139: Average loss: 2.1787, Accuracy: 5214/10000 (52.1400%)
___Train Local_ResNet_18,  epoch 139, local model 85, internal_epoch   1,  Average loss: 0.0046, Accuracy: 6337/6947 (91.2192%)
___Train Local_ResNet_18,  epoch 139, local model 85, internal_epoch   2,  Average loss: 0.0060, Accuracy: 6110/6947 (87.9516%)
___Test Local_ResNet_18 poisoned: False, epoch: 139: Average loss: 2.2340, Accuracy: 5121/10000 (51.2100%)
___Train Local_ResNet_18,  epoch 139, local model 50, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4417/4757 (92.8526%)
___Train Local_ResNet_18,  epoch 139, local model 50, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4385/4757 (92.1799%)
___Test Local_ResNet_18 poisoned: False, epoch: 139: Average loss: 1.9703, Accuracy: 5518/10000 (55.1800%)
___Train Local_ResNet_18,  epoch 139, local model 67, internal_epoch   1,  Average loss: 0.0049, Accuracy: 5047/5559 (90.7897%)
___Train Local_ResNet_18,  epoch 139, local model 67, internal_epoch   2,  Average loss: 0.0058, Accuracy: 4917/5559 (88.4512%)
___Test Local_ResNet_18 poisoned: False, epoch: 139: Average loss: 2.1128, Accuracy: 5275/10000 (52.7500%)
___Train Local_ResNet_18,  epoch 139, local model 57, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4599/4956 (92.7966%)
___Train Local_ResNet_18,  epoch 139, local model 57, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4521/4956 (91.2228%)
___Test Local_ResNet_18 poisoned: False, epoch: 139: Average loss: 2.2673, Accuracy: 5115/10000 (51.1500%)
___Train Local_ResNet_18,  epoch 139, local model 72, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4765/5193 (91.7581%)
___Train Local_ResNet_18,  epoch 139, local model 72, internal_epoch   2,  Average loss: 0.0062, Accuracy: 4567/5193 (87.9453%)
___Test Local_ResNet_18 poisoned: False, epoch: 139: Average loss: 2.3490, Accuracy: 5037/10000 (50.3700%)
___Train Local_ResNet_18,  epoch 139, local model 18, internal_epoch   1,  Average loss: 0.0035, Accuracy: 3979/4249 (93.6456%)
___Train Local_ResNet_18,  epoch 139, local model 18, internal_epoch   2,  Average loss: 0.0042, Accuracy: 3904/4249 (91.8804%)
___Test Local_ResNet_18 poisoned: False, epoch: 139: Average loss: 1.9787, Accuracy: 5584/10000 (55.8400%)
___Train Local_ResNet_18,  epoch 139, local model 46, internal_epoch   1,  Average loss: 0.0054, Accuracy: 4846/5399 (89.7574%)
___Train Local_ResNet_18,  epoch 139, local model 46, internal_epoch   2,  Average loss: 0.0068, Accuracy: 4685/5399 (86.7753%)
___Test Local_ResNet_18 poisoned: False, epoch: 139: Average loss: 2.2013, Accuracy: 5163/10000 (51.6300%)
time spent on training: 279.9471764564514
___Test Target_ResNet_18 poisoned: False, epoch: 139: Average loss: 1.2751, Accuracy: 6743/10000 (67.4300%)
___Test Target_ResNet_18 poisoned: True, epoch: 139: Average loss: 0.0816, Accuracy: 9678/9900 (97.7576%)
Done in 306.7540955543518 sec.
Server Epoch:140 choose agents : [13, 36, 58, 71, 18, 76, 66, 22, 96, 54, 1, 88, 32, 97, 26, 2, 77, 68, 42, 5].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Significant loss increase detected for 13 at epoch 140: Current loss: 0.1704, Previous loss: 0.0723, Loss jump: 0.0981, Applied weight: 2.8403
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 140, local model 13, internal_epoch   1,  Average loss: 0.0017, Accuracy: 5183/5308 (97.6451%), train_poison_data_count: 415
Global model norm: 43.89915840193793.
Norm before scaling: 43.863694345559004. Distance: 1.2888368813711577
___Test Local_ResNet_18 poisoned: True, epoch: 140: Average loss: 0.0157, Accuracy: 9852/9900 (99.5152%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 140, local model 36, internal_epoch   1,  Average loss: 0.0017, Accuracy: 5636/5777 (97.5593%), train_poison_data_count: 455
Global model norm: 43.89915840193793.
Norm before scaling: 43.859700635592006. Distance: 1.33430260455176
___Test Local_ResNet_18 poisoned: True, epoch: 140: Average loss: 0.0256, Accuracy: 9831/9900 (99.3030%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Significant loss increase detected for 58 at epoch 140: Current loss: 0.1130, Previous loss: 0.0695, Loss jump: 0.0435, Applied weight: 1.3921
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 140, local model 58, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4938/5123 (96.3888%), train_poison_data_count: 403
Global model norm: 43.89915840193793.
Norm before scaling: 43.86786439259595. Distance: 1.3561971504708044
___Test Local_ResNet_18 poisoned: True, epoch: 140: Average loss: 0.0443, Accuracy: 9778/9900 (98.7677%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 140, local model 71, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5350/5503 (97.2197%), train_poison_data_count: 430
Global model norm: 43.89915840193793.
Norm before scaling: 43.86466697456009. Distance: 1.3522348660909094
___Test Local_ResNet_18 poisoned: True, epoch: 140: Average loss: 0.0333, Accuracy: 9819/9900 (99.1818%)
___Train Local_ResNet_18,  epoch 140, local model 18, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4014/4249 (94.4693%)
___Train Local_ResNet_18,  epoch 140, local model 18, internal_epoch   2,  Average loss: 0.0037, Accuracy: 3963/4249 (93.2690%)
___Test Local_ResNet_18 poisoned: False, epoch: 140: Average loss: 1.8299, Accuracy: 5892/10000 (58.9200%)
___Train Local_ResNet_18,  epoch 140, local model 76, internal_epoch   1,  Average loss: 0.0044, Accuracy: 3618/3959 (91.3867%)
___Train Local_ResNet_18,  epoch 140, local model 76, internal_epoch   2,  Average loss: 0.0040, Accuracy: 3651/3959 (92.2203%)
___Test Local_ResNet_18 poisoned: False, epoch: 140: Average loss: 2.0154, Accuracy: 5477/10000 (54.7700%)
___Train Local_ResNet_18,  epoch 140, local model 66, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4527/4843 (93.4751%)
___Train Local_ResNet_18,  epoch 140, local model 66, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4458/4843 (92.0504%)
___Test Local_ResNet_18 poisoned: False, epoch: 140: Average loss: 2.0098, Accuracy: 5431/10000 (54.3100%)
___Train Local_ResNet_18,  epoch 140, local model 22, internal_epoch   1,  Average loss: 0.0035, Accuracy: 5323/5696 (93.4515%)
___Train Local_ResNet_18,  epoch 140, local model 22, internal_epoch   2,  Average loss: 0.0038, Accuracy: 5278/5696 (92.6615%)
___Test Local_ResNet_18 poisoned: False, epoch: 140: Average loss: 1.9648, Accuracy: 5521/10000 (55.2100%)
___Train Local_ResNet_18,  epoch 140, local model 96, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4660/5086 (91.6241%)
___Train Local_ResNet_18,  epoch 140, local model 96, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4684/5086 (92.0959%)
___Test Local_ResNet_18 poisoned: False, epoch: 140: Average loss: 2.1157, Accuracy: 5439/10000 (54.3900%)
___Train Local_ResNet_18,  epoch 140, local model 54, internal_epoch   1,  Average loss: 0.0050, Accuracy: 5111/5645 (90.5403%)
___Train Local_ResNet_18,  epoch 140, local model 54, internal_epoch   2,  Average loss: 0.0069, Accuracy: 4885/5645 (86.5368%)
___Test Local_ResNet_18 poisoned: False, epoch: 140: Average loss: 2.0878, Accuracy: 5253/10000 (52.5300%)
___Train Local_ResNet_18,  epoch 140, local model 1, internal_epoch   1,  Average loss: 0.0029, Accuracy: 5132/5422 (94.6514%)
___Train Local_ResNet_18,  epoch 140, local model 1, internal_epoch   2,  Average loss: 0.0038, Accuracy: 5038/5422 (92.9177%)
___Test Local_ResNet_18 poisoned: False, epoch: 140: Average loss: 2.0310, Accuracy: 5521/10000 (55.2100%)
___Train Local_ResNet_18,  epoch 140, local model 88, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4949/5362 (92.2977%)
___Train Local_ResNet_18,  epoch 140, local model 88, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4855/5362 (90.5446%)
___Test Local_ResNet_18 poisoned: False, epoch: 140: Average loss: 1.9947, Accuracy: 5407/10000 (54.0700%)
___Train Local_ResNet_18,  epoch 140, local model 32, internal_epoch   1,  Average loss: 0.0050, Accuracy: 5480/6080 (90.1316%)
___Train Local_ResNet_18,  epoch 140, local model 32, internal_epoch   2,  Average loss: 0.0063, Accuracy: 5342/6080 (87.8618%)
___Test Local_ResNet_18 poisoned: False, epoch: 140: Average loss: 2.4286, Accuracy: 5007/10000 (50.0700%)
___Train Local_ResNet_18,  epoch 140, local model 97, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4321/4736 (91.2373%)
___Train Local_ResNet_18,  epoch 140, local model 97, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4289/4736 (90.5617%)
___Test Local_ResNet_18 poisoned: False, epoch: 140: Average loss: 2.0943, Accuracy: 5364/10000 (53.6400%)
___Train Local_ResNet_18,  epoch 140, local model 26, internal_epoch   1,  Average loss: 0.0031, Accuracy: 3855/4086 (94.3465%)
___Train Local_ResNet_18,  epoch 140, local model 26, internal_epoch   2,  Average loss: 0.0030, Accuracy: 3862/4086 (94.5179%)
___Test Local_ResNet_18 poisoned: False, epoch: 140: Average loss: 1.8755, Accuracy: 5711/10000 (57.1100%)
___Train Local_ResNet_18,  epoch 140, local model 2, internal_epoch   1,  Average loss: 0.0036, Accuracy: 3712/3968 (93.5484%)
___Train Local_ResNet_18,  epoch 140, local model 2, internal_epoch   2,  Average loss: 0.0039, Accuracy: 3676/3968 (92.6411%)
___Test Local_ResNet_18 poisoned: False, epoch: 140: Average loss: 1.9000, Accuracy: 5712/10000 (57.1200%)
___Train Local_ResNet_18,  epoch 140, local model 77, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4545/5050 (90.0000%)
___Train Local_ResNet_18,  epoch 140, local model 77, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4532/5050 (89.7426%)
___Test Local_ResNet_18 poisoned: False, epoch: 140: Average loss: 2.0106, Accuracy: 5401/10000 (54.0100%)
___Train Local_ResNet_18,  epoch 140, local model 68, internal_epoch   1,  Average loss: 0.0037, Accuracy: 3337/3589 (92.9785%)
___Train Local_ResNet_18,  epoch 140, local model 68, internal_epoch   2,  Average loss: 0.0041, Accuracy: 3320/3589 (92.5049%)
___Test Local_ResNet_18 poisoned: False, epoch: 140: Average loss: 2.0169, Accuracy: 5544/10000 (55.4400%)
___Train Local_ResNet_18,  epoch 140, local model 42, internal_epoch   1,  Average loss: 0.0045, Accuracy: 5379/5907 (91.0615%)
___Train Local_ResNet_18,  epoch 140, local model 42, internal_epoch   2,  Average loss: 0.0042, Accuracy: 5401/5907 (91.4339%)
___Test Local_ResNet_18 poisoned: False, epoch: 140: Average loss: 2.2585, Accuracy: 5054/10000 (50.5400%)
___Train Local_ResNet_18,  epoch 140, local model 5, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4706/4993 (94.2520%)
___Train Local_ResNet_18,  epoch 140, local model 5, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4704/4993 (94.2119%)
___Test Local_ResNet_18 poisoned: False, epoch: 140: Average loss: 1.9336, Accuracy: 5746/10000 (57.4600%)
time spent on training: 273.72198581695557
___Test Target_ResNet_18 poisoned: False, epoch: 140: Average loss: 1.2825, Accuracy: 6716/10000 (67.1600%)
___Test Target_ResNet_18 poisoned: True, epoch: 140: Average loss: 0.0722, Accuracy: 9708/9900 (98.0606%)
Done in 300.3031008243561 sec.
Server Epoch:141 choose agents : [13, 36, 58, 71, 69, 7, 17, 81, 55, 66, 54, 73, 78, 3, 79, 38, 84, 90, 5, 34].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 141, local model 13, internal_epoch   1,  Average loss: 0.0016, Accuracy: 5195/5308 (97.8711%), train_poison_data_count: 415
Global model norm: 43.9187968616336.
Norm before scaling: 43.88226240864938. Distance: 1.2120889419175873
___Test Local_ResNet_18 poisoned: True, epoch: 141: Average loss: 0.0524, Accuracy: 9766/9900 (98.6465%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 141, local model 36, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5653/5777 (97.8536%), train_poison_data_count: 455
Global model norm: 43.9187968616336.
Norm before scaling: 43.87661505440925. Distance: 1.2847868785683365
___Test Local_ResNet_18 poisoned: True, epoch: 141: Average loss: 0.0274, Accuracy: 9834/9900 (99.3333%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 141, local model 58, internal_epoch   1,  Average loss: 0.0024, Accuracy: 4967/5123 (96.9549%), train_poison_data_count: 403
Global model norm: 43.9187968616336.
Norm before scaling: 43.882416796551325. Distance: 1.234762010385013
___Test Local_ResNet_18 poisoned: True, epoch: 141: Average loss: 0.1271, Accuracy: 9574/9900 (96.7071%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 141, local model 71, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5356/5503 (97.3287%), train_poison_data_count: 430
Global model norm: 43.9187968616336.
Norm before scaling: 43.88512892786832. Distance: 1.3702929296368334
___Test Local_ResNet_18 poisoned: True, epoch: 141: Average loss: 0.0276, Accuracy: 9832/9900 (99.3131%)
___Train Local_ResNet_18,  epoch 141, local model 69, internal_epoch   1,  Average loss: 0.0045, Accuracy: 3996/4364 (91.5674%)
___Train Local_ResNet_18,  epoch 141, local model 69, internal_epoch   2,  Average loss: 0.0047, Accuracy: 3979/4364 (91.1778%)
___Test Local_ResNet_18 poisoned: False, epoch: 141: Average loss: 2.0492, Accuracy: 5451/10000 (54.5100%)
___Train Local_ResNet_18,  epoch 141, local model 7, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4469/4869 (91.7848%)
___Train Local_ResNet_18,  epoch 141, local model 7, internal_epoch   2,  Average loss: 0.0074, Accuracy: 4182/4869 (85.8903%)
___Test Local_ResNet_18 poisoned: False, epoch: 141: Average loss: 2.4781, Accuracy: 4845/10000 (48.4500%)
___Train Local_ResNet_18,  epoch 141, local model 17, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4471/4903 (91.1891%)
___Train Local_ResNet_18,  epoch 141, local model 17, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4431/4903 (90.3732%)
___Test Local_ResNet_18 poisoned: False, epoch: 141: Average loss: 2.1762, Accuracy: 5053/10000 (50.5300%)
___Train Local_ResNet_18,  epoch 141, local model 81, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4752/5035 (94.3793%)
___Train Local_ResNet_18,  epoch 141, local model 81, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4702/5035 (93.3863%)
___Test Local_ResNet_18 poisoned: False, epoch: 141: Average loss: 2.0079, Accuracy: 5614/10000 (56.1400%)
___Train Local_ResNet_18,  epoch 141, local model 55, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4427/4731 (93.5743%)
___Train Local_ResNet_18,  epoch 141, local model 55, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4403/4731 (93.0670%)
___Test Local_ResNet_18 poisoned: False, epoch: 141: Average loss: 1.9476, Accuracy: 5596/10000 (55.9600%)
___Train Local_ResNet_18,  epoch 141, local model 66, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4516/4843 (93.2480%)
___Train Local_ResNet_18,  epoch 141, local model 66, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4460/4843 (92.0917%)
___Test Local_ResNet_18 poisoned: False, epoch: 141: Average loss: 2.0116, Accuracy: 5499/10000 (54.9900%)
___Train Local_ResNet_18,  epoch 141, local model 54, internal_epoch   1,  Average loss: 0.0050, Accuracy: 5122/5645 (90.7352%)
___Train Local_ResNet_18,  epoch 141, local model 54, internal_epoch   2,  Average loss: 0.0065, Accuracy: 4902/5645 (86.8379%)
___Test Local_ResNet_18 poisoned: False, epoch: 141: Average loss: 2.2858, Accuracy: 5157/10000 (51.5700%)
___Train Local_ResNet_18,  epoch 141, local model 73, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4323/4605 (93.8762%)
___Train Local_ResNet_18,  epoch 141, local model 73, internal_epoch   2,  Average loss: 0.0030, Accuracy: 4335/4605 (94.1368%)
___Test Local_ResNet_18 poisoned: False, epoch: 141: Average loss: 1.9567, Accuracy: 5686/10000 (56.8600%)
___Train Local_ResNet_18,  epoch 141, local model 78, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4142/4368 (94.8260%)
___Train Local_ResNet_18,  epoch 141, local model 78, internal_epoch   2,  Average loss: 0.0030, Accuracy: 4140/4368 (94.7802%)
___Test Local_ResNet_18 poisoned: False, epoch: 141: Average loss: 1.9678, Accuracy: 5748/10000 (57.4800%)
___Train Local_ResNet_18,  epoch 141, local model 3, internal_epoch   1,  Average loss: 0.0031, Accuracy: 5033/5346 (94.1452%)
___Train Local_ResNet_18,  epoch 141, local model 3, internal_epoch   2,  Average loss: 0.0034, Accuracy: 5004/5346 (93.6027%)
___Test Local_ResNet_18 poisoned: False, epoch: 141: Average loss: 2.1104, Accuracy: 5407/10000 (54.0700%)
___Train Local_ResNet_18,  epoch 141, local model 79, internal_epoch   1,  Average loss: 0.0031, Accuracy: 3883/4111 (94.4539%)
___Train Local_ResNet_18,  epoch 141, local model 79, internal_epoch   2,  Average loss: 0.0034, Accuracy: 3840/4111 (93.4079%)
___Test Local_ResNet_18 poisoned: False, epoch: 141: Average loss: 1.9129, Accuracy: 5734/10000 (57.3400%)
___Train Local_ResNet_18,  epoch 141, local model 38, internal_epoch   1,  Average loss: 0.0047, Accuracy: 5658/6235 (90.7458%)
___Train Local_ResNet_18,  epoch 141, local model 38, internal_epoch   2,  Average loss: 0.0055, Accuracy: 5556/6235 (89.1099%)
___Test Local_ResNet_18 poisoned: False, epoch: 141: Average loss: 2.3497, Accuracy: 5032/10000 (50.3200%)
___Train Local_ResNet_18,  epoch 141, local model 84, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4766/5209 (91.4955%)
___Train Local_ResNet_18,  epoch 141, local model 84, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4686/5209 (89.9597%)
___Test Local_ResNet_18 poisoned: False, epoch: 141: Average loss: 2.1300, Accuracy: 5442/10000 (54.4200%)
___Train Local_ResNet_18,  epoch 141, local model 90, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4425/4748 (93.1971%)
___Train Local_ResNet_18,  epoch 141, local model 90, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4359/4748 (91.8071%)
___Test Local_ResNet_18 poisoned: False, epoch: 141: Average loss: 2.0391, Accuracy: 5448/10000 (54.4800%)
___Train Local_ResNet_18,  epoch 141, local model 5, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4741/4993 (94.9529%)
___Train Local_ResNet_18,  epoch 141, local model 5, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4691/4993 (93.9515%)
___Test Local_ResNet_18 poisoned: False, epoch: 141: Average loss: 2.0207, Accuracy: 5639/10000 (56.3900%)
___Train Local_ResNet_18,  epoch 141, local model 34, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4581/4911 (93.2804%)
___Train Local_ResNet_18,  epoch 141, local model 34, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4547/4911 (92.5881%)
___Test Local_ResNet_18 poisoned: False, epoch: 141: Average loss: 2.2814, Accuracy: 5128/10000 (51.2800%)
time spent on training: 270.3626973628998
___Test Target_ResNet_18 poisoned: False, epoch: 141: Average loss: 1.2851, Accuracy: 6727/10000 (67.2700%)
___Test Target_ResNet_18 poisoned: True, epoch: 141: Average loss: 0.0681, Accuracy: 9727/9900 (98.2525%)
Done in 296.70364928245544 sec.
Server Epoch:142 choose agents : [13, 36, 58, 71, 96, 52, 20, 2, 65, 42, 1, 45, 48, 32, 68, 12, 39, 33, 4, 46].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 142, local model 13, internal_epoch   1,  Average loss: 0.0017, Accuracy: 5175/5308 (97.4943%), train_poison_data_count: 415
Global model norm: 43.93719994563263.
Norm before scaling: 43.900711394435284. Distance: 1.2506469959496098
___Test Local_ResNet_18 poisoned: True, epoch: 142: Average loss: 0.0634, Accuracy: 9743/9900 (98.4141%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 142, local model 36, internal_epoch   1,  Average loss: 0.0017, Accuracy: 5633/5777 (97.5074%), train_poison_data_count: 455
Global model norm: 43.93719994563263.
Norm before scaling: 43.89681003946215. Distance: 1.3340809285867405
___Test Local_ResNet_18 poisoned: True, epoch: 142: Average loss: 0.0473, Accuracy: 9789/9900 (98.8788%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 142, local model 58, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4961/5123 (96.8378%), train_poison_data_count: 403
Global model norm: 43.93719994563263.
Norm before scaling: 43.90285796505736. Distance: 1.27945387946989
___Test Local_ResNet_18 poisoned: True, epoch: 142: Average loss: 0.2216, Accuracy: 9295/9900 (93.8889%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 142, local model 71, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5355/5503 (97.3106%), train_poison_data_count: 430
Global model norm: 43.93719994563263.
Norm before scaling: 43.90226989299998. Distance: 1.3457675248503258
___Test Local_ResNet_18 poisoned: True, epoch: 142: Average loss: 0.0520, Accuracy: 9759/9900 (98.5758%)
___Train Local_ResNet_18,  epoch 142, local model 96, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4663/5086 (91.6831%)
___Train Local_ResNet_18,  epoch 142, local model 96, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4638/5086 (91.1915%)
___Test Local_ResNet_18 poisoned: False, epoch: 142: Average loss: 2.0755, Accuracy: 5370/10000 (53.7000%)
___Train Local_ResNet_18,  epoch 142, local model 52, internal_epoch   1,  Average loss: 0.0034, Accuracy: 3887/4130 (94.1162%)
___Train Local_ResNet_18,  epoch 142, local model 52, internal_epoch   2,  Average loss: 0.0034, Accuracy: 3873/4130 (93.7772%)
___Test Local_ResNet_18 poisoned: False, epoch: 142: Average loss: 1.9742, Accuracy: 5615/10000 (56.1500%)
___Train Local_ResNet_18,  epoch 142, local model 20, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4405/4714 (93.4451%)
___Train Local_ResNet_18,  epoch 142, local model 20, internal_epoch   2,  Average loss: 0.0032, Accuracy: 4410/4714 (93.5511%)
___Test Local_ResNet_18 poisoned: False, epoch: 142: Average loss: 1.8958, Accuracy: 5693/10000 (56.9300%)
___Train Local_ResNet_18,  epoch 142, local model 2, internal_epoch   1,  Average loss: 0.0038, Accuracy: 3673/3968 (92.5655%)
___Train Local_ResNet_18,  epoch 142, local model 2, internal_epoch   2,  Average loss: 0.0039, Accuracy: 3663/3968 (92.3135%)
___Test Local_ResNet_18 poisoned: False, epoch: 142: Average loss: 1.9658, Accuracy: 5642/10000 (56.4200%)
___Train Local_ResNet_18,  epoch 142, local model 65, internal_epoch   1,  Average loss: 0.0043, Accuracy: 5033/5497 (91.5590%)
___Train Local_ResNet_18,  epoch 142, local model 65, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4913/5497 (89.3760%)
___Test Local_ResNet_18 poisoned: False, epoch: 142: Average loss: 2.2602, Accuracy: 5172/10000 (51.7200%)
___Train Local_ResNet_18,  epoch 142, local model 42, internal_epoch   1,  Average loss: 0.0039, Accuracy: 5458/5907 (92.3988%)
___Train Local_ResNet_18,  epoch 142, local model 42, internal_epoch   2,  Average loss: 0.0049, Accuracy: 5341/5907 (90.4181%)
___Test Local_ResNet_18 poisoned: False, epoch: 142: Average loss: 2.1745, Accuracy: 5325/10000 (53.2500%)
___Train Local_ResNet_18,  epoch 142, local model 1, internal_epoch   1,  Average loss: 0.0028, Accuracy: 5136/5422 (94.7252%)
___Train Local_ResNet_18,  epoch 142, local model 1, internal_epoch   2,  Average loss: 0.0036, Accuracy: 5046/5422 (93.0653%)
___Test Local_ResNet_18 poisoned: False, epoch: 142: Average loss: 1.9742, Accuracy: 5651/10000 (56.5100%)
___Train Local_ResNet_18,  epoch 142, local model 45, internal_epoch   1,  Average loss: 0.0040, Accuracy: 5043/5489 (91.8747%)
___Train Local_ResNet_18,  epoch 142, local model 45, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4950/5489 (90.1804%)
___Test Local_ResNet_18 poisoned: False, epoch: 142: Average loss: 2.2161, Accuracy: 5203/10000 (52.0300%)
___Train Local_ResNet_18,  epoch 142, local model 48, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4546/4830 (94.1201%)
___Train Local_ResNet_18,  epoch 142, local model 48, internal_epoch   2,  Average loss: 0.0032, Accuracy: 4525/4830 (93.6853%)
___Test Local_ResNet_18 poisoned: False, epoch: 142: Average loss: 2.1888, Accuracy: 5340/10000 (53.4000%)
___Train Local_ResNet_18,  epoch 142, local model 32, internal_epoch   1,  Average loss: 0.0056, Accuracy: 5413/6080 (89.0296%)
___Train Local_ResNet_18,  epoch 142, local model 32, internal_epoch   2,  Average loss: 0.0059, Accuracy: 5367/6080 (88.2730%)
___Test Local_ResNet_18 poisoned: False, epoch: 142: Average loss: 2.3521, Accuracy: 4969/10000 (49.6900%)
___Train Local_ResNet_18,  epoch 142, local model 68, internal_epoch   1,  Average loss: 0.0040, Accuracy: 3356/3589 (93.5079%)
___Train Local_ResNet_18,  epoch 142, local model 68, internal_epoch   2,  Average loss: 0.0076, Accuracy: 3071/3589 (85.5670%)
___Test Local_ResNet_18 poisoned: False, epoch: 142: Average loss: 2.2907, Accuracy: 5134/10000 (51.3400%)
___Train Local_ResNet_18,  epoch 142, local model 12, internal_epoch   1,  Average loss: 0.0044, Accuracy: 5067/5526 (91.6938%)
___Train Local_ResNet_18,  epoch 142, local model 12, internal_epoch   2,  Average loss: 0.0057, Accuracy: 4910/5526 (88.8527%)
___Test Local_ResNet_18 poisoned: False, epoch: 142: Average loss: 2.1200, Accuracy: 5243/10000 (52.4300%)
___Train Local_ResNet_18,  epoch 142, local model 39, internal_epoch   1,  Average loss: 0.0039, Accuracy: 3857/4175 (92.3832%)
___Train Local_ResNet_18,  epoch 142, local model 39, internal_epoch   2,  Average loss: 0.0044, Accuracy: 3819/4175 (91.4731%)
___Test Local_ResNet_18 poisoned: False, epoch: 142: Average loss: 2.0125, Accuracy: 5513/10000 (55.1300%)
___Train Local_ResNet_18,  epoch 142, local model 33, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4470/4818 (92.7771%)
___Train Local_ResNet_18,  epoch 142, local model 33, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4385/4818 (91.0129%)
___Test Local_ResNet_18 poisoned: False, epoch: 142: Average loss: 1.9337, Accuracy: 5608/10000 (56.0800%)
___Train Local_ResNet_18,  epoch 142, local model 4, internal_epoch   1,  Average loss: 0.0037, Accuracy: 3737/4028 (92.7756%)
___Train Local_ResNet_18,  epoch 142, local model 4, internal_epoch   2,  Average loss: 0.0037, Accuracy: 3729/4028 (92.5770%)
___Test Local_ResNet_18 poisoned: False, epoch: 142: Average loss: 1.9195, Accuracy: 5689/10000 (56.8900%)
___Train Local_ResNet_18,  epoch 142, local model 46, internal_epoch   1,  Average loss: 0.0050, Accuracy: 4862/5399 (90.0537%)
___Train Local_ResNet_18,  epoch 142, local model 46, internal_epoch   2,  Average loss: 0.0067, Accuracy: 4685/5399 (86.7753%)
___Test Local_ResNet_18 poisoned: False, epoch: 142: Average loss: 2.3206, Accuracy: 4960/10000 (49.6000%)
time spent on training: 273.5278742313385
___Test Target_ResNet_18 poisoned: False, epoch: 142: Average loss: 1.2851, Accuracy: 6724/10000 (67.2400%)
___Test Target_ResNet_18 poisoned: True, epoch: 142: Average loss: 0.0706, Accuracy: 9717/9900 (98.1515%)
Done in 300.15254950523376 sec.
Server Epoch:143 choose agents : [13, 36, 58, 71, 27, 65, 15, 35, 94, 34, 49, 50, 42, 4, 93, 68, 90, 96, 92, 69].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 143, local model 13, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5201/5308 (97.9842%), train_poison_data_count: 415
Global model norm: 43.95694637671758.
Norm before scaling: 43.919184593872245. Distance: 1.2116453993416256
___Test Local_ResNet_18 poisoned: True, epoch: 143: Average loss: 0.0224, Accuracy: 9842/9900 (99.4141%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 143, local model 36, internal_epoch   1,  Average loss: 0.0017, Accuracy: 5631/5777 (97.4727%), train_poison_data_count: 455
Global model norm: 43.95694637671758.
Norm before scaling: 43.91693041804891. Distance: 1.3189456342608912
___Test Local_ResNet_18 poisoned: True, epoch: 143: Average loss: 0.0388, Accuracy: 9797/9900 (98.9596%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 143, local model 58, internal_epoch   1,  Average loss: 0.0026, Accuracy: 4954/5123 (96.7012%), train_poison_data_count: 403
Global model norm: 43.95694637671758.
Norm before scaling: 43.9230422737101. Distance: 1.306397693443131
___Test Local_ResNet_18 poisoned: True, epoch: 143: Average loss: 0.1204, Accuracy: 9597/9900 (96.9394%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 143, local model 71, internal_epoch   1,  Average loss: 0.0016, Accuracy: 5377/5503 (97.7103%), train_poison_data_count: 430
Global model norm: 43.95694637671758.
Norm before scaling: 43.91871486763929. Distance: 1.2531320909408896
___Test Local_ResNet_18 poisoned: True, epoch: 143: Average loss: 0.0301, Accuracy: 9825/9900 (99.2424%)
___Train Local_ResNet_18,  epoch 143, local model 27, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4272/4587 (93.1328%)
___Train Local_ResNet_18,  epoch 143, local model 27, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4227/4587 (92.1517%)
___Test Local_ResNet_18 poisoned: False, epoch: 143: Average loss: 1.9993, Accuracy: 5469/10000 (54.6900%)
___Train Local_ResNet_18,  epoch 143, local model 65, internal_epoch   1,  Average loss: 0.0045, Accuracy: 5006/5497 (91.0679%)
___Train Local_ResNet_18,  epoch 143, local model 65, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4938/5497 (89.8308%)
___Test Local_ResNet_18 poisoned: False, epoch: 143: Average loss: 2.1819, Accuracy: 5212/10000 (52.1200%)
___Train Local_ResNet_18,  epoch 143, local model 15, internal_epoch   1,  Average loss: 0.0043, Accuracy: 5575/6068 (91.8754%)
___Train Local_ResNet_18,  epoch 143, local model 15, internal_epoch   2,  Average loss: 0.0046, Accuracy: 5525/6068 (91.0514%)
___Test Local_ResNet_18 poisoned: False, epoch: 143: Average loss: 2.2874, Accuracy: 5015/10000 (50.1500%)
___Train Local_ResNet_18,  epoch 143, local model 35, internal_epoch   1,  Average loss: 0.0038, Accuracy: 5229/5615 (93.1256%)
___Train Local_ResNet_18,  epoch 143, local model 35, internal_epoch   2,  Average loss: 0.0042, Accuracy: 5141/5615 (91.5583%)
___Test Local_ResNet_18 poisoned: False, epoch: 143: Average loss: 2.2480, Accuracy: 5272/10000 (52.7200%)
___Train Local_ResNet_18,  epoch 143, local model 94, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4746/5224 (90.8499%)
___Train Local_ResNet_18,  epoch 143, local model 94, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4721/5224 (90.3714%)
___Test Local_ResNet_18 poisoned: False, epoch: 143: Average loss: 2.1926, Accuracy: 5319/10000 (53.1900%)
___Train Local_ResNet_18,  epoch 143, local model 34, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4553/4911 (92.7102%)
___Train Local_ResNet_18,  epoch 143, local model 34, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4527/4911 (92.1808%)
___Test Local_ResNet_18 poisoned: False, epoch: 143: Average loss: 2.1340, Accuracy: 5323/10000 (53.2300%)
___Train Local_ResNet_18,  epoch 143, local model 49, internal_epoch   1,  Average loss: 0.0047, Accuracy: 5155/5652 (91.2067%)
___Train Local_ResNet_18,  epoch 143, local model 49, internal_epoch   2,  Average loss: 0.0054, Accuracy: 5046/5652 (89.2781%)
___Test Local_ResNet_18 poisoned: False, epoch: 143: Average loss: 2.3367, Accuracy: 5056/10000 (50.5600%)
___Train Local_ResNet_18,  epoch 143, local model 50, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4449/4757 (93.5253%)
___Train Local_ResNet_18,  epoch 143, local model 50, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4347/4757 (91.3811%)
___Test Local_ResNet_18 poisoned: False, epoch: 143: Average loss: 2.0920, Accuracy: 5368/10000 (53.6800%)
___Train Local_ResNet_18,  epoch 143, local model 42, internal_epoch   1,  Average loss: 0.0044, Accuracy: 5402/5907 (91.4508%)
___Train Local_ResNet_18,  epoch 143, local model 42, internal_epoch   2,  Average loss: 0.0052, Accuracy: 5318/5907 (90.0288%)
___Test Local_ResNet_18 poisoned: False, epoch: 143: Average loss: 2.5985, Accuracy: 4679/10000 (46.7900%)
___Train Local_ResNet_18,  epoch 143, local model 4, internal_epoch   1,  Average loss: 0.0041, Accuracy: 3725/4028 (92.4777%)
___Train Local_ResNet_18,  epoch 143, local model 4, internal_epoch   2,  Average loss: 0.0038, Accuracy: 3732/4028 (92.6514%)
___Test Local_ResNet_18 poisoned: False, epoch: 143: Average loss: 1.9776, Accuracy: 5616/10000 (56.1600%)
___Train Local_ResNet_18,  epoch 143, local model 93, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4657/5055 (92.1266%)
___Train Local_ResNet_18,  epoch 143, local model 93, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4557/5055 (90.1484%)
___Test Local_ResNet_18 poisoned: False, epoch: 143: Average loss: 2.0991, Accuracy: 5421/10000 (54.2100%)
___Train Local_ResNet_18,  epoch 143, local model 68, internal_epoch   1,  Average loss: 0.0035, Accuracy: 3358/3589 (93.5637%)
___Train Local_ResNet_18,  epoch 143, local model 68, internal_epoch   2,  Average loss: 0.0039, Accuracy: 3337/3589 (92.9785%)
___Test Local_ResNet_18 poisoned: False, epoch: 143: Average loss: 2.0161, Accuracy: 5598/10000 (55.9800%)
___Train Local_ResNet_18,  epoch 143, local model 90, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4481/4748 (94.3766%)
___Train Local_ResNet_18,  epoch 143, local model 90, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4307/4748 (90.7119%)
___Test Local_ResNet_18 poisoned: False, epoch: 143: Average loss: 2.1854, Accuracy: 5320/10000 (53.2000%)
___Train Local_ResNet_18,  epoch 143, local model 96, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4699/5086 (92.3909%)
___Train Local_ResNet_18,  epoch 143, local model 96, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4702/5086 (92.4499%)
___Test Local_ResNet_18 poisoned: False, epoch: 143: Average loss: 2.0441, Accuracy: 5587/10000 (55.8700%)
___Train Local_ResNet_18,  epoch 143, local model 92, internal_epoch   1,  Average loss: 0.0034, Accuracy: 6391/6812 (93.8197%)
___Train Local_ResNet_18,  epoch 143, local model 92, internal_epoch   2,  Average loss: 0.0043, Accuracy: 6236/6812 (91.5443%)
___Test Local_ResNet_18 poisoned: False, epoch: 143: Average loss: 2.3743, Accuracy: 5022/10000 (50.2200%)
___Train Local_ResNet_18,  epoch 143, local model 69, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4097/4364 (93.8818%)
___Train Local_ResNet_18,  epoch 143, local model 69, internal_epoch   2,  Average loss: 0.0044, Accuracy: 3994/4364 (91.5215%)
___Test Local_ResNet_18 poisoned: False, epoch: 143: Average loss: 2.0413, Accuracy: 5537/10000 (55.3700%)
time spent on training: 278.9396507740021
___Test Target_ResNet_18 poisoned: False, epoch: 143: Average loss: 1.2824, Accuracy: 6734/10000 (67.3400%)
___Test Target_ResNet_18 poisoned: True, epoch: 143: Average loss: 0.0711, Accuracy: 9720/9900 (98.1818%)
Done in 305.3972969055176 sec.
Server Epoch:144 choose agents : [13, 36, 58, 71, 0, 83, 23, 90, 88, 51, 9, 6, 70, 7, 75, 87, 85, 89, 84, 2].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 144, local model 13, internal_epoch   1,  Average loss: 0.0016, Accuracy: 5196/5308 (97.8900%), train_poison_data_count: 415
Global model norm: 43.97816480359529.
Norm before scaling: 43.940689340149184. Distance: 1.2378725647022661
___Test Local_ResNet_18 poisoned: True, epoch: 144: Average loss: 0.0786, Accuracy: 9691/9900 (97.8889%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 144, local model 36, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5617/5777 (97.2304%), train_poison_data_count: 455
Global model norm: 43.97816480359529.
Norm before scaling: 43.93837375775943. Distance: 1.3638180438303513
___Test Local_ResNet_18 poisoned: True, epoch: 144: Average loss: 0.0960, Accuracy: 9655/9900 (97.5253%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 144, local model 58, internal_epoch   1,  Average loss: 0.0026, Accuracy: 4969/5123 (96.9939%), train_poison_data_count: 403
Global model norm: 43.97816480359529.
Norm before scaling: 43.943633995722294. Distance: 1.284416936853365
___Test Local_ResNet_18 poisoned: True, epoch: 144: Average loss: 0.0518, Accuracy: 9759/9900 (98.5758%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 144, local model 71, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5364/5503 (97.4741%), train_poison_data_count: 430
Global model norm: 43.97816480359529.
Norm before scaling: 43.942571442292014. Distance: 1.3190308619800968
___Test Local_ResNet_18 poisoned: True, epoch: 144: Average loss: 0.0391, Accuracy: 9803/9900 (99.0202%)
___Train Local_ResNet_18,  epoch 144, local model 0, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4977/5454 (91.2541%)
___Train Local_ResNet_18,  epoch 144, local model 0, internal_epoch   2,  Average loss: 0.0063, Accuracy: 4795/5454 (87.9171%)
___Test Local_ResNet_18 poisoned: False, epoch: 144: Average loss: 2.3135, Accuracy: 5077/10000 (50.7700%)
___Train Local_ResNet_18,  epoch 144, local model 83, internal_epoch   1,  Average loss: 0.0040, Accuracy: 3278/3552 (92.2860%)
___Train Local_ResNet_18,  epoch 144, local model 83, internal_epoch   2,  Average loss: 0.0038, Accuracy: 3288/3552 (92.5676%)
___Test Local_ResNet_18 poisoned: False, epoch: 144: Average loss: 2.0047, Accuracy: 5564/10000 (55.6400%)
___Train Local_ResNet_18,  epoch 144, local model 23, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4259/4549 (93.6250%)
___Train Local_ResNet_18,  epoch 144, local model 23, internal_epoch   2,  Average loss: 0.0058, Accuracy: 4053/4549 (89.0965%)
___Test Local_ResNet_18 poisoned: False, epoch: 144: Average loss: 1.9638, Accuracy: 5546/10000 (55.4600%)
___Train Local_ResNet_18,  epoch 144, local model 90, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4506/4748 (94.9031%)
___Train Local_ResNet_18,  epoch 144, local model 90, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4396/4748 (92.5864%)
___Test Local_ResNet_18 poisoned: False, epoch: 144: Average loss: 1.9387, Accuracy: 5619/10000 (56.1900%)
___Train Local_ResNet_18,  epoch 144, local model 88, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4952/5362 (92.3536%)
___Train Local_ResNet_18,  epoch 144, local model 88, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4813/5362 (89.7613%)
___Test Local_ResNet_18 poisoned: False, epoch: 144: Average loss: 2.1291, Accuracy: 5378/10000 (53.7800%)
___Train Local_ResNet_18,  epoch 144, local model 51, internal_epoch   1,  Average loss: 0.0038, Accuracy: 3810/4108 (92.7459%)
___Train Local_ResNet_18,  epoch 144, local model 51, internal_epoch   2,  Average loss: 0.0037, Accuracy: 3815/4108 (92.8676%)
___Test Local_ResNet_18 poisoned: False, epoch: 144: Average loss: 2.0277, Accuracy: 5511/10000 (55.1100%)
___Train Local_ResNet_18,  epoch 144, local model 9, internal_epoch   1,  Average loss: 0.0045, Accuracy: 5237/5727 (91.4440%)
___Train Local_ResNet_18,  epoch 144, local model 9, internal_epoch   2,  Average loss: 0.0057, Accuracy: 5096/5727 (88.9820%)
___Test Local_ResNet_18 poisoned: False, epoch: 144: Average loss: 2.1115, Accuracy: 5371/10000 (53.7100%)
___Train Local_ResNet_18,  epoch 144, local model 6, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4580/4929 (92.9195%)
___Train Local_ResNet_18,  epoch 144, local model 6, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4455/4929 (90.3834%)
___Test Local_ResNet_18 poisoned: False, epoch: 144: Average loss: 2.2000, Accuracy: 5464/10000 (54.6400%)
___Train Local_ResNet_18,  epoch 144, local model 70, internal_epoch   1,  Average loss: 0.0034, Accuracy: 5493/5871 (93.5616%)
___Train Local_ResNet_18,  epoch 144, local model 70, internal_epoch   2,  Average loss: 0.0043, Accuracy: 5377/5871 (91.5858%)
___Test Local_ResNet_18 poisoned: False, epoch: 144: Average loss: 2.0810, Accuracy: 5485/10000 (54.8500%)
___Train Local_ResNet_18,  epoch 144, local model 7, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4495/4869 (92.3188%)
___Train Local_ResNet_18,  epoch 144, local model 7, internal_epoch   2,  Average loss: 0.0105, Accuracy: 3914/4869 (80.3861%)
___Test Local_ResNet_18 poisoned: False, epoch: 144: Average loss: 2.3489, Accuracy: 4877/10000 (48.7700%)
___Train Local_ResNet_18,  epoch 144, local model 75, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4372/4672 (93.5788%)
___Train Local_ResNet_18,  epoch 144, local model 75, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4367/4672 (93.4717%)
___Test Local_ResNet_18 poisoned: False, epoch: 144: Average loss: 1.9811, Accuracy: 5669/10000 (56.6900%)
___Train Local_ResNet_18,  epoch 144, local model 87, internal_epoch   1,  Average loss: 0.0052, Accuracy: 3602/3995 (90.1627%)
___Train Local_ResNet_18,  epoch 144, local model 87, internal_epoch   2,  Average loss: 0.0056, Accuracy: 3565/3995 (89.2365%)
___Test Local_ResNet_18 poisoned: False, epoch: 144: Average loss: 2.1094, Accuracy: 5461/10000 (54.6100%)
___Train Local_ResNet_18,  epoch 144, local model 85, internal_epoch   1,  Average loss: 0.0047, Accuracy: 6317/6947 (90.9313%)
___Train Local_ResNet_18,  epoch 144, local model 85, internal_epoch   2,  Average loss: 0.0067, Accuracy: 6046/6947 (87.0304%)
___Test Local_ResNet_18 poisoned: False, epoch: 144: Average loss: 2.2259, Accuracy: 5155/10000 (51.5500%)
___Train Local_ResNet_18,  epoch 144, local model 89, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4356/4737 (91.9569%)
___Train Local_ResNet_18,  epoch 144, local model 89, internal_epoch   2,  Average loss: 0.0058, Accuracy: 4290/4737 (90.5636%)
___Test Local_ResNet_18 poisoned: False, epoch: 144: Average loss: 2.1725, Accuracy: 5332/10000 (53.3200%)
___Train Local_ResNet_18,  epoch 144, local model 84, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4791/5209 (91.9754%)
___Train Local_ResNet_18,  epoch 144, local model 84, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4672/5209 (89.6909%)
___Test Local_ResNet_18 poisoned: False, epoch: 144: Average loss: 2.1911, Accuracy: 5276/10000 (52.7600%)
___Train Local_ResNet_18,  epoch 144, local model 2, internal_epoch   1,  Average loss: 0.0032, Accuracy: 3745/3968 (94.3800%)
___Train Local_ResNet_18,  epoch 144, local model 2, internal_epoch   2,  Average loss: 0.0030, Accuracy: 3737/3968 (94.1784%)
___Test Local_ResNet_18 poisoned: False, epoch: 144: Average loss: 1.8927, Accuracy: 5719/10000 (57.1900%)
time spent on training: 270.111004114151
___Test Target_ResNet_18 poisoned: False, epoch: 144: Average loss: 1.2947, Accuracy: 6711/10000 (67.1100%)
___Test Target_ResNet_18 poisoned: True, epoch: 144: Average loss: 0.0715, Accuracy: 9717/9900 (98.1515%)
Done in 296.4785780906677 sec.
Server Epoch:145 choose agents : [13, 36, 58, 71, 27, 69, 59, 16, 44, 4, 1, 35, 8, 7, 23, 66, 88, 42, 52, 0].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 145, local model 13, internal_epoch   1,  Average loss: 0.0016, Accuracy: 5179/5308 (97.5697%), train_poison_data_count: 415
Global model norm: 43.99791227069402.
Norm before scaling: 43.96043420384545. Distance: 1.2467849871046406
___Test Local_ResNet_18 poisoned: True, epoch: 145: Average loss: 0.0278, Accuracy: 9826/9900 (99.2525%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 145, local model 36, internal_epoch   1,  Average loss: 0.0017, Accuracy: 5630/5777 (97.4554%), train_poison_data_count: 455
Global model norm: 43.99791227069402.
Norm before scaling: 43.956786696478254. Distance: 1.3195857920421503
___Test Local_ResNet_18 poisoned: True, epoch: 145: Average loss: 0.0448, Accuracy: 9790/9900 (98.8889%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 145, local model 58, internal_epoch   1,  Average loss: 0.0025, Accuracy: 4974/5123 (97.0915%), train_poison_data_count: 403
Global model norm: 43.99791227069402.
Norm before scaling: 43.96397728627524. Distance: 1.2697470613593196
___Test Local_ResNet_18 poisoned: True, epoch: 145: Average loss: 0.1310, Accuracy: 9572/9900 (96.6869%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 145, local model 71, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5352/5503 (97.2560%), train_poison_data_count: 430
Global model norm: 43.99791227069402.
Norm before scaling: 43.96287912786124. Distance: 1.343564442087468
___Test Local_ResNet_18 poisoned: True, epoch: 145: Average loss: 0.0456, Accuracy: 9777/9900 (98.7576%)
___Train Local_ResNet_18,  epoch 145, local model 27, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4207/4587 (91.7157%)
___Train Local_ResNet_18,  epoch 145, local model 27, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4113/4587 (89.6664%)
___Test Local_ResNet_18 poisoned: False, epoch: 145: Average loss: 2.3074, Accuracy: 5186/10000 (51.8600%)
___Train Local_ResNet_18,  epoch 145, local model 69, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4065/4364 (93.1485%)
___Train Local_ResNet_18,  epoch 145, local model 69, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4009/4364 (91.8653%)
___Test Local_ResNet_18 poisoned: False, epoch: 145: Average loss: 1.9102, Accuracy: 5681/10000 (56.8100%)
___Train Local_ResNet_18,  epoch 145, local model 59, internal_epoch   1,  Average loss: 0.0025, Accuracy: 4178/4397 (95.0193%)
___Train Local_ResNet_18,  epoch 145, local model 59, internal_epoch   2,  Average loss: 0.0023, Accuracy: 4198/4397 (95.4742%)
___Test Local_ResNet_18 poisoned: False, epoch: 145: Average loss: 1.8290, Accuracy: 5845/10000 (58.4500%)
___Train Local_ResNet_18,  epoch 145, local model 16, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4938/5353 (92.2473%)
___Train Local_ResNet_18,  epoch 145, local model 16, internal_epoch   2,  Average loss: 0.0056, Accuracy: 4785/5353 (89.3891%)
___Test Local_ResNet_18 poisoned: False, epoch: 145: Average loss: 2.2376, Accuracy: 5235/10000 (52.3500%)
___Train Local_ResNet_18,  epoch 145, local model 44, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4761/5075 (93.8128%)
___Train Local_ResNet_18,  epoch 145, local model 44, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4659/5075 (91.8030%)
___Test Local_ResNet_18 poisoned: False, epoch: 145: Average loss: 2.0965, Accuracy: 5411/10000 (54.1100%)
___Train Local_ResNet_18,  epoch 145, local model 4, internal_epoch   1,  Average loss: 0.0035, Accuracy: 3748/4028 (93.0487%)
___Train Local_ResNet_18,  epoch 145, local model 4, internal_epoch   2,  Average loss: 0.0035, Accuracy: 3756/4028 (93.2473%)
___Test Local_ResNet_18 poisoned: False, epoch: 145: Average loss: 1.9467, Accuracy: 5695/10000 (56.9500%)
___Train Local_ResNet_18,  epoch 145, local model 1, internal_epoch   1,  Average loss: 0.0027, Accuracy: 5144/5422 (94.8727%)
___Train Local_ResNet_18,  epoch 145, local model 1, internal_epoch   2,  Average loss: 0.0036, Accuracy: 5062/5422 (93.3604%)
___Test Local_ResNet_18 poisoned: False, epoch: 145: Average loss: 2.0541, Accuracy: 5517/10000 (55.1700%)
___Train Local_ResNet_18,  epoch 145, local model 35, internal_epoch   1,  Average loss: 0.0039, Accuracy: 5232/5615 (93.1790%)
___Train Local_ResNet_18,  epoch 145, local model 35, internal_epoch   2,  Average loss: 0.0041, Accuracy: 5149/5615 (91.7008%)
___Test Local_ResNet_18 poisoned: False, epoch: 145: Average loss: 2.1761, Accuracy: 5300/10000 (53.0000%)
___Train Local_ResNet_18,  epoch 145, local model 8, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4547/4889 (93.0047%)
___Train Local_ResNet_18,  epoch 145, local model 8, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4427/4889 (90.5502%)
___Test Local_ResNet_18 poisoned: False, epoch: 145: Average loss: 1.9741, Accuracy: 5549/10000 (55.4900%)
___Train Local_ResNet_18,  epoch 145, local model 7, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4463/4869 (91.6615%)
___Train Local_ResNet_18,  epoch 145, local model 7, internal_epoch   2,  Average loss: 0.0096, Accuracy: 3997/4869 (82.0908%)
___Test Local_ResNet_18 poisoned: False, epoch: 145: Average loss: 2.2961, Accuracy: 4994/10000 (49.9400%)
___Train Local_ResNet_18,  epoch 145, local model 23, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4294/4549 (94.3944%)
___Train Local_ResNet_18,  epoch 145, local model 23, internal_epoch   2,  Average loss: 0.0076, Accuracy: 3870/4549 (85.0736%)
___Test Local_ResNet_18 poisoned: False, epoch: 145: Average loss: 2.5110, Accuracy: 4800/10000 (48.0000%)
___Train Local_ResNet_18,  epoch 145, local model 66, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4514/4843 (93.2067%)
___Train Local_ResNet_18,  epoch 145, local model 66, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4496/4843 (92.8350%)
___Test Local_ResNet_18 poisoned: False, epoch: 145: Average loss: 1.9691, Accuracy: 5694/10000 (56.9400%)
___Train Local_ResNet_18,  epoch 145, local model 88, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4920/5362 (91.7568%)
___Train Local_ResNet_18,  epoch 145, local model 88, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4883/5362 (91.0668%)
___Test Local_ResNet_18 poisoned: False, epoch: 145: Average loss: 2.1618, Accuracy: 5280/10000 (52.8000%)
___Train Local_ResNet_18,  epoch 145, local model 42, internal_epoch   1,  Average loss: 0.0036, Accuracy: 5487/5907 (92.8898%)
___Train Local_ResNet_18,  epoch 145, local model 42, internal_epoch   2,  Average loss: 0.0045, Accuracy: 5368/5907 (90.8752%)
___Test Local_ResNet_18 poisoned: False, epoch: 145: Average loss: 2.6456, Accuracy: 4862/10000 (48.6200%)
___Train Local_ResNet_18,  epoch 145, local model 52, internal_epoch   1,  Average loss: 0.0035, Accuracy: 3877/4130 (93.8741%)
___Train Local_ResNet_18,  epoch 145, local model 52, internal_epoch   2,  Average loss: 0.0037, Accuracy: 3835/4130 (92.8571%)
___Test Local_ResNet_18 poisoned: False, epoch: 145: Average loss: 1.9250, Accuracy: 5716/10000 (57.1600%)
___Train Local_ResNet_18,  epoch 145, local model 0, internal_epoch   1,  Average loss: 0.0041, Accuracy: 5039/5454 (92.3909%)
___Train Local_ResNet_18,  epoch 145, local model 0, internal_epoch   2,  Average loss: 0.0057, Accuracy: 4848/5454 (88.8889%)
___Test Local_ResNet_18 poisoned: False, epoch: 145: Average loss: 2.1038, Accuracy: 5450/10000 (54.5000%)
time spent on training: 276.1953661441803
___Test Target_ResNet_18 poisoned: False, epoch: 145: Average loss: 1.2929, Accuracy: 6709/10000 (67.0900%)
___Test Target_ResNet_18 poisoned: True, epoch: 145: Average loss: 0.0727, Accuracy: 9711/9900 (98.0909%)
Done in 302.9758605957031 sec.
Server Epoch:146 choose agents : [13, 36, 58, 71, 54, 63, 3, 38, 67, 73, 20, 32, 49, 0, 75, 56, 10, 2, 42, 99].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 146, local model 13, internal_epoch   1,  Average loss: 0.0017, Accuracy: 5190/5308 (97.7769%), train_poison_data_count: 415
Global model norm: 44.01753717669314.
Norm before scaling: 43.981305399105366. Distance: 1.2547324717669825
___Test Local_ResNet_18 poisoned: True, epoch: 146: Average loss: 0.0176, Accuracy: 9851/9900 (99.5051%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 146, local model 36, internal_epoch   1,  Average loss: 0.0016, Accuracy: 5641/5777 (97.6458%), train_poison_data_count: 455
Global model norm: 44.01753717669314.
Norm before scaling: 43.97514057147799. Distance: 1.2819385539220667
___Test Local_ResNet_18 poisoned: True, epoch: 146: Average loss: 0.0447, Accuracy: 9788/9900 (98.8687%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 146, local model 58, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4970/5123 (97.0135%), train_poison_data_count: 403
Global model norm: 44.01753717669314.
Norm before scaling: 43.98380466992581. Distance: 1.3141421081886564
___Test Local_ResNet_18 poisoned: True, epoch: 146: Average loss: 0.1265, Accuracy: 9578/9900 (96.7475%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 146, local model 71, internal_epoch   1,  Average loss: 0.0017, Accuracy: 5373/5503 (97.6377%), train_poison_data_count: 430
Global model norm: 44.01753717669314.
Norm before scaling: 43.98108058266361. Distance: 1.3002408483117538
___Test Local_ResNet_18 poisoned: True, epoch: 146: Average loss: 0.0631, Accuracy: 9747/9900 (98.4545%)
___Train Local_ResNet_18,  epoch 146, local model 54, internal_epoch   1,  Average loss: 0.0050, Accuracy: 5132/5645 (90.9123%)
___Train Local_ResNet_18,  epoch 146, local model 54, internal_epoch   2,  Average loss: 0.0074, Accuracy: 4856/5645 (86.0230%)
___Test Local_ResNet_18 poisoned: False, epoch: 146: Average loss: 2.2778, Accuracy: 5065/10000 (50.6500%)
___Train Local_ResNet_18,  epoch 146, local model 63, internal_epoch   1,  Average loss: 0.0034, Accuracy: 3690/3910 (94.3734%)
___Train Local_ResNet_18,  epoch 146, local model 63, internal_epoch   2,  Average loss: 0.0063, Accuracy: 3460/3910 (88.4910%)
___Test Local_ResNet_18 poisoned: False, epoch: 146: Average loss: 2.4180, Accuracy: 5068/10000 (50.6800%)
___Train Local_ResNet_18,  epoch 146, local model 3, internal_epoch   1,  Average loss: 0.0029, Accuracy: 5079/5346 (95.0056%)
___Train Local_ResNet_18,  epoch 146, local model 3, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4998/5346 (93.4905%)
___Test Local_ResNet_18 poisoned: False, epoch: 146: Average loss: 2.0053, Accuracy: 5488/10000 (54.8800%)
___Train Local_ResNet_18,  epoch 146, local model 38, internal_epoch   1,  Average loss: 0.0051, Accuracy: 5608/6235 (89.9439%)
___Train Local_ResNet_18,  epoch 146, local model 38, internal_epoch   2,  Average loss: 0.0064, Accuracy: 5414/6235 (86.8324%)
___Test Local_ResNet_18 poisoned: False, epoch: 146: Average loss: 2.4759, Accuracy: 4847/10000 (48.4700%)
___Train Local_ResNet_18,  epoch 146, local model 67, internal_epoch   1,  Average loss: 0.0047, Accuracy: 5050/5559 (90.8437%)
___Train Local_ResNet_18,  epoch 146, local model 67, internal_epoch   2,  Average loss: 0.0058, Accuracy: 4912/5559 (88.3612%)
___Test Local_ResNet_18 poisoned: False, epoch: 146: Average loss: 2.1341, Accuracy: 5289/10000 (52.8900%)
___Train Local_ResNet_18,  epoch 146, local model 73, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4344/4605 (94.3322%)
___Train Local_ResNet_18,  epoch 146, local model 73, internal_epoch   2,  Average loss: 0.0033, Accuracy: 4310/4605 (93.5939%)
___Test Local_ResNet_18 poisoned: False, epoch: 146: Average loss: 2.1273, Accuracy: 5470/10000 (54.7000%)
___Train Local_ResNet_18,  epoch 146, local model 20, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4469/4714 (94.8027%)
___Train Local_ResNet_18,  epoch 146, local model 20, internal_epoch   2,  Average loss: 0.0028, Accuracy: 4460/4714 (94.6118%)
___Test Local_ResNet_18 poisoned: False, epoch: 146: Average loss: 1.8633, Accuracy: 5737/10000 (57.3700%)
___Train Local_ResNet_18,  epoch 146, local model 32, internal_epoch   1,  Average loss: 0.0051, Accuracy: 5470/6080 (89.9671%)
___Train Local_ResNet_18,  epoch 146, local model 32, internal_epoch   2,  Average loss: 0.0064, Accuracy: 5317/6080 (87.4507%)
___Test Local_ResNet_18 poisoned: False, epoch: 146: Average loss: 2.2948, Accuracy: 5089/10000 (50.8900%)
___Train Local_ResNet_18,  epoch 146, local model 49, internal_epoch   1,  Average loss: 0.0046, Accuracy: 5168/5652 (91.4367%)
___Train Local_ResNet_18,  epoch 146, local model 49, internal_epoch   2,  Average loss: 0.0061, Accuracy: 4987/5652 (88.2343%)
___Test Local_ResNet_18 poisoned: False, epoch: 146: Average loss: 2.2015, Accuracy: 5207/10000 (52.0700%)
___Train Local_ResNet_18,  epoch 146, local model 0, internal_epoch   1,  Average loss: 0.0042, Accuracy: 5032/5454 (92.2626%)
___Train Local_ResNet_18,  epoch 146, local model 0, internal_epoch   2,  Average loss: 0.0071, Accuracy: 4694/5454 (86.0653%)
___Test Local_ResNet_18 poisoned: False, epoch: 146: Average loss: 2.2717, Accuracy: 5125/10000 (51.2500%)
___Train Local_ResNet_18,  epoch 146, local model 75, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4397/4672 (94.1139%)
___Train Local_ResNet_18,  epoch 146, local model 75, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4383/4672 (93.8142%)
___Test Local_ResNet_18 poisoned: False, epoch: 146: Average loss: 1.8779, Accuracy: 5749/10000 (57.4900%)
___Train Local_ResNet_18,  epoch 146, local model 56, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4935/5427 (90.9342%)
___Train Local_ResNet_18,  epoch 146, local model 56, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4856/5427 (89.4785%)
___Test Local_ResNet_18 poisoned: False, epoch: 146: Average loss: 2.1105, Accuracy: 5365/10000 (53.6500%)
___Train Local_ResNet_18,  epoch 146, local model 10, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4755/5068 (93.8240%)
___Train Local_ResNet_18,  epoch 146, local model 10, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4664/5068 (92.0284%)
___Test Local_ResNet_18 poisoned: False, epoch: 146: Average loss: 2.2247, Accuracy: 5164/10000 (51.6400%)
___Train Local_ResNet_18,  epoch 146, local model 2, internal_epoch   1,  Average loss: 0.0031, Accuracy: 3737/3968 (94.1784%)
___Train Local_ResNet_18,  epoch 146, local model 2, internal_epoch   2,  Average loss: 0.0032, Accuracy: 3731/3968 (94.0272%)
___Test Local_ResNet_18 poisoned: False, epoch: 146: Average loss: 1.8068, Accuracy: 5783/10000 (57.8300%)
___Train Local_ResNet_18,  epoch 146, local model 42, internal_epoch   1,  Average loss: 0.0042, Accuracy: 5419/5907 (91.7386%)
___Train Local_ResNet_18,  epoch 146, local model 42, internal_epoch   2,  Average loss: 0.0046, Accuracy: 5382/5907 (91.1122%)
___Test Local_ResNet_18 poisoned: False, epoch: 146: Average loss: 2.3894, Accuracy: 5094/10000 (50.9400%)
___Train Local_ResNet_18,  epoch 146, local model 99, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4484/4851 (92.4345%)
___Train Local_ResNet_18,  epoch 146, local model 99, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4473/4851 (92.2078%)
___Test Local_ResNet_18 poisoned: False, epoch: 146: Average loss: 2.0149, Accuracy: 5568/10000 (55.6800%)
time spent on training: 278.79750633239746
___Test Target_ResNet_18 poisoned: False, epoch: 146: Average loss: 1.2943, Accuracy: 6717/10000 (67.1700%)
___Test Target_ResNet_18 poisoned: True, epoch: 146: Average loss: 0.0675, Accuracy: 9718/9900 (98.1616%)
Done in 305.2663743495941 sec.
Server Epoch:147 choose agents : [13, 36, 58, 71, 92, 39, 50, 63, 32, 3, 4, 22, 47, 68, 64, 51, 16, 62, 87, 35].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 147, local model 13, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5190/5308 (97.7769%), train_poison_data_count: 415
Global model norm: 44.0391463488203.
Norm before scaling: 43.998418606169814. Distance: 1.1736015316925248
___Test Local_ResNet_18 poisoned: True, epoch: 147: Average loss: 0.0737, Accuracy: 9706/9900 (98.0404%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 147, local model 36, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5654/5777 (97.8709%), train_poison_data_count: 455
Global model norm: 44.0391463488203.
Norm before scaling: 43.99566629048536. Distance: 1.2618751074690298
___Test Local_ResNet_18 poisoned: True, epoch: 147: Average loss: 0.0360, Accuracy: 9810/9900 (99.0909%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 147, local model 58, internal_epoch   1,  Average loss: 0.0024, Accuracy: 4970/5123 (97.0135%), train_poison_data_count: 403
Global model norm: 44.0391463488203.
Norm before scaling: 44.0027700765993. Distance: 1.2233038701416805
___Test Local_ResNet_18 poisoned: True, epoch: 147: Average loss: 0.0422, Accuracy: 9791/9900 (98.8990%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 147, local model 71, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5358/5503 (97.3651%), train_poison_data_count: 430
Global model norm: 44.0391463488203.
Norm before scaling: 44.004391537770125. Distance: 1.3552829494161764
___Test Local_ResNet_18 poisoned: True, epoch: 147: Average loss: 0.1222, Accuracy: 9567/9900 (96.6364%)
___Train Local_ResNet_18,  epoch 147, local model 92, internal_epoch   1,  Average loss: 0.0030, Accuracy: 6444/6812 (94.5978%)
___Train Local_ResNet_18,  epoch 147, local model 92, internal_epoch   2,  Average loss: 0.0033, Accuracy: 6354/6812 (93.2766%)
___Test Local_ResNet_18 poisoned: False, epoch: 147: Average loss: 2.3134, Accuracy: 5219/10000 (52.1900%)
___Train Local_ResNet_18,  epoch 147, local model 39, internal_epoch   1,  Average loss: 0.0037, Accuracy: 3883/4175 (93.0060%)
___Train Local_ResNet_18,  epoch 147, local model 39, internal_epoch   2,  Average loss: 0.0056, Accuracy: 3719/4175 (89.0778%)
___Test Local_ResNet_18 poisoned: False, epoch: 147: Average loss: 2.2637, Accuracy: 5076/10000 (50.7600%)
___Train Local_ResNet_18,  epoch 147, local model 50, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4452/4757 (93.5884%)
___Train Local_ResNet_18,  epoch 147, local model 50, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4364/4757 (91.7385%)
___Test Local_ResNet_18 poisoned: False, epoch: 147: Average loss: 2.2257, Accuracy: 5429/10000 (54.2900%)
___Train Local_ResNet_18,  epoch 147, local model 63, internal_epoch   1,  Average loss: 0.0034, Accuracy: 3687/3910 (94.2967%)
___Train Local_ResNet_18,  epoch 147, local model 63, internal_epoch   2,  Average loss: 0.0068, Accuracy: 3411/3910 (87.2379%)
___Test Local_ResNet_18 poisoned: False, epoch: 147: Average loss: 2.2318, Accuracy: 5236/10000 (52.3600%)
___Train Local_ResNet_18,  epoch 147, local model 32, internal_epoch   1,  Average loss: 0.0049, Accuracy: 5494/6080 (90.3618%)
___Train Local_ResNet_18,  epoch 147, local model 32, internal_epoch   2,  Average loss: 0.0058, Accuracy: 5379/6080 (88.4704%)
___Test Local_ResNet_18 poisoned: False, epoch: 147: Average loss: 2.2016, Accuracy: 5175/10000 (51.7500%)
___Train Local_ResNet_18,  epoch 147, local model 3, internal_epoch   1,  Average loss: 0.0033, Accuracy: 5024/5346 (93.9768%)
___Train Local_ResNet_18,  epoch 147, local model 3, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4982/5346 (93.1912%)
___Test Local_ResNet_18 poisoned: False, epoch: 147: Average loss: 2.1521, Accuracy: 5270/10000 (52.7000%)
___Train Local_ResNet_18,  epoch 147, local model 4, internal_epoch   1,  Average loss: 0.0033, Accuracy: 3771/4028 (93.6197%)
___Train Local_ResNet_18,  epoch 147, local model 4, internal_epoch   2,  Average loss: 0.0038, Accuracy: 3725/4028 (92.4777%)
___Test Local_ResNet_18 poisoned: False, epoch: 147: Average loss: 1.9864, Accuracy: 5687/10000 (56.8700%)
___Train Local_ResNet_18,  epoch 147, local model 22, internal_epoch   1,  Average loss: 0.0032, Accuracy: 5368/5696 (94.2416%)
___Train Local_ResNet_18,  epoch 147, local model 22, internal_epoch   2,  Average loss: 0.0041, Accuracy: 5219/5696 (91.6257%)
___Test Local_ResNet_18 poisoned: False, epoch: 147: Average loss: 2.0723, Accuracy: 5423/10000 (54.2300%)
___Train Local_ResNet_18,  epoch 147, local model 47, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4689/5123 (91.5284%)
___Train Local_ResNet_18,  epoch 147, local model 47, internal_epoch   2,  Average loss: 0.0104, Accuracy: 4143/5123 (80.8706%)
___Test Local_ResNet_18 poisoned: False, epoch: 147: Average loss: 2.2056, Accuracy: 5025/10000 (50.2500%)
___Train Local_ResNet_18,  epoch 147, local model 68, internal_epoch   1,  Average loss: 0.0038, Accuracy: 3363/3589 (93.7030%)
___Train Local_ResNet_18,  epoch 147, local model 68, internal_epoch   2,  Average loss: 0.0057, Accuracy: 3199/3589 (89.1335%)
___Test Local_ResNet_18 poisoned: False, epoch: 147: Average loss: 2.0233, Accuracy: 5539/10000 (55.3900%)
___Train Local_ResNet_18,  epoch 147, local model 64, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4512/4894 (92.1945%)
___Train Local_ResNet_18,  epoch 147, local model 64, internal_epoch   2,  Average loss: 0.0057, Accuracy: 4354/4894 (88.9661%)
___Test Local_ResNet_18 poisoned: False, epoch: 147: Average loss: 2.2002, Accuracy: 5325/10000 (53.2500%)
___Train Local_ResNet_18,  epoch 147, local model 51, internal_epoch   1,  Average loss: 0.0033, Accuracy: 3863/4108 (94.0360%)
___Train Local_ResNet_18,  epoch 147, local model 51, internal_epoch   2,  Average loss: 0.0045, Accuracy: 3768/4108 (91.7235%)
___Test Local_ResNet_18 poisoned: False, epoch: 147: Average loss: 2.0955, Accuracy: 5517/10000 (55.1700%)
___Train Local_ResNet_18,  epoch 147, local model 16, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4989/5353 (93.2001%)
___Train Local_ResNet_18,  epoch 147, local model 16, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4870/5353 (90.9770%)
___Test Local_ResNet_18 poisoned: False, epoch: 147: Average loss: 2.0876, Accuracy: 5382/10000 (53.8200%)
___Train Local_ResNet_18,  epoch 147, local model 62, internal_epoch   1,  Average loss: 0.0055, Accuracy: 4901/5504 (89.0443%)
___Train Local_ResNet_18,  epoch 147, local model 62, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4887/5504 (88.7900%)
___Test Local_ResNet_18 poisoned: False, epoch: 147: Average loss: 2.3489, Accuracy: 5066/10000 (50.6600%)
___Train Local_ResNet_18,  epoch 147, local model 87, internal_epoch   1,  Average loss: 0.0046, Accuracy: 3645/3995 (91.2390%)
___Train Local_ResNet_18,  epoch 147, local model 87, internal_epoch   2,  Average loss: 0.0051, Accuracy: 3574/3995 (89.4618%)
___Test Local_ResNet_18 poisoned: False, epoch: 147: Average loss: 2.1246, Accuracy: 5361/10000 (53.6100%)
___Train Local_ResNet_18,  epoch 147, local model 35, internal_epoch   1,  Average loss: 0.0040, Accuracy: 5179/5615 (92.2351%)
___Train Local_ResNet_18,  epoch 147, local model 35, internal_epoch   2,  Average loss: 0.0046, Accuracy: 5113/5615 (91.0597%)
___Test Local_ResNet_18 poisoned: False, epoch: 147: Average loss: 2.2698, Accuracy: 5207/10000 (52.0700%)
time spent on training: 274.7703297138214
___Test Target_ResNet_18 poisoned: False, epoch: 147: Average loss: 1.3026, Accuracy: 6695/10000 (66.9500%)
___Test Target_ResNet_18 poisoned: True, epoch: 147: Average loss: 0.0685, Accuracy: 9720/9900 (98.1818%)
Done in 301.3588924407959 sec.
Server Epoch:148 choose agents : [13, 36, 58, 71, 34, 96, 45, 52, 66, 63, 32, 29, 57, 44, 77, 79, 94, 64, 51, 53].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 148, local model 13, internal_epoch   1,  Average loss: 0.0016, Accuracy: 5175/5308 (97.4943%), train_poison_data_count: 415
Global model norm: 44.05958960911276.
Norm before scaling: 44.02303751482001. Distance: 1.264905183276859
___Test Local_ResNet_18 poisoned: True, epoch: 148: Average loss: 0.0465, Accuracy: 9783/9900 (98.8182%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 148, local model 36, internal_epoch   1,  Average loss: 0.0016, Accuracy: 5640/5777 (97.6285%), train_poison_data_count: 455
Global model norm: 44.05958960911276.
Norm before scaling: 44.017043540773074. Distance: 1.3079849421162293
___Test Local_ResNet_18 poisoned: True, epoch: 148: Average loss: 0.0879, Accuracy: 9665/9900 (97.6263%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 148, local model 58, internal_epoch   1,  Average loss: 0.0024, Accuracy: 4987/5123 (97.3453%), train_poison_data_count: 403
Global model norm: 44.05958960911276.
Norm before scaling: 44.02302642332476. Distance: 1.2259421754116313
___Test Local_ResNet_18 poisoned: True, epoch: 148: Average loss: 0.0784, Accuracy: 9690/9900 (97.8788%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 148, local model 71, internal_epoch   1,  Average loss: 0.0017, Accuracy: 5349/5503 (97.2015%), train_poison_data_count: 430
Global model norm: 44.05958960911276.
Norm before scaling: 44.02166769401745. Distance: 1.3079598784724027
___Test Local_ResNet_18 poisoned: True, epoch: 148: Average loss: 0.0516, Accuracy: 9762/9900 (98.6061%)
___Train Local_ResNet_18,  epoch 148, local model 34, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4623/4911 (94.1356%)
___Train Local_ResNet_18,  epoch 148, local model 34, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4551/4911 (92.6695%)
___Test Local_ResNet_18 poisoned: False, epoch: 148: Average loss: 2.0262, Accuracy: 5480/10000 (54.8000%)
___Train Local_ResNet_18,  epoch 148, local model 96, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4743/5086 (93.2560%)
___Train Local_ResNet_18,  epoch 148, local model 96, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4714/5086 (92.6858%)
___Test Local_ResNet_18 poisoned: False, epoch: 148: Average loss: 2.1308, Accuracy: 5317/10000 (53.1700%)
___Train Local_ResNet_18,  epoch 148, local model 45, internal_epoch   1,  Average loss: 0.0046, Accuracy: 5004/5489 (91.1641%)
___Train Local_ResNet_18,  epoch 148, local model 45, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4961/5489 (90.3808%)
___Test Local_ResNet_18 poisoned: False, epoch: 148: Average loss: 2.2049, Accuracy: 5228/10000 (52.2800%)
___Train Local_ResNet_18,  epoch 148, local model 52, internal_epoch   1,  Average loss: 0.0034, Accuracy: 3883/4130 (94.0194%)
___Train Local_ResNet_18,  epoch 148, local model 52, internal_epoch   2,  Average loss: 0.0034, Accuracy: 3858/4130 (93.4140%)
___Test Local_ResNet_18 poisoned: False, epoch: 148: Average loss: 1.9680, Accuracy: 5638/10000 (56.3800%)
___Train Local_ResNet_18,  epoch 148, local model 66, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4498/4843 (92.8763%)
___Train Local_ResNet_18,  epoch 148, local model 66, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4437/4843 (91.6168%)
___Test Local_ResNet_18 poisoned: False, epoch: 148: Average loss: 2.1742, Accuracy: 5324/10000 (53.2400%)
___Train Local_ResNet_18,  epoch 148, local model 63, internal_epoch   1,  Average loss: 0.0034, Accuracy: 3663/3910 (93.6829%)
___Train Local_ResNet_18,  epoch 148, local model 63, internal_epoch   2,  Average loss: 0.0047, Accuracy: 3578/3910 (91.5090%)
___Test Local_ResNet_18 poisoned: False, epoch: 148: Average loss: 2.2994, Accuracy: 5106/10000 (51.0600%)
___Train Local_ResNet_18,  epoch 148, local model 32, internal_epoch   1,  Average loss: 0.0048, Accuracy: 5514/6080 (90.6908%)
___Train Local_ResNet_18,  epoch 148, local model 32, internal_epoch   2,  Average loss: 0.0062, Accuracy: 5321/6080 (87.5164%)
___Test Local_ResNet_18 poisoned: False, epoch: 148: Average loss: 2.1722, Accuracy: 5213/10000 (52.1300%)
___Train Local_ResNet_18,  epoch 148, local model 29, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4491/4732 (94.9070%)
___Train Local_ResNet_18,  epoch 148, local model 29, internal_epoch   2,  Average loss: 0.0029, Accuracy: 4471/4732 (94.4844%)
___Test Local_ResNet_18 poisoned: False, epoch: 148: Average loss: 1.9280, Accuracy: 5642/10000 (56.4200%)
___Train Local_ResNet_18,  epoch 148, local model 57, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4616/4956 (93.1396%)
___Train Local_ResNet_18,  epoch 148, local model 57, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4505/4956 (90.8999%)
___Test Local_ResNet_18 poisoned: False, epoch: 148: Average loss: 2.4627, Accuracy: 4946/10000 (49.4600%)
___Train Local_ResNet_18,  epoch 148, local model 44, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4733/5075 (93.2611%)
___Train Local_ResNet_18,  epoch 148, local model 44, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4563/5075 (89.9113%)
___Test Local_ResNet_18 poisoned: False, epoch: 148: Average loss: 2.2651, Accuracy: 5272/10000 (52.7200%)
___Train Local_ResNet_18,  epoch 148, local model 77, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4592/5050 (90.9307%)
___Train Local_ResNet_18,  epoch 148, local model 77, internal_epoch   2,  Average loss: 0.0058, Accuracy: 4481/5050 (88.7327%)
___Test Local_ResNet_18 poisoned: False, epoch: 148: Average loss: 2.2355, Accuracy: 5152/10000 (51.5200%)
___Train Local_ResNet_18,  epoch 148, local model 79, internal_epoch   1,  Average loss: 0.0033, Accuracy: 3861/4111 (93.9188%)
___Train Local_ResNet_18,  epoch 148, local model 79, internal_epoch   2,  Average loss: 0.0038, Accuracy: 3803/4111 (92.5079%)
___Test Local_ResNet_18 poisoned: False, epoch: 148: Average loss: 1.9994, Accuracy: 5559/10000 (55.5900%)
___Train Local_ResNet_18,  epoch 148, local model 94, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4781/5224 (91.5199%)
___Train Local_ResNet_18,  epoch 148, local model 94, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4754/5224 (91.0031%)
___Test Local_ResNet_18 poisoned: False, epoch: 148: Average loss: 2.0471, Accuracy: 5453/10000 (54.5300%)
___Train Local_ResNet_18,  epoch 148, local model 64, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4541/4894 (92.7871%)
___Train Local_ResNet_18,  epoch 148, local model 64, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4441/4894 (90.7438%)
___Test Local_ResNet_18 poisoned: False, epoch: 148: Average loss: 2.1015, Accuracy: 5409/10000 (54.0900%)
___Train Local_ResNet_18,  epoch 148, local model 51, internal_epoch   1,  Average loss: 0.0034, Accuracy: 3861/4108 (93.9873%)
___Train Local_ResNet_18,  epoch 148, local model 51, internal_epoch   2,  Average loss: 0.0035, Accuracy: 3856/4108 (93.8656%)
___Test Local_ResNet_18 poisoned: False, epoch: 148: Average loss: 1.9127, Accuracy: 5715/10000 (57.1500%)
___Train Local_ResNet_18,  epoch 148, local model 53, internal_epoch   1,  Average loss: 0.0056, Accuracy: 5922/6664 (88.8655%)
___Train Local_ResNet_18,  epoch 148, local model 53, internal_epoch   2,  Average loss: 0.0073, Accuracy: 5724/6664 (85.8944%)
___Test Local_ResNet_18 poisoned: False, epoch: 148: Average loss: 2.1912, Accuracy: 5066/10000 (50.6600%)
time spent on training: 277.0354747772217
___Test Target_ResNet_18 poisoned: False, epoch: 148: Average loss: 1.3074, Accuracy: 6687/10000 (66.8700%)
___Test Target_ResNet_18 poisoned: True, epoch: 148: Average loss: 0.0664, Accuracy: 9726/9900 (98.2424%)
Done in 303.4652810096741 sec.
Server Epoch:149 choose agents : [13, 36, 58, 71, 69, 1, 68, 16, 44, 2, 45, 27, 14, 83, 87, 12, 50, 43, 37, 72].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 149, local model 13, internal_epoch   1,  Average loss: 0.0016, Accuracy: 5182/5308 (97.6262%), train_poison_data_count: 415
Global model norm: 44.07856810305463.
Norm before scaling: 44.04145247528529. Distance: 1.26295797709418
___Test Local_ResNet_18 poisoned: True, epoch: 149: Average loss: 0.0877, Accuracy: 9652/9900 (97.4949%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 149, local model 36, internal_epoch   1,  Average loss: 0.0017, Accuracy: 5634/5777 (97.5247%), train_poison_data_count: 455
Global model norm: 44.07856810305463.
Norm before scaling: 44.0364949856934. Distance: 1.3222347915187331
___Test Local_ResNet_18 poisoned: True, epoch: 149: Average loss: 0.0477, Accuracy: 9775/9900 (98.7374%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 149, local model 58, internal_epoch   1,  Average loss: 0.0025, Accuracy: 4961/5123 (96.8378%), train_poison_data_count: 403
Global model norm: 44.07856810305463.
Norm before scaling: 44.04530776078409. Distance: 1.3164879748052019
___Test Local_ResNet_18 poisoned: True, epoch: 149: Average loss: 0.1658, Accuracy: 9476/9900 (95.7172%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 149, local model 71, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5355/5503 (97.3106%), train_poison_data_count: 430
Global model norm: 44.07856810305463.
Norm before scaling: 44.04172271657581. Distance: 1.3268231462722395
___Test Local_ResNet_18 poisoned: True, epoch: 149: Average loss: 0.0212, Accuracy: 9854/9900 (99.5354%)
___Train Local_ResNet_18,  epoch 149, local model 69, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4093/4364 (93.7901%)
___Train Local_ResNet_18,  epoch 149, local model 69, internal_epoch   2,  Average loss: 0.0049, Accuracy: 3966/4364 (90.8799%)
___Test Local_ResNet_18 poisoned: False, epoch: 149: Average loss: 1.9784, Accuracy: 5514/10000 (55.1400%)
___Train Local_ResNet_18,  epoch 149, local model 1, internal_epoch   1,  Average loss: 0.0032, Accuracy: 5073/5422 (93.5633%)
___Train Local_ResNet_18,  epoch 149, local model 1, internal_epoch   2,  Average loss: 0.0037, Accuracy: 5027/5422 (92.7149%)
___Test Local_ResNet_18 poisoned: False, epoch: 149: Average loss: 1.9154, Accuracy: 5661/10000 (56.6100%)
___Train Local_ResNet_18,  epoch 149, local model 68, internal_epoch   1,  Average loss: 0.0039, Accuracy: 3348/3589 (93.2850%)
___Train Local_ResNet_18,  epoch 149, local model 68, internal_epoch   2,  Average loss: 0.0074, Accuracy: 3114/3589 (86.7651%)
___Test Local_ResNet_18 poisoned: False, epoch: 149: Average loss: 2.2205, Accuracy: 5149/10000 (51.4900%)
___Train Local_ResNet_18,  epoch 149, local model 16, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4928/5353 (92.0605%)
___Train Local_ResNet_18,  epoch 149, local model 16, internal_epoch   2,  Average loss: 0.0054, Accuracy: 4784/5353 (89.3704%)
___Test Local_ResNet_18 poisoned: False, epoch: 149: Average loss: 2.2227, Accuracy: 5303/10000 (53.0300%)
___Train Local_ResNet_18,  epoch 149, local model 44, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4742/5075 (93.4384%)
___Train Local_ResNet_18,  epoch 149, local model 44, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4667/5075 (91.9606%)
___Test Local_ResNet_18 poisoned: False, epoch: 149: Average loss: 2.0596, Accuracy: 5465/10000 (54.6500%)
___Train Local_ResNet_18,  epoch 149, local model 2, internal_epoch   1,  Average loss: 0.0036, Accuracy: 3692/3968 (93.0444%)
___Train Local_ResNet_18,  epoch 149, local model 2, internal_epoch   2,  Average loss: 0.0038, Accuracy: 3665/3968 (92.3639%)
___Test Local_ResNet_18 poisoned: False, epoch: 149: Average loss: 1.9652, Accuracy: 5621/10000 (56.2100%)
___Train Local_ResNet_18,  epoch 149, local model 45, internal_epoch   1,  Average loss: 0.0039, Accuracy: 5085/5489 (92.6398%)
___Train Local_ResNet_18,  epoch 149, local model 45, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4962/5489 (90.3990%)
___Test Local_ResNet_18 poisoned: False, epoch: 149: Average loss: 2.0829, Accuracy: 5386/10000 (53.8600%)
___Train Local_ResNet_18,  epoch 149, local model 27, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4239/4587 (92.4133%)
___Train Local_ResNet_18,  epoch 149, local model 27, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4210/4587 (91.7811%)
___Test Local_ResNet_18 poisoned: False, epoch: 149: Average loss: 2.1021, Accuracy: 5423/10000 (54.2300%)
___Train Local_ResNet_18,  epoch 149, local model 14, internal_epoch   1,  Average loss: 0.0026, Accuracy: 4008/4196 (95.5195%)
___Train Local_ResNet_18,  epoch 149, local model 14, internal_epoch   2,  Average loss: 0.0025, Accuracy: 4013/4196 (95.6387%)
___Test Local_ResNet_18 poisoned: False, epoch: 149: Average loss: 1.9045, Accuracy: 5711/10000 (57.1100%)
___Train Local_ResNet_18,  epoch 149, local model 83, internal_epoch   1,  Average loss: 0.0041, Accuracy: 3266/3552 (91.9482%)
___Train Local_ResNet_18,  epoch 149, local model 83, internal_epoch   2,  Average loss: 0.0038, Accuracy: 3295/3552 (92.7646%)
___Test Local_ResNet_18 poisoned: False, epoch: 149: Average loss: 1.8805, Accuracy: 5733/10000 (57.3300%)
___Train Local_ResNet_18,  epoch 149, local model 87, internal_epoch   1,  Average loss: 0.0049, Accuracy: 3622/3995 (90.6633%)
___Train Local_ResNet_18,  epoch 149, local model 87, internal_epoch   2,  Average loss: 0.0054, Accuracy: 3570/3995 (89.3617%)
___Test Local_ResNet_18 poisoned: False, epoch: 149: Average loss: 2.2561, Accuracy: 5226/10000 (52.2600%)
___Train Local_ResNet_18,  epoch 149, local model 12, internal_epoch   1,  Average loss: 0.0045, Accuracy: 5074/5526 (91.8205%)
___Train Local_ResNet_18,  epoch 149, local model 12, internal_epoch   2,  Average loss: 0.0057, Accuracy: 4920/5526 (89.0337%)
___Test Local_ResNet_18 poisoned: False, epoch: 149: Average loss: 2.3861, Accuracy: 5088/10000 (50.8800%)
___Train Local_ResNet_18,  epoch 149, local model 50, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4436/4757 (93.2520%)
___Train Local_ResNet_18,  epoch 149, local model 50, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4425/4757 (93.0208%)
___Test Local_ResNet_18 poisoned: False, epoch: 149: Average loss: 1.9783, Accuracy: 5590/10000 (55.9000%)
___Train Local_ResNet_18,  epoch 149, local model 43, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4605/4979 (92.4885%)
___Train Local_ResNet_18,  epoch 149, local model 43, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4592/4979 (92.2274%)
___Test Local_ResNet_18 poisoned: False, epoch: 149: Average loss: 2.2288, Accuracy: 5290/10000 (52.9000%)
___Train Local_ResNet_18,  epoch 149, local model 37, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4390/4741 (92.5965%)
___Train Local_ResNet_18,  epoch 149, local model 37, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4252/4741 (89.6857%)
___Test Local_ResNet_18 poisoned: False, epoch: 149: Average loss: 2.3604, Accuracy: 5176/10000 (51.7600%)
___Train Local_ResNet_18,  epoch 149, local model 72, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4744/5193 (91.3537%)
___Train Local_ResNet_18,  epoch 149, local model 72, internal_epoch   2,  Average loss: 0.0060, Accuracy: 4585/5193 (88.2919%)
___Test Local_ResNet_18 poisoned: False, epoch: 149: Average loss: 2.3792, Accuracy: 5131/10000 (51.3100%)
time spent on training: 270.6928884983063
___Test Target_ResNet_18 poisoned: False, epoch: 149: Average loss: 1.3060, Accuracy: 6680/10000 (66.8000%)
___Test Target_ResNet_18 poisoned: True, epoch: 149: Average loss: 0.0645, Accuracy: 9731/9900 (98.2929%)
Done in 297.51396131515503 sec.
Server Epoch:150 choose agents : [13, 36, 58, 71, 63, 26, 6, 29, 91, 4, 39, 1, 80, 62, 89, 20, 33, 74, 93, 65].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 150, local model 13, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5212/5308 (98.1914%), train_poison_data_count: 415
Global model norm: 44.09779310175638.
Norm before scaling: 44.058144731564674. Distance: 1.1871598911112577
___Test Local_ResNet_18 poisoned: True, epoch: 150: Average loss: 0.0293, Accuracy: 9826/9900 (99.2525%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 150, local model 36, internal_epoch   1,  Average loss: 0.0017, Accuracy: 5644/5777 (97.6978%), train_poison_data_count: 455
Global model norm: 44.09779310175638.
Norm before scaling: 44.05429195490988. Distance: 1.2840308273542378
___Test Local_ResNet_18 poisoned: True, epoch: 150: Average loss: 0.0464, Accuracy: 9770/9900 (98.6869%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Significant loss increase detected for 58 at epoch 150: Current loss: 0.0800, Previous loss: 0.0441, Loss jump: 0.0359, Applied weight: 1.6608
Significant loss increase detected for 58 at epoch 150: Current loss: 0.1123, Previous loss: 0.0730, Loss jump: 0.0393, Applied weight: 1.2887
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 150, local model 58, internal_epoch   1,  Average loss: 0.0025, Accuracy: 4968/5123 (96.9744%), train_poison_data_count: 403
Global model norm: 44.09779310175638.
Norm before scaling: 44.06149987783411. Distance: 1.259611229713294
___Test Local_ResNet_18 poisoned: True, epoch: 150: Average loss: 0.1802, Accuracy: 9422/9900 (95.1717%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 150, local model 71, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5348/5503 (97.1834%), train_poison_data_count: 430
Global model norm: 44.09779310175638.
Norm before scaling: 44.06130040476989. Distance: 1.3356924445724911
___Test Local_ResNet_18 poisoned: True, epoch: 150: Average loss: 0.0529, Accuracy: 9772/9900 (98.7071%)
___Train Local_ResNet_18,  epoch 150, local model 63, internal_epoch   1,  Average loss: 0.0032, Accuracy: 3678/3910 (94.0665%)
___Train Local_ResNet_18,  epoch 150, local model 63, internal_epoch   2,  Average loss: 0.0046, Accuracy: 3571/3910 (91.3299%)
___Test Local_ResNet_18 poisoned: False, epoch: 150: Average loss: 2.0543, Accuracy: 5516/10000 (55.1600%)
___Train Local_ResNet_18,  epoch 150, local model 26, internal_epoch   1,  Average loss: 0.0031, Accuracy: 3842/4086 (94.0284%)
___Train Local_ResNet_18,  epoch 150, local model 26, internal_epoch   2,  Average loss: 0.0030, Accuracy: 3861/4086 (94.4934%)
___Test Local_ResNet_18 poisoned: False, epoch: 150: Average loss: 2.0059, Accuracy: 5625/10000 (56.2500%)
___Train Local_ResNet_18,  epoch 150, local model 6, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4640/4929 (94.1367%)
___Train Local_ResNet_18,  epoch 150, local model 6, internal_epoch   2,  Average loss: 0.0056, Accuracy: 4488/4929 (91.0530%)
___Test Local_ResNet_18 poisoned: False, epoch: 150: Average loss: 2.0977, Accuracy: 5516/10000 (55.1600%)
___Train Local_ResNet_18,  epoch 150, local model 29, internal_epoch   1,  Average loss: 0.0028, Accuracy: 4487/4732 (94.8225%)
___Train Local_ResNet_18,  epoch 150, local model 29, internal_epoch   2,  Average loss: 0.0030, Accuracy: 4459/4732 (94.2308%)
___Test Local_ResNet_18 poisoned: False, epoch: 150: Average loss: 1.9163, Accuracy: 5731/10000 (57.3100%)
___Train Local_ResNet_18,  epoch 150, local model 91, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4153/4527 (91.7385%)
___Train Local_ResNet_18,  epoch 150, local model 91, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4013/4527 (88.6459%)
___Test Local_ResNet_18 poisoned: False, epoch: 150: Average loss: 2.1442, Accuracy: 5229/10000 (52.2900%)
___Train Local_ResNet_18,  epoch 150, local model 4, internal_epoch   1,  Average loss: 0.0033, Accuracy: 3778/4028 (93.7934%)
___Train Local_ResNet_18,  epoch 150, local model 4, internal_epoch   2,  Average loss: 0.0037, Accuracy: 3747/4028 (93.0238%)
___Test Local_ResNet_18 poisoned: False, epoch: 150: Average loss: 1.9251, Accuracy: 5752/10000 (57.5200%)
___Train Local_ResNet_18,  epoch 150, local model 39, internal_epoch   1,  Average loss: 0.0037, Accuracy: 3876/4175 (92.8383%)
___Train Local_ResNet_18,  epoch 150, local model 39, internal_epoch   2,  Average loss: 0.0046, Accuracy: 3789/4175 (90.7545%)
___Test Local_ResNet_18 poisoned: False, epoch: 150: Average loss: 2.0397, Accuracy: 5488/10000 (54.8800%)
___Train Local_ResNet_18,  epoch 150, local model 1, internal_epoch   1,  Average loss: 0.0026, Accuracy: 5179/5422 (95.5183%)
___Train Local_ResNet_18,  epoch 150, local model 1, internal_epoch   2,  Average loss: 0.0031, Accuracy: 5110/5422 (94.2457%)
___Test Local_ResNet_18 poisoned: False, epoch: 150: Average loss: 1.9020, Accuracy: 5798/10000 (57.9800%)
___Train Local_ResNet_18,  epoch 150, local model 80, internal_epoch   1,  Average loss: 0.0038, Accuracy: 5036/5461 (92.2175%)
___Train Local_ResNet_18,  epoch 150, local model 80, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4954/5461 (90.7160%)
___Test Local_ResNet_18 poisoned: False, epoch: 150: Average loss: 2.2565, Accuracy: 5146/10000 (51.4600%)
___Train Local_ResNet_18,  epoch 150, local model 62, internal_epoch   1,  Average loss: 0.0053, Accuracy: 4935/5504 (89.6621%)
___Train Local_ResNet_18,  epoch 150, local model 62, internal_epoch   2,  Average loss: 0.0059, Accuracy: 4830/5504 (87.7544%)
___Test Local_ResNet_18 poisoned: False, epoch: 150: Average loss: 2.2530, Accuracy: 5138/10000 (51.3800%)
___Train Local_ResNet_18,  epoch 150, local model 89, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4398/4737 (92.8436%)
___Train Local_ResNet_18,  epoch 150, local model 89, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4308/4737 (90.9436%)
___Test Local_ResNet_18 poisoned: False, epoch: 150: Average loss: 2.3740, Accuracy: 5156/10000 (51.5600%)
___Train Local_ResNet_18,  epoch 150, local model 20, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4428/4714 (93.9330%)
___Train Local_ResNet_18,  epoch 150, local model 20, internal_epoch   2,  Average loss: 0.0032, Accuracy: 4421/4714 (93.7845%)
___Test Local_ResNet_18 poisoned: False, epoch: 150: Average loss: 1.8959, Accuracy: 5654/10000 (56.5400%)
___Train Local_ResNet_18,  epoch 150, local model 33, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4470/4818 (92.7771%)
___Train Local_ResNet_18,  epoch 150, local model 33, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4339/4818 (90.0581%)
___Test Local_ResNet_18 poisoned: False, epoch: 150: Average loss: 2.0087, Accuracy: 5497/10000 (54.9700%)
___Train Local_ResNet_18,  epoch 150, local model 74, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4410/4797 (91.9325%)
___Train Local_ResNet_18,  epoch 150, local model 74, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4364/4797 (90.9735%)
___Test Local_ResNet_18 poisoned: False, epoch: 150: Average loss: 2.2070, Accuracy: 5298/10000 (52.9800%)
___Train Local_ResNet_18,  epoch 150, local model 93, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4660/5055 (92.1860%)
___Train Local_ResNet_18,  epoch 150, local model 93, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4572/5055 (90.4451%)
___Test Local_ResNet_18 poisoned: False, epoch: 150: Average loss: 2.1694, Accuracy: 5238/10000 (52.3800%)
___Train Local_ResNet_18,  epoch 150, local model 65, internal_epoch   1,  Average loss: 0.0040, Accuracy: 5075/5497 (92.3231%)
___Train Local_ResNet_18,  epoch 150, local model 65, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4960/5497 (90.2310%)
___Test Local_ResNet_18 poisoned: False, epoch: 150: Average loss: 2.2653, Accuracy: 5201/10000 (52.0100%)
time spent on training: 274.2307415008545
___Test Target_ResNet_18 poisoned: False, epoch: 150: Average loss: 1.3077, Accuracy: 6676/10000 (66.7600%)
___Test Target_ResNet_18 poisoned: True, epoch: 150: Average loss: 0.0659, Accuracy: 9732/9900 (98.3030%)
Done in 301.0502600669861 sec.
Server Epoch:151 choose agents : [13, 36, 58, 71, 4, 98, 5, 17, 65, 46, 15, 48, 68, 94, 2, 93, 43, 10, 26, 88].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 151, local model 13, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5205/5308 (98.0595%), train_poison_data_count: 415
Global model norm: 44.116453558841.
Norm before scaling: 44.076344234677066. Distance: 1.164683489965317
___Test Local_ResNet_18 poisoned: True, epoch: 151: Average loss: 0.0814, Accuracy: 9686/9900 (97.8384%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 151, local model 36, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5667/5777 (98.0959%), train_poison_data_count: 455
Global model norm: 44.116453558841.
Norm before scaling: 44.07134773757492. Distance: 1.2123522461992806
___Test Local_ResNet_18 poisoned: True, epoch: 151: Average loss: 0.0815, Accuracy: 9698/9900 (97.9596%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 151, local model 58, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4963/5123 (96.8768%), train_poison_data_count: 403
Global model norm: 44.116453558841.
Norm before scaling: 44.08285904877385. Distance: 1.3165079411471066
___Test Local_ResNet_18 poisoned: True, epoch: 151: Average loss: 0.0312, Accuracy: 9812/9900 (99.1111%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 151, local model 71, internal_epoch   1,  Average loss: 0.0016, Accuracy: 5376/5503 (97.6922%), train_poison_data_count: 430
Global model norm: 44.116453558841.
Norm before scaling: 44.07726647515559. Distance: 1.2197859835906297
___Test Local_ResNet_18 poisoned: True, epoch: 151: Average loss: 0.0372, Accuracy: 9804/9900 (99.0303%)
___Train Local_ResNet_18,  epoch 151, local model 4, internal_epoch   1,  Average loss: 0.0035, Accuracy: 3741/4028 (92.8749%)
___Train Local_ResNet_18,  epoch 151, local model 4, internal_epoch   2,  Average loss: 0.0031, Accuracy: 3771/4028 (93.6197%)
___Test Local_ResNet_18 poisoned: False, epoch: 151: Average loss: 1.8214, Accuracy: 5878/10000 (58.7800%)
___Train Local_ResNet_18,  epoch 151, local model 98, internal_epoch   1,  Average loss: 0.0039, Accuracy: 3941/4161 (94.7128%)
___Train Local_ResNet_18,  epoch 151, local model 98, internal_epoch   2,  Average loss: 0.0046, Accuracy: 3857/4161 (92.6941%)
___Test Local_ResNet_18 poisoned: False, epoch: 151: Average loss: 1.8758, Accuracy: 5798/10000 (57.9800%)
___Train Local_ResNet_18,  epoch 151, local model 5, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4729/4993 (94.7126%)
___Train Local_ResNet_18,  epoch 151, local model 5, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4615/4993 (92.4294%)
___Test Local_ResNet_18 poisoned: False, epoch: 151: Average loss: 2.3915, Accuracy: 5146/10000 (51.4600%)
___Train Local_ResNet_18,  epoch 151, local model 17, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4456/4903 (90.8831%)
___Train Local_ResNet_18,  epoch 151, local model 17, internal_epoch   2,  Average loss: 0.0059, Accuracy: 4338/4903 (88.4764%)
___Test Local_ResNet_18 poisoned: False, epoch: 151: Average loss: 2.3889, Accuracy: 4905/10000 (49.0500%)
___Train Local_ResNet_18,  epoch 151, local model 65, internal_epoch   1,  Average loss: 0.0041, Accuracy: 5087/5497 (92.5414%)
___Train Local_ResNet_18,  epoch 151, local model 65, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4909/5497 (89.3033%)
___Test Local_ResNet_18 poisoned: False, epoch: 151: Average loss: 2.1562, Accuracy: 5296/10000 (52.9600%)
___Train Local_ResNet_18,  epoch 151, local model 46, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4912/5399 (90.9798%)
___Train Local_ResNet_18,  epoch 151, local model 46, internal_epoch   2,  Average loss: 0.0064, Accuracy: 4734/5399 (87.6829%)
___Test Local_ResNet_18 poisoned: False, epoch: 151: Average loss: 2.2259, Accuracy: 5214/10000 (52.1400%)
___Train Local_ResNet_18,  epoch 151, local model 15, internal_epoch   1,  Average loss: 0.0036, Accuracy: 5649/6068 (93.0949%)
___Train Local_ResNet_18,  epoch 151, local model 15, internal_epoch   2,  Average loss: 0.0048, Accuracy: 5475/6068 (90.2274%)
___Test Local_ResNet_18 poisoned: False, epoch: 151: Average loss: 2.1425, Accuracy: 5302/10000 (53.0200%)
___Train Local_ResNet_18,  epoch 151, local model 48, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4581/4830 (94.8447%)
___Train Local_ResNet_18,  epoch 151, local model 48, internal_epoch   2,  Average loss: 0.0033, Accuracy: 4520/4830 (93.5818%)
___Test Local_ResNet_18 poisoned: False, epoch: 151: Average loss: 2.0735, Accuracy: 5539/10000 (55.3900%)
___Train Local_ResNet_18,  epoch 151, local model 68, internal_epoch   1,  Average loss: 0.0034, Accuracy: 3363/3589 (93.7030%)
___Train Local_ResNet_18,  epoch 151, local model 68, internal_epoch   2,  Average loss: 0.0047, Accuracy: 3276/3589 (91.2789%)
___Test Local_ResNet_18 poisoned: False, epoch: 151: Average loss: 2.2135, Accuracy: 5431/10000 (54.3100%)
___Train Local_ResNet_18,  epoch 151, local model 94, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4791/5224 (91.7113%)
___Train Local_ResNet_18,  epoch 151, local model 94, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4775/5224 (91.4051%)
___Test Local_ResNet_18 poisoned: False, epoch: 151: Average loss: 2.1360, Accuracy: 5346/10000 (53.4600%)
___Train Local_ResNet_18,  epoch 151, local model 2, internal_epoch   1,  Average loss: 0.0037, Accuracy: 3683/3968 (92.8175%)
___Train Local_ResNet_18,  epoch 151, local model 2, internal_epoch   2,  Average loss: 0.0036, Accuracy: 3672/3968 (92.5403%)
___Test Local_ResNet_18 poisoned: False, epoch: 151: Average loss: 1.7652, Accuracy: 5818/10000 (58.1800%)
___Train Local_ResNet_18,  epoch 151, local model 93, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4658/5055 (92.1464%)
___Train Local_ResNet_18,  epoch 151, local model 93, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4605/5055 (91.0979%)
___Test Local_ResNet_18 poisoned: False, epoch: 151: Average loss: 2.2015, Accuracy: 5296/10000 (52.9600%)
___Train Local_ResNet_18,  epoch 151, local model 43, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4597/4979 (92.3278%)
___Train Local_ResNet_18,  epoch 151, local model 43, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4555/4979 (91.4842%)
___Test Local_ResNet_18 poisoned: False, epoch: 151: Average loss: 1.9612, Accuracy: 5579/10000 (55.7900%)
___Train Local_ResNet_18,  epoch 151, local model 10, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4777/5068 (94.2581%)
___Train Local_ResNet_18,  epoch 151, local model 10, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4668/5068 (92.1073%)
___Test Local_ResNet_18 poisoned: False, epoch: 151: Average loss: 2.1971, Accuracy: 5330/10000 (53.3000%)
___Train Local_ResNet_18,  epoch 151, local model 26, internal_epoch   1,  Average loss: 0.0028, Accuracy: 3860/4086 (94.4689%)
___Train Local_ResNet_18,  epoch 151, local model 26, internal_epoch   2,  Average loss: 0.0031, Accuracy: 3847/4086 (94.1508%)
___Test Local_ResNet_18 poisoned: False, epoch: 151: Average loss: 1.9485, Accuracy: 5712/10000 (57.1200%)
___Train Local_ResNet_18,  epoch 151, local model 88, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4961/5362 (92.5214%)
___Train Local_ResNet_18,  epoch 151, local model 88, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4857/5362 (90.5819%)
___Test Local_ResNet_18 poisoned: False, epoch: 151: Average loss: 2.0834, Accuracy: 5396/10000 (53.9600%)
time spent on training: 273.64047050476074
___Test Target_ResNet_18 poisoned: False, epoch: 151: Average loss: 1.3081, Accuracy: 6683/10000 (66.8300%)
___Test Target_ResNet_18 poisoned: True, epoch: 151: Average loss: 0.0694, Accuracy: 9716/9900 (98.1414%)
Done in 300.31445717811584 sec.
Server Epoch:152 choose agents : [13, 36, 58, 71, 7, 81, 4, 44, 5, 99, 83, 55, 94, 14, 32, 74, 20, 49, 23, 62].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 152, local model 13, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5215/5308 (98.2479%), train_poison_data_count: 415
Global model norm: 44.13492496382542.
Norm before scaling: 44.093434398232695. Distance: 1.1608099845588273
___Test Local_ResNet_18 poisoned: True, epoch: 152: Average loss: 0.0916, Accuracy: 9670/9900 (97.6768%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 152, local model 36, internal_epoch   1,  Average loss: 0.0016, Accuracy: 5637/5777 (97.5766%), train_poison_data_count: 455
Global model norm: 44.13492496382542.
Norm before scaling: 44.0915033645408. Distance: 1.2791821144405522
___Test Local_ResNet_18 poisoned: True, epoch: 152: Average loss: 0.0542, Accuracy: 9763/9900 (98.6162%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 152, local model 58, internal_epoch   1,  Average loss: 0.0025, Accuracy: 4981/5123 (97.2282%), train_poison_data_count: 403
Global model norm: 44.13492496382542.
Norm before scaling: 44.09806991817003. Distance: 1.2575045380406185
___Test Local_ResNet_18 poisoned: True, epoch: 152: Average loss: 0.0492, Accuracy: 9763/9900 (98.6162%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 152, local model 71, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5387/5503 (97.8921%), train_poison_data_count: 430
Global model norm: 44.13492496382542.
Norm before scaling: 44.093889805324075. Distance: 1.2209818041271219
___Test Local_ResNet_18 poisoned: True, epoch: 152: Average loss: 0.0879, Accuracy: 9686/9900 (97.8384%)
___Train Local_ResNet_18,  epoch 152, local model 7, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4469/4869 (91.7848%)
___Train Local_ResNet_18,  epoch 152, local model 7, internal_epoch   2,  Average loss: 0.0060, Accuracy: 4304/4869 (88.3960%)
___Test Local_ResNet_18 poisoned: False, epoch: 152: Average loss: 2.1969, Accuracy: 5153/10000 (51.5300%)
___Train Local_ResNet_18,  epoch 152, local model 81, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4763/5035 (94.5978%)
___Train Local_ResNet_18,  epoch 152, local model 81, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4697/5035 (93.2870%)
___Test Local_ResNet_18 poisoned: False, epoch: 152: Average loss: 1.9884, Accuracy: 5622/10000 (56.2200%)
___Train Local_ResNet_18,  epoch 152, local model 4, internal_epoch   1,  Average loss: 0.0032, Accuracy: 3788/4028 (94.0417%)
___Train Local_ResNet_18,  epoch 152, local model 4, internal_epoch   2,  Average loss: 0.0037, Accuracy: 3744/4028 (92.9494%)
___Test Local_ResNet_18 poisoned: False, epoch: 152: Average loss: 1.8295, Accuracy: 5854/10000 (58.5400%)
___Train Local_ResNet_18,  epoch 152, local model 44, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4773/5075 (94.0493%)
___Train Local_ResNet_18,  epoch 152, local model 44, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4648/5075 (91.5862%)
___Test Local_ResNet_18 poisoned: False, epoch: 152: Average loss: 2.2475, Accuracy: 5248/10000 (52.4800%)
___Train Local_ResNet_18,  epoch 152, local model 5, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4745/4993 (95.0330%)
___Train Local_ResNet_18,  epoch 152, local model 5, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4689/4993 (93.9115%)
___Test Local_ResNet_18 poisoned: False, epoch: 152: Average loss: 1.9859, Accuracy: 5679/10000 (56.7900%)
___Train Local_ResNet_18,  epoch 152, local model 99, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4478/4851 (92.3109%)
___Train Local_ResNet_18,  epoch 152, local model 99, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4483/4851 (92.4139%)
___Test Local_ResNet_18 poisoned: False, epoch: 152: Average loss: 1.9960, Accuracy: 5542/10000 (55.4200%)
___Train Local_ResNet_18,  epoch 152, local model 83, internal_epoch   1,  Average loss: 0.0035, Accuracy: 3303/3552 (92.9899%)
___Train Local_ResNet_18,  epoch 152, local model 83, internal_epoch   2,  Average loss: 0.0031, Accuracy: 3334/3552 (93.8626%)
___Test Local_ResNet_18 poisoned: False, epoch: 152: Average loss: 1.7615, Accuracy: 5968/10000 (59.6800%)
___Train Local_ResNet_18,  epoch 152, local model 55, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4434/4731 (93.7223%)
___Train Local_ResNet_18,  epoch 152, local model 55, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4349/4731 (91.9256%)
___Test Local_ResNet_18 poisoned: False, epoch: 152: Average loss: 2.0009, Accuracy: 5500/10000 (55.0000%)
___Train Local_ResNet_18,  epoch 152, local model 94, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4791/5224 (91.7113%)
___Train Local_ResNet_18,  epoch 152, local model 94, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4770/5224 (91.3093%)
___Test Local_ResNet_18 poisoned: False, epoch: 152: Average loss: 2.0563, Accuracy: 5388/10000 (53.8800%)
___Train Local_ResNet_18,  epoch 152, local model 14, internal_epoch   1,  Average loss: 0.0026, Accuracy: 4008/4196 (95.5195%)
___Train Local_ResNet_18,  epoch 152, local model 14, internal_epoch   2,  Average loss: 0.0030, Accuracy: 3961/4196 (94.3994%)
___Test Local_ResNet_18 poisoned: False, epoch: 152: Average loss: 1.8567, Accuracy: 5759/10000 (57.5900%)
___Train Local_ResNet_18,  epoch 152, local model 32, internal_epoch   1,  Average loss: 0.0047, Accuracy: 5534/6080 (91.0197%)
___Train Local_ResNet_18,  epoch 152, local model 32, internal_epoch   2,  Average loss: 0.0061, Accuracy: 5349/6080 (87.9770%)
___Test Local_ResNet_18 poisoned: False, epoch: 152: Average loss: 2.1817, Accuracy: 5207/10000 (52.0700%)
___Train Local_ResNet_18,  epoch 152, local model 74, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4415/4797 (92.0367%)
___Train Local_ResNet_18,  epoch 152, local model 74, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4358/4797 (90.8484%)
___Test Local_ResNet_18 poisoned: False, epoch: 152: Average loss: 2.0646, Accuracy: 5516/10000 (55.1600%)
___Train Local_ResNet_18,  epoch 152, local model 20, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4433/4714 (94.0390%)
___Train Local_ResNet_18,  epoch 152, local model 20, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4401/4714 (93.3602%)
___Test Local_ResNet_18 poisoned: False, epoch: 152: Average loss: 2.0100, Accuracy: 5533/10000 (55.3300%)
___Train Local_ResNet_18,  epoch 152, local model 49, internal_epoch   1,  Average loss: 0.0045, Accuracy: 5158/5652 (91.2597%)
___Train Local_ResNet_18,  epoch 152, local model 49, internal_epoch   2,  Average loss: 0.0054, Accuracy: 5056/5652 (89.4551%)
___Test Local_ResNet_18 poisoned: False, epoch: 152: Average loss: 2.2891, Accuracy: 5088/10000 (50.8800%)
___Train Local_ResNet_18,  epoch 152, local model 23, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4308/4549 (94.7021%)
___Train Local_ResNet_18,  epoch 152, local model 23, internal_epoch   2,  Average loss: 0.0054, Accuracy: 4122/4549 (90.6133%)
___Test Local_ResNet_18 poisoned: False, epoch: 152: Average loss: 2.1261, Accuracy: 5381/10000 (53.8100%)
___Train Local_ResNet_18,  epoch 152, local model 62, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4970/5504 (90.2980%)
___Train Local_ResNet_18,  epoch 152, local model 62, internal_epoch   2,  Average loss: 0.0062, Accuracy: 4766/5504 (86.5916%)
___Test Local_ResNet_18 poisoned: False, epoch: 152: Average loss: 2.3816, Accuracy: 4877/10000 (48.7700%)
time spent on training: 273.61650037765503
___Test Target_ResNet_18 poisoned: False, epoch: 152: Average loss: 1.3202, Accuracy: 6665/10000 (66.6500%)
___Test Target_ResNet_18 poisoned: True, epoch: 152: Average loss: 0.0679, Accuracy: 9719/9900 (98.1717%)
Done in 300.52900218963623 sec.
Server Epoch:153 choose agents : [13, 36, 58, 71, 0, 97, 90, 3, 15, 93, 69, 88, 79, 65, 44, 84, 6, 78, 24, 4].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 153, local model 13, internal_epoch   1,  Average loss: 0.0016, Accuracy: 5189/5308 (97.7581%), train_poison_data_count: 415
Global model norm: 44.15327667139.
Norm before scaling: 44.11480854551918. Distance: 1.259889865633501
___Test Local_ResNet_18 poisoned: True, epoch: 153: Average loss: 0.0239, Accuracy: 9839/9900 (99.3838%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 153, local model 36, internal_epoch   1,  Average loss: 0.0016, Accuracy: 5646/5777 (97.7324%), train_poison_data_count: 455
Global model norm: 44.15327667139.
Norm before scaling: 44.10979703349288. Distance: 1.2743256169171258
___Test Local_ResNet_18 poisoned: True, epoch: 153: Average loss: 0.0908, Accuracy: 9667/9900 (97.6465%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 153, local model 58, internal_epoch   1,  Average loss: 0.0026, Accuracy: 4979/5123 (97.1891%), train_poison_data_count: 403
Global model norm: 44.15327667139.
Norm before scaling: 44.11606479335575. Distance: 1.2641112140185573
___Test Local_ResNet_18 poisoned: True, epoch: 153: Average loss: 0.2603, Accuracy: 9191/9900 (92.8384%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 153, local model 71, internal_epoch   1,  Average loss: 0.0016, Accuracy: 5378/5503 (97.7285%), train_poison_data_count: 430
Global model norm: 44.15327667139.
Norm before scaling: 44.11237204217769. Distance: 1.2277087547257937
___Test Local_ResNet_18 poisoned: True, epoch: 153: Average loss: 0.0815, Accuracy: 9684/9900 (97.8182%)
___Train Local_ResNet_18,  epoch 153, local model 0, internal_epoch   1,  Average loss: 0.0040, Accuracy: 5051/5454 (92.6109%)
___Train Local_ResNet_18,  epoch 153, local model 0, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4888/5454 (89.6223%)
___Test Local_ResNet_18 poisoned: False, epoch: 153: Average loss: 2.1102, Accuracy: 5487/10000 (54.8700%)
___Train Local_ResNet_18,  epoch 153, local model 97, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4324/4736 (91.3007%)
___Train Local_ResNet_18,  epoch 153, local model 97, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4276/4736 (90.2872%)
___Test Local_ResNet_18 poisoned: False, epoch: 153: Average loss: 2.0364, Accuracy: 5488/10000 (54.8800%)
___Train Local_ResNet_18,  epoch 153, local model 90, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4534/4748 (95.4928%)
___Train Local_ResNet_18,  epoch 153, local model 90, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4393/4748 (92.5232%)
___Test Local_ResNet_18 poisoned: False, epoch: 153: Average loss: 2.0570, Accuracy: 5402/10000 (54.0200%)
___Train Local_ResNet_18,  epoch 153, local model 3, internal_epoch   1,  Average loss: 0.0031, Accuracy: 5048/5346 (94.4257%)
___Train Local_ResNet_18,  epoch 153, local model 3, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4983/5346 (93.2099%)
___Test Local_ResNet_18 poisoned: False, epoch: 153: Average loss: 2.1340, Accuracy: 5388/10000 (53.8800%)
___Train Local_ResNet_18,  epoch 153, local model 15, internal_epoch   1,  Average loss: 0.0042, Accuracy: 5570/6068 (91.7930%)
___Train Local_ResNet_18,  epoch 153, local model 15, internal_epoch   2,  Average loss: 0.0046, Accuracy: 5529/6068 (91.1173%)
___Test Local_ResNet_18 poisoned: False, epoch: 153: Average loss: 2.2507, Accuracy: 5111/10000 (51.1100%)
___Train Local_ResNet_18,  epoch 153, local model 93, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4697/5055 (92.9179%)
___Train Local_ResNet_18,  epoch 153, local model 93, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4641/5055 (91.8101%)
___Test Local_ResNet_18 poisoned: False, epoch: 153: Average loss: 2.0402, Accuracy: 5477/10000 (54.7700%)
___Train Local_ResNet_18,  epoch 153, local model 69, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4080/4364 (93.4922%)
___Train Local_ResNet_18,  epoch 153, local model 69, internal_epoch   2,  Average loss: 0.0049, Accuracy: 3934/4364 (90.1467%)
___Test Local_ResNet_18 poisoned: False, epoch: 153: Average loss: 2.0699, Accuracy: 5395/10000 (53.9500%)
___Train Local_ResNet_18,  epoch 153, local model 88, internal_epoch   1,  Average loss: 0.0033, Accuracy: 5026/5362 (93.7337%)
___Train Local_ResNet_18,  epoch 153, local model 88, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4902/5362 (91.4211%)
___Test Local_ResNet_18 poisoned: False, epoch: 153: Average loss: 2.1694, Accuracy: 5261/10000 (52.6100%)
___Train Local_ResNet_18,  epoch 153, local model 79, internal_epoch   1,  Average loss: 0.0034, Accuracy: 3849/4111 (93.6269%)
___Train Local_ResNet_18,  epoch 153, local model 79, internal_epoch   2,  Average loss: 0.0038, Accuracy: 3812/4111 (92.7268%)
___Test Local_ResNet_18 poisoned: False, epoch: 153: Average loss: 2.0693, Accuracy: 5552/10000 (55.5200%)
___Train Local_ResNet_18,  epoch 153, local model 65, internal_epoch   1,  Average loss: 0.0044, Accuracy: 5023/5497 (91.3771%)
___Train Local_ResNet_18,  epoch 153, local model 65, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4944/5497 (89.9400%)
___Test Local_ResNet_18 poisoned: False, epoch: 153: Average loss: 2.2260, Accuracy: 5232/10000 (52.3200%)
___Train Local_ResNet_18,  epoch 153, local model 44, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4808/5075 (94.7389%)
___Train Local_ResNet_18,  epoch 153, local model 44, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4699/5075 (92.5911%)
___Test Local_ResNet_18 poisoned: False, epoch: 153: Average loss: 1.9364, Accuracy: 5616/10000 (56.1600%)
___Train Local_ResNet_18,  epoch 153, local model 84, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4801/5209 (92.1674%)
___Train Local_ResNet_18,  epoch 153, local model 84, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4684/5209 (89.9213%)
___Test Local_ResNet_18 poisoned: False, epoch: 153: Average loss: 2.2731, Accuracy: 5248/10000 (52.4800%)
___Train Local_ResNet_18,  epoch 153, local model 6, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4577/4929 (92.8586%)
___Train Local_ResNet_18,  epoch 153, local model 6, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4520/4929 (91.7022%)
___Test Local_ResNet_18 poisoned: False, epoch: 153: Average loss: 2.1121, Accuracy: 5580/10000 (55.8000%)
___Train Local_ResNet_18,  epoch 153, local model 78, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4093/4368 (93.7042%)
___Train Local_ResNet_18,  epoch 153, local model 78, internal_epoch   2,  Average loss: 0.0048, Accuracy: 3961/4368 (90.6822%)
___Test Local_ResNet_18 poisoned: False, epoch: 153: Average loss: 2.1747, Accuracy: 5365/10000 (53.6500%)
___Train Local_ResNet_18,  epoch 153, local model 24, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4043/4313 (93.7399%)
___Train Local_ResNet_18,  epoch 153, local model 24, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4012/4313 (93.0211%)
___Test Local_ResNet_18 poisoned: False, epoch: 153: Average loss: 1.8824, Accuracy: 5760/10000 (57.6000%)
___Train Local_ResNet_18,  epoch 153, local model 4, internal_epoch   1,  Average loss: 0.0032, Accuracy: 3792/4028 (94.1410%)
___Train Local_ResNet_18,  epoch 153, local model 4, internal_epoch   2,  Average loss: 0.0038, Accuracy: 3752/4028 (93.1480%)
___Test Local_ResNet_18 poisoned: False, epoch: 153: Average loss: 2.0861, Accuracy: 5519/10000 (55.1900%)
time spent on training: 275.2544162273407
___Test Target_ResNet_18 poisoned: False, epoch: 153: Average loss: 1.3217, Accuracy: 6657/10000 (66.5700%)
___Test Target_ResNet_18 poisoned: True, epoch: 153: Average loss: 0.0717, Accuracy: 9714/9900 (98.1212%)
Done in 301.5726783275604 sec.
Server Epoch:154 choose agents : [13, 36, 58, 71, 38, 89, 81, 43, 21, 40, 78, 9, 14, 83, 85, 20, 65, 97, 3, 57].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 154, local model 13, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5208/5308 (98.1161%), train_poison_data_count: 415
Global model norm: 44.17260871118619.
Norm before scaling: 44.13256286993482. Distance: 1.1894591884113979
___Test Local_ResNet_18 poisoned: True, epoch: 154: Average loss: 0.0609, Accuracy: 9751/9900 (98.4949%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 154, local model 36, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5644/5777 (97.6978%), train_poison_data_count: 455
Global model norm: 44.17260871118619.
Norm before scaling: 44.12770828710545. Distance: 1.2546996461653293
___Test Local_ResNet_18 poisoned: True, epoch: 154: Average loss: 0.0363, Accuracy: 9801/9900 (99.0000%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 154, local model 58, internal_epoch   1,  Average loss: 0.0024, Accuracy: 5001/5123 (97.6186%), train_poison_data_count: 403
Global model norm: 44.17260871118619.
Norm before scaling: 44.13458199785062. Distance: 1.1973818649444052
___Test Local_ResNet_18 poisoned: True, epoch: 154: Average loss: 0.1170, Accuracy: 9603/9900 (97.0000%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 154, local model 71, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5353/5503 (97.2742%), train_poison_data_count: 430
Global model norm: 44.17260871118619.
Norm before scaling: 44.137040783684455. Distance: 1.3406539113588596
___Test Local_ResNet_18 poisoned: True, epoch: 154: Average loss: 0.0514, Accuracy: 9763/9900 (98.6162%)
___Train Local_ResNet_18,  epoch 154, local model 38, internal_epoch   1,  Average loss: 0.0050, Accuracy: 5624/6235 (90.2005%)
___Train Local_ResNet_18,  epoch 154, local model 38, internal_epoch   2,  Average loss: 0.0058, Accuracy: 5514/6235 (88.4362%)
___Test Local_ResNet_18 poisoned: False, epoch: 154: Average loss: 2.2703, Accuracy: 5117/10000 (51.1700%)
___Train Local_ResNet_18,  epoch 154, local model 89, internal_epoch   1,  Average loss: 0.0050, Accuracy: 4380/4737 (92.4636%)
___Train Local_ResNet_18,  epoch 154, local model 89, internal_epoch   2,  Average loss: 0.0061, Accuracy: 4265/4737 (90.0359%)
___Test Local_ResNet_18 poisoned: False, epoch: 154: Average loss: 2.3249, Accuracy: 5080/10000 (50.8000%)
___Train Local_ResNet_18,  epoch 154, local model 81, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4750/5035 (94.3396%)
___Train Local_ResNet_18,  epoch 154, local model 81, internal_epoch   2,  Average loss: 0.0032, Accuracy: 4713/5035 (93.6048%)
___Test Local_ResNet_18 poisoned: False, epoch: 154: Average loss: 1.9924, Accuracy: 5597/10000 (55.9700%)
___Train Local_ResNet_18,  epoch 154, local model 43, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4610/4979 (92.5889%)
___Train Local_ResNet_18,  epoch 154, local model 43, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4555/4979 (91.4842%)
___Test Local_ResNet_18 poisoned: False, epoch: 154: Average loss: 2.0838, Accuracy: 5441/10000 (54.4100%)
___Train Local_ResNet_18,  epoch 154, local model 21, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4658/5038 (92.4573%)
___Train Local_ResNet_18,  epoch 154, local model 21, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4600/5038 (91.3061%)
___Test Local_ResNet_18 poisoned: False, epoch: 154: Average loss: 2.2178, Accuracy: 5321/10000 (53.2100%)
___Train Local_ResNet_18,  epoch 154, local model 40, internal_epoch   1,  Average loss: 0.0037, Accuracy: 5500/5939 (92.6082%)
___Train Local_ResNet_18,  epoch 154, local model 40, internal_epoch   2,  Average loss: 0.0043, Accuracy: 5442/5939 (91.6316%)
___Test Local_ResNet_18 poisoned: False, epoch: 154: Average loss: 2.0894, Accuracy: 5381/10000 (53.8100%)
___Train Local_ResNet_18,  epoch 154, local model 78, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4145/4368 (94.8947%)
___Train Local_ResNet_18,  epoch 154, local model 78, internal_epoch   2,  Average loss: 0.0031, Accuracy: 4104/4368 (93.9560%)
___Test Local_ResNet_18 poisoned: False, epoch: 154: Average loss: 2.0578, Accuracy: 5524/10000 (55.2400%)
___Train Local_ResNet_18,  epoch 154, local model 9, internal_epoch   1,  Average loss: 0.0040, Accuracy: 5289/5727 (92.3520%)
___Train Local_ResNet_18,  epoch 154, local model 9, internal_epoch   2,  Average loss: 0.0058, Accuracy: 5057/5727 (88.3010%)
___Test Local_ResNet_18 poisoned: False, epoch: 154: Average loss: 2.2342, Accuracy: 5273/10000 (52.7300%)
___Train Local_ResNet_18,  epoch 154, local model 14, internal_epoch   1,  Average loss: 0.0024, Accuracy: 4025/4196 (95.9247%)
___Train Local_ResNet_18,  epoch 154, local model 14, internal_epoch   2,  Average loss: 0.0030, Accuracy: 3962/4196 (94.4233%)
___Test Local_ResNet_18 poisoned: False, epoch: 154: Average loss: 1.7803, Accuracy: 5951/10000 (59.5100%)
___Train Local_ResNet_18,  epoch 154, local model 83, internal_epoch   1,  Average loss: 0.0035, Accuracy: 3317/3552 (93.3840%)
___Train Local_ResNet_18,  epoch 154, local model 83, internal_epoch   2,  Average loss: 0.0033, Accuracy: 3314/3552 (93.2995%)
___Test Local_ResNet_18 poisoned: False, epoch: 154: Average loss: 1.9686, Accuracy: 5735/10000 (57.3500%)
___Train Local_ResNet_18,  epoch 154, local model 85, internal_epoch   1,  Average loss: 0.0044, Accuracy: 6373/6947 (91.7374%)
___Train Local_ResNet_18,  epoch 154, local model 85, internal_epoch   2,  Average loss: 0.0062, Accuracy: 6051/6947 (87.1023%)
___Test Local_ResNet_18 poisoned: False, epoch: 154: Average loss: 2.4069, Accuracy: 4915/10000 (49.1500%)
___Train Local_ResNet_18,  epoch 154, local model 20, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4456/4714 (94.5269%)
___Train Local_ResNet_18,  epoch 154, local model 20, internal_epoch   2,  Average loss: 0.0033, Accuracy: 4425/4714 (93.8693%)
___Test Local_ResNet_18 poisoned: False, epoch: 154: Average loss: 1.8454, Accuracy: 5758/10000 (57.5800%)
___Train Local_ResNet_18,  epoch 154, local model 65, internal_epoch   1,  Average loss: 0.0041, Accuracy: 5058/5497 (92.0138%)
___Train Local_ResNet_18,  epoch 154, local model 65, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4954/5497 (90.1219%)
___Test Local_ResNet_18 poisoned: False, epoch: 154: Average loss: 2.2486, Accuracy: 5183/10000 (51.8300%)
___Train Local_ResNet_18,  epoch 154, local model 97, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4359/4736 (92.0397%)
___Train Local_ResNet_18,  epoch 154, local model 97, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4239/4736 (89.5059%)
___Test Local_ResNet_18 poisoned: False, epoch: 154: Average loss: 2.1244, Accuracy: 5335/10000 (53.3500%)
___Train Local_ResNet_18,  epoch 154, local model 3, internal_epoch   1,  Average loss: 0.0027, Accuracy: 5091/5346 (95.2301%)
___Train Local_ResNet_18,  epoch 154, local model 3, internal_epoch   2,  Average loss: 0.0034, Accuracy: 5024/5346 (93.9768%)
___Test Local_ResNet_18 poisoned: False, epoch: 154: Average loss: 1.9353, Accuracy: 5602/10000 (56.0200%)
___Train Local_ResNet_18,  epoch 154, local model 57, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4603/4956 (92.8773%)
___Train Local_ResNet_18,  epoch 154, local model 57, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4524/4956 (91.2833%)
___Test Local_ResNet_18 poisoned: False, epoch: 154: Average loss: 2.1010, Accuracy: 5410/10000 (54.1000%)
time spent on training: 278.276029586792
___Test Target_ResNet_18 poisoned: False, epoch: 154: Average loss: 1.3185, Accuracy: 6662/10000 (66.6200%)
___Test Target_ResNet_18 poisoned: True, epoch: 154: Average loss: 0.0694, Accuracy: 9718/9900 (98.1616%)
Done in 304.9775724411011 sec.
Server Epoch:155 choose agents : [13, 36, 58, 71, 79, 41, 44, 27, 24, 6, 29, 62, 19, 17, 51, 10, 22, 55, 2, 18].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 155, local model 13, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5196/5308 (97.8900%), train_poison_data_count: 415
Global model norm: 44.19120304718817.
Norm before scaling: 44.15209474875598. Distance: 1.2230861017886725
___Test Local_ResNet_18 poisoned: True, epoch: 155: Average loss: 0.0661, Accuracy: 9719/9900 (98.1717%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 155, local model 36, internal_epoch   1,  Average loss: 0.0016, Accuracy: 5640/5777 (97.6285%), train_poison_data_count: 455
Global model norm: 44.19120304718817.
Norm before scaling: 44.147858920514196. Distance: 1.2721356717606922
___Test Local_ResNet_18 poisoned: True, epoch: 155: Average loss: 0.1072, Accuracy: 9618/9900 (97.1515%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 155, local model 58, internal_epoch   1,  Average loss: 0.0025, Accuracy: 4973/5123 (97.0720%), train_poison_data_count: 403
Global model norm: 44.19120304718817.
Norm before scaling: 44.15424430379329. Distance: 1.2731080828569432
___Test Local_ResNet_18 poisoned: True, epoch: 155: Average loss: 0.0381, Accuracy: 9806/9900 (99.0505%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 155, local model 71, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5396/5503 (98.0556%), train_poison_data_count: 430
Global model norm: 44.19120304718817.
Norm before scaling: 44.150504978355. Distance: 1.2014571680696455
___Test Local_ResNet_18 poisoned: True, epoch: 155: Average loss: 0.0694, Accuracy: 9728/9900 (98.2626%)
___Train Local_ResNet_18,  epoch 155, local model 79, internal_epoch   1,  Average loss: 0.0032, Accuracy: 3874/4111 (94.2350%)
___Train Local_ResNet_18,  epoch 155, local model 79, internal_epoch   2,  Average loss: 0.0039, Accuracy: 3814/4111 (92.7755%)
___Test Local_ResNet_18 poisoned: False, epoch: 155: Average loss: 1.9880, Accuracy: 5628/10000 (56.2800%)
___Train Local_ResNet_18,  epoch 155, local model 41, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4418/4714 (93.7208%)
___Train Local_ResNet_18,  epoch 155, local model 41, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4384/4714 (92.9996%)
___Test Local_ResNet_18 poisoned: False, epoch: 155: Average loss: 2.2559, Accuracy: 5209/10000 (52.0900%)
___Train Local_ResNet_18,  epoch 155, local model 44, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4799/5075 (94.5616%)
___Train Local_ResNet_18,  epoch 155, local model 44, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4736/5075 (93.3202%)
___Test Local_ResNet_18 poisoned: False, epoch: 155: Average loss: 2.1133, Accuracy: 5526/10000 (55.2600%)
___Train Local_ResNet_18,  epoch 155, local model 27, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4252/4587 (92.6968%)
___Train Local_ResNet_18,  epoch 155, local model 27, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4212/4587 (91.8247%)
___Test Local_ResNet_18 poisoned: False, epoch: 155: Average loss: 2.0282, Accuracy: 5532/10000 (55.3200%)
___Train Local_ResNet_18,  epoch 155, local model 24, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4062/4313 (94.1804%)
___Train Local_ResNet_18,  epoch 155, local model 24, internal_epoch   2,  Average loss: 0.0033, Accuracy: 4042/4313 (93.7167%)
___Test Local_ResNet_18 poisoned: False, epoch: 155: Average loss: 1.8456, Accuracy: 5890/10000 (58.9000%)
___Train Local_ResNet_18,  epoch 155, local model 6, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4607/4929 (93.4672%)
___Train Local_ResNet_18,  epoch 155, local model 6, internal_epoch   2,  Average loss: 0.0058, Accuracy: 4448/4929 (90.2414%)
___Test Local_ResNet_18 poisoned: False, epoch: 155: Average loss: 2.1638, Accuracy: 5396/10000 (53.9600%)
___Train Local_ResNet_18,  epoch 155, local model 29, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4471/4732 (94.4844%)
___Train Local_ResNet_18,  epoch 155, local model 29, internal_epoch   2,  Average loss: 0.0031, Accuracy: 4446/4732 (93.9560%)
___Test Local_ResNet_18 poisoned: False, epoch: 155: Average loss: 1.8147, Accuracy: 5810/10000 (58.1000%)
___Train Local_ResNet_18,  epoch 155, local model 62, internal_epoch   1,  Average loss: 0.0053, Accuracy: 4942/5504 (89.7892%)
___Train Local_ResNet_18,  epoch 155, local model 62, internal_epoch   2,  Average loss: 0.0058, Accuracy: 4843/5504 (87.9906%)
___Test Local_ResNet_18 poisoned: False, epoch: 155: Average loss: 2.3012, Accuracy: 5137/10000 (51.3700%)
___Train Local_ResNet_18,  epoch 155, local model 19, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4858/5361 (90.6174%)
___Train Local_ResNet_18,  epoch 155, local model 19, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4842/5361 (90.3190%)
___Test Local_ResNet_18 poisoned: False, epoch: 155: Average loss: 2.1672, Accuracy: 5309/10000 (53.0900%)
___Train Local_ResNet_18,  epoch 155, local model 17, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4430/4903 (90.3528%)
___Train Local_ResNet_18,  epoch 155, local model 17, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4352/4903 (88.7620%)
___Test Local_ResNet_18 poisoned: False, epoch: 155: Average loss: 2.2796, Accuracy: 4990/10000 (49.9000%)
___Train Local_ResNet_18,  epoch 155, local model 51, internal_epoch   1,  Average loss: 0.0033, Accuracy: 3849/4108 (93.6952%)
___Train Local_ResNet_18,  epoch 155, local model 51, internal_epoch   2,  Average loss: 0.0039, Accuracy: 3789/4108 (92.2347%)
___Test Local_ResNet_18 poisoned: False, epoch: 155: Average loss: 1.9748, Accuracy: 5608/10000 (56.0800%)
___Train Local_ResNet_18,  epoch 155, local model 10, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4755/5068 (93.8240%)
___Train Local_ResNet_18,  epoch 155, local model 10, internal_epoch   2,  Average loss: 0.0061, Accuracy: 4484/5068 (88.4767%)
___Test Local_ResNet_18 poisoned: False, epoch: 155: Average loss: 2.2591, Accuracy: 5082/10000 (50.8200%)
___Train Local_ResNet_18,  epoch 155, local model 22, internal_epoch   1,  Average loss: 0.0034, Accuracy: 5312/5696 (93.2584%)
___Train Local_ResNet_18,  epoch 155, local model 22, internal_epoch   2,  Average loss: 0.0045, Accuracy: 5174/5696 (90.8357%)
___Test Local_ResNet_18 poisoned: False, epoch: 155: Average loss: 2.1676, Accuracy: 5261/10000 (52.6100%)
___Train Local_ResNet_18,  epoch 155, local model 55, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4451/4731 (94.0816%)
___Train Local_ResNet_18,  epoch 155, local model 55, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4382/4731 (92.6231%)
___Test Local_ResNet_18 poisoned: False, epoch: 155: Average loss: 1.9739, Accuracy: 5541/10000 (55.4100%)
___Train Local_ResNet_18,  epoch 155, local model 2, internal_epoch   1,  Average loss: 0.0036, Accuracy: 3692/3968 (93.0444%)
___Train Local_ResNet_18,  epoch 155, local model 2, internal_epoch   2,  Average loss: 0.0038, Accuracy: 3666/3968 (92.3891%)
___Test Local_ResNet_18 poisoned: False, epoch: 155: Average loss: 1.9117, Accuracy: 5610/10000 (56.1000%)
___Train Local_ResNet_18,  epoch 155, local model 18, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4001/4249 (94.1633%)
___Train Local_ResNet_18,  epoch 155, local model 18, internal_epoch   2,  Average loss: 0.0045, Accuracy: 3885/4249 (91.4333%)
___Test Local_ResNet_18 poisoned: False, epoch: 155: Average loss: 1.9590, Accuracy: 5664/10000 (56.6400%)
time spent on training: 271.7762987613678
___Test Target_ResNet_18 poisoned: False, epoch: 155: Average loss: 1.3257, Accuracy: 6667/10000 (66.6700%)
___Test Target_ResNet_18 poisoned: True, epoch: 155: Average loss: 0.0699, Accuracy: 9718/9900 (98.1616%)
Done in 298.05118060112 sec.
Server Epoch:156 choose agents : [13, 36, 58, 71, 11, 83, 23, 59, 10, 86, 19, 48, 50, 12, 38, 98, 74, 21, 63, 62].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 156, local model 13, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5209/5308 (98.1349%), train_poison_data_count: 415
Global model norm: 44.20955210212282.
Norm before scaling: 44.168891668355656. Distance: 1.1926835014501322
___Test Local_ResNet_18 poisoned: True, epoch: 156: Average loss: 0.0302, Accuracy: 9820/9900 (99.1919%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 156, local model 36, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5665/5777 (98.0613%), train_poison_data_count: 455
Global model norm: 44.20955210212282.
Norm before scaling: 44.16404660688729. Distance: 1.239627479386877
___Test Local_ResNet_18 poisoned: True, epoch: 156: Average loss: 0.0826, Accuracy: 9694/9900 (97.9192%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 156, local model 58, internal_epoch   1,  Average loss: 0.0024, Accuracy: 4980/5123 (97.2087%), train_poison_data_count: 403
Global model norm: 44.20955210212282.
Norm before scaling: 44.17232407138193. Distance: 1.2448078564132388
___Test Local_ResNet_18 poisoned: True, epoch: 156: Average loss: 0.0592, Accuracy: 9741/9900 (98.3939%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 156, local model 71, internal_epoch   1,  Average loss: 0.0016, Accuracy: 5384/5503 (97.8375%), train_poison_data_count: 430
Global model norm: 44.20955210212282.
Norm before scaling: 44.16860009525998. Distance: 1.2145621411855922
___Test Local_ResNet_18 poisoned: True, epoch: 156: Average loss: 0.0594, Accuracy: 9742/9900 (98.4040%)
___Train Local_ResNet_18,  epoch 156, local model 11, internal_epoch   1,  Average loss: 0.0064, Accuracy: 5002/5702 (87.7236%)
___Train Local_ResNet_18,  epoch 156, local model 11, internal_epoch   2,  Average loss: 0.0101, Accuracy: 4576/5702 (80.2525%)
___Test Local_ResNet_18 poisoned: False, epoch: 156: Average loss: 2.4831, Accuracy: 4826/10000 (48.2600%)
___Train Local_ResNet_18,  epoch 156, local model 83, internal_epoch   1,  Average loss: 0.0036, Accuracy: 3307/3552 (93.1025%)
___Train Local_ResNet_18,  epoch 156, local model 83, internal_epoch   2,  Average loss: 0.0034, Accuracy: 3314/3552 (93.2995%)
___Test Local_ResNet_18 poisoned: False, epoch: 156: Average loss: 1.8575, Accuracy: 5831/10000 (58.3100%)
___Train Local_ResNet_18,  epoch 156, local model 23, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4328/4549 (95.1418%)
___Train Local_ResNet_18,  epoch 156, local model 23, internal_epoch   2,  Average loss: 0.0090, Accuracy: 3764/4549 (82.7435%)
___Test Local_ResNet_18 poisoned: False, epoch: 156: Average loss: 2.3658, Accuracy: 4977/10000 (49.7700%)
___Train Local_ResNet_18,  epoch 156, local model 59, internal_epoch   1,  Average loss: 0.0024, Accuracy: 4220/4397 (95.9745%)
___Train Local_ResNet_18,  epoch 156, local model 59, internal_epoch   2,  Average loss: 0.0024, Accuracy: 4188/4397 (95.2468%)
___Test Local_ResNet_18 poisoned: False, epoch: 156: Average loss: 1.8651, Accuracy: 5849/10000 (58.4900%)
___Train Local_ResNet_18,  epoch 156, local model 10, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4809/5068 (94.8895%)
___Train Local_ResNet_18,  epoch 156, local model 10, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4635/5068 (91.4562%)
___Test Local_ResNet_18 poisoned: False, epoch: 156: Average loss: 2.1722, Accuracy: 5261/10000 (52.6100%)
___Train Local_ResNet_18,  epoch 156, local model 86, internal_epoch   1,  Average loss: 0.0044, Accuracy: 3594/3929 (91.4737%)
___Train Local_ResNet_18,  epoch 156, local model 86, internal_epoch   2,  Average loss: 0.0044, Accuracy: 3578/3929 (91.0664%)
___Test Local_ResNet_18 poisoned: False, epoch: 156: Average loss: 2.0089, Accuracy: 5556/10000 (55.5600%)
___Train Local_ResNet_18,  epoch 156, local model 19, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4895/5361 (91.3076%)
___Train Local_ResNet_18,  epoch 156, local model 19, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4834/5361 (90.1697%)
___Test Local_ResNet_18 poisoned: False, epoch: 156: Average loss: 2.1718, Accuracy: 5278/10000 (52.7800%)
___Train Local_ResNet_18,  epoch 156, local model 48, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4565/4830 (94.5135%)
___Train Local_ResNet_18,  epoch 156, local model 48, internal_epoch   2,  Average loss: 0.0031, Accuracy: 4536/4830 (93.9130%)
___Test Local_ResNet_18 poisoned: False, epoch: 156: Average loss: 2.0374, Accuracy: 5581/10000 (55.8100%)
___Train Local_ResNet_18,  epoch 156, local model 50, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4457/4757 (93.6935%)
___Train Local_ResNet_18,  epoch 156, local model 50, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4357/4757 (91.5913%)
___Test Local_ResNet_18 poisoned: False, epoch: 156: Average loss: 2.1012, Accuracy: 5371/10000 (53.7100%)
___Train Local_ResNet_18,  epoch 156, local model 12, internal_epoch   1,  Average loss: 0.0041, Accuracy: 5112/5526 (92.5081%)
___Train Local_ResNet_18,  epoch 156, local model 12, internal_epoch   2,  Average loss: 0.0057, Accuracy: 4896/5526 (88.5993%)
___Test Local_ResNet_18 poisoned: False, epoch: 156: Average loss: 2.1963, Accuracy: 5287/10000 (52.8700%)
___Train Local_ResNet_18,  epoch 156, local model 38, internal_epoch   1,  Average loss: 0.0049, Accuracy: 5654/6235 (90.6816%)
___Train Local_ResNet_18,  epoch 156, local model 38, internal_epoch   2,  Average loss: 0.0064, Accuracy: 5435/6235 (87.1692%)
___Test Local_ResNet_18 poisoned: False, epoch: 156: Average loss: 2.3047, Accuracy: 4952/10000 (49.5200%)
___Train Local_ResNet_18,  epoch 156, local model 98, internal_epoch   1,  Average loss: 0.0046, Accuracy: 3892/4161 (93.5352%)
___Train Local_ResNet_18,  epoch 156, local model 98, internal_epoch   2,  Average loss: 0.0050, Accuracy: 3828/4161 (91.9971%)
___Test Local_ResNet_18 poisoned: False, epoch: 156: Average loss: 2.0072, Accuracy: 5630/10000 (56.3000%)
___Train Local_ResNet_18,  epoch 156, local model 74, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4440/4797 (92.5578%)
___Train Local_ResNet_18,  epoch 156, local model 74, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4361/4797 (90.9110%)
___Test Local_ResNet_18 poisoned: False, epoch: 156: Average loss: 2.2531, Accuracy: 5201/10000 (52.0100%)
___Train Local_ResNet_18,  epoch 156, local model 21, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4662/5038 (92.5367%)
___Train Local_ResNet_18,  epoch 156, local model 21, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4664/5038 (92.5764%)
___Test Local_ResNet_18 poisoned: False, epoch: 156: Average loss: 1.8077, Accuracy: 5811/10000 (58.1100%)
___Train Local_ResNet_18,  epoch 156, local model 63, internal_epoch   1,  Average loss: 0.0032, Accuracy: 3708/3910 (94.8338%)
___Train Local_ResNet_18,  epoch 156, local model 63, internal_epoch   2,  Average loss: 0.0058, Accuracy: 3505/3910 (89.6419%)
___Test Local_ResNet_18 poisoned: False, epoch: 156: Average loss: 2.2491, Accuracy: 5330/10000 (53.3000%)
___Train Local_ResNet_18,  epoch 156, local model 62, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4959/5504 (90.0981%)
___Train Local_ResNet_18,  epoch 156, local model 62, internal_epoch   2,  Average loss: 0.0063, Accuracy: 4813/5504 (87.4455%)
___Test Local_ResNet_18 poisoned: False, epoch: 156: Average loss: 2.4798, Accuracy: 4843/10000 (48.4300%)
time spent on training: 274.5061707496643
___Test Target_ResNet_18 poisoned: False, epoch: 156: Average loss: 1.3209, Accuracy: 6680/10000 (66.8000%)
___Test Target_ResNet_18 poisoned: True, epoch: 156: Average loss: 0.0640, Accuracy: 9732/9900 (98.3030%)
Done in 300.82226300239563 sec.
Server Epoch:157 choose agents : [13, 36, 58, 71, 7, 2, 12, 90, 33, 98, 27, 94, 1, 52, 14, 48, 96, 37, 20, 28].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 157, local model 13, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5203/5308 (98.0219%), train_poison_data_count: 415
Global model norm: 44.22790458460939.
Norm before scaling: 44.18652342670854. Distance: 1.1843833681480278
___Test Local_ResNet_18 poisoned: True, epoch: 157: Average loss: 0.0195, Accuracy: 9853/9900 (99.5253%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 157, local model 36, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5637/5777 (97.5766%), train_poison_data_count: 455
Global model norm: 44.22790458460939.
Norm before scaling: 44.182190054011016. Distance: 1.2633685495270983
___Test Local_ResNet_18 poisoned: True, epoch: 157: Average loss: 0.0625, Accuracy: 9740/9900 (98.3838%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 157, local model 58, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4973/5123 (97.0720%), train_poison_data_count: 403
Global model norm: 44.22790458460939.
Norm before scaling: 44.19013815940017. Distance: 1.2950395671588173
___Test Local_ResNet_18 poisoned: True, epoch: 157: Average loss: 0.0888, Accuracy: 9667/9900 (97.6465%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 157, local model 71, internal_epoch   1,  Average loss: 0.0016, Accuracy: 5374/5503 (97.6558%), train_poison_data_count: 430
Global model norm: 44.22790458460939.
Norm before scaling: 44.18645436130215. Distance: 1.2441463260729613
___Test Local_ResNet_18 poisoned: True, epoch: 157: Average loss: 0.1083, Accuracy: 9624/9900 (97.2121%)
___Train Local_ResNet_18,  epoch 157, local model 7, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4452/4869 (91.4356%)
___Train Local_ResNet_18,  epoch 157, local model 7, internal_epoch   2,  Average loss: 0.0075, Accuracy: 4157/4869 (85.3769%)
___Test Local_ResNet_18 poisoned: False, epoch: 157: Average loss: 2.2123, Accuracy: 5247/10000 (52.4700%)
___Train Local_ResNet_18,  epoch 157, local model 2, internal_epoch   1,  Average loss: 0.0030, Accuracy: 3739/3968 (94.2288%)
___Train Local_ResNet_18,  epoch 157, local model 2, internal_epoch   2,  Average loss: 0.0028, Accuracy: 3760/3968 (94.7581%)
___Test Local_ResNet_18 poisoned: False, epoch: 157: Average loss: 1.8346, Accuracy: 5840/10000 (58.4000%)
___Train Local_ResNet_18,  epoch 157, local model 12, internal_epoch   1,  Average loss: 0.0037, Accuracy: 5129/5526 (92.8158%)
___Train Local_ResNet_18,  epoch 157, local model 12, internal_epoch   2,  Average loss: 0.0056, Accuracy: 4909/5526 (88.8346%)
___Test Local_ResNet_18 poisoned: False, epoch: 157: Average loss: 2.4221, Accuracy: 5006/10000 (50.0600%)
___Train Local_ResNet_18,  epoch 157, local model 90, internal_epoch   1,  Average loss: 0.0028, Accuracy: 4496/4748 (94.6925%)
___Train Local_ResNet_18,  epoch 157, local model 90, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4369/4748 (92.0177%)
___Test Local_ResNet_18 poisoned: False, epoch: 157: Average loss: 2.0977, Accuracy: 5407/10000 (54.0700%)
___Train Local_ResNet_18,  epoch 157, local model 33, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4477/4818 (92.9224%)
___Train Local_ResNet_18,  epoch 157, local model 33, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4388/4818 (91.0751%)
___Test Local_ResNet_18 poisoned: False, epoch: 157: Average loss: 2.0202, Accuracy: 5525/10000 (55.2500%)
___Train Local_ResNet_18,  epoch 157, local model 98, internal_epoch   1,  Average loss: 0.0036, Accuracy: 3948/4161 (94.8810%)
___Train Local_ResNet_18,  epoch 157, local model 98, internal_epoch   2,  Average loss: 0.0056, Accuracy: 3804/4161 (91.4203%)
___Test Local_ResNet_18 poisoned: False, epoch: 157: Average loss: 2.2303, Accuracy: 5393/10000 (53.9300%)
___Train Local_ResNet_18,  epoch 157, local model 27, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4251/4587 (92.6750%)
___Train Local_ResNet_18,  epoch 157, local model 27, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4187/4587 (91.2797%)
___Test Local_ResNet_18 poisoned: False, epoch: 157: Average loss: 2.1476, Accuracy: 5393/10000 (53.9300%)
___Train Local_ResNet_18,  epoch 157, local model 94, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4788/5224 (91.6539%)
___Train Local_ResNet_18,  epoch 157, local model 94, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4710/5224 (90.1608%)
___Test Local_ResNet_18 poisoned: False, epoch: 157: Average loss: 2.2227, Accuracy: 5201/10000 (52.0100%)
___Train Local_ResNet_18,  epoch 157, local model 1, internal_epoch   1,  Average loss: 0.0026, Accuracy: 5163/5422 (95.2232%)
___Train Local_ResNet_18,  epoch 157, local model 1, internal_epoch   2,  Average loss: 0.0031, Accuracy: 5117/5422 (94.3748%)
___Test Local_ResNet_18 poisoned: False, epoch: 157: Average loss: 1.9190, Accuracy: 5759/10000 (57.5900%)
___Train Local_ResNet_18,  epoch 157, local model 52, internal_epoch   1,  Average loss: 0.0030, Accuracy: 3906/4130 (94.5763%)
___Train Local_ResNet_18,  epoch 157, local model 52, internal_epoch   2,  Average loss: 0.0042, Accuracy: 3814/4130 (92.3487%)
___Test Local_ResNet_18 poisoned: False, epoch: 157: Average loss: 2.1895, Accuracy: 5398/10000 (53.9800%)
___Train Local_ResNet_18,  epoch 157, local model 14, internal_epoch   1,  Average loss: 0.0027, Accuracy: 3987/4196 (95.0191%)
___Train Local_ResNet_18,  epoch 157, local model 14, internal_epoch   2,  Average loss: 0.0027, Accuracy: 4004/4196 (95.4242%)
___Test Local_ResNet_18 poisoned: False, epoch: 157: Average loss: 1.8519, Accuracy: 5835/10000 (58.3500%)
___Train Local_ResNet_18,  epoch 157, local model 48, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4593/4830 (95.0932%)
___Train Local_ResNet_18,  epoch 157, local model 48, internal_epoch   2,  Average loss: 0.0032, Accuracy: 4515/4830 (93.4783%)
___Test Local_ResNet_18 poisoned: False, epoch: 157: Average loss: 2.0075, Accuracy: 5552/10000 (55.5200%)
___Train Local_ResNet_18,  epoch 157, local model 96, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4696/5086 (92.3319%)
___Train Local_ResNet_18,  epoch 157, local model 96, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4711/5086 (92.6268%)
___Test Local_ResNet_18 poisoned: False, epoch: 157: Average loss: 2.1241, Accuracy: 5257/10000 (52.5700%)
___Train Local_ResNet_18,  epoch 157, local model 37, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4385/4741 (92.4910%)
___Train Local_ResNet_18,  epoch 157, local model 37, internal_epoch   2,  Average loss: 0.0079, Accuracy: 4069/4741 (85.8258%)
___Test Local_ResNet_18 poisoned: False, epoch: 157: Average loss: 2.4268, Accuracy: 4994/10000 (49.9400%)
___Train Local_ResNet_18,  epoch 157, local model 20, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4475/4714 (94.9300%)
___Train Local_ResNet_18,  epoch 157, local model 20, internal_epoch   2,  Average loss: 0.0031, Accuracy: 4425/4714 (93.8693%)
___Test Local_ResNet_18 poisoned: False, epoch: 157: Average loss: 2.0336, Accuracy: 5569/10000 (55.6900%)
___Train Local_ResNet_18,  epoch 157, local model 28, internal_epoch   1,  Average loss: 0.0053, Accuracy: 4642/5122 (90.6287%)
___Train Local_ResNet_18,  epoch 157, local model 28, internal_epoch   2,  Average loss: 0.0113, Accuracy: 4041/5122 (78.8950%)
___Test Local_ResNet_18 poisoned: False, epoch: 157: Average loss: 2.4550, Accuracy: 4722/10000 (47.2200%)
time spent on training: 270.9549744129181
___Test Target_ResNet_18 poisoned: False, epoch: 157: Average loss: 1.3231, Accuracy: 6665/10000 (66.6500%)
___Test Target_ResNet_18 poisoned: True, epoch: 157: Average loss: 0.0612, Accuracy: 9741/9900 (98.3939%)
Done in 297.8836576938629 sec.
Server Epoch:158 choose agents : [13, 36, 58, 71, 76, 60, 40, 20, 6, 79, 62, 50, 11, 68, 14, 94, 19, 35, 31, 29].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 158, local model 13, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5205/5308 (98.0595%), train_poison_data_count: 415
Global model norm: 44.24570043332954.
Norm before scaling: 44.20364969642637. Distance: 1.1706838021324097
___Test Local_ResNet_18 poisoned: True, epoch: 158: Average loss: 0.0246, Accuracy: 9828/9900 (99.2727%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 158, local model 36, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5657/5777 (97.9228%), train_poison_data_count: 455
Global model norm: 44.24570043332954.
Norm before scaling: 44.19960384968117. Distance: 1.2411248322040231
___Test Local_ResNet_18 poisoned: True, epoch: 158: Average loss: 0.0094, Accuracy: 9871/9900 (99.7071%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 158, local model 58, internal_epoch   1,  Average loss: 0.0024, Accuracy: 4991/5123 (97.4234%), train_poison_data_count: 403
Global model norm: 44.24570043332954.
Norm before scaling: 44.20731549375129. Distance: 1.229622589298207
___Test Local_ResNet_18 poisoned: True, epoch: 158: Average loss: 0.0271, Accuracy: 9828/9900 (99.2727%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 158, local model 71, internal_epoch   1,  Average loss: 0.0017, Accuracy: 5350/5503 (97.2197%), train_poison_data_count: 430
Global model norm: 44.24570043332954.
Norm before scaling: 44.207972681777804. Distance: 1.3372924358418996
___Test Local_ResNet_18 poisoned: True, epoch: 158: Average loss: 0.0615, Accuracy: 9735/9900 (98.3333%)
___Train Local_ResNet_18,  epoch 158, local model 76, internal_epoch   1,  Average loss: 0.0039, Accuracy: 3643/3959 (92.0182%)
___Train Local_ResNet_18,  epoch 158, local model 76, internal_epoch   2,  Average loss: 0.0042, Accuracy: 3628/3959 (91.6393%)
___Test Local_ResNet_18 poisoned: False, epoch: 158: Average loss: 1.9032, Accuracy: 5612/10000 (56.1200%)
___Train Local_ResNet_18,  epoch 158, local model 60, internal_epoch   1,  Average loss: 0.0038, Accuracy: 3851/4145 (92.9071%)
___Train Local_ResNet_18,  epoch 158, local model 60, internal_epoch   2,  Average loss: 0.0041, Accuracy: 3815/4145 (92.0386%)
___Test Local_ResNet_18 poisoned: False, epoch: 158: Average loss: 2.0337, Accuracy: 5454/10000 (54.5400%)
___Train Local_ResNet_18,  epoch 158, local model 40, internal_epoch   1,  Average loss: 0.0038, Accuracy: 5503/5939 (92.6587%)
___Train Local_ResNet_18,  epoch 158, local model 40, internal_epoch   2,  Average loss: 0.0044, Accuracy: 5425/5939 (91.3453%)
___Test Local_ResNet_18 poisoned: False, epoch: 158: Average loss: 2.0174, Accuracy: 5476/10000 (54.7600%)
___Train Local_ResNet_18,  epoch 158, local model 20, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4479/4714 (95.0148%)
___Train Local_ResNet_18,  epoch 158, local model 20, internal_epoch   2,  Average loss: 0.0031, Accuracy: 4440/4714 (94.1875%)
___Test Local_ResNet_18 poisoned: False, epoch: 158: Average loss: 1.8966, Accuracy: 5714/10000 (57.1400%)
___Train Local_ResNet_18,  epoch 158, local model 6, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4595/4929 (93.2238%)
___Train Local_ResNet_18,  epoch 158, local model 6, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4493/4929 (91.1544%)
___Test Local_ResNet_18 poisoned: False, epoch: 158: Average loss: 2.0908, Accuracy: 5548/10000 (55.4800%)
___Train Local_ResNet_18,  epoch 158, local model 79, internal_epoch   1,  Average loss: 0.0033, Accuracy: 3870/4111 (94.1377%)
___Train Local_ResNet_18,  epoch 158, local model 79, internal_epoch   2,  Average loss: 0.0044, Accuracy: 3775/4111 (91.8268%)
___Test Local_ResNet_18 poisoned: False, epoch: 158: Average loss: 2.0200, Accuracy: 5553/10000 (55.5300%)
___Train Local_ResNet_18,  epoch 158, local model 62, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4984/5504 (90.5523%)
___Train Local_ResNet_18,  epoch 158, local model 62, internal_epoch   2,  Average loss: 0.0063, Accuracy: 4798/5504 (87.1730%)
___Test Local_ResNet_18 poisoned: False, epoch: 158: Average loss: 2.3178, Accuracy: 5093/10000 (50.9300%)
___Train Local_ResNet_18,  epoch 158, local model 50, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4451/4757 (93.5674%)
___Train Local_ResNet_18,  epoch 158, local model 50, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4342/4757 (91.2760%)
___Test Local_ResNet_18 poisoned: False, epoch: 158: Average loss: 2.1458, Accuracy: 5280/10000 (52.8000%)
___Train Local_ResNet_18,  epoch 158, local model 11, internal_epoch   1,  Average loss: 0.0066, Accuracy: 5010/5702 (87.8639%)
___Train Local_ResNet_18,  epoch 158, local model 11, internal_epoch   2,  Average loss: 0.0103, Accuracy: 4539/5702 (79.6036%)
___Test Local_ResNet_18 poisoned: False, epoch: 158: Average loss: 2.5167, Accuracy: 4645/10000 (46.4500%)
___Train Local_ResNet_18,  epoch 158, local model 68, internal_epoch   1,  Average loss: 0.0032, Accuracy: 3378/3589 (94.1209%)
___Train Local_ResNet_18,  epoch 158, local model 68, internal_epoch   2,  Average loss: 0.0040, Accuracy: 3339/3589 (93.0343%)
___Test Local_ResNet_18 poisoned: False, epoch: 158: Average loss: 1.9528, Accuracy: 5631/10000 (56.3100%)
___Train Local_ResNet_18,  epoch 158, local model 14, internal_epoch   1,  Average loss: 0.0022, Accuracy: 4036/4196 (96.1868%)
___Train Local_ResNet_18,  epoch 158, local model 14, internal_epoch   2,  Average loss: 0.0028, Accuracy: 3986/4196 (94.9952%)
___Test Local_ResNet_18 poisoned: False, epoch: 158: Average loss: 1.8225, Accuracy: 5851/10000 (58.5100%)
___Train Local_ResNet_18,  epoch 158, local model 94, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4797/5224 (91.8262%)
___Train Local_ResNet_18,  epoch 158, local model 94, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4780/5224 (91.5008%)
___Test Local_ResNet_18 poisoned: False, epoch: 158: Average loss: 2.1316, Accuracy: 5522/10000 (55.2200%)
___Train Local_ResNet_18,  epoch 158, local model 19, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4959/5361 (92.5014%)
___Train Local_ResNet_18,  epoch 158, local model 19, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4785/5361 (89.2557%)
___Test Local_ResNet_18 poisoned: False, epoch: 158: Average loss: 2.1135, Accuracy: 5293/10000 (52.9300%)
___Train Local_ResNet_18,  epoch 158, local model 35, internal_epoch   1,  Average loss: 0.0039, Accuracy: 5183/5615 (92.3063%)
___Train Local_ResNet_18,  epoch 158, local model 35, internal_epoch   2,  Average loss: 0.0045, Accuracy: 5098/5615 (90.7925%)
___Test Local_ResNet_18 poisoned: False, epoch: 158: Average loss: 2.3179, Accuracy: 5082/10000 (50.8200%)
___Train Local_ResNet_18,  epoch 158, local model 31, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4225/4537 (93.1232%)
___Train Local_ResNet_18,  epoch 158, local model 31, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4171/4537 (91.9330%)
___Test Local_ResNet_18 poisoned: False, epoch: 158: Average loss: 1.9766, Accuracy: 5617/10000 (56.1700%)
___Train Local_ResNet_18,  epoch 158, local model 29, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4451/4732 (94.0617%)
___Train Local_ResNet_18,  epoch 158, local model 29, internal_epoch   2,  Average loss: 0.0032, Accuracy: 4441/4732 (93.8504%)
___Test Local_ResNet_18 poisoned: False, epoch: 158: Average loss: 1.9124, Accuracy: 5664/10000 (56.6400%)
time spent on training: 274.0011098384857
___Test Target_ResNet_18 poisoned: False, epoch: 158: Average loss: 1.3396, Accuracy: 6630/10000 (66.3000%)
___Test Target_ResNet_18 poisoned: True, epoch: 158: Average loss: 0.0517, Accuracy: 9765/9900 (98.6364%)
Done in 300.4961910247803 sec.
Server Epoch:159 choose agents : [13, 36, 58, 71, 97, 47, 16, 70, 11, 17, 62, 21, 9, 1, 10, 20, 30, 84, 83, 63].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 159, local model 13, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5213/5308 (98.2102%), train_poison_data_count: 415
Global model norm: 44.26382557893988.
Norm before scaling: 44.22154778030658. Distance: 1.133540320895452
___Test Local_ResNet_18 poisoned: True, epoch: 159: Average loss: 0.0514, Accuracy: 9764/9900 (98.6263%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 159, local model 36, internal_epoch   1,  Average loss: 0.0016, Accuracy: 5640/5777 (97.6285%), train_poison_data_count: 455
Global model norm: 44.26382557893988.
Norm before scaling: 44.22120686637521. Distance: 1.325957470558486
___Test Local_ResNet_18 poisoned: True, epoch: 159: Average loss: 0.0337, Accuracy: 9816/9900 (99.1515%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 159, local model 58, internal_epoch   1,  Average loss: 0.0024, Accuracy: 4973/5123 (97.0720%), train_poison_data_count: 403
Global model norm: 44.26382557893988.
Norm before scaling: 44.22491813207869. Distance: 1.2429559597889435
___Test Local_ResNet_18 poisoned: True, epoch: 159: Average loss: 0.0653, Accuracy: 9723/9900 (98.2121%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 159, local model 71, internal_epoch   1,  Average loss: 0.0016, Accuracy: 5371/5503 (97.6013%), train_poison_data_count: 430
Global model norm: 44.26382557893988.
Norm before scaling: 44.22457034353542. Distance: 1.2696801201025902
___Test Local_ResNet_18 poisoned: True, epoch: 159: Average loss: 0.0442, Accuracy: 9792/9900 (98.9091%)
___Train Local_ResNet_18,  epoch 159, local model 97, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4343/4736 (91.7019%)
___Train Local_ResNet_18,  epoch 159, local model 97, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4265/4736 (90.0549%)
___Test Local_ResNet_18 poisoned: False, epoch: 159: Average loss: 2.1646, Accuracy: 5298/10000 (52.9800%)
___Train Local_ResNet_18,  epoch 159, local model 47, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4731/5123 (92.3482%)
___Train Local_ResNet_18,  epoch 159, local model 47, internal_epoch   2,  Average loss: 0.0094, Accuracy: 4190/5123 (81.7880%)
___Test Local_ResNet_18 poisoned: False, epoch: 159: Average loss: 2.2992, Accuracy: 5065/10000 (50.6500%)
___Train Local_ResNet_18,  epoch 159, local model 16, internal_epoch   1,  Average loss: 0.0036, Accuracy: 5013/5353 (93.6484%)
___Train Local_ResNet_18,  epoch 159, local model 16, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4852/5353 (90.6408%)
___Test Local_ResNet_18 poisoned: False, epoch: 159: Average loss: 2.0161, Accuracy: 5535/10000 (55.3500%)
___Train Local_ResNet_18,  epoch 159, local model 70, internal_epoch   1,  Average loss: 0.0033, Accuracy: 5509/5871 (93.8341%)
___Train Local_ResNet_18,  epoch 159, local model 70, internal_epoch   2,  Average loss: 0.0044, Accuracy: 5366/5871 (91.3984%)
___Test Local_ResNet_18 poisoned: False, epoch: 159: Average loss: 2.0783, Accuracy: 5477/10000 (54.7700%)
___Train Local_ResNet_18,  epoch 159, local model 11, internal_epoch   1,  Average loss: 0.0062, Accuracy: 5031/5702 (88.2322%)
___Train Local_ResNet_18,  epoch 159, local model 11, internal_epoch   2,  Average loss: 0.0123, Accuracy: 4349/5702 (76.2715%)
___Test Local_ResNet_18 poisoned: False, epoch: 159: Average loss: 2.3334, Accuracy: 4792/10000 (47.9200%)
___Train Local_ResNet_18,  epoch 159, local model 17, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4466/4903 (91.0871%)
___Train Local_ResNet_18,  epoch 159, local model 17, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4390/4903 (89.5370%)
___Test Local_ResNet_18 poisoned: False, epoch: 159: Average loss: 2.2808, Accuracy: 5084/10000 (50.8400%)
___Train Local_ResNet_18,  epoch 159, local model 62, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4926/5504 (89.4985%)
___Train Local_ResNet_18,  epoch 159, local model 62, internal_epoch   2,  Average loss: 0.0061, Accuracy: 4818/5504 (87.5363%)
___Test Local_ResNet_18 poisoned: False, epoch: 159: Average loss: 2.3141, Accuracy: 5113/10000 (51.1300%)
___Train Local_ResNet_18,  epoch 159, local model 21, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4695/5038 (93.1917%)
___Train Local_ResNet_18,  epoch 159, local model 21, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4639/5038 (92.0802%)
___Test Local_ResNet_18 poisoned: False, epoch: 159: Average loss: 2.0469, Accuracy: 5574/10000 (55.7400%)
___Train Local_ResNet_18,  epoch 159, local model 9, internal_epoch   1,  Average loss: 0.0042, Accuracy: 5247/5727 (91.6186%)
___Train Local_ResNet_18,  epoch 159, local model 9, internal_epoch   2,  Average loss: 0.0059, Accuracy: 5085/5727 (88.7899%)
___Test Local_ResNet_18 poisoned: False, epoch: 159: Average loss: 2.0951, Accuracy: 5425/10000 (54.2500%)
___Train Local_ResNet_18,  epoch 159, local model 1, internal_epoch   1,  Average loss: 0.0027, Accuracy: 5147/5422 (94.9281%)
___Train Local_ResNet_18,  epoch 159, local model 1, internal_epoch   2,  Average loss: 0.0032, Accuracy: 5083/5422 (93.7477%)
___Test Local_ResNet_18 poisoned: False, epoch: 159: Average loss: 1.9586, Accuracy: 5744/10000 (57.4400%)
___Train Local_ResNet_18,  epoch 159, local model 10, internal_epoch   1,  Average loss: 0.0028, Accuracy: 4808/5068 (94.8698%)
___Train Local_ResNet_18,  epoch 159, local model 10, internal_epoch   2,  Average loss: 0.0033, Accuracy: 4739/5068 (93.5083%)
___Test Local_ResNet_18 poisoned: False, epoch: 159: Average loss: 1.9426, Accuracy: 5648/10000 (56.4800%)
___Train Local_ResNet_18,  epoch 159, local model 20, internal_epoch   1,  Average loss: 0.0028, Accuracy: 4466/4714 (94.7391%)
___Train Local_ResNet_18,  epoch 159, local model 20, internal_epoch   2,  Average loss: 0.0032, Accuracy: 4438/4714 (94.1451%)
___Test Local_ResNet_18 poisoned: False, epoch: 159: Average loss: 1.9521, Accuracy: 5648/10000 (56.4800%)
___Train Local_ResNet_18,  epoch 159, local model 30, internal_epoch   1,  Average loss: 0.0029, Accuracy: 3567/3774 (94.5151%)
___Train Local_ResNet_18,  epoch 159, local model 30, internal_epoch   2,  Average loss: 0.0032, Accuracy: 3554/3774 (94.1706%)
___Test Local_ResNet_18 poisoned: False, epoch: 159: Average loss: 1.9272, Accuracy: 5689/10000 (56.8900%)
___Train Local_ResNet_18,  epoch 159, local model 84, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4794/5209 (92.0330%)
___Train Local_ResNet_18,  epoch 159, local model 84, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4735/5209 (90.9004%)
___Test Local_ResNet_18 poisoned: False, epoch: 159: Average loss: 2.0621, Accuracy: 5392/10000 (53.9200%)
___Train Local_ResNet_18,  epoch 159, local model 83, internal_epoch   1,  Average loss: 0.0038, Accuracy: 3290/3552 (92.6239%)
___Train Local_ResNet_18,  epoch 159, local model 83, internal_epoch   2,  Average loss: 0.0034, Accuracy: 3309/3552 (93.1588%)
___Test Local_ResNet_18 poisoned: False, epoch: 159: Average loss: 1.7986, Accuracy: 5900/10000 (59.0000%)
___Train Local_ResNet_18,  epoch 159, local model 63, internal_epoch   1,  Average loss: 0.0032, Accuracy: 3705/3910 (94.7570%)
___Train Local_ResNet_18,  epoch 159, local model 63, internal_epoch   2,  Average loss: 0.0051, Accuracy: 3508/3910 (89.7187%)
___Test Local_ResNet_18 poisoned: False, epoch: 159: Average loss: 2.1589, Accuracy: 5409/10000 (54.0900%)
time spent on training: 277.3396224975586
___Test Target_ResNet_18 poisoned: False, epoch: 159: Average loss: 1.3358, Accuracy: 6637/10000 (66.3700%)
___Test Target_ResNet_18 poisoned: True, epoch: 159: Average loss: 0.0495, Accuracy: 9769/9900 (98.6768%)
Done in 303.58435320854187 sec.
Server Epoch:160 choose agents : [13, 36, 58, 71, 82, 6, 27, 91, 61, 74, 8, 42, 9, 15, 85, 19, 89, 48, 96, 88].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 160, local model 13, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5202/5308 (98.0030%), train_poison_data_count: 415
Global model norm: 44.28273032546802.
Norm before scaling: 44.243146979927864. Distance: 1.2239870866144187
___Test Local_ResNet_18 poisoned: True, epoch: 160: Average loss: 0.0277, Accuracy: 9829/9900 (99.2828%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 160, local model 36, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5656/5777 (97.9055%), train_poison_data_count: 455
Global model norm: 44.28273032546802.
Norm before scaling: 44.236539873287306. Distance: 1.230097154486469
___Test Local_ResNet_18 poisoned: True, epoch: 160: Average loss: 0.0789, Accuracy: 9699/9900 (97.9697%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 160, local model 58, internal_epoch   1,  Average loss: 0.0025, Accuracy: 4991/5123 (97.4234%), train_poison_data_count: 403
Global model norm: 44.28273032546802.
Norm before scaling: 44.24445614327362. Distance: 1.2356330641317916
___Test Local_ResNet_18 poisoned: True, epoch: 160: Average loss: 0.0506, Accuracy: 9764/9900 (98.6263%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 160, local model 71, internal_epoch   1,  Average loss: 0.0016, Accuracy: 5383/5503 (97.8194%), train_poison_data_count: 430
Global model norm: 44.28273032546802.
Norm before scaling: 44.241937107493804. Distance: 1.242641677838156
___Test Local_ResNet_18 poisoned: True, epoch: 160: Average loss: 0.0421, Accuracy: 9787/9900 (98.8586%)
___Train Local_ResNet_18,  epoch 160, local model 82, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4925/5298 (92.9596%)
___Train Local_ResNet_18,  epoch 160, local model 82, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4904/5298 (92.5632%)
___Test Local_ResNet_18 poisoned: False, epoch: 160: Average loss: 2.0943, Accuracy: 5400/10000 (54.0000%)
___Train Local_ResNet_18,  epoch 160, local model 6, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4611/4929 (93.5484%)
___Train Local_ResNet_18,  epoch 160, local model 6, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4511/4929 (91.5196%)
___Test Local_ResNet_18 poisoned: False, epoch: 160: Average loss: 2.1604, Accuracy: 5368/10000 (53.6800%)
___Train Local_ResNet_18,  epoch 160, local model 27, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4285/4587 (93.4162%)
___Train Local_ResNet_18,  epoch 160, local model 27, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4197/4587 (91.4977%)
___Test Local_ResNet_18 poisoned: False, epoch: 160: Average loss: 2.0193, Accuracy: 5592/10000 (55.9200%)
___Train Local_ResNet_18,  epoch 160, local model 91, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4148/4527 (91.6280%)
___Train Local_ResNet_18,  epoch 160, local model 91, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4105/4527 (90.6782%)
___Test Local_ResNet_18 poisoned: False, epoch: 160: Average loss: 1.9059, Accuracy: 5652/10000 (56.5200%)
___Train Local_ResNet_18,  epoch 160, local model 61, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4119/4485 (91.8395%)
___Train Local_ResNet_18,  epoch 160, local model 61, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4061/4485 (90.5463%)
___Test Local_ResNet_18 poisoned: False, epoch: 160: Average loss: 2.0571, Accuracy: 5420/10000 (54.2000%)
___Train Local_ResNet_18,  epoch 160, local model 74, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4464/4797 (93.0582%)
___Train Local_ResNet_18,  epoch 160, local model 74, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4377/4797 (91.2445%)
___Test Local_ResNet_18 poisoned: False, epoch: 160: Average loss: 2.1053, Accuracy: 5369/10000 (53.6900%)
___Train Local_ResNet_18,  epoch 160, local model 8, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4526/4889 (92.5752%)
___Train Local_ResNet_18,  epoch 160, local model 8, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4444/4889 (90.8979%)
___Test Local_ResNet_18 poisoned: False, epoch: 160: Average loss: 2.1273, Accuracy: 5375/10000 (53.7500%)
___Train Local_ResNet_18,  epoch 160, local model 42, internal_epoch   1,  Average loss: 0.0042, Accuracy: 5437/5907 (92.0433%)
___Train Local_ResNet_18,  epoch 160, local model 42, internal_epoch   2,  Average loss: 0.0046, Accuracy: 5393/5907 (91.2985%)
___Test Local_ResNet_18 poisoned: False, epoch: 160: Average loss: 2.2516, Accuracy: 5239/10000 (52.3900%)
___Train Local_ResNet_18,  epoch 160, local model 9, internal_epoch   1,  Average loss: 0.0042, Accuracy: 5250/5727 (91.6710%)
___Train Local_ResNet_18,  epoch 160, local model 9, internal_epoch   2,  Average loss: 0.0052, Accuracy: 5148/5727 (89.8900%)
___Test Local_ResNet_18 poisoned: False, epoch: 160: Average loss: 1.9710, Accuracy: 5558/10000 (55.5800%)
___Train Local_ResNet_18,  epoch 160, local model 15, internal_epoch   1,  Average loss: 0.0037, Accuracy: 5617/6068 (92.5676%)
___Train Local_ResNet_18,  epoch 160, local model 15, internal_epoch   2,  Average loss: 0.0042, Accuracy: 5577/6068 (91.9084%)
___Test Local_ResNet_18 poisoned: False, epoch: 160: Average loss: 2.1627, Accuracy: 5367/10000 (53.6700%)
___Train Local_ResNet_18,  epoch 160, local model 85, internal_epoch   1,  Average loss: 0.0044, Accuracy: 6388/6947 (91.9534%)
___Train Local_ResNet_18,  epoch 160, local model 85, internal_epoch   2,  Average loss: 0.0064, Accuracy: 6052/6947 (87.1167%)
___Test Local_ResNet_18 poisoned: False, epoch: 160: Average loss: 2.2544, Accuracy: 5138/10000 (51.3800%)
___Train Local_ResNet_18,  epoch 160, local model 19, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4876/5361 (90.9532%)
___Train Local_ResNet_18,  epoch 160, local model 19, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4839/5361 (90.2630%)
___Test Local_ResNet_18 poisoned: False, epoch: 160: Average loss: 2.0611, Accuracy: 5400/10000 (54.0000%)
___Train Local_ResNet_18,  epoch 160, local model 89, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4353/4737 (91.8936%)
___Train Local_ResNet_18,  epoch 160, local model 89, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4345/4737 (91.7247%)
___Test Local_ResNet_18 poisoned: False, epoch: 160: Average loss: 2.1477, Accuracy: 5413/10000 (54.1300%)
___Train Local_ResNet_18,  epoch 160, local model 48, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4584/4830 (94.9068%)
___Train Local_ResNet_18,  epoch 160, local model 48, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4498/4830 (93.1263%)
___Test Local_ResNet_18 poisoned: False, epoch: 160: Average loss: 2.0791, Accuracy: 5531/10000 (55.3100%)
___Train Local_ResNet_18,  epoch 160, local model 96, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4767/5086 (93.7279%)
___Train Local_ResNet_18,  epoch 160, local model 96, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4697/5086 (92.3516%)
___Test Local_ResNet_18 poisoned: False, epoch: 160: Average loss: 2.1843, Accuracy: 5324/10000 (53.2400%)
___Train Local_ResNet_18,  epoch 160, local model 88, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4961/5362 (92.5214%)
___Train Local_ResNet_18,  epoch 160, local model 88, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4869/5362 (90.8057%)
___Test Local_ResNet_18 poisoned: False, epoch: 160: Average loss: 2.1355, Accuracy: 5322/10000 (53.2200%)
time spent on training: 280.0751552581787
___Test Target_ResNet_18 poisoned: False, epoch: 160: Average loss: 1.3416, Accuracy: 6618/10000 (66.1800%)
___Test Target_ResNet_18 poisoned: True, epoch: 160: Average loss: 0.0455, Accuracy: 9779/9900 (98.7778%)
Done in 306.31214714050293 sec.
Server Epoch:161 choose agents : [13, 36, 58, 71, 74, 51, 9, 80, 78, 64, 90, 42, 14, 6, 57, 0, 46, 43, 18, 77].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 161, local model 13, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5212/5308 (98.1914%), train_poison_data_count: 415
Global model norm: 44.30320859703265.
Norm before scaling: 44.26018652613345. Distance: 1.1465277330560417
___Test Local_ResNet_18 poisoned: True, epoch: 161: Average loss: 0.0588, Accuracy: 9743/9900 (98.4141%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 161, local model 36, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5655/5777 (97.8882%), train_poison_data_count: 455
Global model norm: 44.30320859703265.
Norm before scaling: 44.25721328477851. Distance: 1.2543908249446512
___Test Local_ResNet_18 poisoned: True, epoch: 161: Average loss: 0.0398, Accuracy: 9801/9900 (99.0000%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 161, local model 58, internal_epoch   1,  Average loss: 0.0026, Accuracy: 4968/5123 (96.9744%), train_poison_data_count: 403
Global model norm: 44.30320859703265.
Norm before scaling: 44.2660331343698. Distance: 1.2785974352262668
___Test Local_ResNet_18 poisoned: True, epoch: 161: Average loss: 0.0150, Accuracy: 9863/9900 (99.6263%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 161, local model 71, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5379/5503 (97.7467%), train_poison_data_count: 430
Global model norm: 44.30320859703265.
Norm before scaling: 44.26320507195776. Distance: 1.2629054485457543
___Test Local_ResNet_18 poisoned: True, epoch: 161: Average loss: 0.0571, Accuracy: 9761/9900 (98.5960%)
___Train Local_ResNet_18,  epoch 161, local model 74, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4478/4797 (93.3500%)
___Train Local_ResNet_18,  epoch 161, local model 74, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4386/4797 (91.4321%)
___Test Local_ResNet_18 poisoned: False, epoch: 161: Average loss: 2.0667, Accuracy: 5518/10000 (55.1800%)
___Train Local_ResNet_18,  epoch 161, local model 51, internal_epoch   1,  Average loss: 0.0034, Accuracy: 3853/4108 (93.7926%)
___Train Local_ResNet_18,  epoch 161, local model 51, internal_epoch   2,  Average loss: 0.0042, Accuracy: 3784/4108 (92.1130%)
___Test Local_ResNet_18 poisoned: False, epoch: 161: Average loss: 1.9768, Accuracy: 5590/10000 (55.9000%)
___Train Local_ResNet_18,  epoch 161, local model 9, internal_epoch   1,  Average loss: 0.0044, Accuracy: 5244/5727 (91.5663%)
___Train Local_ResNet_18,  epoch 161, local model 9, internal_epoch   2,  Average loss: 0.0054, Accuracy: 5108/5727 (89.1915%)
___Test Local_ResNet_18 poisoned: False, epoch: 161: Average loss: 2.1934, Accuracy: 5338/10000 (53.3800%)
___Train Local_ResNet_18,  epoch 161, local model 80, internal_epoch   1,  Average loss: 0.0039, Accuracy: 5036/5461 (92.2175%)
___Train Local_ResNet_18,  epoch 161, local model 80, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4952/5461 (90.6794%)
___Test Local_ResNet_18 poisoned: False, epoch: 161: Average loss: 2.3201, Accuracy: 5189/10000 (51.8900%)
___Train Local_ResNet_18,  epoch 161, local model 78, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4137/4368 (94.7115%)
___Train Local_ResNet_18,  epoch 161, local model 78, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4033/4368 (92.3306%)
___Test Local_ResNet_18 poisoned: False, epoch: 161: Average loss: 2.0107, Accuracy: 5474/10000 (54.7400%)
___Train Local_ResNet_18,  epoch 161, local model 64, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4501/4894 (91.9698%)
___Train Local_ResNet_18,  epoch 161, local model 64, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4399/4894 (89.8856%)
___Test Local_ResNet_18 poisoned: False, epoch: 161: Average loss: 2.2061, Accuracy: 5340/10000 (53.4000%)
___Train Local_ResNet_18,  epoch 161, local model 90, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4518/4748 (95.1559%)
___Train Local_ResNet_18,  epoch 161, local model 90, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4361/4748 (91.8492%)
___Test Local_ResNet_18 poisoned: False, epoch: 161: Average loss: 2.0007, Accuracy: 5571/10000 (55.7100%)
___Train Local_ResNet_18,  epoch 161, local model 42, internal_epoch   1,  Average loss: 0.0038, Accuracy: 5463/5907 (92.4835%)
___Train Local_ResNet_18,  epoch 161, local model 42, internal_epoch   2,  Average loss: 0.0051, Accuracy: 5337/5907 (90.3504%)
___Test Local_ResNet_18 poisoned: False, epoch: 161: Average loss: 2.7673, Accuracy: 4718/10000 (47.1800%)
___Train Local_ResNet_18,  epoch 161, local model 14, internal_epoch   1,  Average loss: 0.0026, Accuracy: 3990/4196 (95.0906%)
___Train Local_ResNet_18,  epoch 161, local model 14, internal_epoch   2,  Average loss: 0.0028, Accuracy: 3964/4196 (94.4709%)
___Test Local_ResNet_18 poisoned: False, epoch: 161: Average loss: 1.8408, Accuracy: 5836/10000 (58.3600%)
___Train Local_ResNet_18,  epoch 161, local model 6, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4658/4929 (94.5019%)
___Train Local_ResNet_18,  epoch 161, local model 6, internal_epoch   2,  Average loss: 0.0059, Accuracy: 4461/4929 (90.5052%)
___Test Local_ResNet_18 poisoned: False, epoch: 161: Average loss: 2.3118, Accuracy: 5206/10000 (52.0600%)
___Train Local_ResNet_18,  epoch 161, local model 57, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4638/4956 (93.5835%)
___Train Local_ResNet_18,  epoch 161, local model 57, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4527/4956 (91.3438%)
___Test Local_ResNet_18 poisoned: False, epoch: 161: Average loss: 2.1483, Accuracy: 5405/10000 (54.0500%)
___Train Local_ResNet_18,  epoch 161, local model 0, internal_epoch   1,  Average loss: 0.0039, Accuracy: 5054/5454 (92.6659%)
___Train Local_ResNet_18,  epoch 161, local model 0, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4914/5454 (90.0990%)
___Test Local_ResNet_18 poisoned: False, epoch: 161: Average loss: 2.0975, Accuracy: 5337/10000 (53.3700%)
___Train Local_ResNet_18,  epoch 161, local model 46, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4927/5399 (91.2576%)
___Train Local_ResNet_18,  epoch 161, local model 46, internal_epoch   2,  Average loss: 0.0062, Accuracy: 4702/5399 (87.0902%)
___Test Local_ResNet_18 poisoned: False, epoch: 161: Average loss: 2.2711, Accuracy: 5047/10000 (50.4700%)
___Train Local_ResNet_18,  epoch 161, local model 43, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4651/4979 (93.4123%)
___Train Local_ResNet_18,  epoch 161, local model 43, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4594/4979 (92.2675%)
___Test Local_ResNet_18 poisoned: False, epoch: 161: Average loss: 2.1317, Accuracy: 5465/10000 (54.6500%)
___Train Local_ResNet_18,  epoch 161, local model 18, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4017/4249 (94.5399%)
___Train Local_ResNet_18,  epoch 161, local model 18, internal_epoch   2,  Average loss: 0.0037, Accuracy: 3946/4249 (92.8689%)
___Test Local_ResNet_18 poisoned: False, epoch: 161: Average loss: 1.9512, Accuracy: 5700/10000 (57.0000%)
___Train Local_ResNet_18,  epoch 161, local model 77, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4604/5050 (91.1683%)
___Train Local_ResNet_18,  epoch 161, local model 77, internal_epoch   2,  Average loss: 0.0060, Accuracy: 4470/5050 (88.5149%)
___Test Local_ResNet_18 poisoned: False, epoch: 161: Average loss: 2.3921, Accuracy: 4983/10000 (49.8300%)
time spent on training: 276.18306493759155
___Test Target_ResNet_18 poisoned: False, epoch: 161: Average loss: 1.3550, Accuracy: 6598/10000 (65.9800%)
___Test Target_ResNet_18 poisoned: True, epoch: 161: Average loss: 0.0429, Accuracy: 9782/9900 (98.8081%)
Done in 302.4901611804962 sec.
Server Epoch:162 choose agents : [13, 36, 58, 71, 27, 87, 60, 89, 4, 98, 25, 54, 90, 2, 44, 35, 74, 78, 92, 10].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 162, local model 13, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5214/5308 (98.2291%), train_poison_data_count: 415
Global model norm: 44.322121332954325.
Norm before scaling: 44.279062501102736. Distance: 1.1298922552375248
___Test Local_ResNet_18 poisoned: True, epoch: 162: Average loss: 0.0502, Accuracy: 9775/9900 (98.7374%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 162, local model 36, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5640/5777 (97.6285%), train_poison_data_count: 455
Global model norm: 44.322121332954325.
Norm before scaling: 44.27756413294294. Distance: 1.2858387720302455
___Test Local_ResNet_18 poisoned: True, epoch: 162: Average loss: 0.0208, Accuracy: 9843/9900 (99.4242%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 162, local model 58, internal_epoch   1,  Average loss: 0.0024, Accuracy: 4982/5123 (97.2477%), train_poison_data_count: 403
Global model norm: 44.322121332954325.
Norm before scaling: 44.281860605793625. Distance: 1.2283334278553513
___Test Local_ResNet_18 poisoned: True, epoch: 162: Average loss: 0.1033, Accuracy: 9625/9900 (97.2222%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 162, local model 71, internal_epoch   1,  Average loss: 0.0016, Accuracy: 5381/5503 (97.7830%), train_poison_data_count: 430
Global model norm: 44.322121332954325.
Norm before scaling: 44.28203014044608. Distance: 1.2709919199983093
___Test Local_ResNet_18 poisoned: True, epoch: 162: Average loss: 0.0163, Accuracy: 9859/9900 (99.5859%)
___Train Local_ResNet_18,  epoch 162, local model 27, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4279/4587 (93.2854%)
___Train Local_ResNet_18,  epoch 162, local model 27, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4200/4587 (91.5631%)
___Test Local_ResNet_18 poisoned: False, epoch: 162: Average loss: 2.0403, Accuracy: 5439/10000 (54.3900%)
___Train Local_ResNet_18,  epoch 162, local model 87, internal_epoch   1,  Average loss: 0.0046, Accuracy: 3648/3995 (91.3141%)
___Train Local_ResNet_18,  epoch 162, local model 87, internal_epoch   2,  Average loss: 0.0050, Accuracy: 3610/3995 (90.3630%)
___Test Local_ResNet_18 poisoned: False, epoch: 162: Average loss: 2.1020, Accuracy: 5348/10000 (53.4800%)
___Train Local_ResNet_18,  epoch 162, local model 60, internal_epoch   1,  Average loss: 0.0039, Accuracy: 3838/4145 (92.5935%)
___Train Local_ResNet_18,  epoch 162, local model 60, internal_epoch   2,  Average loss: 0.0040, Accuracy: 3822/4145 (92.2075%)
___Test Local_ResNet_18 poisoned: False, epoch: 162: Average loss: 2.0757, Accuracy: 5457/10000 (54.5700%)
___Train Local_ResNet_18,  epoch 162, local model 89, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4381/4737 (92.4847%)
___Train Local_ResNet_18,  epoch 162, local model 89, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4353/4737 (91.8936%)
___Test Local_ResNet_18 poisoned: False, epoch: 162: Average loss: 2.3836, Accuracy: 5101/10000 (51.0100%)
___Train Local_ResNet_18,  epoch 162, local model 4, internal_epoch   1,  Average loss: 0.0036, Accuracy: 3759/4028 (93.3217%)
___Train Local_ResNet_18,  epoch 162, local model 4, internal_epoch   2,  Average loss: 0.0035, Accuracy: 3768/4028 (93.5452%)
___Test Local_ResNet_18 poisoned: False, epoch: 162: Average loss: 1.8991, Accuracy: 5750/10000 (57.5000%)
___Train Local_ResNet_18,  epoch 162, local model 98, internal_epoch   1,  Average loss: 0.0039, Accuracy: 3965/4161 (95.2896%)
___Train Local_ResNet_18,  epoch 162, local model 98, internal_epoch   2,  Average loss: 0.0043, Accuracy: 3873/4161 (93.0786%)
___Test Local_ResNet_18 poisoned: False, epoch: 162: Average loss: 2.0426, Accuracy: 5550/10000 (55.5000%)
___Train Local_ResNet_18,  epoch 162, local model 25, internal_epoch   1,  Average loss: 0.0050, Accuracy: 5782/6419 (90.0763%)
___Train Local_ResNet_18,  epoch 162, local model 25, internal_epoch   2,  Average loss: 0.0068, Accuracy: 5537/6419 (86.2595%)
___Test Local_ResNet_18 poisoned: False, epoch: 162: Average loss: 2.3235, Accuracy: 5108/10000 (51.0800%)
___Train Local_ResNet_18,  epoch 162, local model 54, internal_epoch   1,  Average loss: 0.0049, Accuracy: 5110/5645 (90.5226%)
___Train Local_ResNet_18,  epoch 162, local model 54, internal_epoch   2,  Average loss: 0.0082, Accuracy: 4756/5645 (84.2516%)
___Test Local_ResNet_18 poisoned: False, epoch: 162: Average loss: 2.3056, Accuracy: 5070/10000 (50.7000%)
___Train Local_ResNet_18,  epoch 162, local model 90, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4493/4748 (94.6293%)
___Train Local_ResNet_18,  epoch 162, local model 90, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4393/4748 (92.5232%)
___Test Local_ResNet_18 poisoned: False, epoch: 162: Average loss: 2.0310, Accuracy: 5489/10000 (54.8900%)
___Train Local_ResNet_18,  epoch 162, local model 2, internal_epoch   1,  Average loss: 0.0032, Accuracy: 3731/3968 (94.0272%)
___Train Local_ResNet_18,  epoch 162, local model 2, internal_epoch   2,  Average loss: 0.0033, Accuracy: 3733/3968 (94.0776%)
___Test Local_ResNet_18 poisoned: False, epoch: 162: Average loss: 1.7572, Accuracy: 5930/10000 (59.3000%)
___Train Local_ResNet_18,  epoch 162, local model 44, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4796/5075 (94.5025%)
___Train Local_ResNet_18,  epoch 162, local model 44, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4728/5075 (93.1626%)
___Test Local_ResNet_18 poisoned: False, epoch: 162: Average loss: 2.1031, Accuracy: 5395/10000 (53.9500%)
___Train Local_ResNet_18,  epoch 162, local model 35, internal_epoch   1,  Average loss: 0.0036, Accuracy: 5219/5615 (92.9475%)
___Train Local_ResNet_18,  epoch 162, local model 35, internal_epoch   2,  Average loss: 0.0046, Accuracy: 5090/5615 (90.6500%)
___Test Local_ResNet_18 poisoned: False, epoch: 162: Average loss: 2.2552, Accuracy: 5254/10000 (52.5400%)
___Train Local_ResNet_18,  epoch 162, local model 74, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4469/4797 (93.1624%)
___Train Local_ResNet_18,  epoch 162, local model 74, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4370/4797 (91.0986%)
___Test Local_ResNet_18 poisoned: False, epoch: 162: Average loss: 2.0380, Accuracy: 5575/10000 (55.7500%)
___Train Local_ResNet_18,  epoch 162, local model 78, internal_epoch   1,  Average loss: 0.0028, Accuracy: 4170/4368 (95.4670%)
___Train Local_ResNet_18,  epoch 162, local model 78, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4067/4368 (93.1090%)
___Test Local_ResNet_18 poisoned: False, epoch: 162: Average loss: 2.0261, Accuracy: 5471/10000 (54.7100%)
___Train Local_ResNet_18,  epoch 162, local model 92, internal_epoch   1,  Average loss: 0.0029, Accuracy: 6435/6812 (94.4656%)
___Train Local_ResNet_18,  epoch 162, local model 92, internal_epoch   2,  Average loss: 0.0042, Accuracy: 6224/6812 (91.3682%)
___Test Local_ResNet_18 poisoned: False, epoch: 162: Average loss: 2.4361, Accuracy: 4924/10000 (49.2400%)
___Train Local_ResNet_18,  epoch 162, local model 10, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4785/5068 (94.4159%)
___Train Local_ResNet_18,  epoch 162, local model 10, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4687/5068 (92.4822%)
___Test Local_ResNet_18 poisoned: False, epoch: 162: Average loss: 2.1515, Accuracy: 5266/10000 (52.6600%)
time spent on training: 273.08119010925293
___Test Target_ResNet_18 poisoned: False, epoch: 162: Average loss: 1.3641, Accuracy: 6583/10000 (65.8300%)
___Test Target_ResNet_18 poisoned: True, epoch: 162: Average loss: 0.0419, Accuracy: 9782/9900 (98.8081%)
Done in 299.597856760025 sec.
Server Epoch:163 choose agents : [13, 36, 58, 71, 95, 8, 67, 7, 31, 90, 40, 65, 34, 20, 2, 82, 51, 83, 86, 92].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 163, local model 13, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5199/5308 (97.9465%), train_poison_data_count: 415
Global model norm: 44.339800905461196.
Norm before scaling: 44.298480184761274. Distance: 1.1873800819481786
___Test Local_ResNet_18 poisoned: True, epoch: 163: Average loss: 0.0355, Accuracy: 9815/9900 (99.1414%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 163, local model 36, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5667/5777 (98.0959%), train_poison_data_count: 455
Global model norm: 44.339800905461196.
Norm before scaling: 44.29138661987156. Distance: 1.2091835856201552
___Test Local_ResNet_18 poisoned: True, epoch: 163: Average loss: 0.0254, Accuracy: 9836/9900 (99.3535%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 163, local model 58, internal_epoch   1,  Average loss: 0.0023, Accuracy: 4996/5123 (97.5210%), train_poison_data_count: 403
Global model norm: 44.339800905461196.
Norm before scaling: 44.30147270010826. Distance: 1.2441667347418495
___Test Local_ResNet_18 poisoned: True, epoch: 163: Average loss: 0.0529, Accuracy: 9773/9900 (98.7172%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 163, local model 71, internal_epoch   1,  Average loss: 0.0016, Accuracy: 5372/5503 (97.6195%), train_poison_data_count: 430
Global model norm: 44.339800905461196.
Norm before scaling: 44.299076775086405. Distance: 1.2307927265239942
___Test Local_ResNet_18 poisoned: True, epoch: 163: Average loss: 0.0711, Accuracy: 9704/9900 (98.0202%)
___Train Local_ResNet_18,  epoch 163, local model 95, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4502/5018 (89.7170%)
___Train Local_ResNet_18,  epoch 163, local model 95, internal_epoch   2,  Average loss: 0.0058, Accuracy: 4448/5018 (88.6409%)
___Test Local_ResNet_18 poisoned: False, epoch: 163: Average loss: 2.2043, Accuracy: 5168/10000 (51.6800%)
___Train Local_ResNet_18,  epoch 163, local model 8, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4544/4889 (92.9433%)
___Train Local_ResNet_18,  epoch 163, local model 8, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4400/4889 (89.9980%)
___Test Local_ResNet_18 poisoned: False, epoch: 163: Average loss: 2.2430, Accuracy: 5271/10000 (52.7100%)
___Train Local_ResNet_18,  epoch 163, local model 67, internal_epoch   1,  Average loss: 0.0046, Accuracy: 5087/5559 (91.5093%)
___Train Local_ResNet_18,  epoch 163, local model 67, internal_epoch   2,  Average loss: 0.0059, Accuracy: 4906/5559 (88.2533%)
___Test Local_ResNet_18 poisoned: False, epoch: 163: Average loss: 2.3922, Accuracy: 4986/10000 (49.8600%)
___Train Local_ResNet_18,  epoch 163, local model 7, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4496/4869 (92.3393%)
___Train Local_ResNet_18,  epoch 163, local model 7, internal_epoch   2,  Average loss: 0.0094, Accuracy: 3994/4869 (82.0292%)
___Test Local_ResNet_18 poisoned: False, epoch: 163: Average loss: 2.4085, Accuracy: 4996/10000 (49.9600%)
___Train Local_ResNet_18,  epoch 163, local model 31, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4263/4537 (93.9608%)
___Train Local_ResNet_18,  epoch 163, local model 31, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4239/4537 (93.4318%)
___Test Local_ResNet_18 poisoned: False, epoch: 163: Average loss: 1.8490, Accuracy: 5842/10000 (58.4200%)
___Train Local_ResNet_18,  epoch 163, local model 90, internal_epoch   1,  Average loss: 0.0024, Accuracy: 4544/4748 (95.7035%)
___Train Local_ResNet_18,  epoch 163, local model 90, internal_epoch   2,  Average loss: 0.0032, Accuracy: 4464/4748 (94.0185%)
___Test Local_ResNet_18 poisoned: False, epoch: 163: Average loss: 2.0359, Accuracy: 5565/10000 (55.6500%)
___Train Local_ResNet_18,  epoch 163, local model 40, internal_epoch   1,  Average loss: 0.0036, Accuracy: 5544/5939 (93.3490%)
___Train Local_ResNet_18,  epoch 163, local model 40, internal_epoch   2,  Average loss: 0.0042, Accuracy: 5454/5939 (91.8336%)
___Test Local_ResNet_18 poisoned: False, epoch: 163: Average loss: 2.1248, Accuracy: 5274/10000 (52.7400%)
___Train Local_ResNet_18,  epoch 163, local model 65, internal_epoch   1,  Average loss: 0.0039, Accuracy: 5077/5497 (92.3595%)
___Train Local_ResNet_18,  epoch 163, local model 65, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4977/5497 (90.5403%)
___Test Local_ResNet_18 poisoned: False, epoch: 163: Average loss: 2.2726, Accuracy: 5195/10000 (51.9500%)
___Train Local_ResNet_18,  epoch 163, local model 34, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4539/4911 (92.4252%)
___Train Local_ResNet_18,  epoch 163, local model 34, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4552/4911 (92.6899%)
___Test Local_ResNet_18 poisoned: False, epoch: 163: Average loss: 2.0584, Accuracy: 5443/10000 (54.4300%)
___Train Local_ResNet_18,  epoch 163, local model 20, internal_epoch   1,  Average loss: 0.0028, Accuracy: 4482/4714 (95.0785%)
___Train Local_ResNet_18,  epoch 163, local model 20, internal_epoch   2,  Average loss: 0.0032, Accuracy: 4435/4714 (94.0815%)
___Test Local_ResNet_18 poisoned: False, epoch: 163: Average loss: 1.8318, Accuracy: 5835/10000 (58.3500%)
___Train Local_ResNet_18,  epoch 163, local model 2, internal_epoch   1,  Average loss: 0.0033, Accuracy: 3714/3968 (93.5988%)
___Train Local_ResNet_18,  epoch 163, local model 2, internal_epoch   2,  Average loss: 0.0035, Accuracy: 3704/3968 (93.3468%)
___Test Local_ResNet_18 poisoned: False, epoch: 163: Average loss: 1.9616, Accuracy: 5624/10000 (56.2400%)
___Train Local_ResNet_18,  epoch 163, local model 82, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4966/5298 (93.7335%)
___Train Local_ResNet_18,  epoch 163, local model 82, internal_epoch   2,  Average loss: 0.0032, Accuracy: 4958/5298 (93.5825%)
___Test Local_ResNet_18 poisoned: False, epoch: 163: Average loss: 2.1444, Accuracy: 5456/10000 (54.5600%)
___Train Local_ResNet_18,  epoch 163, local model 51, internal_epoch   1,  Average loss: 0.0033, Accuracy: 3856/4108 (93.8656%)
___Train Local_ResNet_18,  epoch 163, local model 51, internal_epoch   2,  Average loss: 0.0033, Accuracy: 3856/4108 (93.8656%)
___Test Local_ResNet_18 poisoned: False, epoch: 163: Average loss: 2.0495, Accuracy: 5429/10000 (54.2900%)
___Train Local_ResNet_18,  epoch 163, local model 83, internal_epoch   1,  Average loss: 0.0038, Accuracy: 3282/3552 (92.3986%)
___Train Local_ResNet_18,  epoch 163, local model 83, internal_epoch   2,  Average loss: 0.0029, Accuracy: 3358/3552 (94.5383%)
___Test Local_ResNet_18 poisoned: False, epoch: 163: Average loss: 1.7713, Accuracy: 5927/10000 (59.2700%)
___Train Local_ResNet_18,  epoch 163, local model 86, internal_epoch   1,  Average loss: 0.0043, Accuracy: 3590/3929 (91.3719%)
___Train Local_ResNet_18,  epoch 163, local model 86, internal_epoch   2,  Average loss: 0.0043, Accuracy: 3588/3929 (91.3209%)
___Test Local_ResNet_18 poisoned: False, epoch: 163: Average loss: 2.0234, Accuracy: 5619/10000 (56.1900%)
___Train Local_ResNet_18,  epoch 163, local model 92, internal_epoch   1,  Average loss: 0.0030, Accuracy: 6454/6812 (94.7446%)
___Train Local_ResNet_18,  epoch 163, local model 92, internal_epoch   2,  Average loss: 0.0035, Accuracy: 6355/6812 (93.2913%)
___Test Local_ResNet_18 poisoned: False, epoch: 163: Average loss: 2.0376, Accuracy: 5535/10000 (55.3500%)
time spent on training: 274.6699905395508
___Test Target_ResNet_18 poisoned: False, epoch: 163: Average loss: 1.3669, Accuracy: 6555/10000 (65.5500%)
___Test Target_ResNet_18 poisoned: True, epoch: 163: Average loss: 0.0420, Accuracy: 9787/9900 (98.8586%)
Done in 301.26524686813354 sec.
Server Epoch:164 choose agents : [13, 36, 58, 71, 93, 42, 22, 44, 28, 6, 70, 27, 35, 41, 8, 24, 26, 60, 31, 12].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 164, local model 13, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5215/5308 (98.2479%), train_poison_data_count: 415
Global model norm: 44.35743903181221.
Norm before scaling: 44.31554941464536. Distance: 1.156115343655508
___Test Local_ResNet_18 poisoned: True, epoch: 164: Average loss: 0.0528, Accuracy: 9754/9900 (98.5253%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 164, local model 36, internal_epoch   1,  Average loss: 0.0016, Accuracy: 5637/5777 (97.5766%), train_poison_data_count: 455
Global model norm: 44.35743903181221.
Norm before scaling: 44.312581265352144. Distance: 1.2940530523394247
___Test Local_ResNet_18 poisoned: True, epoch: 164: Average loss: 0.0738, Accuracy: 9712/9900 (98.1010%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 164, local model 58, internal_epoch   1,  Average loss: 0.0025, Accuracy: 5001/5123 (97.6186%), train_poison_data_count: 403
Global model norm: 44.35743903181221.
Norm before scaling: 44.31846503178373. Distance: 1.2367754423795156
___Test Local_ResNet_18 poisoned: True, epoch: 164: Average loss: 0.0648, Accuracy: 9712/9900 (98.1010%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 164, local model 71, internal_epoch   1,  Average loss: 0.0016, Accuracy: 5390/5503 (97.9466%), train_poison_data_count: 430
Global model norm: 44.35743903181221.
Norm before scaling: 44.315641692666624. Distance: 1.2476336014327574
___Test Local_ResNet_18 poisoned: True, epoch: 164: Average loss: 0.0715, Accuracy: 9700/9900 (97.9798%)
___Train Local_ResNet_18,  epoch 164, local model 93, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4679/5055 (92.5618%)
___Train Local_ResNet_18,  epoch 164, local model 93, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4636/5055 (91.7112%)
___Test Local_ResNet_18 poisoned: False, epoch: 164: Average loss: 2.2406, Accuracy: 5390/10000 (53.9000%)
___Train Local_ResNet_18,  epoch 164, local model 42, internal_epoch   1,  Average loss: 0.0038, Accuracy: 5447/5907 (92.2126%)
___Train Local_ResNet_18,  epoch 164, local model 42, internal_epoch   2,  Average loss: 0.0054, Accuracy: 5278/5907 (89.3516%)
___Test Local_ResNet_18 poisoned: False, epoch: 164: Average loss: 2.4377, Accuracy: 4909/10000 (49.0900%)
___Train Local_ResNet_18,  epoch 164, local model 22, internal_epoch   1,  Average loss: 0.0036, Accuracy: 5292/5696 (92.9073%)
___Train Local_ResNet_18,  epoch 164, local model 22, internal_epoch   2,  Average loss: 0.0048, Accuracy: 5157/5696 (90.5372%)
___Test Local_ResNet_18 poisoned: False, epoch: 164: Average loss: 2.1459, Accuracy: 5291/10000 (52.9100%)
___Train Local_ResNet_18,  epoch 164, local model 44, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4764/5075 (93.8719%)
___Train Local_ResNet_18,  epoch 164, local model 44, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4668/5075 (91.9803%)
___Test Local_ResNet_18 poisoned: False, epoch: 164: Average loss: 2.3721, Accuracy: 5036/10000 (50.3600%)
___Train Local_ResNet_18,  epoch 164, local model 28, internal_epoch   1,  Average loss: 0.0050, Accuracy: 4687/5122 (91.5072%)
___Train Local_ResNet_18,  epoch 164, local model 28, internal_epoch   2,  Average loss: 0.0091, Accuracy: 4242/5122 (82.8192%)
___Test Local_ResNet_18 poisoned: False, epoch: 164: Average loss: 2.3750, Accuracy: 4907/10000 (49.0700%)
___Train Local_ResNet_18,  epoch 164, local model 6, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4647/4929 (94.2788%)
___Train Local_ResNet_18,  epoch 164, local model 6, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4494/4929 (91.1747%)
___Test Local_ResNet_18 poisoned: False, epoch: 164: Average loss: 2.1824, Accuracy: 5423/10000 (54.2300%)
___Train Local_ResNet_18,  epoch 164, local model 70, internal_epoch   1,  Average loss: 0.0034, Accuracy: 5498/5871 (93.6467%)
___Train Local_ResNet_18,  epoch 164, local model 70, internal_epoch   2,  Average loss: 0.0041, Accuracy: 5385/5871 (91.7220%)
___Test Local_ResNet_18 poisoned: False, epoch: 164: Average loss: 2.2010, Accuracy: 5328/10000 (53.2800%)
___Train Local_ResNet_18,  epoch 164, local model 27, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4276/4587 (93.2200%)
___Train Local_ResNet_18,  epoch 164, local model 27, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4223/4587 (92.0645%)
___Test Local_ResNet_18 poisoned: False, epoch: 164: Average loss: 2.0403, Accuracy: 5533/10000 (55.3300%)
___Train Local_ResNet_18,  epoch 164, local model 35, internal_epoch   1,  Average loss: 0.0036, Accuracy: 5235/5615 (93.2324%)
___Train Local_ResNet_18,  epoch 164, local model 35, internal_epoch   2,  Average loss: 0.0044, Accuracy: 5124/5615 (91.2556%)
___Test Local_ResNet_18 poisoned: False, epoch: 164: Average loss: 2.2715, Accuracy: 5207/10000 (52.0700%)
___Train Local_ResNet_18,  epoch 164, local model 41, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4434/4714 (94.0602%)
___Train Local_ResNet_18,  epoch 164, local model 41, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4387/4714 (93.0632%)
___Test Local_ResNet_18 poisoned: False, epoch: 164: Average loss: 2.0983, Accuracy: 5387/10000 (53.8700%)
___Train Local_ResNet_18,  epoch 164, local model 8, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4572/4889 (93.5161%)
___Train Local_ResNet_18,  epoch 164, local model 8, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4429/4889 (90.5911%)
___Test Local_ResNet_18 poisoned: False, epoch: 164: Average loss: 2.1419, Accuracy: 5359/10000 (53.5900%)
___Train Local_ResNet_18,  epoch 164, local model 24, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4060/4313 (94.1340%)
___Train Local_ResNet_18,  epoch 164, local model 24, internal_epoch   2,  Average loss: 0.0033, Accuracy: 4041/4313 (93.6935%)
___Test Local_ResNet_18 poisoned: False, epoch: 164: Average loss: 1.8778, Accuracy: 5826/10000 (58.2600%)
___Train Local_ResNet_18,  epoch 164, local model 26, internal_epoch   1,  Average loss: 0.0028, Accuracy: 3873/4086 (94.7871%)
___Train Local_ResNet_18,  epoch 164, local model 26, internal_epoch   2,  Average loss: 0.0032, Accuracy: 3832/4086 (93.7837%)
___Test Local_ResNet_18 poisoned: False, epoch: 164: Average loss: 2.0122, Accuracy: 5607/10000 (56.0700%)
___Train Local_ResNet_18,  epoch 164, local model 60, internal_epoch   1,  Average loss: 0.0035, Accuracy: 3864/4145 (93.2207%)
___Train Local_ResNet_18,  epoch 164, local model 60, internal_epoch   2,  Average loss: 0.0040, Accuracy: 3841/4145 (92.6659%)
___Test Local_ResNet_18 poisoned: False, epoch: 164: Average loss: 2.0884, Accuracy: 5507/10000 (55.0700%)
___Train Local_ResNet_18,  epoch 164, local model 31, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4254/4537 (93.7624%)
___Train Local_ResNet_18,  epoch 164, local model 31, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4198/4537 (92.5281%)
___Test Local_ResNet_18 poisoned: False, epoch: 164: Average loss: 1.9020, Accuracy: 5667/10000 (56.6700%)
___Train Local_ResNet_18,  epoch 164, local model 12, internal_epoch   1,  Average loss: 0.0043, Accuracy: 5083/5526 (91.9834%)
___Train Local_ResNet_18,  epoch 164, local model 12, internal_epoch   2,  Average loss: 0.0057, Accuracy: 4935/5526 (89.3051%)
___Test Local_ResNet_18 poisoned: False, epoch: 164: Average loss: 2.3698, Accuracy: 5031/10000 (50.3100%)
time spent on training: 275.8113536834717
___Test Target_ResNet_18 poisoned: False, epoch: 164: Average loss: 1.3774, Accuracy: 6544/10000 (65.4400%)
___Test Target_ResNet_18 poisoned: True, epoch: 164: Average loss: 0.0404, Accuracy: 9790/9900 (98.8889%)
Done in 302.56916975975037 sec.
Server Epoch:165 choose agents : [13, 36, 58, 71, 90, 84, 56, 79, 2, 19, 51, 77, 98, 18, 60, 16, 88, 63, 69, 9].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 165, local model 13, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5213/5308 (98.2102%), train_poison_data_count: 415
Global model norm: 44.37671651609659.
Norm before scaling: 44.33499517170381. Distance: 1.1769356874123102
___Test Local_ResNet_18 poisoned: True, epoch: 165: Average loss: 0.0600, Accuracy: 9745/9900 (98.4343%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 165, local model 36, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5659/5777 (97.9574%), train_poison_data_count: 455
Global model norm: 44.37671651609659.
Norm before scaling: 44.33057718146908. Distance: 1.2657634518093337
___Test Local_ResNet_18 poisoned: True, epoch: 165: Average loss: 0.0783, Accuracy: 9700/9900 (97.9798%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 165, local model 58, internal_epoch   1,  Average loss: 0.0024, Accuracy: 4983/5123 (97.2672%), train_poison_data_count: 403
Global model norm: 44.37671651609659.
Norm before scaling: 44.33800449476865. Distance: 1.2327476590779718
___Test Local_ResNet_18 poisoned: True, epoch: 165: Average loss: 0.1289, Accuracy: 9547/9900 (96.4343%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 165, local model 71, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5394/5503 (98.0193%), train_poison_data_count: 430
Global model norm: 44.37671651609659.
Norm before scaling: 44.33359644149682. Distance: 1.2217449655634014
___Test Local_ResNet_18 poisoned: True, epoch: 165: Average loss: 0.0640, Accuracy: 9733/9900 (98.3131%)
___Train Local_ResNet_18,  epoch 165, local model 90, internal_epoch   1,  Average loss: 0.0026, Accuracy: 4534/4748 (95.4928%)
___Train Local_ResNet_18,  epoch 165, local model 90, internal_epoch   2,  Average loss: 0.0033, Accuracy: 4463/4748 (93.9975%)
___Test Local_ResNet_18 poisoned: False, epoch: 165: Average loss: 2.0156, Accuracy: 5572/10000 (55.7200%)
___Train Local_ResNet_18,  epoch 165, local model 84, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4815/5209 (92.4362%)
___Train Local_ResNet_18,  epoch 165, local model 84, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4693/5209 (90.0941%)
___Test Local_ResNet_18 poisoned: False, epoch: 165: Average loss: 2.2266, Accuracy: 5238/10000 (52.3800%)
___Train Local_ResNet_18,  epoch 165, local model 56, internal_epoch   1,  Average loss: 0.0039, Accuracy: 5038/5427 (92.8321%)
___Train Local_ResNet_18,  epoch 165, local model 56, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4847/5427 (89.3127%)
___Test Local_ResNet_18 poisoned: False, epoch: 165: Average loss: 2.2051, Accuracy: 5249/10000 (52.4900%)
___Train Local_ResNet_18,  epoch 165, local model 79, internal_epoch   1,  Average loss: 0.0031, Accuracy: 3886/4111 (94.5269%)
___Train Local_ResNet_18,  epoch 165, local model 79, internal_epoch   2,  Average loss: 0.0040, Accuracy: 3783/4111 (92.0214%)
___Test Local_ResNet_18 poisoned: False, epoch: 165: Average loss: 2.0416, Accuracy: 5499/10000 (54.9900%)
___Train Local_ResNet_18,  epoch 165, local model 2, internal_epoch   1,  Average loss: 0.0028, Accuracy: 3763/3968 (94.8337%)
___Train Local_ResNet_18,  epoch 165, local model 2, internal_epoch   2,  Average loss: 0.0030, Accuracy: 3737/3968 (94.1784%)
___Test Local_ResNet_18 poisoned: False, epoch: 165: Average loss: 1.7590, Accuracy: 5917/10000 (59.1700%)
___Train Local_ResNet_18,  epoch 165, local model 19, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4961/5361 (92.5387%)
___Train Local_ResNet_18,  epoch 165, local model 19, internal_epoch   2,  Average loss: 0.0056, Accuracy: 4725/5361 (88.1365%)
___Test Local_ResNet_18 poisoned: False, epoch: 165: Average loss: 2.2034, Accuracy: 5298/10000 (52.9800%)
___Train Local_ResNet_18,  epoch 165, local model 51, internal_epoch   1,  Average loss: 0.0032, Accuracy: 3885/4108 (94.5716%)
___Train Local_ResNet_18,  epoch 165, local model 51, internal_epoch   2,  Average loss: 0.0051, Accuracy: 3711/4108 (90.3359%)
___Test Local_ResNet_18 poisoned: False, epoch: 165: Average loss: 2.2575, Accuracy: 5233/10000 (52.3300%)
___Train Local_ResNet_18,  epoch 165, local model 77, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4649/5050 (92.0594%)
___Train Local_ResNet_18,  epoch 165, local model 77, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4541/5050 (89.9208%)
___Test Local_ResNet_18 poisoned: False, epoch: 165: Average loss: 2.1515, Accuracy: 5272/10000 (52.7200%)
___Train Local_ResNet_18,  epoch 165, local model 98, internal_epoch   1,  Average loss: 0.0042, Accuracy: 3918/4161 (94.1601%)
___Train Local_ResNet_18,  epoch 165, local model 98, internal_epoch   2,  Average loss: 0.0052, Accuracy: 3837/4161 (92.2134%)
___Test Local_ResNet_18 poisoned: False, epoch: 165: Average loss: 2.0832, Accuracy: 5504/10000 (55.0400%)
___Train Local_ResNet_18,  epoch 165, local model 18, internal_epoch   1,  Average loss: 0.0035, Accuracy: 3974/4249 (93.5279%)
___Train Local_ResNet_18,  epoch 165, local model 18, internal_epoch   2,  Average loss: 0.0045, Accuracy: 3873/4249 (91.1509%)
___Test Local_ResNet_18 poisoned: False, epoch: 165: Average loss: 2.1476, Accuracy: 5347/10000 (53.4700%)
___Train Local_ResNet_18,  epoch 165, local model 60, internal_epoch   1,  Average loss: 0.0033, Accuracy: 3883/4145 (93.6791%)
___Train Local_ResNet_18,  epoch 165, local model 60, internal_epoch   2,  Average loss: 0.0037, Accuracy: 3846/4145 (92.7865%)
___Test Local_ResNet_18 poisoned: False, epoch: 165: Average loss: 2.0531, Accuracy: 5499/10000 (54.9900%)
___Train Local_ResNet_18,  epoch 165, local model 16, internal_epoch   1,  Average loss: 0.0035, Accuracy: 5019/5353 (93.7605%)
___Train Local_ResNet_18,  epoch 165, local model 16, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4921/5353 (91.9298%)
___Test Local_ResNet_18 poisoned: False, epoch: 165: Average loss: 2.0771, Accuracy: 5559/10000 (55.5900%)
___Train Local_ResNet_18,  epoch 165, local model 88, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4952/5362 (92.3536%)
___Train Local_ResNet_18,  epoch 165, local model 88, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4871/5362 (90.8430%)
___Test Local_ResNet_18 poisoned: False, epoch: 165: Average loss: 2.1461, Accuracy: 5296/10000 (52.9600%)
___Train Local_ResNet_18,  epoch 165, local model 63, internal_epoch   1,  Average loss: 0.0027, Accuracy: 3723/3910 (95.2174%)
___Train Local_ResNet_18,  epoch 165, local model 63, internal_epoch   2,  Average loss: 0.0036, Accuracy: 3647/3910 (93.2737%)
___Test Local_ResNet_18 poisoned: False, epoch: 165: Average loss: 2.1600, Accuracy: 5543/10000 (55.4300%)
___Train Local_ResNet_18,  epoch 165, local model 69, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4094/4364 (93.8130%)
___Train Local_ResNet_18,  epoch 165, local model 69, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4010/4364 (91.8882%)
___Test Local_ResNet_18 poisoned: False, epoch: 165: Average loss: 2.1647, Accuracy: 5375/10000 (53.7500%)
___Train Local_ResNet_18,  epoch 165, local model 9, internal_epoch   1,  Average loss: 0.0040, Accuracy: 5289/5727 (92.3520%)
___Train Local_ResNet_18,  epoch 165, local model 9, internal_epoch   2,  Average loss: 0.0057, Accuracy: 5111/5727 (89.2439%)
___Test Local_ResNet_18 poisoned: False, epoch: 165: Average loss: 1.9587, Accuracy: 5546/10000 (55.4600%)
time spent on training: 272.61022663116455
___Test Target_ResNet_18 poisoned: False, epoch: 165: Average loss: 1.3883, Accuracy: 6523/10000 (65.2300%)
___Test Target_ResNet_18 poisoned: True, epoch: 165: Average loss: 0.0419, Accuracy: 9787/9900 (98.8586%)
Done in 299.25770473480225 sec.
Server Epoch:166 choose agents : [13, 36, 58, 71, 37, 97, 49, 32, 82, 55, 2, 63, 31, 12, 87, 60, 93, 0, 66, 52].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 166, local model 13, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5178/5308 (97.5509%), train_poison_data_count: 415
Global model norm: 44.39436609763605.
Norm before scaling: 44.35515759055324. Distance: 1.2581487644488596
___Test Local_ResNet_18 poisoned: True, epoch: 166: Average loss: 0.0553, Accuracy: 9756/9900 (98.5455%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 166, local model 36, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5666/5777 (98.0786%), train_poison_data_count: 455
Global model norm: 44.39436609763605.
Norm before scaling: 44.34711244078849. Distance: 1.204683854509471
___Test Local_ResNet_18 poisoned: True, epoch: 166: Average loss: 0.0555, Accuracy: 9747/9900 (98.4545%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 166, local model 58, internal_epoch   1,  Average loss: 0.0025, Accuracy: 4986/5123 (97.3258%), train_poison_data_count: 403
Global model norm: 44.39436609763605.
Norm before scaling: 44.354997967834045. Distance: 1.2346779173969387
___Test Local_ResNet_18 poisoned: True, epoch: 166: Average loss: 0.0513, Accuracy: 9770/9900 (98.6869%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 166, local model 71, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5384/5503 (97.8375%), train_poison_data_count: 430
Global model norm: 44.39436609763605.
Norm before scaling: 44.35264897053078. Distance: 1.2482239981077954
___Test Local_ResNet_18 poisoned: True, epoch: 166: Average loss: 0.0277, Accuracy: 9828/9900 (99.2727%)
___Train Local_ResNet_18,  epoch 166, local model 37, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4421/4741 (93.2504%)
___Train Local_ResNet_18,  epoch 166, local model 37, internal_epoch   2,  Average loss: 0.0058, Accuracy: 4222/4741 (89.0529%)
___Test Local_ResNet_18 poisoned: False, epoch: 166: Average loss: 2.4611, Accuracy: 5034/10000 (50.3400%)
___Train Local_ResNet_18,  epoch 166, local model 97, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4303/4736 (90.8573%)
___Train Local_ResNet_18,  epoch 166, local model 97, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4235/4736 (89.4215%)
___Test Local_ResNet_18 poisoned: False, epoch: 166: Average loss: 2.2164, Accuracy: 5309/10000 (53.0900%)
___Train Local_ResNet_18,  epoch 166, local model 49, internal_epoch   1,  Average loss: 0.0045, Accuracy: 5183/5652 (91.7021%)
___Train Local_ResNet_18,  epoch 166, local model 49, internal_epoch   2,  Average loss: 0.0057, Accuracy: 5029/5652 (88.9774%)
___Test Local_ResNet_18 poisoned: False, epoch: 166: Average loss: 2.2458, Accuracy: 5101/10000 (51.0100%)
___Train Local_ResNet_18,  epoch 166, local model 32, internal_epoch   1,  Average loss: 0.0051, Accuracy: 5482/6080 (90.1645%)
___Train Local_ResNet_18,  epoch 166, local model 32, internal_epoch   2,  Average loss: 0.0057, Accuracy: 5379/6080 (88.4704%)
___Test Local_ResNet_18 poisoned: False, epoch: 166: Average loss: 2.3759, Accuracy: 4944/10000 (49.4400%)
___Train Local_ResNet_18,  epoch 166, local model 82, internal_epoch   1,  Average loss: 0.0028, Accuracy: 5041/5298 (95.1491%)
___Train Local_ResNet_18,  epoch 166, local model 82, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4932/5298 (93.0917%)
___Test Local_ResNet_18 poisoned: False, epoch: 166: Average loss: 1.9035, Accuracy: 5772/10000 (57.7200%)
___Train Local_ResNet_18,  epoch 166, local model 55, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4472/4731 (94.5255%)
___Train Local_ResNet_18,  epoch 166, local model 55, internal_epoch   2,  Average loss: 0.0033, Accuracy: 4433/4731 (93.7011%)
___Test Local_ResNet_18 poisoned: False, epoch: 166: Average loss: 1.9054, Accuracy: 5667/10000 (56.6700%)
___Train Local_ResNet_18,  epoch 166, local model 2, internal_epoch   1,  Average loss: 0.0028, Accuracy: 3763/3968 (94.8337%)
___Train Local_ResNet_18,  epoch 166, local model 2, internal_epoch   2,  Average loss: 0.0034, Accuracy: 3703/3968 (93.3216%)
___Test Local_ResNet_18 poisoned: False, epoch: 166: Average loss: 1.9385, Accuracy: 5629/10000 (56.2900%)
___Train Local_ResNet_18,  epoch 166, local model 63, internal_epoch   1,  Average loss: 0.0030, Accuracy: 3717/3910 (95.0639%)
___Train Local_ResNet_18,  epoch 166, local model 63, internal_epoch   2,  Average loss: 0.0052, Accuracy: 3512/3910 (89.8210%)
___Test Local_ResNet_18 poisoned: False, epoch: 166: Average loss: 2.0783, Accuracy: 5524/10000 (55.2400%)
___Train Local_ResNet_18,  epoch 166, local model 31, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4287/4537 (94.4898%)
___Train Local_ResNet_18,  epoch 166, local model 31, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4200/4537 (92.5722%)
___Test Local_ResNet_18 poisoned: False, epoch: 166: Average loss: 1.9531, Accuracy: 5653/10000 (56.5300%)
___Train Local_ResNet_18,  epoch 166, local model 12, internal_epoch   1,  Average loss: 0.0045, Accuracy: 5051/5526 (91.4043%)
___Train Local_ResNet_18,  epoch 166, local model 12, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4918/5526 (88.9975%)
___Test Local_ResNet_18 poisoned: False, epoch: 166: Average loss: 2.3053, Accuracy: 5082/10000 (50.8200%)
___Train Local_ResNet_18,  epoch 166, local model 87, internal_epoch   1,  Average loss: 0.0039, Accuracy: 3709/3995 (92.8411%)
___Train Local_ResNet_18,  epoch 166, local model 87, internal_epoch   2,  Average loss: 0.0048, Accuracy: 3649/3995 (91.3392%)
___Test Local_ResNet_18 poisoned: False, epoch: 166: Average loss: 2.0098, Accuracy: 5467/10000 (54.6700%)
___Train Local_ResNet_18,  epoch 166, local model 60, internal_epoch   1,  Average loss: 0.0035, Accuracy: 3882/4145 (93.6550%)
___Train Local_ResNet_18,  epoch 166, local model 60, internal_epoch   2,  Average loss: 0.0035, Accuracy: 3875/4145 (93.4861%)
___Test Local_ResNet_18 poisoned: False, epoch: 166: Average loss: 2.0587, Accuracy: 5550/10000 (55.5000%)
___Train Local_ResNet_18,  epoch 166, local model 93, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4708/5055 (93.1355%)
___Train Local_ResNet_18,  epoch 166, local model 93, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4571/5055 (90.4253%)
___Test Local_ResNet_18 poisoned: False, epoch: 166: Average loss: 2.2903, Accuracy: 5150/10000 (51.5000%)
___Train Local_ResNet_18,  epoch 166, local model 0, internal_epoch   1,  Average loss: 0.0040, Accuracy: 5045/5454 (92.5009%)
___Train Local_ResNet_18,  epoch 166, local model 0, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4875/5454 (89.3839%)
___Test Local_ResNet_18 poisoned: False, epoch: 166: Average loss: 2.1820, Accuracy: 5307/10000 (53.0700%)
___Train Local_ResNet_18,  epoch 166, local model 66, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4493/4843 (92.7731%)
___Train Local_ResNet_18,  epoch 166, local model 66, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4495/4843 (92.8144%)
___Test Local_ResNet_18 poisoned: False, epoch: 166: Average loss: 1.9201, Accuracy: 5625/10000 (56.2500%)
___Train Local_ResNet_18,  epoch 166, local model 52, internal_epoch   1,  Average loss: 0.0031, Accuracy: 3895/4130 (94.3099%)
___Train Local_ResNet_18,  epoch 166, local model 52, internal_epoch   2,  Average loss: 0.0039, Accuracy: 3800/4130 (92.0097%)
___Test Local_ResNet_18 poisoned: False, epoch: 166: Average loss: 2.0732, Accuracy: 5484/10000 (54.8400%)
time spent on training: 269.4693372249603
___Test Target_ResNet_18 poisoned: False, epoch: 166: Average loss: 1.3881, Accuracy: 6517/10000 (65.1700%)
___Test Target_ResNet_18 poisoned: True, epoch: 166: Average loss: 0.0398, Accuracy: 9793/9900 (98.9192%)
Done in 295.9679832458496 sec.
Server Epoch:167 choose agents : [13, 36, 58, 71, 59, 98, 38, 39, 7, 3, 32, 76, 35, 66, 73, 20, 74, 49, 62, 44].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 167, local model 13, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5199/5308 (97.9465%), train_poison_data_count: 415
Global model norm: 44.412622970294855.
Norm before scaling: 44.36939747863597. Distance: 1.1598011333905383
___Test Local_ResNet_18 poisoned: True, epoch: 167: Average loss: 0.0333, Accuracy: 9821/9900 (99.2020%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 167, local model 36, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5681/5777 (98.3382%), train_poison_data_count: 455
Global model norm: 44.412622970294855.
Norm before scaling: 44.36472014511855. Distance: 1.1978313360367874
___Test Local_ResNet_18 poisoned: True, epoch: 167: Average loss: 0.0437, Accuracy: 9782/9900 (98.8081%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 167, local model 58, internal_epoch   1,  Average loss: 0.0022, Accuracy: 4997/5123 (97.5405%), train_poison_data_count: 403
Global model norm: 44.412622970294855.
Norm before scaling: 44.373039954511654. Distance: 1.210547205877859
___Test Local_ResNet_18 poisoned: True, epoch: 167: Average loss: 0.0541, Accuracy: 9757/9900 (98.5556%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 167, local model 71, internal_epoch   1,  Average loss: 0.0016, Accuracy: 5376/5503 (97.6922%), train_poison_data_count: 430
Global model norm: 44.412622970294855.
Norm before scaling: 44.37389275687268. Distance: 1.3027790296413442
___Test Local_ResNet_18 poisoned: True, epoch: 167: Average loss: 0.0459, Accuracy: 9790/9900 (98.8889%)
___Train Local_ResNet_18,  epoch 167, local model 59, internal_epoch   1,  Average loss: 0.0023, Accuracy: 4226/4397 (96.1110%)
___Train Local_ResNet_18,  epoch 167, local model 59, internal_epoch   2,  Average loss: 0.0020, Accuracy: 4243/4397 (96.4976%)
___Test Local_ResNet_18 poisoned: False, epoch: 167: Average loss: 1.7241, Accuracy: 6056/10000 (60.5600%)
___Train Local_ResNet_18,  epoch 167, local model 98, internal_epoch   1,  Average loss: 0.0041, Accuracy: 3939/4161 (94.6647%)
___Train Local_ResNet_18,  epoch 167, local model 98, internal_epoch   2,  Average loss: 0.0055, Accuracy: 3845/4161 (92.4057%)
___Test Local_ResNet_18 poisoned: False, epoch: 167: Average loss: 2.2578, Accuracy: 5188/10000 (51.8800%)
___Train Local_ResNet_18,  epoch 167, local model 38, internal_epoch   1,  Average loss: 0.0047, Accuracy: 5653/6235 (90.6656%)
___Train Local_ResNet_18,  epoch 167, local model 38, internal_epoch   2,  Average loss: 0.0058, Accuracy: 5520/6235 (88.5325%)
___Test Local_ResNet_18 poisoned: False, epoch: 167: Average loss: 2.5783, Accuracy: 4720/10000 (47.2000%)
___Train Local_ResNet_18,  epoch 167, local model 39, internal_epoch   1,  Average loss: 0.0035, Accuracy: 3907/4175 (93.5808%)
___Train Local_ResNet_18,  epoch 167, local model 39, internal_epoch   2,  Average loss: 0.0048, Accuracy: 3788/4175 (90.7305%)
___Test Local_ResNet_18 poisoned: False, epoch: 167: Average loss: 2.1248, Accuracy: 5467/10000 (54.6700%)
___Train Local_ResNet_18,  epoch 167, local model 7, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4489/4869 (92.1955%)
___Train Local_ResNet_18,  epoch 167, local model 7, internal_epoch   2,  Average loss: 0.0075, Accuracy: 4155/4869 (85.3358%)
___Test Local_ResNet_18 poisoned: False, epoch: 167: Average loss: 2.3159, Accuracy: 5162/10000 (51.6200%)
___Train Local_ResNet_18,  epoch 167, local model 3, internal_epoch   1,  Average loss: 0.0030, Accuracy: 5049/5346 (94.4444%)
___Train Local_ResNet_18,  epoch 167, local model 3, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4959/5346 (92.7609%)
___Test Local_ResNet_18 poisoned: False, epoch: 167: Average loss: 2.2476, Accuracy: 5181/10000 (51.8100%)
___Train Local_ResNet_18,  epoch 167, local model 32, internal_epoch   1,  Average loss: 0.0047, Accuracy: 5484/6080 (90.1974%)
___Train Local_ResNet_18,  epoch 167, local model 32, internal_epoch   2,  Average loss: 0.0062, Accuracy: 5288/6080 (86.9737%)
___Test Local_ResNet_18 poisoned: False, epoch: 167: Average loss: 2.2011, Accuracy: 5143/10000 (51.4300%)
___Train Local_ResNet_18,  epoch 167, local model 76, internal_epoch   1,  Average loss: 0.0040, Accuracy: 3658/3959 (92.3971%)
___Train Local_ResNet_18,  epoch 167, local model 76, internal_epoch   2,  Average loss: 0.0047, Accuracy: 3583/3959 (90.5027%)
___Test Local_ResNet_18 poisoned: False, epoch: 167: Average loss: 2.2014, Accuracy: 5302/10000 (53.0200%)
___Train Local_ResNet_18,  epoch 167, local model 35, internal_epoch   1,  Average loss: 0.0037, Accuracy: 5199/5615 (92.5913%)
___Train Local_ResNet_18,  epoch 167, local model 35, internal_epoch   2,  Average loss: 0.0043, Accuracy: 5114/5615 (91.0775%)
___Test Local_ResNet_18 poisoned: False, epoch: 167: Average loss: 2.3638, Accuracy: 5112/10000 (51.1200%)
___Train Local_ResNet_18,  epoch 167, local model 66, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4507/4843 (93.0622%)
___Train Local_ResNet_18,  epoch 167, local model 66, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4459/4843 (92.0710%)
___Test Local_ResNet_18 poisoned: False, epoch: 167: Average loss: 1.9355, Accuracy: 5650/10000 (56.5000%)
___Train Local_ResNet_18,  epoch 167, local model 73, internal_epoch   1,  Average loss: 0.0026, Accuracy: 4393/4605 (95.3963%)
___Train Local_ResNet_18,  epoch 167, local model 73, internal_epoch   2,  Average loss: 0.0030, Accuracy: 4337/4605 (94.1802%)
___Test Local_ResNet_18 poisoned: False, epoch: 167: Average loss: 1.9307, Accuracy: 5768/10000 (57.6800%)
___Train Local_ResNet_18,  epoch 167, local model 20, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4477/4714 (94.9724%)
___Train Local_ResNet_18,  epoch 167, local model 20, internal_epoch   2,  Average loss: 0.0031, Accuracy: 4447/4714 (94.3360%)
___Test Local_ResNet_18 poisoned: False, epoch: 167: Average loss: 1.8762, Accuracy: 5707/10000 (57.0700%)
___Train Local_ResNet_18,  epoch 167, local model 74, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4421/4797 (92.1618%)
___Train Local_ResNet_18,  epoch 167, local model 74, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4311/4797 (89.8687%)
___Test Local_ResNet_18 poisoned: False, epoch: 167: Average loss: 2.2119, Accuracy: 5244/10000 (52.4400%)
___Train Local_ResNet_18,  epoch 167, local model 49, internal_epoch   1,  Average loss: 0.0044, Accuracy: 5184/5652 (91.7197%)
___Train Local_ResNet_18,  epoch 167, local model 49, internal_epoch   2,  Average loss: 0.0052, Accuracy: 5053/5652 (89.4020%)
___Test Local_ResNet_18 poisoned: False, epoch: 167: Average loss: 2.2569, Accuracy: 5138/10000 (51.3800%)
___Train Local_ResNet_18,  epoch 167, local model 62, internal_epoch   1,  Average loss: 0.0053, Accuracy: 4924/5504 (89.4622%)
___Train Local_ResNet_18,  epoch 167, local model 62, internal_epoch   2,  Average loss: 0.0062, Accuracy: 4834/5504 (87.8270%)
___Test Local_ResNet_18 poisoned: False, epoch: 167: Average loss: 2.2114, Accuracy: 5234/10000 (52.3400%)
___Train Local_ResNet_18,  epoch 167, local model 44, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4776/5075 (94.1084%)
___Train Local_ResNet_18,  epoch 167, local model 44, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4574/5075 (90.1281%)
___Test Local_ResNet_18 poisoned: False, epoch: 167: Average loss: 2.0979, Accuracy: 5417/10000 (54.1700%)
time spent on training: 276.4747667312622
___Test Target_ResNet_18 poisoned: False, epoch: 167: Average loss: 1.3891, Accuracy: 6522/10000 (65.2200%)
___Test Target_ResNet_18 poisoned: True, epoch: 167: Average loss: 0.0399, Accuracy: 9794/9900 (98.9293%)
Done in 303.0712101459503 sec.
Server Epoch:168 choose agents : [13, 36, 58, 71, 39, 32, 2, 40, 91, 74, 50, 6, 92, 53, 87, 69, 86, 52, 37, 70].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 168, local model 13, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5210/5308 (98.1537%), train_poison_data_count: 415
Global model norm: 44.43135451088426.
Norm before scaling: 44.389285772652954. Distance: 1.1931388388980655
___Test Local_ResNet_18 poisoned: True, epoch: 168: Average loss: 0.0127, Accuracy: 9863/9900 (99.6263%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 168, local model 36, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5653/5777 (97.8536%), train_poison_data_count: 455
Global model norm: 44.43135451088426.
Norm before scaling: 44.38417736305713. Distance: 1.2330305286226213
___Test Local_ResNet_18 poisoned: True, epoch: 168: Average loss: 0.0512, Accuracy: 9769/9900 (98.6768%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 168, local model 58, internal_epoch   1,  Average loss: 0.0023, Accuracy: 4996/5123 (97.5210%), train_poison_data_count: 403
Global model norm: 44.43135451088426.
Norm before scaling: 44.392941740407196. Distance: 1.2379757958697588
___Test Local_ResNet_18 poisoned: True, epoch: 168: Average loss: 0.2143, Accuracy: 9306/9900 (94.0000%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 168, local model 71, internal_epoch   1,  Average loss: 0.0017, Accuracy: 5367/5503 (97.5286%), train_poison_data_count: 430
Global model norm: 44.43135451088426.
Norm before scaling: 44.39037200737481. Distance: 1.2932127753991005
___Test Local_ResNet_18 poisoned: True, epoch: 168: Average loss: 0.0270, Accuracy: 9833/9900 (99.3232%)
___Train Local_ResNet_18,  epoch 168, local model 39, internal_epoch   1,  Average loss: 0.0034, Accuracy: 3922/4175 (93.9401%)
___Train Local_ResNet_18,  epoch 168, local model 39, internal_epoch   2,  Average loss: 0.0045, Accuracy: 3803/4175 (91.0898%)
___Test Local_ResNet_18 poisoned: False, epoch: 168: Average loss: 1.9896, Accuracy: 5518/10000 (55.1800%)
___Train Local_ResNet_18,  epoch 168, local model 32, internal_epoch   1,  Average loss: 0.0050, Accuracy: 5460/6080 (89.8026%)
___Train Local_ResNet_18,  epoch 168, local model 32, internal_epoch   2,  Average loss: 0.0064, Accuracy: 5286/6080 (86.9408%)
___Test Local_ResNet_18 poisoned: False, epoch: 168: Average loss: 2.2313, Accuracy: 5143/10000 (51.4300%)
___Train Local_ResNet_18,  epoch 168, local model 2, internal_epoch   1,  Average loss: 0.0029, Accuracy: 3768/3968 (94.9597%)
___Train Local_ResNet_18,  epoch 168, local model 2, internal_epoch   2,  Average loss: 0.0031, Accuracy: 3735/3968 (94.1280%)
___Test Local_ResNet_18 poisoned: False, epoch: 168: Average loss: 1.7268, Accuracy: 5955/10000 (59.5500%)
___Train Local_ResNet_18,  epoch 168, local model 40, internal_epoch   1,  Average loss: 0.0033, Accuracy: 5561/5939 (93.6353%)
___Train Local_ResNet_18,  epoch 168, local model 40, internal_epoch   2,  Average loss: 0.0042, Accuracy: 5435/5939 (91.5137%)
___Test Local_ResNet_18 poisoned: False, epoch: 168: Average loss: 2.1201, Accuracy: 5323/10000 (53.2300%)
___Train Local_ResNet_18,  epoch 168, local model 91, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4108/4527 (90.7444%)
___Train Local_ResNet_18,  epoch 168, local model 91, internal_epoch   2,  Average loss: 0.0062, Accuracy: 3956/4527 (87.3868%)
___Test Local_ResNet_18 poisoned: False, epoch: 168: Average loss: 2.3518, Accuracy: 5171/10000 (51.7100%)
___Train Local_ResNet_18,  epoch 168, local model 74, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4492/4797 (93.6419%)
___Train Local_ResNet_18,  epoch 168, local model 74, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4460/4797 (92.9748%)
___Test Local_ResNet_18 poisoned: False, epoch: 168: Average loss: 2.0139, Accuracy: 5606/10000 (56.0600%)
___Train Local_ResNet_18,  epoch 168, local model 50, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4468/4757 (93.9247%)
___Train Local_ResNet_18,  epoch 168, local model 50, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4324/4757 (90.8976%)
___Test Local_ResNet_18 poisoned: False, epoch: 168: Average loss: 2.1593, Accuracy: 5299/10000 (52.9900%)
___Train Local_ResNet_18,  epoch 168, local model 6, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4625/4929 (93.8324%)
___Train Local_ResNet_18,  epoch 168, local model 6, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4488/4929 (91.0530%)
___Test Local_ResNet_18 poisoned: False, epoch: 168: Average loss: 2.1405, Accuracy: 5446/10000 (54.4600%)
___Train Local_ResNet_18,  epoch 168, local model 92, internal_epoch   1,  Average loss: 0.0026, Accuracy: 6487/6812 (95.2290%)
___Train Local_ResNet_18,  epoch 168, local model 92, internal_epoch   2,  Average loss: 0.0038, Accuracy: 6295/6812 (92.4105%)
___Test Local_ResNet_18 poisoned: False, epoch: 168: Average loss: 2.3662, Accuracy: 5156/10000 (51.5600%)
___Train Local_ResNet_18,  epoch 168, local model 53, internal_epoch   1,  Average loss: 0.0055, Accuracy: 5942/6664 (89.1657%)
___Train Local_ResNet_18,  epoch 168, local model 53, internal_epoch   2,  Average loss: 0.0085, Accuracy: 5578/6664 (83.7035%)
___Test Local_ResNet_18 poisoned: False, epoch: 168: Average loss: 2.1832, Accuracy: 5121/10000 (51.2100%)
___Train Local_ResNet_18,  epoch 168, local model 87, internal_epoch   1,  Average loss: 0.0042, Accuracy: 3682/3995 (92.1652%)
___Train Local_ResNet_18,  epoch 168, local model 87, internal_epoch   2,  Average loss: 0.0047, Accuracy: 3605/3995 (90.2378%)
___Test Local_ResNet_18 poisoned: False, epoch: 168: Average loss: 2.3137, Accuracy: 5087/10000 (50.8700%)
___Train Local_ResNet_18,  epoch 168, local model 69, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4056/4364 (92.9423%)
___Train Local_ResNet_18,  epoch 168, local model 69, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4014/4364 (91.9798%)
___Test Local_ResNet_18 poisoned: False, epoch: 168: Average loss: 1.9736, Accuracy: 5607/10000 (56.0700%)
___Train Local_ResNet_18,  epoch 168, local model 86, internal_epoch   1,  Average loss: 0.0040, Accuracy: 3609/3929 (91.8554%)
___Train Local_ResNet_18,  epoch 168, local model 86, internal_epoch   2,  Average loss: 0.0043, Accuracy: 3591/3929 (91.3973%)
___Test Local_ResNet_18 poisoned: False, epoch: 168: Average loss: 2.0909, Accuracy: 5497/10000 (54.9700%)
___Train Local_ResNet_18,  epoch 168, local model 52, internal_epoch   1,  Average loss: 0.0032, Accuracy: 3882/4130 (93.9952%)
___Train Local_ResNet_18,  epoch 168, local model 52, internal_epoch   2,  Average loss: 0.0044, Accuracy: 3777/4130 (91.4528%)
___Test Local_ResNet_18 poisoned: False, epoch: 168: Average loss: 2.1145, Accuracy: 5323/10000 (53.2300%)
___Train Local_ResNet_18,  epoch 168, local model 37, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4385/4741 (92.4910%)
___Train Local_ResNet_18,  epoch 168, local model 37, internal_epoch   2,  Average loss: 0.0078, Accuracy: 4042/4741 (85.2563%)
___Test Local_ResNet_18 poisoned: False, epoch: 168: Average loss: 2.4281, Accuracy: 4881/10000 (48.8100%)
___Train Local_ResNet_18,  epoch 168, local model 70, internal_epoch   1,  Average loss: 0.0033, Accuracy: 5513/5871 (93.9022%)
___Train Local_ResNet_18,  epoch 168, local model 70, internal_epoch   2,  Average loss: 0.0048, Accuracy: 5289/5871 (90.0869%)
___Test Local_ResNet_18 poisoned: False, epoch: 168: Average loss: 2.3258, Accuracy: 5195/10000 (51.9500%)
time spent on training: 276.4014811515808
___Test Target_ResNet_18 poisoned: False, epoch: 168: Average loss: 1.3973, Accuracy: 6489/10000 (64.8900%)
___Test Target_ResNet_18 poisoned: True, epoch: 168: Average loss: 0.0402, Accuracy: 9790/9900 (98.8889%)
Done in 302.8092930316925 sec.
Server Epoch:169 choose agents : [13, 36, 58, 71, 30, 23, 34, 24, 2, 67, 21, 72, 83, 87, 29, 15, 42, 37, 70, 79].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 169, local model 13, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5206/5308 (98.0784%), train_poison_data_count: 415
Global model norm: 44.45038161569876.
Norm before scaling: 44.40658124656539. Distance: 1.1542456497728424
___Test Local_ResNet_18 poisoned: True, epoch: 169: Average loss: 0.0327, Accuracy: 9815/9900 (99.1414%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 169, local model 36, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5660/5777 (97.9747%), train_poison_data_count: 455
Global model norm: 44.45038161569876.
Norm before scaling: 44.404240476171026. Distance: 1.2460378317409058
___Test Local_ResNet_18 poisoned: True, epoch: 169: Average loss: 0.0279, Accuracy: 9824/9900 (99.2323%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 169, local model 58, internal_epoch   1,  Average loss: 0.0023, Accuracy: 4976/5123 (97.1306%), train_poison_data_count: 403
Global model norm: 44.45038161569876.
Norm before scaling: 44.411765414432274. Distance: 1.2523351315625983
___Test Local_ResNet_18 poisoned: True, epoch: 169: Average loss: 0.0393, Accuracy: 9804/9900 (99.0303%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 169, local model 71, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5383/5503 (97.8194%), train_poison_data_count: 430
Global model norm: 44.45038161569876.
Norm before scaling: 44.40738392508967. Distance: 1.2426187498424535
___Test Local_ResNet_18 poisoned: True, epoch: 169: Average loss: 0.0218, Accuracy: 9851/9900 (99.5051%)
___Train Local_ResNet_18,  epoch 169, local model 30, internal_epoch   1,  Average loss: 0.0028, Accuracy: 3565/3774 (94.4621%)
___Train Local_ResNet_18,  epoch 169, local model 30, internal_epoch   2,  Average loss: 0.0030, Accuracy: 3553/3774 (94.1441%)
___Test Local_ResNet_18 poisoned: False, epoch: 169: Average loss: 1.9747, Accuracy: 5727/10000 (57.2700%)
___Train Local_ResNet_18,  epoch 169, local model 23, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4306/4549 (94.6582%)
___Train Local_ResNet_18,  epoch 169, local model 23, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4223/4549 (92.8336%)
___Test Local_ResNet_18 poisoned: False, epoch: 169: Average loss: 1.9552, Accuracy: 5650/10000 (56.5000%)
___Train Local_ResNet_18,  epoch 169, local model 34, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4607/4911 (93.8098%)
___Train Local_ResNet_18,  epoch 169, local model 34, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4537/4911 (92.3844%)
___Test Local_ResNet_18 poisoned: False, epoch: 169: Average loss: 2.2127, Accuracy: 5303/10000 (53.0300%)
___Train Local_ResNet_18,  epoch 169, local model 24, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4067/4313 (94.2963%)
___Train Local_ResNet_18,  epoch 169, local model 24, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4004/4313 (92.8356%)
___Test Local_ResNet_18 poisoned: False, epoch: 169: Average loss: 1.9577, Accuracy: 5675/10000 (56.7500%)
___Train Local_ResNet_18,  epoch 169, local model 2, internal_epoch   1,  Average loss: 0.0027, Accuracy: 3767/3968 (94.9345%)
___Train Local_ResNet_18,  epoch 169, local model 2, internal_epoch   2,  Average loss: 0.0033, Accuracy: 3723/3968 (93.8256%)
___Test Local_ResNet_18 poisoned: False, epoch: 169: Average loss: 1.7527, Accuracy: 5911/10000 (59.1100%)
___Train Local_ResNet_18,  epoch 169, local model 67, internal_epoch   1,  Average loss: 0.0042, Accuracy: 5127/5559 (92.2288%)
___Train Local_ResNet_18,  epoch 169, local model 67, internal_epoch   2,  Average loss: 0.0056, Accuracy: 4938/5559 (88.8289%)
___Test Local_ResNet_18 poisoned: False, epoch: 169: Average loss: 2.3214, Accuracy: 5031/10000 (50.3100%)
___Train Local_ResNet_18,  epoch 169, local model 21, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4701/5038 (93.3108%)
___Train Local_ResNet_18,  epoch 169, local model 21, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4584/5038 (90.9885%)
___Test Local_ResNet_18 poisoned: False, epoch: 169: Average loss: 2.0340, Accuracy: 5611/10000 (56.1100%)
___Train Local_ResNet_18,  epoch 169, local model 72, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4773/5193 (91.9122%)
___Train Local_ResNet_18,  epoch 169, local model 72, internal_epoch   2,  Average loss: 0.0054, Accuracy: 4593/5193 (88.4460%)
___Test Local_ResNet_18 poisoned: False, epoch: 169: Average loss: 2.4205, Accuracy: 5066/10000 (50.6600%)
___Train Local_ResNet_18,  epoch 169, local model 83, internal_epoch   1,  Average loss: 0.0039, Accuracy: 3282/3552 (92.3986%)
___Train Local_ResNet_18,  epoch 169, local model 83, internal_epoch   2,  Average loss: 0.0039, Accuracy: 3266/3552 (91.9482%)
___Test Local_ResNet_18 poisoned: False, epoch: 169: Average loss: 1.8251, Accuracy: 5811/10000 (58.1100%)
___Train Local_ResNet_18,  epoch 169, local model 87, internal_epoch   1,  Average loss: 0.0040, Accuracy: 3686/3995 (92.2653%)
___Train Local_ResNet_18,  epoch 169, local model 87, internal_epoch   2,  Average loss: 0.0053, Accuracy: 3579/3995 (89.5870%)
___Test Local_ResNet_18 poisoned: False, epoch: 169: Average loss: 2.1594, Accuracy: 5312/10000 (53.1200%)
___Train Local_ResNet_18,  epoch 169, local model 29, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4477/4732 (94.6112%)
___Train Local_ResNet_18,  epoch 169, local model 29, internal_epoch   2,  Average loss: 0.0028, Accuracy: 4480/4732 (94.6746%)
___Test Local_ResNet_18 poisoned: False, epoch: 169: Average loss: 1.8730, Accuracy: 5798/10000 (57.9800%)
___Train Local_ResNet_18,  epoch 169, local model 15, internal_epoch   1,  Average loss: 0.0038, Accuracy: 5638/6068 (92.9136%)
___Train Local_ResNet_18,  epoch 169, local model 15, internal_epoch   2,  Average loss: 0.0048, Accuracy: 5503/6068 (90.6889%)
___Test Local_ResNet_18 poisoned: False, epoch: 169: Average loss: 2.1943, Accuracy: 5187/10000 (51.8700%)
___Train Local_ResNet_18,  epoch 169, local model 42, internal_epoch   1,  Average loss: 0.0046, Accuracy: 5358/5907 (90.7059%)
___Train Local_ResNet_18,  epoch 169, local model 42, internal_epoch   2,  Average loss: 0.0052, Accuracy: 5297/5907 (89.6733%)
___Test Local_ResNet_18 poisoned: False, epoch: 169: Average loss: 2.5464, Accuracy: 4804/10000 (48.0400%)
___Train Local_ResNet_18,  epoch 169, local model 37, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4436/4741 (93.5668%)
___Train Local_ResNet_18,  epoch 169, local model 37, internal_epoch   2,  Average loss: 0.0064, Accuracy: 4161/4741 (87.7663%)
___Test Local_ResNet_18 poisoned: False, epoch: 169: Average loss: 2.7140, Accuracy: 4701/10000 (47.0100%)
___Train Local_ResNet_18,  epoch 169, local model 70, internal_epoch   1,  Average loss: 0.0032, Accuracy: 5504/5871 (93.7489%)
___Train Local_ResNet_18,  epoch 169, local model 70, internal_epoch   2,  Average loss: 0.0042, Accuracy: 5386/5871 (91.7391%)
___Test Local_ResNet_18 poisoned: False, epoch: 169: Average loss: 2.0447, Accuracy: 5570/10000 (55.7000%)
___Train Local_ResNet_18,  epoch 169, local model 79, internal_epoch   1,  Average loss: 0.0030, Accuracy: 3870/4111 (94.1377%)
___Train Local_ResNet_18,  epoch 169, local model 79, internal_epoch   2,  Average loss: 0.0043, Accuracy: 3788/4111 (92.1430%)
___Test Local_ResNet_18 poisoned: False, epoch: 169: Average loss: 2.1151, Accuracy: 5462/10000 (54.6200%)
time spent on training: 273.3098316192627
___Test Target_ResNet_18 poisoned: False, epoch: 169: Average loss: 1.4026, Accuracy: 6494/10000 (64.9400%)
___Test Target_ResNet_18 poisoned: True, epoch: 169: Average loss: 0.0382, Accuracy: 9795/9900 (98.9394%)
Done in 299.6620795726776 sec.
Server Epoch:170 choose agents : [13, 36, 58, 71, 75, 51, 97, 20, 54, 5, 34, 74, 14, 77, 50, 56, 10, 16, 39, 79].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 170, local model 13, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5208/5308 (98.1161%), train_poison_data_count: 415
Global model norm: 44.468386275304475.
Norm before scaling: 44.42611217920577. Distance: 1.1595287745410408
___Test Local_ResNet_18 poisoned: True, epoch: 170: Average loss: 0.0193, Accuracy: 9842/9900 (99.4141%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Significant loss increase detected for 36 at epoch 170: Current loss: 0.1375, Previous loss: 0.0899, Loss jump: 0.0476, Applied weight: 1.2808
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 170, local model 36, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5675/5777 (98.2344%), train_poison_data_count: 455
Global model norm: 44.468386275304475.
Norm before scaling: 44.421233342622166. Distance: 1.2213815497586913
___Test Local_ResNet_18 poisoned: True, epoch: 170: Average loss: 0.0238, Accuracy: 9842/9900 (99.4141%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Significant loss increase detected for 58 at epoch 170: Current loss: 0.2182, Previous loss: 0.1433, Loss jump: 0.0750, Applied weight: 1.2737
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 170, local model 58, internal_epoch   1,  Average loss: 0.0023, Accuracy: 4983/5123 (97.2672%), train_poison_data_count: 403
Global model norm: 44.468386275304475.
Norm before scaling: 44.42832953019672. Distance: 1.2284076200474339
___Test Local_ResNet_18 poisoned: True, epoch: 170: Average loss: 0.0389, Accuracy: 9807/9900 (99.0606%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 170, local model 71, internal_epoch   1,  Average loss: 0.0016, Accuracy: 5378/5503 (97.7285%), train_poison_data_count: 430
Global model norm: 44.468386275304475.
Norm before scaling: 44.42598166253265. Distance: 1.2305713913508312
___Test Local_ResNet_18 poisoned: True, epoch: 170: Average loss: 0.0542, Accuracy: 9773/9900 (98.7172%)
___Train Local_ResNet_18,  epoch 170, local model 75, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4376/4672 (93.6644%)
___Train Local_ResNet_18,  epoch 170, local model 75, internal_epoch   2,  Average loss: 0.0032, Accuracy: 4406/4672 (94.3065%)
___Test Local_ResNet_18 poisoned: False, epoch: 170: Average loss: 2.1571, Accuracy: 5555/10000 (55.5500%)
___Train Local_ResNet_18,  epoch 170, local model 51, internal_epoch   1,  Average loss: 0.0033, Accuracy: 3867/4108 (94.1334%)
___Train Local_ResNet_18,  epoch 170, local model 51, internal_epoch   2,  Average loss: 0.0040, Accuracy: 3801/4108 (92.5268%)
___Test Local_ResNet_18 poisoned: False, epoch: 170: Average loss: 2.0174, Accuracy: 5509/10000 (55.0900%)
___Train Local_ResNet_18,  epoch 170, local model 97, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4363/4736 (92.1242%)
___Train Local_ResNet_18,  epoch 170, local model 97, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4260/4736 (89.9493%)
___Test Local_ResNet_18 poisoned: False, epoch: 170: Average loss: 2.0660, Accuracy: 5427/10000 (54.2700%)
___Train Local_ResNet_18,  epoch 170, local model 20, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4476/4714 (94.9512%)
___Train Local_ResNet_18,  epoch 170, local model 20, internal_epoch   2,  Average loss: 0.0030, Accuracy: 4435/4714 (94.0815%)
___Test Local_ResNet_18 poisoned: False, epoch: 170: Average loss: 1.8104, Accuracy: 5885/10000 (58.8500%)
___Train Local_ResNet_18,  epoch 170, local model 54, internal_epoch   1,  Average loss: 0.0048, Accuracy: 5118/5645 (90.6643%)
___Train Local_ResNet_18,  epoch 170, local model 54, internal_epoch   2,  Average loss: 0.0075, Accuracy: 4786/5645 (84.7830%)
___Test Local_ResNet_18 poisoned: False, epoch: 170: Average loss: 2.2594, Accuracy: 5114/10000 (51.1400%)
___Train Local_ResNet_18,  epoch 170, local model 5, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4736/4993 (94.8528%)
___Train Local_ResNet_18,  epoch 170, local model 5, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4603/4993 (92.1891%)
___Test Local_ResNet_18 poisoned: False, epoch: 170: Average loss: 2.2032, Accuracy: 5339/10000 (53.3900%)
___Train Local_ResNet_18,  epoch 170, local model 34, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4622/4911 (94.1153%)
___Train Local_ResNet_18,  epoch 170, local model 34, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4576/4911 (93.1786%)
___Test Local_ResNet_18 poisoned: False, epoch: 170: Average loss: 2.0961, Accuracy: 5468/10000 (54.6800%)
___Train Local_ResNet_18,  epoch 170, local model 74, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4408/4797 (91.8908%)
___Train Local_ResNet_18,  epoch 170, local model 74, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4422/4797 (92.1826%)
___Test Local_ResNet_18 poisoned: False, epoch: 170: Average loss: 2.0760, Accuracy: 5444/10000 (54.4400%)
___Train Local_ResNet_18,  epoch 170, local model 14, internal_epoch   1,  Average loss: 0.0025, Accuracy: 4008/4196 (95.5195%)
___Train Local_ResNet_18,  epoch 170, local model 14, internal_epoch   2,  Average loss: 0.0028, Accuracy: 3978/4196 (94.8046%)
___Test Local_ResNet_18 poisoned: False, epoch: 170: Average loss: 1.8043, Accuracy: 5829/10000 (58.2900%)
___Train Local_ResNet_18,  epoch 170, local model 77, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4611/5050 (91.3069%)
___Train Local_ResNet_18,  epoch 170, local model 77, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4524/5050 (89.5842%)
___Test Local_ResNet_18 poisoned: False, epoch: 170: Average loss: 2.1629, Accuracy: 5355/10000 (53.5500%)
___Train Local_ResNet_18,  epoch 170, local model 50, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4486/4757 (94.3031%)
___Train Local_ResNet_18,  epoch 170, local model 50, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4353/4757 (91.5073%)
___Test Local_ResNet_18 poisoned: False, epoch: 170: Average loss: 2.0728, Accuracy: 5423/10000 (54.2300%)
___Train Local_ResNet_18,  epoch 170, local model 56, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4930/5427 (90.8421%)
___Train Local_ResNet_18,  epoch 170, local model 56, internal_epoch   2,  Average loss: 0.0056, Accuracy: 4808/5427 (88.5941%)
___Test Local_ResNet_18 poisoned: False, epoch: 170: Average loss: 2.0710, Accuracy: 5428/10000 (54.2800%)
___Train Local_ResNet_18,  epoch 170, local model 10, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4776/5068 (94.2384%)
___Train Local_ResNet_18,  epoch 170, local model 10, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4738/5068 (93.4886%)
___Test Local_ResNet_18 poisoned: False, epoch: 170: Average loss: 2.1152, Accuracy: 5334/10000 (53.3400%)
___Train Local_ResNet_18,  epoch 170, local model 16, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4988/5353 (93.1814%)
___Train Local_ResNet_18,  epoch 170, local model 16, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4785/5353 (89.3891%)
___Test Local_ResNet_18 poisoned: False, epoch: 170: Average loss: 2.2211, Accuracy: 5275/10000 (52.7500%)
___Train Local_ResNet_18,  epoch 170, local model 39, internal_epoch   1,  Average loss: 0.0037, Accuracy: 3879/4175 (92.9102%)
___Train Local_ResNet_18,  epoch 170, local model 39, internal_epoch   2,  Average loss: 0.0045, Accuracy: 3823/4175 (91.5689%)
___Test Local_ResNet_18 poisoned: False, epoch: 170: Average loss: 2.0746, Accuracy: 5456/10000 (54.5600%)
___Train Local_ResNet_18,  epoch 170, local model 79, internal_epoch   1,  Average loss: 0.0031, Accuracy: 3872/4111 (94.1863%)
___Train Local_ResNet_18,  epoch 170, local model 79, internal_epoch   2,  Average loss: 0.0040, Accuracy: 3798/4111 (92.3863%)
___Test Local_ResNet_18 poisoned: False, epoch: 170: Average loss: 1.9753, Accuracy: 5628/10000 (56.2800%)
time spent on training: 270.84424018859863
___Test Target_ResNet_18 poisoned: False, epoch: 170: Average loss: 1.4121, Accuracy: 6475/10000 (64.7500%)
___Test Target_ResNet_18 poisoned: True, epoch: 170: Average loss: 0.0346, Accuracy: 9803/9900 (99.0202%)
Done in 297.10332465171814 sec.
Server Epoch:171 choose agents : [13, 36, 58, 71, 31, 8, 83, 64, 23, 74, 90, 97, 86, 76, 0, 62, 33, 32, 54, 7].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 171, local model 13, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5215/5308 (98.2479%), train_poison_data_count: 415
Global model norm: 44.485919910826844.
Norm before scaling: 44.442624254041725. Distance: 1.1555110529028865
___Test Local_ResNet_18 poisoned: True, epoch: 171: Average loss: 0.0442, Accuracy: 9786/9900 (98.8485%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 171, local model 36, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5657/5777 (97.9228%), train_poison_data_count: 455
Global model norm: 44.485919910826844.
Norm before scaling: 44.43896962671811. Distance: 1.2268538888211937
___Test Local_ResNet_18 poisoned: True, epoch: 171: Average loss: 0.0707, Accuracy: 9726/9900 (98.2424%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 171, local model 58, internal_epoch   1,  Average loss: 0.0022, Accuracy: 5003/5123 (97.6576%), train_poison_data_count: 403
Global model norm: 44.485919910826844.
Norm before scaling: 44.444780356939134. Distance: 1.1937211357741373
___Test Local_ResNet_18 poisoned: True, epoch: 171: Average loss: 0.0722, Accuracy: 9714/9900 (98.1212%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 171, local model 71, internal_epoch   1,  Average loss: 0.0016, Accuracy: 5360/5503 (97.4014%), train_poison_data_count: 430
Global model norm: 44.485919910826844.
Norm before scaling: 44.44512504904222. Distance: 1.2982194205535067
___Test Local_ResNet_18 poisoned: True, epoch: 171: Average loss: 0.0240, Accuracy: 9836/9900 (99.3535%)
___Train Local_ResNet_18,  epoch 171, local model 31, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4294/4537 (94.6440%)
___Train Local_ResNet_18,  epoch 171, local model 31, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4213/4537 (92.8587%)
___Test Local_ResNet_18 poisoned: False, epoch: 171: Average loss: 1.9232, Accuracy: 5680/10000 (56.8000%)
___Train Local_ResNet_18,  epoch 171, local model 8, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4550/4889 (93.0661%)
___Train Local_ResNet_18,  epoch 171, local model 8, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4544/4889 (92.9433%)
___Test Local_ResNet_18 poisoned: False, epoch: 171: Average loss: 2.0527, Accuracy: 5533/10000 (55.3300%)
___Train Local_ResNet_18,  epoch 171, local model 83, internal_epoch   1,  Average loss: 0.0034, Accuracy: 3311/3552 (93.2151%)
___Train Local_ResNet_18,  epoch 171, local model 83, internal_epoch   2,  Average loss: 0.0028, Accuracy: 3375/3552 (95.0169%)
___Test Local_ResNet_18 poisoned: False, epoch: 171: Average loss: 1.8006, Accuracy: 5959/10000 (59.5900%)
___Train Local_ResNet_18,  epoch 171, local model 64, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4512/4894 (92.1945%)
___Train Local_ResNet_18,  epoch 171, local model 64, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4350/4894 (88.8843%)
___Test Local_ResNet_18 poisoned: False, epoch: 171: Average loss: 2.2551, Accuracy: 5247/10000 (52.4700%)
___Train Local_ResNet_18,  epoch 171, local model 23, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4342/4549 (95.4495%)
___Train Local_ResNet_18,  epoch 171, local model 23, internal_epoch   2,  Average loss: 0.0073, Accuracy: 3903/4549 (85.7991%)
___Test Local_ResNet_18 poisoned: False, epoch: 171: Average loss: 2.5680, Accuracy: 4897/10000 (48.9700%)
___Train Local_ResNet_18,  epoch 171, local model 74, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4435/4797 (92.4536%)
___Train Local_ResNet_18,  epoch 171, local model 74, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4364/4797 (90.9735%)
___Test Local_ResNet_18 poisoned: False, epoch: 171: Average loss: 2.0890, Accuracy: 5578/10000 (55.7800%)
___Train Local_ResNet_18,  epoch 171, local model 90, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4537/4748 (95.5560%)
___Train Local_ResNet_18,  epoch 171, local model 90, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4383/4748 (92.3126%)
___Test Local_ResNet_18 poisoned: False, epoch: 171: Average loss: 1.9592, Accuracy: 5574/10000 (55.7400%)
___Train Local_ResNet_18,  epoch 171, local model 97, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4354/4736 (91.9341%)
___Train Local_ResNet_18,  epoch 171, local model 97, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4246/4736 (89.6537%)
___Test Local_ResNet_18 poisoned: False, epoch: 171: Average loss: 2.2608, Accuracy: 5117/10000 (51.1700%)
___Train Local_ResNet_18,  epoch 171, local model 86, internal_epoch   1,  Average loss: 0.0037, Accuracy: 3656/3929 (93.0517%)
___Train Local_ResNet_18,  epoch 171, local model 86, internal_epoch   2,  Average loss: 0.0043, Accuracy: 3581/3929 (91.1428%)
___Test Local_ResNet_18 poisoned: False, epoch: 171: Average loss: 1.8448, Accuracy: 5811/10000 (58.1100%)
___Train Local_ResNet_18,  epoch 171, local model 76, internal_epoch   1,  Average loss: 0.0040, Accuracy: 3651/3959 (92.2203%)
___Train Local_ResNet_18,  epoch 171, local model 76, internal_epoch   2,  Average loss: 0.0042, Accuracy: 3637/3959 (91.8666%)
___Test Local_ResNet_18 poisoned: False, epoch: 171: Average loss: 2.0386, Accuracy: 5432/10000 (54.3200%)
___Train Local_ResNet_18,  epoch 171, local model 0, internal_epoch   1,  Average loss: 0.0044, Accuracy: 5011/5454 (91.8775%)
___Train Local_ResNet_18,  epoch 171, local model 0, internal_epoch   2,  Average loss: 0.0063, Accuracy: 4783/5454 (87.6971%)
___Test Local_ResNet_18 poisoned: False, epoch: 171: Average loss: 2.4940, Accuracy: 4746/10000 (47.4600%)
___Train Local_ResNet_18,  epoch 171, local model 62, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4925/5504 (89.4804%)
___Train Local_ResNet_18,  epoch 171, local model 62, internal_epoch   2,  Average loss: 0.0068, Accuracy: 4744/5504 (86.1919%)
___Test Local_ResNet_18 poisoned: False, epoch: 171: Average loss: 2.2108, Accuracy: 5213/10000 (52.1300%)
___Train Local_ResNet_18,  epoch 171, local model 33, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4502/4818 (93.4413%)
___Train Local_ResNet_18,  epoch 171, local model 33, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4388/4818 (91.0751%)
___Test Local_ResNet_18 poisoned: False, epoch: 171: Average loss: 2.0244, Accuracy: 5515/10000 (55.1500%)
___Train Local_ResNet_18,  epoch 171, local model 32, internal_epoch   1,  Average loss: 0.0051, Accuracy: 5448/6080 (89.6053%)
___Train Local_ResNet_18,  epoch 171, local model 32, internal_epoch   2,  Average loss: 0.0059, Accuracy: 5374/6080 (88.3882%)
___Test Local_ResNet_18 poisoned: False, epoch: 171: Average loss: 2.2041, Accuracy: 5214/10000 (52.1400%)
___Train Local_ResNet_18,  epoch 171, local model 54, internal_epoch   1,  Average loss: 0.0045, Accuracy: 5149/5645 (91.2135%)
___Train Local_ResNet_18,  epoch 171, local model 54, internal_epoch   2,  Average loss: 0.0070, Accuracy: 4885/5645 (86.5368%)
___Test Local_ResNet_18 poisoned: False, epoch: 171: Average loss: 2.3387, Accuracy: 5025/10000 (50.2500%)
___Train Local_ResNet_18,  epoch 171, local model 7, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4480/4869 (92.0107%)
___Train Local_ResNet_18,  epoch 171, local model 7, internal_epoch   2,  Average loss: 0.0084, Accuracy: 4069/4869 (83.5695%)
___Test Local_ResNet_18 poisoned: False, epoch: 171: Average loss: 2.5883, Accuracy: 4760/10000 (47.6000%)
time spent on training: 269.3681094646454
___Test Target_ResNet_18 poisoned: False, epoch: 171: Average loss: 1.4173, Accuracy: 6475/10000 (64.7500%)
___Test Target_ResNet_18 poisoned: True, epoch: 171: Average loss: 0.0334, Accuracy: 9807/9900 (99.0606%)
Done in 295.72573947906494 sec.
Server Epoch:172 choose agents : [13, 36, 58, 71, 93, 25, 55, 21, 42, 88, 17, 23, 2, 68, 12, 52, 5, 44, 72, 81].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 172, local model 13, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5222/5308 (98.3798%), train_poison_data_count: 415
Global model norm: 44.50500734424091.
Norm before scaling: 44.46072403195108. Distance: 1.1195248248920162
___Test Local_ResNet_18 poisoned: True, epoch: 172: Average loss: 0.0219, Accuracy: 9845/9900 (99.4444%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 172, local model 36, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5645/5777 (97.7151%), train_poison_data_count: 455
Global model norm: 44.50500734424091.
Norm before scaling: 44.45858654938043. Distance: 1.2528176499163617
___Test Local_ResNet_18 poisoned: True, epoch: 172: Average loss: 0.0827, Accuracy: 9672/9900 (97.6970%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 172, local model 58, internal_epoch   1,  Average loss: 0.0023, Accuracy: 5007/5123 (97.7357%), train_poison_data_count: 403
Global model norm: 44.50500734424091.
Norm before scaling: 44.46358620317164. Distance: 1.2091830433937742
___Test Local_ResNet_18 poisoned: True, epoch: 172: Average loss: 0.0604, Accuracy: 9744/9900 (98.4242%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 172, local model 71, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5394/5503 (98.0193%), train_poison_data_count: 430
Global model norm: 44.50500734424091.
Norm before scaling: 44.46159574389734. Distance: 1.183178013471815
___Test Local_ResNet_18 poisoned: True, epoch: 172: Average loss: 0.0559, Accuracy: 9746/9900 (98.4444%)
___Train Local_ResNet_18,  epoch 172, local model 93, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4680/5055 (92.5816%)
___Train Local_ResNet_18,  epoch 172, local model 93, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4626/5055 (91.5134%)
___Test Local_ResNet_18 poisoned: False, epoch: 172: Average loss: 2.1305, Accuracy: 5432/10000 (54.3200%)
___Train Local_ResNet_18,  epoch 172, local model 25, internal_epoch   1,  Average loss: 0.0045, Accuracy: 5862/6419 (91.3226%)
___Train Local_ResNet_18,  epoch 172, local model 25, internal_epoch   2,  Average loss: 0.0066, Accuracy: 5555/6419 (86.5400%)
___Test Local_ResNet_18 poisoned: False, epoch: 172: Average loss: 2.4872, Accuracy: 5008/10000 (50.0800%)
___Train Local_ResNet_18,  epoch 172, local model 55, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4480/4731 (94.6946%)
___Train Local_ResNet_18,  epoch 172, local model 55, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4395/4731 (92.8979%)
___Test Local_ResNet_18 poisoned: False, epoch: 172: Average loss: 1.9776, Accuracy: 5584/10000 (55.8400%)
___Train Local_ResNet_18,  epoch 172, local model 21, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4667/5038 (92.6360%)
___Train Local_ResNet_18,  epoch 172, local model 21, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4652/5038 (92.3382%)
___Test Local_ResNet_18 poisoned: False, epoch: 172: Average loss: 1.9718, Accuracy: 5573/10000 (55.7300%)
___Train Local_ResNet_18,  epoch 172, local model 42, internal_epoch   1,  Average loss: 0.0040, Accuracy: 5453/5907 (92.3142%)
___Train Local_ResNet_18,  epoch 172, local model 42, internal_epoch   2,  Average loss: 0.0047, Accuracy: 5354/5907 (90.6382%)
___Test Local_ResNet_18 poisoned: False, epoch: 172: Average loss: 2.3514, Accuracy: 5180/10000 (51.8000%)
___Train Local_ResNet_18,  epoch 172, local model 88, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4971/5362 (92.7079%)
___Train Local_ResNet_18,  epoch 172, local model 88, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4817/5362 (89.8359%)
___Test Local_ResNet_18 poisoned: False, epoch: 172: Average loss: 2.0112, Accuracy: 5467/10000 (54.6700%)
___Train Local_ResNet_18,  epoch 172, local model 17, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4505/4903 (91.8825%)
___Train Local_ResNet_18,  epoch 172, local model 17, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4395/4903 (89.6390%)
___Test Local_ResNet_18 poisoned: False, epoch: 172: Average loss: 2.1429, Accuracy: 5321/10000 (53.2100%)
___Train Local_ResNet_18,  epoch 172, local model 23, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4314/4549 (94.8340%)
___Train Local_ResNet_18,  epoch 172, local model 23, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4135/4549 (90.8991%)
___Test Local_ResNet_18 poisoned: False, epoch: 172: Average loss: 2.1588, Accuracy: 5344/10000 (53.4400%)
___Train Local_ResNet_18,  epoch 172, local model 2, internal_epoch   1,  Average loss: 0.0029, Accuracy: 3753/3968 (94.5817%)
___Train Local_ResNet_18,  epoch 172, local model 2, internal_epoch   2,  Average loss: 0.0030, Accuracy: 3742/3968 (94.3044%)
___Test Local_ResNet_18 poisoned: False, epoch: 172: Average loss: 1.9204, Accuracy: 5629/10000 (56.2900%)
___Train Local_ResNet_18,  epoch 172, local model 68, internal_epoch   1,  Average loss: 0.0031, Accuracy: 3404/3589 (94.8454%)
___Train Local_ResNet_18,  epoch 172, local model 68, internal_epoch   2,  Average loss: 0.0065, Accuracy: 3172/3589 (88.3812%)
___Test Local_ResNet_18 poisoned: False, epoch: 172: Average loss: 2.0861, Accuracy: 5473/10000 (54.7300%)
___Train Local_ResNet_18,  epoch 172, local model 12, internal_epoch   1,  Average loss: 0.0039, Accuracy: 5163/5526 (93.4311%)
___Train Local_ResNet_18,  epoch 172, local model 12, internal_epoch   2,  Average loss: 0.0064, Accuracy: 4834/5526 (87.4774%)
___Test Local_ResNet_18 poisoned: False, epoch: 172: Average loss: 2.3956, Accuracy: 4990/10000 (49.9000%)
___Train Local_ResNet_18,  epoch 172, local model 52, internal_epoch   1,  Average loss: 0.0029, Accuracy: 3915/4130 (94.7942%)
___Train Local_ResNet_18,  epoch 172, local model 52, internal_epoch   2,  Average loss: 0.0035, Accuracy: 3851/4130 (93.2446%)
___Test Local_ResNet_18 poisoned: False, epoch: 172: Average loss: 1.9284, Accuracy: 5682/10000 (56.8200%)
___Train Local_ResNet_18,  epoch 172, local model 5, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4737/4993 (94.8728%)
___Train Local_ResNet_18,  epoch 172, local model 5, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4613/4993 (92.3893%)
___Test Local_ResNet_18 poisoned: False, epoch: 172: Average loss: 2.2674, Accuracy: 5174/10000 (51.7400%)
___Train Local_ResNet_18,  epoch 172, local model 44, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4788/5075 (94.3448%)
___Train Local_ResNet_18,  epoch 172, local model 44, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4588/5075 (90.4039%)
___Test Local_ResNet_18 poisoned: False, epoch: 172: Average loss: 2.1338, Accuracy: 5444/10000 (54.4400%)
___Train Local_ResNet_18,  epoch 172, local model 72, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4791/5193 (92.2588%)
___Train Local_ResNet_18,  epoch 172, local model 72, internal_epoch   2,  Average loss: 0.0074, Accuracy: 4462/5193 (85.9234%)
___Test Local_ResNet_18 poisoned: False, epoch: 172: Average loss: 2.4792, Accuracy: 4798/10000 (47.9800%)
___Train Local_ResNet_18,  epoch 172, local model 81, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4731/5035 (93.9623%)
___Train Local_ResNet_18,  epoch 172, local model 81, internal_epoch   2,  Average loss: 0.0033, Accuracy: 4731/5035 (93.9623%)
___Test Local_ResNet_18 poisoned: False, epoch: 172: Average loss: 1.9605, Accuracy: 5676/10000 (56.7600%)
time spent on training: 255.95731735229492
___Test Target_ResNet_18 poisoned: False, epoch: 172: Average loss: 1.4134, Accuracy: 6479/10000 (64.7900%)
___Test Target_ResNet_18 poisoned: True, epoch: 172: Average loss: 0.0340, Accuracy: 9804/9900 (99.0303%)
Done in 282.31232619285583 sec.
Server Epoch:173 choose agents : [13, 36, 58, 71, 32, 54, 57, 25, 67, 38, 0, 98, 43, 94, 42, 26, 70, 90, 56, 14].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 173, local model 13, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5222/5308 (98.3798%), train_poison_data_count: 415
Global model norm: 44.5241756990479.
Norm before scaling: 44.479996546463866. Distance: 1.1219964729362442
___Test Local_ResNet_18 poisoned: True, epoch: 173: Average loss: 0.0398, Accuracy: 9806/9900 (99.0505%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 173, local model 36, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5653/5777 (97.8536%), train_poison_data_count: 455
Global model norm: 44.5241756990479.
Norm before scaling: 44.47650417724088. Distance: 1.2288996789056925
___Test Local_ResNet_18 poisoned: True, epoch: 173: Average loss: 0.0492, Accuracy: 9775/9900 (98.7374%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 173, local model 58, internal_epoch   1,  Average loss: 0.0026, Accuracy: 5001/5123 (97.6186%), train_poison_data_count: 403
Global model norm: 44.5241756990479.
Norm before scaling: 44.48175154715836. Distance: 1.214986369602057
___Test Local_ResNet_18 poisoned: True, epoch: 173: Average loss: 0.0237, Accuracy: 9833/9900 (99.3232%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 173, local model 71, internal_epoch   1,  Average loss: 0.0016, Accuracy: 5377/5503 (97.7103%), train_poison_data_count: 430
Global model norm: 44.5241756990479.
Norm before scaling: 44.48404158858194. Distance: 1.2977735784450362
___Test Local_ResNet_18 poisoned: True, epoch: 173: Average loss: 0.0296, Accuracy: 9827/9900 (99.2626%)
___Train Local_ResNet_18,  epoch 173, local model 32, internal_epoch   1,  Average loss: 0.0045, Accuracy: 5546/6080 (91.2171%)
___Train Local_ResNet_18,  epoch 173, local model 32, internal_epoch   2,  Average loss: 0.0062, Accuracy: 5332/6080 (87.6974%)
___Test Local_ResNet_18 poisoned: False, epoch: 173: Average loss: 2.3881, Accuracy: 5110/10000 (51.1000%)
___Train Local_ResNet_18,  epoch 173, local model 54, internal_epoch   1,  Average loss: 0.0044, Accuracy: 5153/5645 (91.2843%)
___Train Local_ResNet_18,  epoch 173, local model 54, internal_epoch   2,  Average loss: 0.0066, Accuracy: 4925/5645 (87.2453%)
___Test Local_ResNet_18 poisoned: False, epoch: 173: Average loss: 2.0964, Accuracy: 5311/10000 (53.1100%)
___Train Local_ResNet_18,  epoch 173, local model 57, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4663/4956 (94.0880%)
___Train Local_ResNet_18,  epoch 173, local model 57, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4534/4956 (91.4851%)
___Test Local_ResNet_18 poisoned: False, epoch: 173: Average loss: 2.1022, Accuracy: 5383/10000 (53.8300%)
___Train Local_ResNet_18,  epoch 173, local model 25, internal_epoch   1,  Average loss: 0.0050, Accuracy: 5789/6419 (90.1854%)
___Train Local_ResNet_18,  epoch 173, local model 25, internal_epoch   2,  Average loss: 0.0074, Accuracy: 5477/6419 (85.3248%)
___Test Local_ResNet_18 poisoned: False, epoch: 173: Average loss: 2.1995, Accuracy: 5150/10000 (51.5000%)
___Train Local_ResNet_18,  epoch 173, local model 67, internal_epoch   1,  Average loss: 0.0039, Accuracy: 5149/5559 (92.6246%)
___Train Local_ResNet_18,  epoch 173, local model 67, internal_epoch   2,  Average loss: 0.0058, Accuracy: 4903/5559 (88.1993%)
___Test Local_ResNet_18 poisoned: False, epoch: 173: Average loss: 2.2515, Accuracy: 5179/10000 (51.7900%)
___Train Local_ResNet_18,  epoch 173, local model 38, internal_epoch   1,  Average loss: 0.0047, Accuracy: 5701/6235 (91.4354%)
___Train Local_ResNet_18,  epoch 173, local model 38, internal_epoch   2,  Average loss: 0.0060, Accuracy: 5512/6235 (88.4042%)
___Test Local_ResNet_18 poisoned: False, epoch: 173: Average loss: 2.2542, Accuracy: 5119/10000 (51.1900%)
___Train Local_ResNet_18,  epoch 173, local model 0, internal_epoch   1,  Average loss: 0.0038, Accuracy: 5063/5454 (92.8309%)
___Train Local_ResNet_18,  epoch 173, local model 0, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4928/5454 (90.3557%)
___Test Local_ResNet_18 poisoned: False, epoch: 173: Average loss: 2.1388, Accuracy: 5376/10000 (53.7600%)
___Train Local_ResNet_18,  epoch 173, local model 98, internal_epoch   1,  Average loss: 0.0041, Accuracy: 3939/4161 (94.6647%)
___Train Local_ResNet_18,  epoch 173, local model 98, internal_epoch   2,  Average loss: 0.0049, Accuracy: 3832/4161 (92.0932%)
___Test Local_ResNet_18 poisoned: False, epoch: 173: Average loss: 2.0779, Accuracy: 5608/10000 (56.0800%)
___Train Local_ResNet_18,  epoch 173, local model 43, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4628/4979 (92.9504%)
___Train Local_ResNet_18,  epoch 173, local model 43, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4520/4979 (90.7813%)
___Test Local_ResNet_18 poisoned: False, epoch: 173: Average loss: 2.1738, Accuracy: 5275/10000 (52.7500%)
___Train Local_ResNet_18,  epoch 173, local model 94, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4812/5224 (92.1133%)
___Train Local_ResNet_18,  epoch 173, local model 94, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4766/5224 (91.2328%)
___Test Local_ResNet_18 poisoned: False, epoch: 173: Average loss: 2.0841, Accuracy: 5501/10000 (55.0100%)
___Train Local_ResNet_18,  epoch 173, local model 42, internal_epoch   1,  Average loss: 0.0035, Accuracy: 5513/5907 (93.3299%)
___Train Local_ResNet_18,  epoch 173, local model 42, internal_epoch   2,  Average loss: 0.0038, Accuracy: 5448/5907 (92.2296%)
___Test Local_ResNet_18 poisoned: False, epoch: 173: Average loss: 2.3023, Accuracy: 5120/10000 (51.2000%)
___Train Local_ResNet_18,  epoch 173, local model 26, internal_epoch   1,  Average loss: 0.0027, Accuracy: 3881/4086 (94.9829%)
___Train Local_ResNet_18,  epoch 173, local model 26, internal_epoch   2,  Average loss: 0.0031, Accuracy: 3845/4086 (94.1018%)
___Test Local_ResNet_18 poisoned: False, epoch: 173: Average loss: 1.9030, Accuracy: 5787/10000 (57.8700%)
___Train Local_ResNet_18,  epoch 173, local model 70, internal_epoch   1,  Average loss: 0.0031, Accuracy: 5535/5871 (94.2770%)
___Train Local_ResNet_18,  epoch 173, local model 70, internal_epoch   2,  Average loss: 0.0043, Accuracy: 5381/5871 (91.6539%)
___Test Local_ResNet_18 poisoned: False, epoch: 173: Average loss: 2.3481, Accuracy: 5163/10000 (51.6300%)
___Train Local_ResNet_18,  epoch 173, local model 90, internal_epoch   1,  Average loss: 0.0026, Accuracy: 4528/4748 (95.3665%)
___Train Local_ResNet_18,  epoch 173, local model 90, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4326/4748 (91.1120%)
___Test Local_ResNet_18 poisoned: False, epoch: 173: Average loss: 2.1052, Accuracy: 5299/10000 (52.9900%)
___Train Local_ResNet_18,  epoch 173, local model 56, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4942/5427 (91.0632%)
___Train Local_ResNet_18,  epoch 173, local model 56, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4862/5427 (89.5891%)
___Test Local_ResNet_18 poisoned: False, epoch: 173: Average loss: 2.1434, Accuracy: 5452/10000 (54.5200%)
___Train Local_ResNet_18,  epoch 173, local model 14, internal_epoch   1,  Average loss: 0.0023, Accuracy: 4032/4196 (96.0915%)
___Train Local_ResNet_18,  epoch 173, local model 14, internal_epoch   2,  Average loss: 0.0024, Accuracy: 4023/4196 (95.8770%)
___Test Local_ResNet_18 poisoned: False, epoch: 173: Average loss: 1.8845, Accuracy: 5784/10000 (57.8400%)
time spent on training: 259.8521399497986
___Test Target_ResNet_18 poisoned: False, epoch: 173: Average loss: 1.4227, Accuracy: 6469/10000 (64.6900%)
___Test Target_ResNet_18 poisoned: True, epoch: 173: Average loss: 0.0308, Accuracy: 9814/9900 (99.1313%)
Done in 286.45309257507324 sec.
Server Epoch:174 choose agents : [13, 36, 58, 71, 12, 96, 75, 78, 54, 4, 5, 33, 35, 83, 57, 40, 6, 38, 18, 61].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 174, local model 13, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5208/5308 (98.1161%), train_poison_data_count: 415
Global model norm: 44.5443223685515.
Norm before scaling: 44.50186393348808. Distance: 1.213052637456652
___Test Local_ResNet_18 poisoned: True, epoch: 174: Average loss: 0.0290, Accuracy: 9826/9900 (99.2525%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 174, local model 36, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5675/5777 (98.2344%), train_poison_data_count: 455
Global model norm: 44.5443223685515.
Norm before scaling: 44.496164906722576. Distance: 1.2356740658732943
___Test Local_ResNet_18 poisoned: True, epoch: 174: Average loss: 0.0374, Accuracy: 9804/9900 (99.0303%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 174, local model 58, internal_epoch   1,  Average loss: 0.0022, Accuracy: 5013/5123 (97.8528%), train_poison_data_count: 403
Global model norm: 44.5443223685515.
Norm before scaling: 44.50205183120774. Distance: 1.1569924419522186
___Test Local_ResNet_18 poisoned: True, epoch: 174: Average loss: 0.0470, Accuracy: 9779/9900 (98.7778%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 174, local model 71, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5409/5503 (98.2918%), train_poison_data_count: 430
Global model norm: 44.5443223685515.
Norm before scaling: 44.500212593856645. Distance: 1.177449003601495
___Test Local_ResNet_18 poisoned: True, epoch: 174: Average loss: 0.0806, Accuracy: 9675/9900 (97.7273%)
___Train Local_ResNet_18,  epoch 174, local model 12, internal_epoch   1,  Average loss: 0.0046, Accuracy: 5035/5526 (91.1147%)
___Train Local_ResNet_18,  epoch 174, local model 12, internal_epoch   2,  Average loss: 0.0065, Accuracy: 4848/5526 (87.7307%)
___Test Local_ResNet_18 poisoned: False, epoch: 174: Average loss: 2.5189, Accuracy: 4818/10000 (48.1800%)
___Train Local_ResNet_18,  epoch 174, local model 96, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4783/5086 (94.0425%)
___Train Local_ResNet_18,  epoch 174, local model 96, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4733/5086 (93.0594%)
___Test Local_ResNet_18 poisoned: False, epoch: 174: Average loss: 1.9678, Accuracy: 5640/10000 (56.4000%)
___Train Local_ResNet_18,  epoch 174, local model 75, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4420/4672 (94.6062%)
___Train Local_ResNet_18,  epoch 174, local model 75, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4364/4672 (93.4075%)
___Test Local_ResNet_18 poisoned: False, epoch: 174: Average loss: 1.9543, Accuracy: 5736/10000 (57.3600%)
___Train Local_ResNet_18,  epoch 174, local model 78, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4124/4368 (94.4139%)
___Train Local_ResNet_18,  epoch 174, local model 78, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4055/4368 (92.8342%)
___Test Local_ResNet_18 poisoned: False, epoch: 174: Average loss: 2.1192, Accuracy: 5513/10000 (55.1300%)
___Train Local_ResNet_18,  epoch 174, local model 54, internal_epoch   1,  Average loss: 0.0049, Accuracy: 5126/5645 (90.8060%)
___Train Local_ResNet_18,  epoch 174, local model 54, internal_epoch   2,  Average loss: 0.0082, Accuracy: 4774/5645 (84.5704%)
___Test Local_ResNet_18 poisoned: False, epoch: 174: Average loss: 2.4301, Accuracy: 4933/10000 (49.3300%)
___Train Local_ResNet_18,  epoch 174, local model 4, internal_epoch   1,  Average loss: 0.0031, Accuracy: 3802/4028 (94.3893%)
___Train Local_ResNet_18,  epoch 174, local model 4, internal_epoch   2,  Average loss: 0.0034, Accuracy: 3756/4028 (93.2473%)
___Test Local_ResNet_18 poisoned: False, epoch: 174: Average loss: 1.9455, Accuracy: 5690/10000 (56.9000%)
___Train Local_ResNet_18,  epoch 174, local model 5, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4721/4993 (94.5524%)
___Train Local_ResNet_18,  epoch 174, local model 5, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4636/4993 (92.8500%)
___Test Local_ResNet_18 poisoned: False, epoch: 174: Average loss: 2.1374, Accuracy: 5575/10000 (55.7500%)
___Train Local_ResNet_18,  epoch 174, local model 33, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4506/4818 (93.5243%)
___Train Local_ResNet_18,  epoch 174, local model 33, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4421/4818 (91.7601%)
___Test Local_ResNet_18 poisoned: False, epoch: 174: Average loss: 2.0568, Accuracy: 5520/10000 (55.2000%)
___Train Local_ResNet_18,  epoch 174, local model 35, internal_epoch   1,  Average loss: 0.0039, Accuracy: 5188/5615 (92.3954%)
___Train Local_ResNet_18,  epoch 174, local model 35, internal_epoch   2,  Average loss: 0.0050, Accuracy: 5052/5615 (89.9733%)
___Test Local_ResNet_18 poisoned: False, epoch: 174: Average loss: 2.4479, Accuracy: 4950/10000 (49.5000%)
___Train Local_ResNet_18,  epoch 174, local model 83, internal_epoch   1,  Average loss: 0.0036, Accuracy: 3288/3552 (92.5676%)
___Train Local_ResNet_18,  epoch 174, local model 83, internal_epoch   2,  Average loss: 0.0032, Accuracy: 3327/3552 (93.6655%)
___Test Local_ResNet_18 poisoned: False, epoch: 174: Average loss: 1.9062, Accuracy: 5753/10000 (57.5300%)
___Train Local_ResNet_18,  epoch 174, local model 57, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4626/4956 (93.3414%)
___Train Local_ResNet_18,  epoch 174, local model 57, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4581/4956 (92.4334%)
___Test Local_ResNet_18 poisoned: False, epoch: 174: Average loss: 2.0322, Accuracy: 5550/10000 (55.5000%)
___Train Local_ResNet_18,  epoch 174, local model 40, internal_epoch   1,  Average loss: 0.0033, Accuracy: 5565/5939 (93.7026%)
___Train Local_ResNet_18,  epoch 174, local model 40, internal_epoch   2,  Average loss: 0.0038, Accuracy: 5506/5939 (92.7092%)
___Test Local_ResNet_18 poisoned: False, epoch: 174: Average loss: 1.9858, Accuracy: 5575/10000 (55.7500%)
___Train Local_ResNet_18,  epoch 174, local model 6, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4645/4929 (94.2382%)
___Train Local_ResNet_18,  epoch 174, local model 6, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4514/4929 (91.5804%)
___Test Local_ResNet_18 poisoned: False, epoch: 174: Average loss: 2.0740, Accuracy: 5557/10000 (55.5700%)
___Train Local_ResNet_18,  epoch 174, local model 38, internal_epoch   1,  Average loss: 0.0047, Accuracy: 5662/6235 (90.8099%)
___Train Local_ResNet_18,  epoch 174, local model 38, internal_epoch   2,  Average loss: 0.0064, Accuracy: 5453/6235 (87.4579%)
___Test Local_ResNet_18 poisoned: False, epoch: 174: Average loss: 2.3817, Accuracy: 5116/10000 (51.1600%)
___Train Local_ResNet_18,  epoch 174, local model 18, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4006/4249 (94.2810%)
___Train Local_ResNet_18,  epoch 174, local model 18, internal_epoch   2,  Average loss: 0.0043, Accuracy: 3907/4249 (91.9510%)
___Test Local_ResNet_18 poisoned: False, epoch: 174: Average loss: 2.0516, Accuracy: 5576/10000 (55.7600%)
___Train Local_ResNet_18,  epoch 174, local model 61, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4211/4485 (93.8907%)
___Train Local_ResNet_18,  epoch 174, local model 61, internal_epoch   2,  Average loss: 0.0081, Accuracy: 3809/4485 (84.9275%)
___Test Local_ResNet_18 poisoned: False, epoch: 174: Average loss: 2.4186, Accuracy: 4863/10000 (48.6300%)
time spent on training: 258.29781436920166
___Test Target_ResNet_18 poisoned: False, epoch: 174: Average loss: 1.4248, Accuracy: 6459/10000 (64.5900%)
___Test Target_ResNet_18 poisoned: True, epoch: 174: Average loss: 0.0308, Accuracy: 9812/9900 (99.1111%)
Done in 284.667512178421 sec.
Server Epoch:175 choose agents : [13, 36, 58, 71, 65, 4, 57, 0, 72, 62, 24, 77, 78, 41, 19, 61, 52, 59, 2, 73].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 175, local model 13, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5230/5308 (98.5305%), train_poison_data_count: 415
Global model norm: 44.56254519852196.
Norm before scaling: 44.51733060965555. Distance: 1.1153207401431906
___Test Local_ResNet_18 poisoned: True, epoch: 175: Average loss: 0.0487, Accuracy: 9766/9900 (98.6465%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 175, local model 36, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5675/5777 (98.2344%), train_poison_data_count: 455
Global model norm: 44.56254519852196.
Norm before scaling: 44.512834733980796. Distance: 1.1960357771564956
___Test Local_ResNet_18 poisoned: True, epoch: 175: Average loss: 0.0619, Accuracy: 9736/9900 (98.3434%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 175, local model 58, internal_epoch   1,  Average loss: 0.0022, Accuracy: 4991/5123 (97.4234%), train_poison_data_count: 403
Global model norm: 44.56254519852196.
Norm before scaling: 44.52208650235788. Distance: 1.2082722034557187
___Test Local_ResNet_18 poisoned: True, epoch: 175: Average loss: 0.0477, Accuracy: 9766/9900 (98.6465%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 175, local model 71, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5395/5503 (98.0374%), train_poison_data_count: 430
Global model norm: 44.56254519852196.
Norm before scaling: 44.517906443819044. Distance: 1.2059957760156452
___Test Local_ResNet_18 poisoned: True, epoch: 175: Average loss: 0.0411, Accuracy: 9794/9900 (98.9293%)
___Train Local_ResNet_18,  epoch 175, local model 65, internal_epoch   1,  Average loss: 0.0036, Accuracy: 5110/5497 (92.9598%)
___Train Local_ResNet_18,  epoch 175, local model 65, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4944/5497 (89.9400%)
___Test Local_ResNet_18 poisoned: False, epoch: 175: Average loss: 2.1748, Accuracy: 5330/10000 (53.3000%)
___Train Local_ResNet_18,  epoch 175, local model 4, internal_epoch   1,  Average loss: 0.0028, Accuracy: 3828/4028 (95.0348%)
___Train Local_ResNet_18,  epoch 175, local model 4, internal_epoch   2,  Average loss: 0.0033, Accuracy: 3760/4028 (93.3466%)
___Test Local_ResNet_18 poisoned: False, epoch: 175: Average loss: 2.0149, Accuracy: 5610/10000 (56.1000%)
___Train Local_ResNet_18,  epoch 175, local model 57, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4668/4956 (94.1889%)
___Train Local_ResNet_18,  epoch 175, local model 57, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4511/4956 (91.0210%)
___Test Local_ResNet_18 poisoned: False, epoch: 175: Average loss: 2.0723, Accuracy: 5534/10000 (55.3400%)
___Train Local_ResNet_18,  epoch 175, local model 0, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4988/5454 (91.4558%)
___Train Local_ResNet_18,  epoch 175, local model 0, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4851/5454 (88.9439%)
___Test Local_ResNet_18 poisoned: False, epoch: 175: Average loss: 2.0522, Accuracy: 5484/10000 (54.8400%)
___Train Local_ResNet_18,  epoch 175, local model 72, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4793/5193 (92.2973%)
___Train Local_ResNet_18,  epoch 175, local model 72, internal_epoch   2,  Average loss: 0.0076, Accuracy: 4462/5193 (85.9234%)
___Test Local_ResNet_18 poisoned: False, epoch: 175: Average loss: 2.5806, Accuracy: 4760/10000 (47.6000%)
___Train Local_ResNet_18,  epoch 175, local model 62, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4974/5504 (90.3706%)
___Train Local_ResNet_18,  epoch 175, local model 62, internal_epoch   2,  Average loss: 0.0056, Accuracy: 4875/5504 (88.5719%)
___Test Local_ResNet_18 poisoned: False, epoch: 175: Average loss: 2.1671, Accuracy: 5218/10000 (52.1800%)
___Train Local_ResNet_18,  epoch 175, local model 24, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4046/4313 (93.8094%)
___Train Local_ResNet_18,  epoch 175, local model 24, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4018/4313 (93.1602%)
___Test Local_ResNet_18 poisoned: False, epoch: 175: Average loss: 2.0247, Accuracy: 5654/10000 (56.5400%)
___Train Local_ResNet_18,  epoch 175, local model 77, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4606/5050 (91.2079%)
___Train Local_ResNet_18,  epoch 175, local model 77, internal_epoch   2,  Average loss: 0.0058, Accuracy: 4473/5050 (88.5743%)
___Test Local_ResNet_18 poisoned: False, epoch: 175: Average loss: 2.2170, Accuracy: 5201/10000 (52.0100%)
___Train Local_ResNet_18,  epoch 175, local model 78, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4138/4368 (94.7344%)
___Train Local_ResNet_18,  epoch 175, local model 78, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4051/4368 (92.7427%)
___Test Local_ResNet_18 poisoned: False, epoch: 175: Average loss: 2.0244, Accuracy: 5572/10000 (55.7200%)
___Train Local_ResNet_18,  epoch 175, local model 41, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4467/4714 (94.7603%)
___Train Local_ResNet_18,  epoch 175, local model 41, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4390/4714 (93.1269%)
___Test Local_ResNet_18 poisoned: False, epoch: 175: Average loss: 2.1271, Accuracy: 5411/10000 (54.1100%)
___Train Local_ResNet_18,  epoch 175, local model 19, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4891/5361 (91.2330%)
___Train Local_ResNet_18,  epoch 175, local model 19, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4894/5361 (91.2889%)
___Test Local_ResNet_18 poisoned: False, epoch: 175: Average loss: 1.9958, Accuracy: 5556/10000 (55.5600%)
___Train Local_ResNet_18,  epoch 175, local model 61, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4172/4485 (93.0212%)
___Train Local_ResNet_18,  epoch 175, local model 61, internal_epoch   2,  Average loss: 0.0081, Accuracy: 3774/4485 (84.1472%)
___Test Local_ResNet_18 poisoned: False, epoch: 175: Average loss: 2.4592, Accuracy: 4948/10000 (49.4800%)
___Train Local_ResNet_18,  epoch 175, local model 52, internal_epoch   1,  Average loss: 0.0031, Accuracy: 3912/4130 (94.7215%)
___Train Local_ResNet_18,  epoch 175, local model 52, internal_epoch   2,  Average loss: 0.0036, Accuracy: 3862/4130 (93.5109%)
___Test Local_ResNet_18 poisoned: False, epoch: 175: Average loss: 1.9286, Accuracy: 5738/10000 (57.3800%)
___Train Local_ResNet_18,  epoch 175, local model 59, internal_epoch   1,  Average loss: 0.0026, Accuracy: 4170/4397 (94.8374%)
___Train Local_ResNet_18,  epoch 175, local model 59, internal_epoch   2,  Average loss: 0.0025, Accuracy: 4203/4397 (95.5879%)
___Test Local_ResNet_18 poisoned: False, epoch: 175: Average loss: 1.9151, Accuracy: 5687/10000 (56.8700%)
___Train Local_ResNet_18,  epoch 175, local model 2, internal_epoch   1,  Average loss: 0.0029, Accuracy: 3752/3968 (94.5565%)
___Train Local_ResNet_18,  epoch 175, local model 2, internal_epoch   2,  Average loss: 0.0030, Accuracy: 3747/3968 (94.4304%)
___Test Local_ResNet_18 poisoned: False, epoch: 175: Average loss: 1.8338, Accuracy: 5816/10000 (58.1600%)
___Train Local_ResNet_18,  epoch 175, local model 73, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4374/4605 (94.9837%)
___Train Local_ResNet_18,  epoch 175, local model 73, internal_epoch   2,  Average loss: 0.0032, Accuracy: 4319/4605 (93.7894%)
___Test Local_ResNet_18 poisoned: False, epoch: 175: Average loss: 1.8896, Accuracy: 5721/10000 (57.2100%)
time spent on training: 253.2051739692688
___Test Target_ResNet_18 poisoned: False, epoch: 175: Average loss: 1.4289, Accuracy: 6448/10000 (64.4800%)
___Test Target_ResNet_18 poisoned: True, epoch: 175: Average loss: 0.0316, Accuracy: 9812/9900 (99.1111%)
Done in 279.5748951435089 sec.
Server Epoch:176 choose agents : [13, 36, 58, 71, 19, 85, 76, 57, 46, 62, 22, 25, 89, 95, 48, 51, 45, 96, 41, 17].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 176, local model 13, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5202/5308 (98.0030%), train_poison_data_count: 415
Global model norm: 44.58001304930902.
Norm before scaling: 44.53739677971831. Distance: 1.1807278725519255
___Test Local_ResNet_18 poisoned: True, epoch: 176: Average loss: 0.0462, Accuracy: 9786/9900 (98.8485%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 176, local model 36, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5663/5777 (98.0267%), train_poison_data_count: 455
Global model norm: 44.58001304930902.
Norm before scaling: 44.530797695071385. Distance: 1.1940337677658297
___Test Local_ResNet_18 poisoned: True, epoch: 176: Average loss: 0.0261, Accuracy: 9825/9900 (99.2424%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 176, local model 58, internal_epoch   1,  Average loss: 0.0022, Accuracy: 5012/5123 (97.8333%), train_poison_data_count: 403
Global model norm: 44.58001304930902.
Norm before scaling: 44.53673074825079. Distance: 1.1645766793176386
___Test Local_ResNet_18 poisoned: True, epoch: 176: Average loss: 0.0767, Accuracy: 9695/9900 (97.9293%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 176, local model 71, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5392/5503 (97.9829%), train_poison_data_count: 430
Global model norm: 44.58001304930902.
Norm before scaling: 44.5349285761328. Distance: 1.2076196810249153
___Test Local_ResNet_18 poisoned: True, epoch: 176: Average loss: 0.0480, Accuracy: 9769/9900 (98.6768%)
___Train Local_ResNet_18,  epoch 176, local model 19, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4916/5361 (91.6993%)
___Train Local_ResNet_18,  epoch 176, local model 19, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4852/5361 (90.5055%)
___Test Local_ResNet_18 poisoned: False, epoch: 176: Average loss: 2.1076, Accuracy: 5391/10000 (53.9100%)
___Train Local_ResNet_18,  epoch 176, local model 85, internal_epoch   1,  Average loss: 0.0046, Accuracy: 6326/6947 (91.0609%)
___Train Local_ResNet_18,  epoch 176, local model 85, internal_epoch   2,  Average loss: 0.0064, Accuracy: 6057/6947 (87.1887%)
___Test Local_ResNet_18 poisoned: False, epoch: 176: Average loss: 2.4005, Accuracy: 5028/10000 (50.2800%)
___Train Local_ResNet_18,  epoch 176, local model 76, internal_epoch   1,  Average loss: 0.0041, Accuracy: 3644/3959 (92.0434%)
___Train Local_ResNet_18,  epoch 176, local model 76, internal_epoch   2,  Average loss: 0.0040, Accuracy: 3637/3959 (91.8666%)
___Test Local_ResNet_18 poisoned: False, epoch: 176: Average loss: 2.0753, Accuracy: 5453/10000 (54.5300%)
___Train Local_ResNet_18,  epoch 176, local model 57, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4630/4956 (93.4221%)
___Train Local_ResNet_18,  epoch 176, local model 57, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4568/4956 (92.1711%)
___Test Local_ResNet_18 poisoned: False, epoch: 176: Average loss: 2.2398, Accuracy: 5343/10000 (53.4300%)
___Train Local_ResNet_18,  epoch 176, local model 46, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4862/5399 (90.0537%)
___Train Local_ResNet_18,  epoch 176, local model 46, internal_epoch   2,  Average loss: 0.0062, Accuracy: 4747/5399 (87.9237%)
___Test Local_ResNet_18 poisoned: False, epoch: 176: Average loss: 2.2890, Accuracy: 5160/10000 (51.6000%)
___Train Local_ResNet_18,  epoch 176, local model 62, internal_epoch   1,  Average loss: 0.0053, Accuracy: 4931/5504 (89.5894%)
___Train Local_ResNet_18,  epoch 176, local model 62, internal_epoch   2,  Average loss: 0.0064, Accuracy: 4793/5504 (87.0821%)
___Test Local_ResNet_18 poisoned: False, epoch: 176: Average loss: 2.3843, Accuracy: 4983/10000 (49.8300%)
___Train Local_ResNet_18,  epoch 176, local model 22, internal_epoch   1,  Average loss: 0.0034, Accuracy: 5336/5696 (93.6798%)
___Train Local_ResNet_18,  epoch 176, local model 22, internal_epoch   2,  Average loss: 0.0049, Accuracy: 5137/5696 (90.1861%)
___Test Local_ResNet_18 poisoned: False, epoch: 176: Average loss: 2.2567, Accuracy: 5166/10000 (51.6600%)
___Train Local_ResNet_18,  epoch 176, local model 25, internal_epoch   1,  Average loss: 0.0047, Accuracy: 5815/6419 (90.5904%)
___Train Local_ResNet_18,  epoch 176, local model 25, internal_epoch   2,  Average loss: 0.0067, Accuracy: 5532/6419 (86.1816%)
___Test Local_ResNet_18 poisoned: False, epoch: 176: Average loss: 2.2372, Accuracy: 5295/10000 (52.9500%)
___Train Local_ResNet_18,  epoch 176, local model 89, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4430/4737 (93.5191%)
___Train Local_ResNet_18,  epoch 176, local model 89, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4289/4737 (90.5425%)
___Test Local_ResNet_18 poisoned: False, epoch: 176: Average loss: 2.1709, Accuracy: 5333/10000 (53.3300%)
___Train Local_ResNet_18,  epoch 176, local model 95, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4606/5018 (91.7896%)
___Train Local_ResNet_18,  epoch 176, local model 95, internal_epoch   2,  Average loss: 0.0060, Accuracy: 4441/5018 (88.5014%)
___Test Local_ResNet_18 poisoned: False, epoch: 176: Average loss: 2.4924, Accuracy: 5024/10000 (50.2400%)
___Train Local_ResNet_18,  epoch 176, local model 48, internal_epoch   1,  Average loss: 0.0026, Accuracy: 4603/4830 (95.3002%)
___Train Local_ResNet_18,  epoch 176, local model 48, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4494/4830 (93.0435%)
___Test Local_ResNet_18 poisoned: False, epoch: 176: Average loss: 2.0201, Accuracy: 5588/10000 (55.8800%)
___Train Local_ResNet_18,  epoch 176, local model 51, internal_epoch   1,  Average loss: 0.0029, Accuracy: 3908/4108 (95.1315%)
___Train Local_ResNet_18,  epoch 176, local model 51, internal_epoch   2,  Average loss: 0.0038, Accuracy: 3821/4108 (93.0136%)
___Test Local_ResNet_18 poisoned: False, epoch: 176: Average loss: 1.9707, Accuracy: 5617/10000 (56.1700%)
___Train Local_ResNet_18,  epoch 176, local model 45, internal_epoch   1,  Average loss: 0.0045, Accuracy: 5001/5489 (91.1095%)
___Train Local_ResNet_18,  epoch 176, local model 45, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4998/5489 (91.0548%)
___Test Local_ResNet_18 poisoned: False, epoch: 176: Average loss: 2.1700, Accuracy: 5357/10000 (53.5700%)
___Train Local_ResNet_18,  epoch 176, local model 96, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4783/5086 (94.0425%)
___Train Local_ResNet_18,  epoch 176, local model 96, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4744/5086 (93.2757%)
___Test Local_ResNet_18 poisoned: False, epoch: 176: Average loss: 2.0685, Accuracy: 5412/10000 (54.1200%)
___Train Local_ResNet_18,  epoch 176, local model 41, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4448/4714 (94.3572%)
___Train Local_ResNet_18,  epoch 176, local model 41, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4383/4714 (92.9784%)
___Test Local_ResNet_18 poisoned: False, epoch: 176: Average loss: 2.1390, Accuracy: 5400/10000 (54.0000%)
___Train Local_ResNet_18,  epoch 176, local model 17, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4491/4903 (91.5970%)
___Train Local_ResNet_18,  epoch 176, local model 17, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4429/4903 (90.3324%)
___Test Local_ResNet_18 poisoned: False, epoch: 176: Average loss: 2.3034, Accuracy: 5125/10000 (51.2500%)
time spent on training: 261.13690853118896
___Test Target_ResNet_18 poisoned: False, epoch: 176: Average loss: 1.4446, Accuracy: 6442/10000 (64.4200%)
___Test Target_ResNet_18 poisoned: True, epoch: 176: Average loss: 0.0298, Accuracy: 9815/9900 (99.1414%)
Done in 287.3922529220581 sec.
Server Epoch:177 choose agents : [13, 36, 58, 71, 2, 27, 99, 74, 8, 3, 67, 72, 7, 24, 17, 10, 20, 59, 16, 33].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 177, local model 13, internal_epoch   1,  Average loss: 0.0012, Accuracy: 5221/5308 (98.3610%), train_poison_data_count: 415
Global model norm: 44.5992764401439.
Norm before scaling: 44.55311688994806. Distance: 1.1005729396969843
___Test Local_ResNet_18 poisoned: True, epoch: 177: Average loss: 0.0343, Accuracy: 9810/9900 (99.0909%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 177, local model 36, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5676/5777 (98.2517%), train_poison_data_count: 455
Global model norm: 44.5992764401439.
Norm before scaling: 44.54755869126346. Distance: 1.1721336079399676
___Test Local_ResNet_18 poisoned: True, epoch: 177: Average loss: 0.0378, Accuracy: 9802/9900 (99.0101%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 177, local model 58, internal_epoch   1,  Average loss: 0.0024, Accuracy: 5007/5123 (97.7357%), train_poison_data_count: 403
Global model norm: 44.5992764401439.
Norm before scaling: 44.556711470993626. Distance: 1.1925197713240563
___Test Local_ResNet_18 poisoned: True, epoch: 177: Average loss: 0.0797, Accuracy: 9707/9900 (98.0505%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 177, local model 71, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5402/5503 (98.1646%), train_poison_data_count: 430
Global model norm: 44.5992764401439.
Norm before scaling: 44.55483339336976. Distance: 1.2011816505096375
___Test Local_ResNet_18 poisoned: True, epoch: 177: Average loss: 0.0374, Accuracy: 9808/9900 (99.0707%)
___Train Local_ResNet_18,  epoch 177, local model 2, internal_epoch   1,  Average loss: 0.0028, Accuracy: 3756/3968 (94.6573%)
___Train Local_ResNet_18,  epoch 177, local model 2, internal_epoch   2,  Average loss: 0.0029, Accuracy: 3739/3968 (94.2288%)
___Test Local_ResNet_18 poisoned: False, epoch: 177: Average loss: 1.9019, Accuracy: 5729/10000 (57.2900%)
___Train Local_ResNet_18,  epoch 177, local model 27, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4310/4587 (93.9612%)
___Train Local_ResNet_18,  epoch 177, local model 27, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4209/4587 (91.7593%)
___Test Local_ResNet_18 poisoned: False, epoch: 177: Average loss: 2.2034, Accuracy: 5296/10000 (52.9600%)
___Train Local_ResNet_18,  epoch 177, local model 99, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4429/4851 (91.3008%)
___Train Local_ResNet_18,  epoch 177, local model 99, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4349/4851 (89.6516%)
___Test Local_ResNet_18 poisoned: False, epoch: 177: Average loss: 2.1397, Accuracy: 5435/10000 (54.3500%)
___Train Local_ResNet_18,  epoch 177, local model 74, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4495/4797 (93.7044%)
___Train Local_ResNet_18,  epoch 177, local model 74, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4361/4797 (90.9110%)
___Test Local_ResNet_18 poisoned: False, epoch: 177: Average loss: 2.0040, Accuracy: 5509/10000 (55.0900%)
___Train Local_ResNet_18,  epoch 177, local model 8, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4590/4889 (93.8842%)
___Train Local_ResNet_18,  epoch 177, local model 8, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4418/4889 (90.3661%)
___Test Local_ResNet_18 poisoned: False, epoch: 177: Average loss: 2.2036, Accuracy: 5451/10000 (54.5100%)
___Train Local_ResNet_18,  epoch 177, local model 3, internal_epoch   1,  Average loss: 0.0029, Accuracy: 5069/5346 (94.8186%)
___Train Local_ResNet_18,  epoch 177, local model 3, internal_epoch   2,  Average loss: 0.0034, Accuracy: 5001/5346 (93.5466%)
___Test Local_ResNet_18 poisoned: False, epoch: 177: Average loss: 2.1971, Accuracy: 5293/10000 (52.9300%)
___Train Local_ResNet_18,  epoch 177, local model 67, internal_epoch   1,  Average loss: 0.0040, Accuracy: 5146/5559 (92.5706%)
___Train Local_ResNet_18,  epoch 177, local model 67, internal_epoch   2,  Average loss: 0.0054, Accuracy: 4947/5559 (88.9908%)
___Test Local_ResNet_18 poisoned: False, epoch: 177: Average loss: 2.3095, Accuracy: 5048/10000 (50.4800%)
___Train Local_ResNet_18,  epoch 177, local model 72, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4732/5193 (91.1227%)
___Train Local_ResNet_18,  epoch 177, local model 72, internal_epoch   2,  Average loss: 0.0063, Accuracy: 4542/5193 (87.4639%)
___Test Local_ResNet_18 poisoned: False, epoch: 177: Average loss: 2.3951, Accuracy: 5017/10000 (50.1700%)
___Train Local_ResNet_18,  epoch 177, local model 7, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4510/4869 (92.6268%)
___Train Local_ResNet_18,  epoch 177, local model 7, internal_epoch   2,  Average loss: 0.0065, Accuracy: 4264/4869 (87.5745%)
___Test Local_ResNet_18 poisoned: False, epoch: 177: Average loss: 2.2636, Accuracy: 5066/10000 (50.6600%)
___Train Local_ResNet_18,  epoch 177, local model 24, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4060/4313 (94.1340%)
___Train Local_ResNet_18,  epoch 177, local model 24, internal_epoch   2,  Average loss: 0.0033, Accuracy: 4036/4313 (93.5776%)
___Test Local_ResNet_18 poisoned: False, epoch: 177: Average loss: 1.8832, Accuracy: 5842/10000 (58.4200%)
___Train Local_ResNet_18,  epoch 177, local model 17, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4529/4903 (92.3720%)
___Train Local_ResNet_18,  epoch 177, local model 17, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4463/4903 (91.0259%)
___Test Local_ResNet_18 poisoned: False, epoch: 177: Average loss: 2.2430, Accuracy: 5159/10000 (51.5900%)
___Train Local_ResNet_18,  epoch 177, local model 10, internal_epoch   1,  Average loss: 0.0025, Accuracy: 4853/5068 (95.7577%)
___Train Local_ResNet_18,  epoch 177, local model 10, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4689/5068 (92.5217%)
___Test Local_ResNet_18 poisoned: False, epoch: 177: Average loss: 2.1830, Accuracy: 5334/10000 (53.3400%)
___Train Local_ResNet_18,  epoch 177, local model 20, internal_epoch   1,  Average loss: 0.0025, Accuracy: 4504/4714 (95.5452%)
___Train Local_ResNet_18,  epoch 177, local model 20, internal_epoch   2,  Average loss: 0.0029, Accuracy: 4461/4714 (94.6330%)
___Test Local_ResNet_18 poisoned: False, epoch: 177: Average loss: 1.8687, Accuracy: 5723/10000 (57.2300%)
___Train Local_ResNet_18,  epoch 177, local model 59, internal_epoch   1,  Average loss: 0.0023, Accuracy: 4223/4397 (96.0428%)
___Train Local_ResNet_18,  epoch 177, local model 59, internal_epoch   2,  Average loss: 0.0022, Accuracy: 4223/4397 (96.0428%)
___Test Local_ResNet_18 poisoned: False, epoch: 177: Average loss: 1.7256, Accuracy: 6046/10000 (60.4600%)
___Train Local_ResNet_18,  epoch 177, local model 16, internal_epoch   1,  Average loss: 0.0033, Accuracy: 5034/5353 (94.0407%)
___Train Local_ResNet_18,  epoch 177, local model 16, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4846/5353 (90.5287%)
___Test Local_ResNet_18 poisoned: False, epoch: 177: Average loss: 2.1936, Accuracy: 5179/10000 (51.7900%)
___Train Local_ResNet_18,  epoch 177, local model 33, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4521/4818 (93.8356%)
___Train Local_ResNet_18,  epoch 177, local model 33, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4335/4818 (89.9751%)
___Test Local_ResNet_18 poisoned: False, epoch: 177: Average loss: 2.2617, Accuracy: 5139/10000 (51.3900%)
time spent on training: 246.8826630115509
___Test Target_ResNet_18 poisoned: False, epoch: 177: Average loss: 1.4511, Accuracy: 6434/10000 (64.3400%)
___Test Target_ResNet_18 poisoned: True, epoch: 177: Average loss: 0.0282, Accuracy: 9824/9900 (99.2323%)
Done in 273.4746527671814 sec.
Server Epoch:178 choose agents : [13, 36, 58, 71, 44, 6, 40, 60, 96, 93, 0, 47, 5, 94, 78, 63, 23, 45, 26, 72].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 178, local model 13, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5220/5308 (98.3421%), train_poison_data_count: 415
Global model norm: 44.61670939049559.
Norm before scaling: 44.572068737309436. Distance: 1.1243902779389896
___Test Local_ResNet_18 poisoned: True, epoch: 178: Average loss: 0.0815, Accuracy: 9672/9900 (97.6970%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 178, local model 36, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5676/5777 (98.2517%), train_poison_data_count: 455
Global model norm: 44.61670939049559.
Norm before scaling: 44.56700593015112. Distance: 1.1994790655156218
___Test Local_ResNet_18 poisoned: True, epoch: 178: Average loss: 0.0337, Accuracy: 9813/9900 (99.1212%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 178, local model 58, internal_epoch   1,  Average loss: 0.0024, Accuracy: 5010/5123 (97.7943%), train_poison_data_count: 403
Global model norm: 44.61670939049559.
Norm before scaling: 44.574339076441305. Distance: 1.2057268816910494
___Test Local_ResNet_18 poisoned: True, epoch: 178: Average loss: 0.0288, Accuracy: 9824/9900 (99.2323%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 178, local model 71, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5394/5503 (98.0193%), train_poison_data_count: 430
Global model norm: 44.61670939049559.
Norm before scaling: 44.57223990683551. Distance: 1.1999384804691886
___Test Local_ResNet_18 poisoned: True, epoch: 178: Average loss: 0.0354, Accuracy: 9813/9900 (99.1212%)
___Train Local_ResNet_18,  epoch 178, local model 44, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4789/5075 (94.3645%)
___Train Local_ResNet_18,  epoch 178, local model 44, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4758/5075 (93.7537%)
___Test Local_ResNet_18 poisoned: False, epoch: 178: Average loss: 2.1967, Accuracy: 5411/10000 (54.1100%)
___Train Local_ResNet_18,  epoch 178, local model 6, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4624/4929 (93.8121%)
___Train Local_ResNet_18,  epoch 178, local model 6, internal_epoch   2,  Average loss: 0.0057, Accuracy: 4476/4929 (90.8095%)
___Test Local_ResNet_18 poisoned: False, epoch: 178: Average loss: 2.2821, Accuracy: 5155/10000 (51.5500%)
___Train Local_ResNet_18,  epoch 178, local model 40, internal_epoch   1,  Average loss: 0.0032, Accuracy: 5580/5939 (93.9552%)
___Train Local_ResNet_18,  epoch 178, local model 40, internal_epoch   2,  Average loss: 0.0039, Accuracy: 5486/5939 (92.3725%)
___Test Local_ResNet_18 poisoned: False, epoch: 178: Average loss: 2.1290, Accuracy: 5365/10000 (53.6500%)
___Train Local_ResNet_18,  epoch 178, local model 60, internal_epoch   1,  Average loss: 0.0034, Accuracy: 3875/4145 (93.4861%)
___Train Local_ResNet_18,  epoch 178, local model 60, internal_epoch   2,  Average loss: 0.0036, Accuracy: 3851/4145 (92.9071%)
___Test Local_ResNet_18 poisoned: False, epoch: 178: Average loss: 2.1046, Accuracy: 5551/10000 (55.5100%)
___Train Local_ResNet_18,  epoch 178, local model 96, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4770/5086 (93.7869%)
___Train Local_ResNet_18,  epoch 178, local model 96, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4691/5086 (92.2336%)
___Test Local_ResNet_18 poisoned: False, epoch: 178: Average loss: 2.2804, Accuracy: 5178/10000 (51.7800%)
___Train Local_ResNet_18,  epoch 178, local model 93, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4722/5055 (93.4125%)
___Train Local_ResNet_18,  epoch 178, local model 93, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4639/5055 (91.7705%)
___Test Local_ResNet_18 poisoned: False, epoch: 178: Average loss: 2.0382, Accuracy: 5509/10000 (55.0900%)
___Train Local_ResNet_18,  epoch 178, local model 0, internal_epoch   1,  Average loss: 0.0040, Accuracy: 5052/5454 (92.6293%)
___Train Local_ResNet_18,  epoch 178, local model 0, internal_epoch   2,  Average loss: 0.0061, Accuracy: 4828/5454 (88.5222%)
___Test Local_ResNet_18 poisoned: False, epoch: 178: Average loss: 2.2093, Accuracy: 5320/10000 (53.2000%)
___Train Local_ResNet_18,  epoch 178, local model 47, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4759/5123 (92.8948%)
___Train Local_ResNet_18,  epoch 178, local model 47, internal_epoch   2,  Average loss: 0.0120, Accuracy: 4018/5123 (78.4306%)
___Test Local_ResNet_18 poisoned: False, epoch: 178: Average loss: 2.3417, Accuracy: 4909/10000 (49.0900%)
___Train Local_ResNet_18,  epoch 178, local model 5, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4713/4993 (94.3921%)
___Train Local_ResNet_18,  epoch 178, local model 5, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4607/4993 (92.2692%)
___Test Local_ResNet_18 poisoned: False, epoch: 178: Average loss: 2.0947, Accuracy: 5513/10000 (55.1300%)
___Train Local_ResNet_18,  epoch 178, local model 94, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4826/5224 (92.3813%)
___Train Local_ResNet_18,  epoch 178, local model 94, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4776/5224 (91.4242%)
___Test Local_ResNet_18 poisoned: False, epoch: 178: Average loss: 2.0444, Accuracy: 5479/10000 (54.7900%)
___Train Local_ResNet_18,  epoch 178, local model 78, internal_epoch   1,  Average loss: 0.0026, Accuracy: 4154/4368 (95.1007%)
___Train Local_ResNet_18,  epoch 178, local model 78, internal_epoch   2,  Average loss: 0.0028, Accuracy: 4144/4368 (94.8718%)
___Test Local_ResNet_18 poisoned: False, epoch: 178: Average loss: 1.8830, Accuracy: 5800/10000 (58.0000%)
___Train Local_ResNet_18,  epoch 178, local model 63, internal_epoch   1,  Average loss: 0.0029, Accuracy: 3726/3910 (95.2941%)
___Train Local_ResNet_18,  epoch 178, local model 63, internal_epoch   2,  Average loss: 0.0039, Accuracy: 3606/3910 (92.2251%)
___Test Local_ResNet_18 poisoned: False, epoch: 178: Average loss: 2.1346, Accuracy: 5557/10000 (55.5700%)
___Train Local_ResNet_18,  epoch 178, local model 23, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4354/4549 (95.7133%)
___Train Local_ResNet_18,  epoch 178, local model 23, internal_epoch   2,  Average loss: 0.0058, Accuracy: 4080/4549 (89.6900%)
___Test Local_ResNet_18 poisoned: False, epoch: 178: Average loss: 2.2992, Accuracy: 5103/10000 (51.0300%)
___Train Local_ResNet_18,  epoch 178, local model 45, internal_epoch   1,  Average loss: 0.0045, Accuracy: 5004/5489 (91.1641%)
___Train Local_ResNet_18,  epoch 178, local model 45, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4980/5489 (90.7269%)
___Test Local_ResNet_18 poisoned: False, epoch: 178: Average loss: 2.1371, Accuracy: 5282/10000 (52.8200%)
___Train Local_ResNet_18,  epoch 178, local model 26, internal_epoch   1,  Average loss: 0.0028, Accuracy: 3868/4086 (94.6647%)
___Train Local_ResNet_18,  epoch 178, local model 26, internal_epoch   2,  Average loss: 0.0033, Accuracy: 3836/4086 (93.8815%)
___Test Local_ResNet_18 poisoned: False, epoch: 178: Average loss: 2.0353, Accuracy: 5502/10000 (55.0200%)
___Train Local_ResNet_18,  epoch 178, local model 72, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4787/5193 (92.1818%)
___Train Local_ResNet_18,  epoch 178, local model 72, internal_epoch   2,  Average loss: 0.0056, Accuracy: 4606/5193 (88.6963%)
___Test Local_ResNet_18 poisoned: False, epoch: 178: Average loss: 2.3754, Accuracy: 5079/10000 (50.7900%)
time spent on training: 253.26971793174744
___Test Target_ResNet_18 poisoned: False, epoch: 178: Average loss: 1.4634, Accuracy: 6420/10000 (64.2000%)
___Test Target_ResNet_18 poisoned: True, epoch: 178: Average loss: 0.0267, Accuracy: 9827/9900 (99.2626%)
Done in 279.9864103794098 sec.
Server Epoch:179 choose agents : [13, 36, 58, 71, 27, 56, 90, 39, 16, 69, 88, 23, 98, 84, 48, 3, 35, 81, 55, 11].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 179, local model 13, internal_epoch   1,  Average loss: 0.0012, Accuracy: 5233/5308 (98.5870%), train_poison_data_count: 415
Global model norm: 44.63511188392637.
Norm before scaling: 44.58901817703758. Distance: 1.0914600378174764
___Test Local_ResNet_18 poisoned: True, epoch: 179: Average loss: 0.0583, Accuracy: 9751/9900 (98.4949%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 179, local model 36, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5670/5777 (98.1478%), train_poison_data_count: 455
Global model norm: 44.63511188392637.
Norm before scaling: 44.58511818613779. Distance: 1.175678033195329
___Test Local_ResNet_18 poisoned: True, epoch: 179: Average loss: 0.0246, Accuracy: 9845/9900 (99.4444%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 179, local model 58, internal_epoch   1,  Average loss: 0.0024, Accuracy: 5009/5123 (97.7747%), train_poison_data_count: 403
Global model norm: 44.63511188392637.
Norm before scaling: 44.59253184653653. Distance: 1.1859224280805636
___Test Local_ResNet_18 poisoned: True, epoch: 179: Average loss: 0.0734, Accuracy: 9711/9900 (98.0909%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 179, local model 71, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5401/5503 (98.1465%), train_poison_data_count: 430
Global model norm: 44.63511188392637.
Norm before scaling: 44.59033908644057. Distance: 1.2305122004512143
___Test Local_ResNet_18 poisoned: True, epoch: 179: Average loss: 0.0329, Accuracy: 9823/9900 (99.2222%)
___Train Local_ResNet_18,  epoch 179, local model 27, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4327/4587 (94.3318%)
___Train Local_ResNet_18,  epoch 179, local model 27, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4256/4587 (92.7840%)
___Test Local_ResNet_18 poisoned: False, epoch: 179: Average loss: 2.0032, Accuracy: 5662/10000 (56.6200%)
___Train Local_ResNet_18,  epoch 179, local model 56, internal_epoch   1,  Average loss: 0.0038, Accuracy: 5031/5427 (92.7032%)
___Train Local_ResNet_18,  epoch 179, local model 56, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4849/5427 (89.3495%)
___Test Local_ResNet_18 poisoned: False, epoch: 179: Average loss: 2.1088, Accuracy: 5467/10000 (54.6700%)
___Train Local_ResNet_18,  epoch 179, local model 90, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4510/4748 (94.9874%)
___Train Local_ResNet_18,  epoch 179, local model 90, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4325/4748 (91.0910%)
___Test Local_ResNet_18 poisoned: False, epoch: 179: Average loss: 2.0367, Accuracy: 5489/10000 (54.8900%)
___Train Local_ResNet_18,  epoch 179, local model 39, internal_epoch   1,  Average loss: 0.0033, Accuracy: 3921/4175 (93.9162%)
___Train Local_ResNet_18,  epoch 179, local model 39, internal_epoch   2,  Average loss: 0.0047, Accuracy: 3794/4175 (90.8743%)
___Test Local_ResNet_18 poisoned: False, epoch: 179: Average loss: 2.1548, Accuracy: 5362/10000 (53.6200%)
___Train Local_ResNet_18,  epoch 179, local model 16, internal_epoch   1,  Average loss: 0.0030, Accuracy: 5056/5353 (94.4517%)
___Train Local_ResNet_18,  epoch 179, local model 16, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4841/5353 (90.4353%)
___Test Local_ResNet_18 poisoned: False, epoch: 179: Average loss: 2.2330, Accuracy: 5218/10000 (52.1800%)
___Train Local_ResNet_18,  epoch 179, local model 69, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4079/4364 (93.4693%)
___Train Local_ResNet_18,  epoch 179, local model 69, internal_epoch   2,  Average loss: 0.0055, Accuracy: 3887/4364 (89.0697%)
___Test Local_ResNet_18 poisoned: False, epoch: 179: Average loss: 2.2793, Accuracy: 5210/10000 (52.1000%)
___Train Local_ResNet_18,  epoch 179, local model 88, internal_epoch   1,  Average loss: 0.0034, Accuracy: 5012/5362 (93.4726%)
___Train Local_ResNet_18,  epoch 179, local model 88, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4918/5362 (91.7195%)
___Test Local_ResNet_18 poisoned: False, epoch: 179: Average loss: 2.3552, Accuracy: 5049/10000 (50.4900%)
___Train Local_ResNet_18,  epoch 179, local model 23, internal_epoch   1,  Average loss: 0.0028, Accuracy: 4347/4549 (95.5595%)
___Train Local_ResNet_18,  epoch 179, local model 23, internal_epoch   2,  Average loss: 0.0080, Accuracy: 3858/4549 (84.8098%)
___Test Local_ResNet_18 poisoned: False, epoch: 179: Average loss: 2.3390, Accuracy: 5109/10000 (51.0900%)
___Train Local_ResNet_18,  epoch 179, local model 98, internal_epoch   1,  Average loss: 0.0036, Accuracy: 3955/4161 (95.0493%)
___Train Local_ResNet_18,  epoch 179, local model 98, internal_epoch   2,  Average loss: 0.0044, Accuracy: 3861/4161 (92.7902%)
___Test Local_ResNet_18 poisoned: False, epoch: 179: Average loss: 2.0142, Accuracy: 5669/10000 (56.6900%)
___Train Local_ResNet_18,  epoch 179, local model 84, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4792/5209 (91.9946%)
___Train Local_ResNet_18,  epoch 179, local model 84, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4740/5209 (90.9964%)
___Test Local_ResNet_18 poisoned: False, epoch: 179: Average loss: 2.0667, Accuracy: 5588/10000 (55.8800%)
___Train Local_ResNet_18,  epoch 179, local model 48, internal_epoch   1,  Average loss: 0.0026, Accuracy: 4589/4830 (95.0104%)
___Train Local_ResNet_18,  epoch 179, local model 48, internal_epoch   2,  Average loss: 0.0030, Accuracy: 4541/4830 (94.0166%)
___Test Local_ResNet_18 poisoned: False, epoch: 179: Average loss: 2.1074, Accuracy: 5564/10000 (55.6400%)
___Train Local_ResNet_18,  epoch 179, local model 3, internal_epoch   1,  Average loss: 0.0028, Accuracy: 5085/5346 (95.1178%)
___Train Local_ResNet_18,  epoch 179, local model 3, internal_epoch   2,  Average loss: 0.0031, Accuracy: 5054/5346 (94.5380%)
___Test Local_ResNet_18 poisoned: False, epoch: 179: Average loss: 2.1035, Accuracy: 5444/10000 (54.4400%)
___Train Local_ResNet_18,  epoch 179, local model 35, internal_epoch   1,  Average loss: 0.0033, Accuracy: 5275/5615 (93.9448%)
___Train Local_ResNet_18,  epoch 179, local model 35, internal_epoch   2,  Average loss: 0.0037, Accuracy: 5209/5615 (92.7694%)
___Test Local_ResNet_18 poisoned: False, epoch: 179: Average loss: 1.9922, Accuracy: 5531/10000 (55.3100%)
___Train Local_ResNet_18,  epoch 179, local model 81, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4772/5035 (94.7766%)
___Train Local_ResNet_18,  epoch 179, local model 81, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4628/5035 (91.9166%)
___Test Local_ResNet_18 poisoned: False, epoch: 179: Average loss: 1.9890, Accuracy: 5550/10000 (55.5000%)
___Train Local_ResNet_18,  epoch 179, local model 55, internal_epoch   1,  Average loss: 0.0026, Accuracy: 4530/4731 (95.7514%)
___Train Local_ResNet_18,  epoch 179, local model 55, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4402/4731 (93.0459%)
___Test Local_ResNet_18 poisoned: False, epoch: 179: Average loss: 1.9933, Accuracy: 5599/10000 (55.9900%)
___Train Local_ResNet_18,  epoch 179, local model 11, internal_epoch   1,  Average loss: 0.0057, Accuracy: 5082/5702 (89.1266%)
___Train Local_ResNet_18,  epoch 179, local model 11, internal_epoch   2,  Average loss: 0.0128, Accuracy: 4336/5702 (76.0435%)
___Test Local_ResNet_18 poisoned: False, epoch: 179: Average loss: 2.4159, Accuracy: 4833/10000 (48.3300%)
time spent on training: 253.83325028419495
___Test Target_ResNet_18 poisoned: False, epoch: 179: Average loss: 1.4695, Accuracy: 6406/10000 (64.0600%)
___Test Target_ResNet_18 poisoned: True, epoch: 179: Average loss: 0.0251, Accuracy: 9833/9900 (99.3232%)
Done in 280.24070954322815 sec.
Server Epoch:180 choose agents : [13, 36, 58, 71, 97, 21, 14, 37, 95, 9, 28, 17, 73, 23, 0, 68, 19, 50, 55, 38].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Significant loss increase detected for 13 at epoch 180: Current loss: 0.1453, Previous loss: 0.0852, Loss jump: 0.0601, Applied weight: 1.4975
Significant loss increase detected for 13 at epoch 180: Current loss: 0.0760, Previous loss: 0.0473, Loss jump: 0.0286, Applied weight: 1.3662
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 180, local model 13, internal_epoch   1,  Average loss: 0.0012, Accuracy: 5238/5308 (98.6812%), train_poison_data_count: 415
Global model norm: 44.65385534167235.
Norm before scaling: 44.606441453456306. Distance: 1.050689012527852
___Test Local_ResNet_18 poisoned: True, epoch: 180: Average loss: 0.0291, Accuracy: 9821/9900 (99.2020%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 180, local model 36, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5672/5777 (98.1824%), train_poison_data_count: 455
Global model norm: 44.65385534167235.
Norm before scaling: 44.60508681228241. Distance: 1.2048121426195875
___Test Local_ResNet_18 poisoned: True, epoch: 180: Average loss: 0.0197, Accuracy: 9852/9900 (99.5152%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Significant loss increase detected for 58 at epoch 180: Current loss: 0.1837, Previous loss: 0.1180, Loss jump: 0.0657, Applied weight: 1.3095
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 180, local model 58, internal_epoch   1,  Average loss: 0.0022, Accuracy: 4995/5123 (97.5015%), train_poison_data_count: 403
Global model norm: 44.65385534167235.
Norm before scaling: 44.61178709547021. Distance: 1.1782026735801583
___Test Local_ResNet_18 poisoned: True, epoch: 180: Average loss: 0.0612, Accuracy: 9739/9900 (98.3737%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 180, local model 71, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5397/5503 (98.0738%), train_poison_data_count: 430
Global model norm: 44.65385534167235.
Norm before scaling: 44.60997153716728. Distance: 1.2128720489406293
___Test Local_ResNet_18 poisoned: True, epoch: 180: Average loss: 0.0408, Accuracy: 9795/9900 (98.9394%)
___Train Local_ResNet_18,  epoch 180, local model 97, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4381/4736 (92.5042%)
___Train Local_ResNet_18,  epoch 180, local model 97, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4251/4736 (89.7593%)
___Test Local_ResNet_18 poisoned: False, epoch: 180: Average loss: 2.0176, Accuracy: 5559/10000 (55.5900%)
___Train Local_ResNet_18,  epoch 180, local model 21, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4707/5038 (93.4299%)
___Train Local_ResNet_18,  epoch 180, local model 21, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4640/5038 (92.1000%)
___Test Local_ResNet_18 poisoned: False, epoch: 180: Average loss: 2.0975, Accuracy: 5559/10000 (55.5900%)
___Train Local_ResNet_18,  epoch 180, local model 14, internal_epoch   1,  Average loss: 0.0022, Accuracy: 4046/4196 (96.4252%)
___Train Local_ResNet_18,  epoch 180, local model 14, internal_epoch   2,  Average loss: 0.0023, Accuracy: 4029/4196 (96.0200%)
___Test Local_ResNet_18 poisoned: False, epoch: 180: Average loss: 1.8250, Accuracy: 5938/10000 (59.3800%)
___Train Local_ResNet_18,  epoch 180, local model 37, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4433/4741 (93.5035%)
___Train Local_ResNet_18,  epoch 180, local model 37, internal_epoch   2,  Average loss: 0.0059, Accuracy: 4217/4741 (88.9475%)
___Test Local_ResNet_18 poisoned: False, epoch: 180: Average loss: 2.6025, Accuracy: 4694/10000 (46.9400%)
___Train Local_ResNet_18,  epoch 180, local model 95, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4591/5018 (91.4906%)
___Train Local_ResNet_18,  epoch 180, local model 95, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4501/5018 (89.6971%)
___Test Local_ResNet_18 poisoned: False, epoch: 180: Average loss: 2.0745, Accuracy: 5397/10000 (53.9700%)
___Train Local_ResNet_18,  epoch 180, local model 9, internal_epoch   1,  Average loss: 0.0042, Accuracy: 5249/5727 (91.6536%)
___Train Local_ResNet_18,  epoch 180, local model 9, internal_epoch   2,  Average loss: 0.0063, Accuracy: 5012/5727 (87.5153%)
___Test Local_ResNet_18 poisoned: False, epoch: 180: Average loss: 2.2289, Accuracy: 5276/10000 (52.7600%)
___Train Local_ResNet_18,  epoch 180, local model 28, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4673/5122 (91.2339%)
___Train Local_ResNet_18,  epoch 180, local model 28, internal_epoch   2,  Average loss: 0.0108, Accuracy: 4091/5122 (79.8711%)
___Test Local_ResNet_18 poisoned: False, epoch: 180: Average loss: 2.7168, Accuracy: 4579/10000 (45.7900%)
___Train Local_ResNet_18,  epoch 180, local model 17, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4567/4903 (93.1471%)
___Train Local_ResNet_18,  epoch 180, local model 17, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4403/4903 (89.8022%)
___Test Local_ResNet_18 poisoned: False, epoch: 180: Average loss: 2.1485, Accuracy: 5323/10000 (53.2300%)
___Train Local_ResNet_18,  epoch 180, local model 73, internal_epoch   1,  Average loss: 0.0028, Accuracy: 4367/4605 (94.8317%)
___Train Local_ResNet_18,  epoch 180, local model 73, internal_epoch   2,  Average loss: 0.0030, Accuracy: 4363/4605 (94.7448%)
___Test Local_ResNet_18 poisoned: False, epoch: 180: Average loss: 2.1044, Accuracy: 5649/10000 (56.4900%)
___Train Local_ResNet_18,  epoch 180, local model 23, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4318/4549 (94.9220%)
___Train Local_ResNet_18,  epoch 180, local model 23, internal_epoch   2,  Average loss: 0.0094, Accuracy: 3763/4549 (82.7215%)
___Test Local_ResNet_18 poisoned: False, epoch: 180: Average loss: 2.4835, Accuracy: 4830/10000 (48.3000%)
___Train Local_ResNet_18,  epoch 180, local model 0, internal_epoch   1,  Average loss: 0.0036, Accuracy: 5095/5454 (93.4177%)
___Train Local_ResNet_18,  epoch 180, local model 0, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4907/5454 (89.9707%)
___Test Local_ResNet_18 poisoned: False, epoch: 180: Average loss: 2.3470, Accuracy: 5141/10000 (51.4100%)
___Train Local_ResNet_18,  epoch 180, local model 68, internal_epoch   1,  Average loss: 0.0034, Accuracy: 3383/3589 (94.2602%)
___Train Local_ResNet_18,  epoch 180, local model 68, internal_epoch   2,  Average loss: 0.0053, Accuracy: 3228/3589 (89.9415%)
___Test Local_ResNet_18 poisoned: False, epoch: 180: Average loss: 2.1207, Accuracy: 5535/10000 (55.3500%)
___Train Local_ResNet_18,  epoch 180, local model 19, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4916/5361 (91.6993%)
___Train Local_ResNet_18,  epoch 180, local model 19, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4751/5361 (88.6215%)
___Test Local_ResNet_18 poisoned: False, epoch: 180: Average loss: 2.3013, Accuracy: 5190/10000 (51.9000%)
___Train Local_ResNet_18,  epoch 180, local model 50, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4481/4757 (94.1980%)
___Train Local_ResNet_18,  epoch 180, local model 50, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4378/4757 (92.0328%)
___Test Local_ResNet_18 poisoned: False, epoch: 180: Average loss: 2.0951, Accuracy: 5408/10000 (54.0800%)
___Train Local_ResNet_18,  epoch 180, local model 55, internal_epoch   1,  Average loss: 0.0028, Accuracy: 4479/4731 (94.6734%)
___Train Local_ResNet_18,  epoch 180, local model 55, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4440/4731 (93.8491%)
___Test Local_ResNet_18 poisoned: False, epoch: 180: Average loss: 2.1533, Accuracy: 5447/10000 (54.4700%)
___Train Local_ResNet_18,  epoch 180, local model 38, internal_epoch   1,  Average loss: 0.0046, Accuracy: 5674/6235 (91.0024%)
___Train Local_ResNet_18,  epoch 180, local model 38, internal_epoch   2,  Average loss: 0.0060, Accuracy: 5480/6235 (87.8909%)
___Test Local_ResNet_18 poisoned: False, epoch: 180: Average loss: 2.3622, Accuracy: 5038/10000 (50.3800%)
time spent on training: 258.86571884155273
___Test Target_ResNet_18 poisoned: False, epoch: 180: Average loss: 1.4785, Accuracy: 6399/10000 (63.9900%)
___Test Target_ResNet_18 poisoned: True, epoch: 180: Average loss: 0.0221, Accuracy: 9841/9900 (99.4040%)
Done in 285.2490692138672 sec.
Server Epoch:181 choose agents : [13, 36, 58, 71, 89, 53, 72, 87, 21, 48, 39, 95, 70, 57, 16, 55, 17, 7, 74, 63].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 181, local model 13, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5209/5308 (98.1349%), train_poison_data_count: 415
Global model norm: 44.67351452919979.
Norm before scaling: 44.63027914327055. Distance: 1.181743774956112
___Test Local_ResNet_18 poisoned: True, epoch: 181: Average loss: 0.0239, Accuracy: 9842/9900 (99.4141%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 181, local model 36, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5682/5777 (98.3555%), train_poison_data_count: 455
Global model norm: 44.67351452919979.
Norm before scaling: 44.6232629432578. Distance: 1.1906869186360702
___Test Local_ResNet_18 poisoned: True, epoch: 181: Average loss: 0.0509, Accuracy: 9770/9900 (98.6869%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 181, local model 58, internal_epoch   1,  Average loss: 0.0024, Accuracy: 4980/5123 (97.2087%), train_poison_data_count: 403
Global model norm: 44.67351452919979.
Norm before scaling: 44.63351470325438. Distance: 1.265861206618398
___Test Local_ResNet_18 poisoned: True, epoch: 181: Average loss: 0.0634, Accuracy: 9748/9900 (98.4646%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 181, local model 71, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5389/5503 (97.9284%), train_poison_data_count: 430
Global model norm: 44.67351452919979.
Norm before scaling: 44.62932046443445. Distance: 1.2182283997040622
___Test Local_ResNet_18 poisoned: True, epoch: 181: Average loss: 0.0732, Accuracy: 9708/9900 (98.0606%)
___Train Local_ResNet_18,  epoch 181, local model 89, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4429/4737 (93.4980%)
___Train Local_ResNet_18,  epoch 181, local model 89, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4382/4737 (92.5058%)
___Test Local_ResNet_18 poisoned: False, epoch: 181: Average loss: 2.1983, Accuracy: 5373/10000 (53.7300%)
___Train Local_ResNet_18,  epoch 181, local model 53, internal_epoch   1,  Average loss: 0.0055, Accuracy: 5976/6664 (89.6759%)
___Train Local_ResNet_18,  epoch 181, local model 53, internal_epoch   2,  Average loss: 0.0079, Accuracy: 5666/6664 (85.0240%)
___Test Local_ResNet_18 poisoned: False, epoch: 181: Average loss: 2.3859, Accuracy: 4957/10000 (49.5700%)
___Train Local_ResNet_18,  epoch 181, local model 72, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4739/5193 (91.2575%)
___Train Local_ResNet_18,  epoch 181, local model 72, internal_epoch   2,  Average loss: 0.0063, Accuracy: 4551/5193 (87.6372%)
___Test Local_ResNet_18 poisoned: False, epoch: 181: Average loss: 2.3352, Accuracy: 5129/10000 (51.2900%)
___Train Local_ResNet_18,  epoch 181, local model 87, internal_epoch   1,  Average loss: 0.0040, Accuracy: 3696/3995 (92.5156%)
___Train Local_ResNet_18,  epoch 181, local model 87, internal_epoch   2,  Average loss: 0.0051, Accuracy: 3578/3995 (89.5620%)
___Test Local_ResNet_18 poisoned: False, epoch: 181: Average loss: 2.3847, Accuracy: 5064/10000 (50.6400%)
___Train Local_ResNet_18,  epoch 181, local model 21, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4705/5038 (93.3902%)
___Train Local_ResNet_18,  epoch 181, local model 21, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4661/5038 (92.5169%)
___Test Local_ResNet_18 poisoned: False, epoch: 181: Average loss: 2.0013, Accuracy: 5612/10000 (56.1200%)
___Train Local_ResNet_18,  epoch 181, local model 48, internal_epoch   1,  Average loss: 0.0025, Accuracy: 4606/4830 (95.3623%)
___Train Local_ResNet_18,  epoch 181, local model 48, internal_epoch   2,  Average loss: 0.0027, Accuracy: 4577/4830 (94.7619%)
___Test Local_ResNet_18 poisoned: False, epoch: 181: Average loss: 1.9961, Accuracy: 5711/10000 (57.1100%)
___Train Local_ResNet_18,  epoch 181, local model 39, internal_epoch   1,  Average loss: 0.0032, Accuracy: 3919/4175 (93.8683%)
___Train Local_ResNet_18,  epoch 181, local model 39, internal_epoch   2,  Average loss: 0.0042, Accuracy: 3857/4175 (92.3832%)
___Test Local_ResNet_18 poisoned: False, epoch: 181: Average loss: 2.0456, Accuracy: 5610/10000 (56.1000%)
___Train Local_ResNet_18,  epoch 181, local model 95, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4622/5018 (92.1084%)
___Train Local_ResNet_18,  epoch 181, local model 95, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4486/5018 (89.3982%)
___Test Local_ResNet_18 poisoned: False, epoch: 181: Average loss: 2.2040, Accuracy: 5334/10000 (53.3400%)
___Train Local_ResNet_18,  epoch 181, local model 70, internal_epoch   1,  Average loss: 0.0031, Accuracy: 5534/5871 (94.2599%)
___Train Local_ResNet_18,  epoch 181, local model 70, internal_epoch   2,  Average loss: 0.0040, Accuracy: 5415/5871 (92.2330%)
___Test Local_ResNet_18 poisoned: False, epoch: 181: Average loss: 2.1124, Accuracy: 5518/10000 (55.1800%)
___Train Local_ResNet_18,  epoch 181, local model 57, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4658/4956 (93.9871%)
___Train Local_ResNet_18,  epoch 181, local model 57, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4642/4956 (93.6642%)
___Test Local_ResNet_18 poisoned: False, epoch: 181: Average loss: 2.1931, Accuracy: 5499/10000 (54.9900%)
___Train Local_ResNet_18,  epoch 181, local model 16, internal_epoch   1,  Average loss: 0.0031, Accuracy: 5052/5353 (94.3770%)
___Train Local_ResNet_18,  epoch 181, local model 16, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4848/5353 (90.5660%)
___Test Local_ResNet_18 poisoned: False, epoch: 181: Average loss: 2.0664, Accuracy: 5494/10000 (54.9400%)
___Train Local_ResNet_18,  epoch 181, local model 55, internal_epoch   1,  Average loss: 0.0028, Accuracy: 4480/4731 (94.6946%)
___Train Local_ResNet_18,  epoch 181, local model 55, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4417/4731 (93.3629%)
___Test Local_ResNet_18 poisoned: False, epoch: 181: Average loss: 2.1139, Accuracy: 5375/10000 (53.7500%)
___Train Local_ResNet_18,  epoch 181, local model 17, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4496/4903 (91.6990%)
___Train Local_ResNet_18,  epoch 181, local model 17, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4380/4903 (89.3331%)
___Test Local_ResNet_18 poisoned: False, epoch: 181: Average loss: 2.0797, Accuracy: 5381/10000 (53.8100%)
___Train Local_ResNet_18,  epoch 181, local model 7, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4508/4869 (92.5857%)
___Train Local_ResNet_18,  epoch 181, local model 7, internal_epoch   2,  Average loss: 0.0120, Accuracy: 3764/4869 (77.3054%)
___Test Local_ResNet_18 poisoned: False, epoch: 181: Average loss: 2.4746, Accuracy: 4826/10000 (48.2600%)
___Train Local_ResNet_18,  epoch 181, local model 74, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4484/4797 (93.4751%)
___Train Local_ResNet_18,  epoch 181, local model 74, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4414/4797 (92.0158%)
___Test Local_ResNet_18 poisoned: False, epoch: 181: Average loss: 2.0536, Accuracy: 5570/10000 (55.7000%)
___Train Local_ResNet_18,  epoch 181, local model 63, internal_epoch   1,  Average loss: 0.0031, Accuracy: 3731/3910 (95.4220%)
___Train Local_ResNet_18,  epoch 181, local model 63, internal_epoch   2,  Average loss: 0.0095, Accuracy: 3226/3910 (82.5064%)
___Test Local_ResNet_18 poisoned: False, epoch: 181: Average loss: 2.4784, Accuracy: 4980/10000 (49.8000%)
time spent on training: 256.29654145240784
___Test Target_ResNet_18 poisoned: False, epoch: 181: Average loss: 1.4821, Accuracy: 6395/10000 (63.9500%)
___Test Target_ResNet_18 poisoned: True, epoch: 181: Average loss: 0.0225, Accuracy: 9839/9900 (99.3838%)
Done in 283.03707361221313 sec.
Server Epoch:182 choose agents : [13, 36, 58, 71, 77, 41, 51, 7, 32, 44, 67, 5, 85, 49, 55, 64, 35, 95, 4, 47].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 182, local model 13, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5204/5308 (98.0407%), train_poison_data_count: 415
Global model norm: 44.69225007534164.
Norm before scaling: 44.647266634910025. Distance: 1.154411813658066
___Test Local_ResNet_18 poisoned: True, epoch: 182: Average loss: 0.0411, Accuracy: 9787/9900 (98.8586%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 182, local model 36, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5678/5777 (98.2863%), train_poison_data_count: 455
Global model norm: 44.69225007534164.
Norm before scaling: 44.64213032332449. Distance: 1.179273873882262
___Test Local_ResNet_18 poisoned: True, epoch: 182: Average loss: 0.0528, Accuracy: 9753/9900 (98.5152%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 182, local model 58, internal_epoch   1,  Average loss: 0.0023, Accuracy: 5002/5123 (97.6381%), train_poison_data_count: 403
Global model norm: 44.69225007534164.
Norm before scaling: 44.65028088386245. Distance: 1.2088223103746005
___Test Local_ResNet_18 poisoned: True, epoch: 182: Average loss: 0.0658, Accuracy: 9721/9900 (98.1919%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 182, local model 71, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5388/5503 (97.9102%), train_poison_data_count: 430
Global model norm: 44.69225007534164.
Norm before scaling: 44.646844213697655. Distance: 1.1867470110704332
___Test Local_ResNet_18 poisoned: True, epoch: 182: Average loss: 0.0388, Accuracy: 9804/9900 (99.0303%)
___Train Local_ResNet_18,  epoch 182, local model 77, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4645/5050 (91.9802%)
___Train Local_ResNet_18,  epoch 182, local model 77, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4560/5050 (90.2970%)
___Test Local_ResNet_18 poisoned: False, epoch: 182: Average loss: 2.0673, Accuracy: 5478/10000 (54.7800%)
___Train Local_ResNet_18,  epoch 182, local model 41, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4481/4714 (95.0573%)
___Train Local_ResNet_18,  epoch 182, local model 41, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4351/4714 (92.2995%)
___Test Local_ResNet_18 poisoned: False, epoch: 182: Average loss: 2.1729, Accuracy: 5316/10000 (53.1600%)
___Train Local_ResNet_18,  epoch 182, local model 51, internal_epoch   1,  Average loss: 0.0030, Accuracy: 3895/4108 (94.8150%)
___Train Local_ResNet_18,  epoch 182, local model 51, internal_epoch   2,  Average loss: 0.0039, Accuracy: 3800/4108 (92.5024%)
___Test Local_ResNet_18 poisoned: False, epoch: 182: Average loss: 2.1049, Accuracy: 5456/10000 (54.5600%)
___Train Local_ResNet_18,  epoch 182, local model 7, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4488/4869 (92.1750%)
___Train Local_ResNet_18,  epoch 182, local model 7, internal_epoch   2,  Average loss: 0.0068, Accuracy: 4244/4869 (87.1637%)
___Test Local_ResNet_18 poisoned: False, epoch: 182: Average loss: 2.2814, Accuracy: 5129/10000 (51.2900%)
___Train Local_ResNet_18,  epoch 182, local model 32, internal_epoch   1,  Average loss: 0.0054, Accuracy: 5413/6080 (89.0296%)
___Train Local_ResNet_18,  epoch 182, local model 32, internal_epoch   2,  Average loss: 0.0067, Accuracy: 5282/6080 (86.8750%)
___Test Local_ResNet_18 poisoned: False, epoch: 182: Average loss: 2.3430, Accuracy: 5062/10000 (50.6200%)
___Train Local_ResNet_18,  epoch 182, local model 44, internal_epoch   1,  Average loss: 0.0025, Accuracy: 4855/5075 (95.6650%)
___Train Local_ResNet_18,  epoch 182, local model 44, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4691/5075 (92.4335%)
___Test Local_ResNet_18 poisoned: False, epoch: 182: Average loss: 2.0378, Accuracy: 5433/10000 (54.3300%)
___Train Local_ResNet_18,  epoch 182, local model 67, internal_epoch   1,  Average loss: 0.0038, Accuracy: 5164/5559 (92.8944%)
___Train Local_ResNet_18,  epoch 182, local model 67, internal_epoch   2,  Average loss: 0.0058, Accuracy: 4932/5559 (88.7210%)
___Test Local_ResNet_18 poisoned: False, epoch: 182: Average loss: 2.1955, Accuracy: 5176/10000 (51.7600%)
___Train Local_ResNet_18,  epoch 182, local model 5, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4730/4993 (94.7326%)
___Train Local_ResNet_18,  epoch 182, local model 5, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4654/4993 (93.2105%)
___Test Local_ResNet_18 poisoned: False, epoch: 182: Average loss: 1.9709, Accuracy: 5706/10000 (57.0600%)
___Train Local_ResNet_18,  epoch 182, local model 85, internal_epoch   1,  Average loss: 0.0048, Accuracy: 6293/6947 (90.5859%)
___Train Local_ResNet_18,  epoch 182, local model 85, internal_epoch   2,  Average loss: 0.0064, Accuracy: 6060/6947 (87.2319%)
___Test Local_ResNet_18 poisoned: False, epoch: 182: Average loss: 2.3281, Accuracy: 5109/10000 (51.0900%)
___Train Local_ResNet_18,  epoch 182, local model 49, internal_epoch   1,  Average loss: 0.0044, Accuracy: 5163/5652 (91.3482%)
___Train Local_ResNet_18,  epoch 182, local model 49, internal_epoch   2,  Average loss: 0.0055, Accuracy: 5022/5652 (88.8535%)
___Test Local_ResNet_18 poisoned: False, epoch: 182: Average loss: 2.5875, Accuracy: 4768/10000 (47.6800%)
___Train Local_ResNet_18,  epoch 182, local model 55, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4487/4731 (94.8425%)
___Train Local_ResNet_18,  epoch 182, local model 55, internal_epoch   2,  Average loss: 0.0031, Accuracy: 4447/4731 (93.9970%)
___Test Local_ResNet_18 poisoned: False, epoch: 182: Average loss: 1.9903, Accuracy: 5643/10000 (56.4300%)
___Train Local_ResNet_18,  epoch 182, local model 64, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4502/4894 (91.9902%)
___Train Local_ResNet_18,  epoch 182, local model 64, internal_epoch   2,  Average loss: 0.0060, Accuracy: 4323/4894 (88.3327%)
___Test Local_ResNet_18 poisoned: False, epoch: 182: Average loss: 2.4824, Accuracy: 4955/10000 (49.5500%)
___Train Local_ResNet_18,  epoch 182, local model 35, internal_epoch   1,  Average loss: 0.0036, Accuracy: 5217/5615 (92.9118%)
___Train Local_ResNet_18,  epoch 182, local model 35, internal_epoch   2,  Average loss: 0.0037, Accuracy: 5201/5615 (92.6269%)
___Test Local_ResNet_18 poisoned: False, epoch: 182: Average loss: 2.1292, Accuracy: 5487/10000 (54.8700%)
___Train Local_ResNet_18,  epoch 182, local model 95, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4657/5018 (92.8059%)
___Train Local_ResNet_18,  epoch 182, local model 95, internal_epoch   2,  Average loss: 0.0054, Accuracy: 4479/5018 (89.2587%)
___Test Local_ResNet_18 poisoned: False, epoch: 182: Average loss: 2.2823, Accuracy: 5096/10000 (50.9600%)
___Train Local_ResNet_18,  epoch 182, local model 4, internal_epoch   1,  Average loss: 0.0032, Accuracy: 3777/4028 (93.7686%)
___Train Local_ResNet_18,  epoch 182, local model 4, internal_epoch   2,  Average loss: 0.0034, Accuracy: 3761/4028 (93.3714%)
___Test Local_ResNet_18 poisoned: False, epoch: 182: Average loss: 1.9843, Accuracy: 5702/10000 (57.0200%)
___Train Local_ResNet_18,  epoch 182, local model 47, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4716/5123 (92.0554%)
___Train Local_ResNet_18,  epoch 182, local model 47, internal_epoch   2,  Average loss: 0.0077, Accuracy: 4394/5123 (85.7701%)
___Test Local_ResNet_18 poisoned: False, epoch: 182: Average loss: 2.2857, Accuracy: 5211/10000 (52.1100%)
time spent on training: 257.65888381004333
___Test Target_ResNet_18 poisoned: False, epoch: 182: Average loss: 1.4792, Accuracy: 6402/10000 (64.0200%)
___Test Target_ResNet_18 poisoned: True, epoch: 182: Average loss: 0.0242, Accuracy: 9831/9900 (99.3030%)
Done in 284.3909201622009 sec.
Server Epoch:183 choose agents : [13, 36, 58, 71, 17, 70, 42, 31, 21, 82, 84, 28, 86, 67, 5, 85, 95, 74, 38, 80].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 183, local model 13, internal_epoch   1,  Average loss: 0.0012, Accuracy: 5218/5308 (98.3044%), train_poison_data_count: 415
Global model norm: 44.712574914320804.
Norm before scaling: 44.66634934345849. Distance: 1.1104098047231725
___Test Local_ResNet_18 poisoned: True, epoch: 183: Average loss: 0.0598, Accuracy: 9755/9900 (98.5354%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 183, local model 36, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5683/5777 (98.3729%), train_poison_data_count: 455
Global model norm: 44.712574914320804.
Norm before scaling: 44.66211992342826. Distance: 1.1928070838171638
___Test Local_ResNet_18 poisoned: True, epoch: 183: Average loss: 0.0569, Accuracy: 9756/9900 (98.5455%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 183, local model 58, internal_epoch   1,  Average loss: 0.0021, Accuracy: 5005/5123 (97.6967%), train_poison_data_count: 403
Global model norm: 44.712574914320804.
Norm before scaling: 44.670279133789. Distance: 1.1715265900528535
___Test Local_ResNet_18 poisoned: True, epoch: 183: Average loss: 0.0120, Accuracy: 9869/9900 (99.6869%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 183, local model 71, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5402/5503 (98.1646%), train_poison_data_count: 430
Global model norm: 44.712574914320804.
Norm before scaling: 44.66643543088661. Distance: 1.1658003974245041
___Test Local_ResNet_18 poisoned: True, epoch: 183: Average loss: 0.0424, Accuracy: 9783/9900 (98.8182%)
___Train Local_ResNet_18,  epoch 183, local model 17, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4540/4903 (92.5964%)
___Train Local_ResNet_18,  epoch 183, local model 17, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4540/4903 (92.5964%)
___Test Local_ResNet_18 poisoned: False, epoch: 183: Average loss: 2.0574, Accuracy: 5499/10000 (54.9900%)
___Train Local_ResNet_18,  epoch 183, local model 70, internal_epoch   1,  Average loss: 0.0030, Accuracy: 5542/5871 (94.3962%)
___Train Local_ResNet_18,  epoch 183, local model 70, internal_epoch   2,  Average loss: 0.0046, Accuracy: 5334/5871 (90.8533%)
___Test Local_ResNet_18 poisoned: False, epoch: 183: Average loss: 2.1408, Accuracy: 5475/10000 (54.7500%)
___Train Local_ResNet_18,  epoch 183, local model 42, internal_epoch   1,  Average loss: 0.0043, Accuracy: 5434/5907 (91.9926%)
___Train Local_ResNet_18,  epoch 183, local model 42, internal_epoch   2,  Average loss: 0.0057, Accuracy: 5229/5907 (88.5221%)
___Test Local_ResNet_18 poisoned: False, epoch: 183: Average loss: 2.5800, Accuracy: 4827/10000 (48.2700%)
___Train Local_ResNet_18,  epoch 183, local model 31, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4263/4537 (93.9608%)
___Train Local_ResNet_18,  epoch 183, local model 31, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4260/4537 (93.8946%)
___Test Local_ResNet_18 poisoned: False, epoch: 183: Average loss: 1.8587, Accuracy: 5811/10000 (58.1100%)
___Train Local_ResNet_18,  epoch 183, local model 21, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4649/5038 (92.2787%)
___Train Local_ResNet_18,  epoch 183, local model 21, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4681/5038 (92.9139%)
___Test Local_ResNet_18 poisoned: False, epoch: 183: Average loss: 1.8872, Accuracy: 5752/10000 (57.5200%)
___Train Local_ResNet_18,  epoch 183, local model 82, internal_epoch   1,  Average loss: 0.0030, Accuracy: 5010/5298 (94.5640%)
___Train Local_ResNet_18,  epoch 183, local model 82, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4895/5298 (92.3934%)
___Test Local_ResNet_18 poisoned: False, epoch: 183: Average loss: 2.3550, Accuracy: 5024/10000 (50.2400%)
___Train Local_ResNet_18,  epoch 183, local model 84, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4850/5209 (93.1081%)
___Train Local_ResNet_18,  epoch 183, local model 84, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4725/5209 (90.7084%)
___Test Local_ResNet_18 poisoned: False, epoch: 183: Average loss: 2.2136, Accuracy: 5312/10000 (53.1200%)
___Train Local_ResNet_18,  epoch 183, local model 28, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4716/5122 (92.0734%)
___Train Local_ResNet_18,  epoch 183, local model 28, internal_epoch   2,  Average loss: 0.0099, Accuracy: 4207/5122 (82.1359%)
___Test Local_ResNet_18 poisoned: False, epoch: 183: Average loss: 2.3557, Accuracy: 4887/10000 (48.8700%)
___Train Local_ResNet_18,  epoch 183, local model 86, internal_epoch   1,  Average loss: 0.0040, Accuracy: 3621/3929 (92.1609%)
___Train Local_ResNet_18,  epoch 183, local model 86, internal_epoch   2,  Average loss: 0.0041, Accuracy: 3595/3929 (91.4991%)
___Test Local_ResNet_18 poisoned: False, epoch: 183: Average loss: 2.0524, Accuracy: 5704/10000 (57.0400%)
___Train Local_ResNet_18,  epoch 183, local model 67, internal_epoch   1,  Average loss: 0.0040, Accuracy: 5137/5559 (92.4087%)
___Train Local_ResNet_18,  epoch 183, local model 67, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4964/5559 (89.2966%)
___Test Local_ResNet_18 poisoned: False, epoch: 183: Average loss: 2.2454, Accuracy: 5158/10000 (51.5800%)
___Train Local_ResNet_18,  epoch 183, local model 5, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4717/4993 (94.4723%)
___Train Local_ResNet_18,  epoch 183, local model 5, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4627/4993 (92.6697%)
___Test Local_ResNet_18 poisoned: False, epoch: 183: Average loss: 2.1088, Accuracy: 5542/10000 (55.4200%)
___Train Local_ResNet_18,  epoch 183, local model 85, internal_epoch   1,  Average loss: 0.0043, Accuracy: 6379/6947 (91.8238%)
___Train Local_ResNet_18,  epoch 183, local model 85, internal_epoch   2,  Average loss: 0.0064, Accuracy: 6096/6947 (87.7501%)
___Test Local_ResNet_18 poisoned: False, epoch: 183: Average loss: 2.4006, Accuracy: 4971/10000 (49.7100%)
___Train Local_ResNet_18,  epoch 183, local model 95, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4590/5018 (91.4707%)
___Train Local_ResNet_18,  epoch 183, local model 95, internal_epoch   2,  Average loss: 0.0061, Accuracy: 4422/5018 (88.1228%)
___Test Local_ResNet_18 poisoned: False, epoch: 183: Average loss: 2.2486, Accuracy: 5240/10000 (52.4000%)
___Train Local_ResNet_18,  epoch 183, local model 74, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4481/4797 (93.4125%)
___Train Local_ResNet_18,  epoch 183, local model 74, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4419/4797 (92.1201%)
___Test Local_ResNet_18 poisoned: False, epoch: 183: Average loss: 1.8903, Accuracy: 5825/10000 (58.2500%)
___Train Local_ResNet_18,  epoch 183, local model 38, internal_epoch   1,  Average loss: 0.0044, Accuracy: 5702/6235 (91.4515%)
___Train Local_ResNet_18,  epoch 183, local model 38, internal_epoch   2,  Average loss: 0.0063, Accuracy: 5457/6235 (87.5221%)
___Test Local_ResNet_18 poisoned: False, epoch: 183: Average loss: 2.3565, Accuracy: 5096/10000 (50.9600%)
___Train Local_ResNet_18,  epoch 183, local model 80, internal_epoch   1,  Average loss: 0.0036, Accuracy: 5071/5461 (92.8585%)
___Train Local_ResNet_18,  epoch 183, local model 80, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4913/5461 (89.9652%)
___Test Local_ResNet_18 poisoned: False, epoch: 183: Average loss: 2.3424, Accuracy: 5130/10000 (51.3000%)
time spent on training: 262.8885130882263
___Test Target_ResNet_18 poisoned: False, epoch: 183: Average loss: 1.4869, Accuracy: 6387/10000 (63.8700%)
___Test Target_ResNet_18 poisoned: True, epoch: 183: Average loss: 0.0242, Accuracy: 9837/9900 (99.3636%)
Done in 289.4294958114624 sec.
Server Epoch:184 choose agents : [13, 36, 58, 71, 87, 92, 52, 89, 22, 93, 78, 49, 39, 82, 35, 94, 38, 61, 32, 51].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 184, local model 13, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5221/5308 (98.3610%), train_poison_data_count: 415
Global model norm: 44.73271723482643.
Norm before scaling: 44.686175133332625. Distance: 1.1205613204470695
___Test Local_ResNet_18 poisoned: True, epoch: 184: Average loss: 0.0582, Accuracy: 9754/9900 (98.5253%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 184, local model 36, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5669/5777 (98.1305%), train_poison_data_count: 455
Global model norm: 44.73271723482643.
Norm before scaling: 44.68215385416055. Distance: 1.189030313745455
___Test Local_ResNet_18 poisoned: True, epoch: 184: Average loss: 0.0466, Accuracy: 9793/9900 (98.9192%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 184, local model 58, internal_epoch   1,  Average loss: 0.0020, Accuracy: 5007/5123 (97.7357%), train_poison_data_count: 403
Global model norm: 44.73271723482643.
Norm before scaling: 44.689899684258215. Distance: 1.16829847701931
___Test Local_ResNet_18 poisoned: True, epoch: 184: Average loss: 0.0627, Accuracy: 9740/9900 (98.3838%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 184, local model 71, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5403/5503 (98.1828%), train_poison_data_count: 430
Global model norm: 44.73271723482643.
Norm before scaling: 44.687265078053834. Distance: 1.1819694628958322
___Test Local_ResNet_18 poisoned: True, epoch: 184: Average loss: 0.0544, Accuracy: 9763/9900 (98.6162%)
___Train Local_ResNet_18,  epoch 184, local model 87, internal_epoch   1,  Average loss: 0.0041, Accuracy: 3673/3995 (91.9399%)
___Train Local_ResNet_18,  epoch 184, local model 87, internal_epoch   2,  Average loss: 0.0051, Accuracy: 3608/3995 (90.3129%)
___Test Local_ResNet_18 poisoned: False, epoch: 184: Average loss: 2.1915, Accuracy: 5326/10000 (53.2600%)
___Train Local_ResNet_18,  epoch 184, local model 92, internal_epoch   1,  Average loss: 0.0030, Accuracy: 6404/6812 (94.0106%)
___Train Local_ResNet_18,  epoch 184, local model 92, internal_epoch   2,  Average loss: 0.0042, Accuracy: 6257/6812 (91.8526%)
___Test Local_ResNet_18 poisoned: False, epoch: 184: Average loss: 2.2102, Accuracy: 5254/10000 (52.5400%)
___Train Local_ResNet_18,  epoch 184, local model 52, internal_epoch   1,  Average loss: 0.0028, Accuracy: 3924/4130 (95.0121%)
___Train Local_ResNet_18,  epoch 184, local model 52, internal_epoch   2,  Average loss: 0.0033, Accuracy: 3861/4130 (93.4867%)
___Test Local_ResNet_18 poisoned: False, epoch: 184: Average loss: 1.9357, Accuracy: 5737/10000 (57.3700%)
___Train Local_ResNet_18,  epoch 184, local model 89, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4401/4737 (92.9069%)
___Train Local_ResNet_18,  epoch 184, local model 89, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4340/4737 (91.6192%)
___Test Local_ResNet_18 poisoned: False, epoch: 184: Average loss: 2.3248, Accuracy: 5273/10000 (52.7300%)
___Train Local_ResNet_18,  epoch 184, local model 22, internal_epoch   1,  Average loss: 0.0034, Accuracy: 5314/5696 (93.2935%)
___Train Local_ResNet_18,  epoch 184, local model 22, internal_epoch   2,  Average loss: 0.0043, Accuracy: 5195/5696 (91.2044%)
___Test Local_ResNet_18 poisoned: False, epoch: 184: Average loss: 1.9976, Accuracy: 5516/10000 (55.1600%)
___Train Local_ResNet_18,  epoch 184, local model 93, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4710/5055 (93.1751%)
___Train Local_ResNet_18,  epoch 184, local model 93, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4574/5055 (90.4847%)
___Test Local_ResNet_18 poisoned: False, epoch: 184: Average loss: 2.3519, Accuracy: 5067/10000 (50.6700%)
___Train Local_ResNet_18,  epoch 184, local model 78, internal_epoch   1,  Average loss: 0.0024, Accuracy: 4179/4368 (95.6731%)
___Train Local_ResNet_18,  epoch 184, local model 78, internal_epoch   2,  Average loss: 0.0027, Accuracy: 4142/4368 (94.8260%)
___Test Local_ResNet_18 poisoned: False, epoch: 184: Average loss: 2.0424, Accuracy: 5618/10000 (56.1800%)
___Train Local_ResNet_18,  epoch 184, local model 49, internal_epoch   1,  Average loss: 0.0040, Accuracy: 5227/5652 (92.4805%)
___Train Local_ResNet_18,  epoch 184, local model 49, internal_epoch   2,  Average loss: 0.0057, Accuracy: 4990/5652 (88.2873%)
___Test Local_ResNet_18 poisoned: False, epoch: 184: Average loss: 2.3435, Accuracy: 4974/10000 (49.7400%)
___Train Local_ResNet_18,  epoch 184, local model 39, internal_epoch   1,  Average loss: 0.0033, Accuracy: 3932/4175 (94.1796%)
___Train Local_ResNet_18,  epoch 184, local model 39, internal_epoch   2,  Average loss: 0.0040, Accuracy: 3861/4175 (92.4790%)
___Test Local_ResNet_18 poisoned: False, epoch: 184: Average loss: 2.0804, Accuracy: 5536/10000 (55.3600%)
___Train Local_ResNet_18,  epoch 184, local model 82, internal_epoch   1,  Average loss: 0.0027, Accuracy: 5020/5298 (94.7527%)
___Train Local_ResNet_18,  epoch 184, local model 82, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4910/5298 (92.6765%)
___Test Local_ResNet_18 poisoned: False, epoch: 184: Average loss: 2.1730, Accuracy: 5295/10000 (52.9500%)
___Train Local_ResNet_18,  epoch 184, local model 35, internal_epoch   1,  Average loss: 0.0035, Accuracy: 5264/5615 (93.7489%)
___Train Local_ResNet_18,  epoch 184, local model 35, internal_epoch   2,  Average loss: 0.0045, Accuracy: 5113/5615 (91.0597%)
___Test Local_ResNet_18 poisoned: False, epoch: 184: Average loss: 2.2639, Accuracy: 5293/10000 (52.9300%)
___Train Local_ResNet_18,  epoch 184, local model 94, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4816/5224 (92.1899%)
___Train Local_ResNet_18,  epoch 184, local model 94, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4834/5224 (92.5345%)
___Test Local_ResNet_18 poisoned: False, epoch: 184: Average loss: 2.1422, Accuracy: 5453/10000 (54.5300%)
___Train Local_ResNet_18,  epoch 184, local model 38, internal_epoch   1,  Average loss: 0.0043, Accuracy: 5717/6235 (91.6921%)
___Train Local_ResNet_18,  epoch 184, local model 38, internal_epoch   2,  Average loss: 0.0062, Accuracy: 5487/6235 (88.0032%)
___Test Local_ResNet_18 poisoned: False, epoch: 184: Average loss: 2.3551, Accuracy: 5084/10000 (50.8400%)
___Train Local_ResNet_18,  epoch 184, local model 61, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4204/4485 (93.7347%)
___Train Local_ResNet_18,  epoch 184, local model 61, internal_epoch   2,  Average loss: 0.0091, Accuracy: 3749/4485 (83.5897%)
___Test Local_ResNet_18 poisoned: False, epoch: 184: Average loss: 2.3635, Accuracy: 4841/10000 (48.4100%)
___Train Local_ResNet_18,  epoch 184, local model 32, internal_epoch   1,  Average loss: 0.0051, Accuracy: 5481/6080 (90.1480%)
___Train Local_ResNet_18,  epoch 184, local model 32, internal_epoch   2,  Average loss: 0.0064, Accuracy: 5299/6080 (87.1546%)
___Test Local_ResNet_18 poisoned: False, epoch: 184: Average loss: 2.3796, Accuracy: 4929/10000 (49.2900%)
___Train Local_ResNet_18,  epoch 184, local model 51, internal_epoch   1,  Average loss: 0.0027, Accuracy: 3894/4108 (94.7907%)
___Train Local_ResNet_18,  epoch 184, local model 51, internal_epoch   2,  Average loss: 0.0039, Accuracy: 3791/4108 (92.2833%)
___Test Local_ResNet_18 poisoned: False, epoch: 184: Average loss: 2.0843, Accuracy: 5512/10000 (55.1200%)
time spent on training: 255.40868186950684
___Test Target_ResNet_18 poisoned: False, epoch: 184: Average loss: 1.5007, Accuracy: 6370/10000 (63.7000%)
___Test Target_ResNet_18 poisoned: True, epoch: 184: Average loss: 0.0244, Accuracy: 9835/9900 (99.3434%)
Done in 281.90203499794006 sec.
Server Epoch:185 choose agents : [13, 36, 58, 71, 8, 12, 68, 28, 34, 90, 64, 6, 54, 43, 77, 76, 83, 84, 52, 26].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 185, local model 13, internal_epoch   1,  Average loss: 0.0012, Accuracy: 5210/5308 (98.1537%), train_poison_data_count: 415
Global model norm: 44.75135843783125.
Norm before scaling: 44.7049572544813. Distance: 1.1071655945706425
___Test Local_ResNet_18 poisoned: True, epoch: 185: Average loss: 0.0478, Accuracy: 9778/9900 (98.7677%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 185, local model 36, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5667/5777 (98.0959%), train_poison_data_count: 455
Global model norm: 44.75135843783125.
Norm before scaling: 44.70267306875717. Distance: 1.2297970830811111
___Test Local_ResNet_18 poisoned: True, epoch: 185: Average loss: 0.0314, Accuracy: 9821/9900 (99.2020%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 185, local model 58, internal_epoch   1,  Average loss: 0.0022, Accuracy: 4993/5123 (97.4624%), train_poison_data_count: 403
Global model norm: 44.75135843783125.
Norm before scaling: 44.70950889404708. Distance: 1.2074236679434076
___Test Local_ResNet_18 poisoned: True, epoch: 185: Average loss: 0.0493, Accuracy: 9764/9900 (98.6263%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 185, local model 71, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5368/5503 (97.5468%), train_poison_data_count: 430
Global model norm: 44.75135843783125.
Norm before scaling: 44.70838945757971. Distance: 1.2838900279310532
___Test Local_ResNet_18 poisoned: True, epoch: 185: Average loss: 0.0605, Accuracy: 9733/9900 (98.3131%)
___Train Local_ResNet_18,  epoch 185, local model 8, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4570/4889 (93.4751%)
___Train Local_ResNet_18,  epoch 185, local model 8, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4496/4889 (91.9615%)
___Test Local_ResNet_18 poisoned: False, epoch: 185: Average loss: 1.9710, Accuracy: 5604/10000 (56.0400%)
___Train Local_ResNet_18,  epoch 185, local model 12, internal_epoch   1,  Average loss: 0.0038, Accuracy: 5123/5526 (92.7072%)
___Train Local_ResNet_18,  epoch 185, local model 12, internal_epoch   2,  Average loss: 0.0059, Accuracy: 4900/5526 (88.6717%)
___Test Local_ResNet_18 poisoned: False, epoch: 185: Average loss: 2.3057, Accuracy: 5091/10000 (50.9100%)
___Train Local_ResNet_18,  epoch 185, local model 68, internal_epoch   1,  Average loss: 0.0030, Accuracy: 3389/3589 (94.4274%)
___Train Local_ResNet_18,  epoch 185, local model 68, internal_epoch   2,  Average loss: 0.0044, Accuracy: 3296/3589 (91.8362%)
___Test Local_ResNet_18 poisoned: False, epoch: 185: Average loss: 1.9501, Accuracy: 5702/10000 (57.0200%)
___Train Local_ResNet_18,  epoch 185, local model 28, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4667/5122 (91.1168%)
___Train Local_ResNet_18,  epoch 185, local model 28, internal_epoch   2,  Average loss: 0.0114, Accuracy: 4037/5122 (78.8169%)
___Test Local_ResNet_18 poisoned: False, epoch: 185: Average loss: 2.5621, Accuracy: 4689/10000 (46.8900%)
___Train Local_ResNet_18,  epoch 185, local model 34, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4582/4911 (93.3008%)
___Train Local_ResNet_18,  epoch 185, local model 34, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4541/4911 (92.4659%)
___Test Local_ResNet_18 poisoned: False, epoch: 185: Average loss: 2.1396, Accuracy: 5381/10000 (53.8100%)
___Train Local_ResNet_18,  epoch 185, local model 90, internal_epoch   1,  Average loss: 0.0025, Accuracy: 4524/4748 (95.2822%)
___Train Local_ResNet_18,  epoch 185, local model 90, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4379/4748 (92.2283%)
___Test Local_ResNet_18 poisoned: False, epoch: 185: Average loss: 2.1096, Accuracy: 5467/10000 (54.6700%)
___Train Local_ResNet_18,  epoch 185, local model 64, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4526/4894 (92.4806%)
___Train Local_ResNet_18,  epoch 185, local model 64, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4428/4894 (90.4781%)
___Test Local_ResNet_18 poisoned: False, epoch: 185: Average loss: 2.0732, Accuracy: 5480/10000 (54.8000%)
___Train Local_ResNet_18,  epoch 185, local model 6, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4690/4929 (95.1511%)
___Train Local_ResNet_18,  epoch 185, local model 6, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4547/4929 (92.2499%)
___Test Local_ResNet_18 poisoned: False, epoch: 185: Average loss: 2.0655, Accuracy: 5671/10000 (56.7100%)
___Train Local_ResNet_18,  epoch 185, local model 54, internal_epoch   1,  Average loss: 0.0044, Accuracy: 5192/5645 (91.9752%)
___Train Local_ResNet_18,  epoch 185, local model 54, internal_epoch   2,  Average loss: 0.0058, Accuracy: 4998/5645 (88.5385%)
___Test Local_ResNet_18 poisoned: False, epoch: 185: Average loss: 2.3853, Accuracy: 5147/10000 (51.4700%)
___Train Local_ResNet_18,  epoch 185, local model 43, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4632/4979 (93.0307%)
___Train Local_ResNet_18,  epoch 185, local model 43, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4555/4979 (91.4842%)
___Test Local_ResNet_18 poisoned: False, epoch: 185: Average loss: 2.1760, Accuracy: 5380/10000 (53.8000%)
___Train Local_ResNet_18,  epoch 185, local model 77, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4650/5050 (92.0792%)
___Train Local_ResNet_18,  epoch 185, local model 77, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4526/5050 (89.6238%)
___Test Local_ResNet_18 poisoned: False, epoch: 185: Average loss: 2.0661, Accuracy: 5467/10000 (54.6700%)
___Train Local_ResNet_18,  epoch 185, local model 76, internal_epoch   1,  Average loss: 0.0035, Accuracy: 3690/3959 (93.2054%)
___Train Local_ResNet_18,  epoch 185, local model 76, internal_epoch   2,  Average loss: 0.0039, Accuracy: 3648/3959 (92.1445%)
___Test Local_ResNet_18 poisoned: False, epoch: 185: Average loss: 1.9327, Accuracy: 5650/10000 (56.5000%)
___Train Local_ResNet_18,  epoch 185, local model 83, internal_epoch   1,  Average loss: 0.0031, Accuracy: 3322/3552 (93.5248%)
___Train Local_ResNet_18,  epoch 185, local model 83, internal_epoch   2,  Average loss: 0.0030, Accuracy: 3341/3552 (94.0597%)
___Test Local_ResNet_18 poisoned: False, epoch: 185: Average loss: 1.9375, Accuracy: 5728/10000 (57.2800%)
___Train Local_ResNet_18,  epoch 185, local model 84, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4826/5209 (92.6473%)
___Train Local_ResNet_18,  epoch 185, local model 84, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4691/5209 (90.0557%)
___Test Local_ResNet_18 poisoned: False, epoch: 185: Average loss: 2.1638, Accuracy: 5387/10000 (53.8700%)
___Train Local_ResNet_18,  epoch 185, local model 52, internal_epoch   1,  Average loss: 0.0030, Accuracy: 3922/4130 (94.9637%)
___Train Local_ResNet_18,  epoch 185, local model 52, internal_epoch   2,  Average loss: 0.0044, Accuracy: 3777/4130 (91.4528%)
___Test Local_ResNet_18 poisoned: False, epoch: 185: Average loss: 2.0473, Accuracy: 5498/10000 (54.9800%)
___Train Local_ResNet_18,  epoch 185, local model 26, internal_epoch   1,  Average loss: 0.0028, Accuracy: 3877/4086 (94.8850%)
___Train Local_ResNet_18,  epoch 185, local model 26, internal_epoch   2,  Average loss: 0.0035, Accuracy: 3817/4086 (93.4165%)
___Test Local_ResNet_18 poisoned: False, epoch: 185: Average loss: 2.0763, Accuracy: 5486/10000 (54.8600%)
time spent on training: 252.25401425361633
___Test Target_ResNet_18 poisoned: False, epoch: 185: Average loss: 1.5058, Accuracy: 6355/10000 (63.5500%)
___Test Target_ResNet_18 poisoned: True, epoch: 185: Average loss: 0.0233, Accuracy: 9840/9900 (99.3939%)
Done in 278.4674129486084 sec.
Server Epoch:186 choose agents : [13, 36, 58, 71, 90, 6, 39, 89, 88, 7, 3, 94, 74, 66, 25, 96, 31, 98, 78, 34].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 186, local model 13, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5223/5308 (98.3986%), train_poison_data_count: 415
Global model norm: 44.7685440256849.
Norm before scaling: 44.72412452416621. Distance: 1.1479468303024387
___Test Local_ResNet_18 poisoned: True, epoch: 186: Average loss: 0.0222, Accuracy: 9841/9900 (99.4040%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 186, local model 36, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5678/5777 (98.2863%), train_poison_data_count: 455
Global model norm: 44.7685440256849.
Norm before scaling: 44.716828225652364. Distance: 1.171787767342457
___Test Local_ResNet_18 poisoned: True, epoch: 186: Average loss: 0.0175, Accuracy: 9857/9900 (99.5657%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 186, local model 58, internal_epoch   1,  Average loss: 0.0021, Accuracy: 5025/5123 (98.0871%), train_poison_data_count: 403
Global model norm: 44.7685440256849.
Norm before scaling: 44.72258374770305. Distance: 1.1116053230502738
___Test Local_ResNet_18 poisoned: True, epoch: 186: Average loss: 0.1086, Accuracy: 9608/9900 (97.0505%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 186, local model 71, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5403/5503 (98.1828%), train_poison_data_count: 430
Global model norm: 44.7685440256849.
Norm before scaling: 44.72232717392469. Distance: 1.1618256551145638
___Test Local_ResNet_18 poisoned: True, epoch: 186: Average loss: 0.0448, Accuracy: 9784/9900 (98.8283%)
___Train Local_ResNet_18,  epoch 186, local model 90, internal_epoch   1,  Average loss: 0.0023, Accuracy: 4546/4748 (95.7456%)
___Train Local_ResNet_18,  epoch 186, local model 90, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4432/4748 (93.3446%)
___Test Local_ResNet_18 poisoned: False, epoch: 186: Average loss: 2.0401, Accuracy: 5535/10000 (55.3500%)
___Train Local_ResNet_18,  epoch 186, local model 6, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4681/4929 (94.9686%)
___Train Local_ResNet_18,  epoch 186, local model 6, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4518/4929 (91.6616%)
___Test Local_ResNet_18 poisoned: False, epoch: 186: Average loss: 2.2026, Accuracy: 5418/10000 (54.1800%)
___Train Local_ResNet_18,  epoch 186, local model 39, internal_epoch   1,  Average loss: 0.0033, Accuracy: 3905/4175 (93.5329%)
___Train Local_ResNet_18,  epoch 186, local model 39, internal_epoch   2,  Average loss: 0.0036, Accuracy: 3886/4175 (93.0778%)
___Test Local_ResNet_18 poisoned: False, epoch: 186: Average loss: 1.9888, Accuracy: 5640/10000 (56.4000%)
___Train Local_ResNet_18,  epoch 186, local model 89, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4432/4737 (93.5613%)
___Train Local_ResNet_18,  epoch 186, local model 89, internal_epoch   2,  Average loss: 0.0057, Accuracy: 4300/4737 (90.7748%)
___Test Local_ResNet_18 poisoned: False, epoch: 186: Average loss: 2.3924, Accuracy: 5121/10000 (51.2100%)
___Train Local_ResNet_18,  epoch 186, local model 88, internal_epoch   1,  Average loss: 0.0034, Accuracy: 5003/5362 (93.3047%)
___Train Local_ResNet_18,  epoch 186, local model 88, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4898/5362 (91.3465%)
___Test Local_ResNet_18 poisoned: False, epoch: 186: Average loss: 2.1142, Accuracy: 5439/10000 (54.3900%)
___Train Local_ResNet_18,  epoch 186, local model 7, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4511/4869 (92.6474%)
___Train Local_ResNet_18,  epoch 186, local model 7, internal_epoch   2,  Average loss: 0.0099, Accuracy: 3969/4869 (81.5157%)
___Test Local_ResNet_18 poisoned: False, epoch: 186: Average loss: 2.6917, Accuracy: 4764/10000 (47.6400%)
___Train Local_ResNet_18,  epoch 186, local model 3, internal_epoch   1,  Average loss: 0.0028, Accuracy: 5063/5346 (94.7063%)
___Train Local_ResNet_18,  epoch 186, local model 3, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4938/5346 (92.3681%)
___Test Local_ResNet_18 poisoned: False, epoch: 186: Average loss: 2.1383, Accuracy: 5386/10000 (53.8600%)
___Train Local_ResNet_18,  epoch 186, local model 94, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4807/5224 (92.0176%)
___Train Local_ResNet_18,  epoch 186, local model 94, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4760/5224 (91.1179%)
___Test Local_ResNet_18 poisoned: False, epoch: 186: Average loss: 2.1881, Accuracy: 5381/10000 (53.8100%)
___Train Local_ResNet_18,  epoch 186, local model 74, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4458/4797 (92.9331%)
___Train Local_ResNet_18,  epoch 186, local model 74, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4344/4797 (90.5566%)
___Test Local_ResNet_18 poisoned: False, epoch: 186: Average loss: 2.0442, Accuracy: 5443/10000 (54.4300%)
___Train Local_ResNet_18,  epoch 186, local model 66, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4548/4843 (93.9087%)
___Train Local_ResNet_18,  epoch 186, local model 66, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4471/4843 (92.3188%)
___Test Local_ResNet_18 poisoned: False, epoch: 186: Average loss: 2.0955, Accuracy: 5544/10000 (55.4400%)
___Train Local_ResNet_18,  epoch 186, local model 25, internal_epoch   1,  Average loss: 0.0048, Accuracy: 5805/6419 (90.4346%)
___Train Local_ResNet_18,  epoch 186, local model 25, internal_epoch   2,  Average loss: 0.0069, Accuracy: 5513/6419 (85.8857%)
___Test Local_ResNet_18 poisoned: False, epoch: 186: Average loss: 2.3126, Accuracy: 5157/10000 (51.5700%)
___Train Local_ResNet_18,  epoch 186, local model 96, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4763/5086 (93.6492%)
___Train Local_ResNet_18,  epoch 186, local model 96, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4656/5086 (91.5454%)
___Test Local_ResNet_18 poisoned: False, epoch: 186: Average loss: 2.0408, Accuracy: 5467/10000 (54.6700%)
___Train Local_ResNet_18,  epoch 186, local model 31, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4269/4537 (94.0930%)
___Train Local_ResNet_18,  epoch 186, local model 31, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4204/4537 (92.6603%)
___Test Local_ResNet_18 poisoned: False, epoch: 186: Average loss: 1.8888, Accuracy: 5805/10000 (58.0500%)
___Train Local_ResNet_18,  epoch 186, local model 98, internal_epoch   1,  Average loss: 0.0036, Accuracy: 3971/4161 (95.4338%)
___Train Local_ResNet_18,  epoch 186, local model 98, internal_epoch   2,  Average loss: 0.0043, Accuracy: 3883/4161 (93.3189%)
___Test Local_ResNet_18 poisoned: False, epoch: 186: Average loss: 1.9459, Accuracy: 5795/10000 (57.9500%)
___Train Local_ResNet_18,  epoch 186, local model 78, internal_epoch   1,  Average loss: 0.0026, Accuracy: 4151/4368 (95.0321%)
___Train Local_ResNet_18,  epoch 186, local model 78, internal_epoch   2,  Average loss: 0.0029, Accuracy: 4139/4368 (94.7573%)
___Test Local_ResNet_18 poisoned: False, epoch: 186: Average loss: 2.0402, Accuracy: 5572/10000 (55.7200%)
___Train Local_ResNet_18,  epoch 186, local model 34, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4626/4911 (94.1967%)
___Train Local_ResNet_18,  epoch 186, local model 34, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4571/4911 (93.0768%)
___Test Local_ResNet_18 poisoned: False, epoch: 186: Average loss: 2.1666, Accuracy: 5383/10000 (53.8300%)
time spent on training: 252.7822868824005
___Test Target_ResNet_18 poisoned: False, epoch: 186: Average loss: 1.5154, Accuracy: 6334/10000 (63.3400%)
___Test Target_ResNet_18 poisoned: True, epoch: 186: Average loss: 0.0227, Accuracy: 9842/9900 (99.4141%)
Done in 279.5699863433838 sec.
Server Epoch:187 choose agents : [13, 36, 58, 71, 44, 82, 1, 10, 89, 11, 87, 28, 22, 78, 31, 79, 27, 46, 35, 41].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 187, local model 13, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5205/5308 (98.0595%), train_poison_data_count: 415
Global model norm: 44.786347188973224.
Norm before scaling: 44.741804853654486. Distance: 1.1683752570926917
___Test Local_ResNet_18 poisoned: True, epoch: 187: Average loss: 0.0374, Accuracy: 9802/9900 (99.0101%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 187, local model 36, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5681/5777 (98.3382%), train_poison_data_count: 455
Global model norm: 44.786347188973224.
Norm before scaling: 44.73584169574283. Distance: 1.1916362602960757
___Test Local_ResNet_18 poisoned: True, epoch: 187: Average loss: 0.0562, Accuracy: 9764/9900 (98.6263%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 187, local model 58, internal_epoch   1,  Average loss: 0.0021, Accuracy: 4983/5123 (97.2672%), train_poison_data_count: 403
Global model norm: 44.786347188973224.
Norm before scaling: 44.744533098329455. Distance: 1.2262035743721014
___Test Local_ResNet_18 poisoned: True, epoch: 187: Average loss: 0.0303, Accuracy: 9822/9900 (99.2121%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 187, local model 71, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5392/5503 (97.9829%), train_poison_data_count: 430
Global model norm: 44.786347188973224.
Norm before scaling: 44.740968613351875. Distance: 1.1844752085624657
___Test Local_ResNet_18 poisoned: True, epoch: 187: Average loss: 0.0660, Accuracy: 9732/9900 (98.3030%)
___Train Local_ResNet_18,  epoch 187, local model 44, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4818/5075 (94.9360%)
___Train Local_ResNet_18,  epoch 187, local model 44, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4688/5075 (92.3744%)
___Test Local_ResNet_18 poisoned: False, epoch: 187: Average loss: 2.2764, Accuracy: 5233/10000 (52.3300%)
___Train Local_ResNet_18,  epoch 187, local model 82, internal_epoch   1,  Average loss: 0.0026, Accuracy: 5047/5298 (95.2624%)
___Train Local_ResNet_18,  epoch 187, local model 82, internal_epoch   2,  Average loss: 0.0030, Accuracy: 4991/5298 (94.2054%)
___Test Local_ResNet_18 poisoned: False, epoch: 187: Average loss: 2.1202, Accuracy: 5520/10000 (55.2000%)
___Train Local_ResNet_18,  epoch 187, local model 1, internal_epoch   1,  Average loss: 0.0025, Accuracy: 5193/5422 (95.7765%)
___Train Local_ResNet_18,  epoch 187, local model 1, internal_epoch   2,  Average loss: 0.0034, Accuracy: 5067/5422 (93.4526%)
___Test Local_ResNet_18 poisoned: False, epoch: 187: Average loss: 1.9743, Accuracy: 5734/10000 (57.3400%)
___Train Local_ResNet_18,  epoch 187, local model 10, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4839/5068 (95.4815%)
___Train Local_ResNet_18,  epoch 187, local model 10, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4579/5068 (90.3512%)
___Test Local_ResNet_18 poisoned: False, epoch: 187: Average loss: 2.4532, Accuracy: 5003/10000 (50.0300%)
___Train Local_ResNet_18,  epoch 187, local model 89, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4435/4737 (93.6247%)
___Train Local_ResNet_18,  epoch 187, local model 89, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4352/4737 (91.8725%)
___Test Local_ResNet_18 poisoned: False, epoch: 187: Average loss: 2.1687, Accuracy: 5408/10000 (54.0800%)
___Train Local_ResNet_18,  epoch 187, local model 11, internal_epoch   1,  Average loss: 0.0058, Accuracy: 5058/5702 (88.7057%)
___Train Local_ResNet_18,  epoch 187, local model 11, internal_epoch   2,  Average loss: 0.0111, Accuracy: 4491/5702 (78.7618%)
___Test Local_ResNet_18 poisoned: False, epoch: 187: Average loss: 2.4073, Accuracy: 4920/10000 (49.2000%)
___Train Local_ResNet_18,  epoch 187, local model 87, internal_epoch   1,  Average loss: 0.0036, Accuracy: 3709/3995 (92.8411%)
___Train Local_ResNet_18,  epoch 187, local model 87, internal_epoch   2,  Average loss: 0.0051, Accuracy: 3573/3995 (89.4368%)
___Test Local_ResNet_18 poisoned: False, epoch: 187: Average loss: 2.2950, Accuracy: 5251/10000 (52.5100%)
___Train Local_ResNet_18,  epoch 187, local model 28, internal_epoch   1,  Average loss: 0.0050, Accuracy: 4662/5122 (91.0191%)
___Train Local_ResNet_18,  epoch 187, local model 28, internal_epoch   2,  Average loss: 0.0124, Accuracy: 3964/5122 (77.3916%)
___Test Local_ResNet_18 poisoned: False, epoch: 187: Average loss: 2.5773, Accuracy: 4488/10000 (44.8800%)
___Train Local_ResNet_18,  epoch 187, local model 22, internal_epoch   1,  Average loss: 0.0033, Accuracy: 5323/5696 (93.4515%)
___Train Local_ResNet_18,  epoch 187, local model 22, internal_epoch   2,  Average loss: 0.0041, Accuracy: 5228/5696 (91.7837%)
___Test Local_ResNet_18 poisoned: False, epoch: 187: Average loss: 2.1170, Accuracy: 5377/10000 (53.7700%)
___Train Local_ResNet_18,  epoch 187, local model 78, internal_epoch   1,  Average loss: 0.0025, Accuracy: 4179/4368 (95.6731%)
___Train Local_ResNet_18,  epoch 187, local model 78, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4030/4368 (92.2619%)
___Test Local_ResNet_18 poisoned: False, epoch: 187: Average loss: 2.1159, Accuracy: 5409/10000 (54.0900%)
___Train Local_ResNet_18,  epoch 187, local model 31, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4279/4537 (94.3134%)
___Train Local_ResNet_18,  epoch 187, local model 31, internal_epoch   2,  Average loss: 0.0032, Accuracy: 4278/4537 (94.2914%)
___Test Local_ResNet_18 poisoned: False, epoch: 187: Average loss: 1.9477, Accuracy: 5734/10000 (57.3400%)
___Train Local_ResNet_18,  epoch 187, local model 79, internal_epoch   1,  Average loss: 0.0032, Accuracy: 3865/4111 (94.0161%)
___Train Local_ResNet_18,  epoch 187, local model 79, internal_epoch   2,  Average loss: 0.0042, Accuracy: 3796/4111 (92.3376%)
___Test Local_ResNet_18 poisoned: False, epoch: 187: Average loss: 2.0472, Accuracy: 5460/10000 (54.6000%)
___Train Local_ResNet_18,  epoch 187, local model 27, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4295/4587 (93.6342%)
___Train Local_ResNet_18,  epoch 187, local model 27, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4252/4587 (92.6968%)
___Test Local_ResNet_18 poisoned: False, epoch: 187: Average loss: 1.9570, Accuracy: 5638/10000 (56.3800%)
___Train Local_ResNet_18,  epoch 187, local model 46, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4872/5399 (90.2389%)
___Train Local_ResNet_18,  epoch 187, local model 46, internal_epoch   2,  Average loss: 0.0066, Accuracy: 4675/5399 (86.5901%)
___Test Local_ResNet_18 poisoned: False, epoch: 187: Average loss: 2.4471, Accuracy: 4991/10000 (49.9100%)
___Train Local_ResNet_18,  epoch 187, local model 35, internal_epoch   1,  Average loss: 0.0032, Accuracy: 5262/5615 (93.7133%)
___Train Local_ResNet_18,  epoch 187, local model 35, internal_epoch   2,  Average loss: 0.0042, Accuracy: 5141/5615 (91.5583%)
___Test Local_ResNet_18 poisoned: False, epoch: 187: Average loss: 2.3570, Accuracy: 5140/10000 (51.4000%)
___Train Local_ResNet_18,  epoch 187, local model 41, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4442/4714 (94.2300%)
___Train Local_ResNet_18,  epoch 187, local model 41, internal_epoch   2,  Average loss: 0.0033, Accuracy: 4408/4714 (93.5087%)
___Test Local_ResNet_18 poisoned: False, epoch: 187: Average loss: 2.0858, Accuracy: 5492/10000 (54.9200%)
time spent on training: 252.01975536346436
___Test Target_ResNet_18 poisoned: False, epoch: 187: Average loss: 1.5216, Accuracy: 6332/10000 (63.3200%)
___Test Target_ResNet_18 poisoned: True, epoch: 187: Average loss: 0.0231, Accuracy: 9837/9900 (99.3636%)
Done in 278.6642515659332 sec.
Server Epoch:188 choose agents : [13, 36, 58, 71, 50, 45, 74, 0, 54, 55, 59, 96, 81, 75, 98, 14, 62, 25, 73, 29].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 188, local model 13, internal_epoch   1,  Average loss: 0.0012, Accuracy: 5227/5308 (98.4740%), train_poison_data_count: 415
Global model norm: 44.80424408564369.
Norm before scaling: 44.75757999263225. Distance: 1.1166390626731346
___Test Local_ResNet_18 poisoned: True, epoch: 188: Average loss: 0.0403, Accuracy: 9794/9900 (98.9293%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 188, local model 36, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5644/5777 (97.6978%), train_poison_data_count: 455
Global model norm: 44.80424408564369.
Norm before scaling: 44.757976822660474. Distance: 1.321715923865048
___Test Local_ResNet_18 poisoned: True, epoch: 188: Average loss: 0.0443, Accuracy: 9778/9900 (98.7677%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 188, local model 58, internal_epoch   1,  Average loss: 0.0024, Accuracy: 5013/5123 (97.8528%), train_poison_data_count: 403
Global model norm: 44.80424408564369.
Norm before scaling: 44.76073544413675. Distance: 1.181784881109293
___Test Local_ResNet_18 poisoned: True, epoch: 188: Average loss: 0.0555, Accuracy: 9754/9900 (98.5253%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 188, local model 71, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5396/5503 (98.0556%), train_poison_data_count: 430
Global model norm: 44.80424408564369.
Norm before scaling: 44.75851137851115. Distance: 1.2073907409425424
___Test Local_ResNet_18 poisoned: True, epoch: 188: Average loss: 0.0148, Accuracy: 9866/9900 (99.6566%)
___Train Local_ResNet_18,  epoch 188, local model 50, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4467/4757 (93.9037%)
___Train Local_ResNet_18,  epoch 188, local model 50, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4366/4757 (91.7805%)
___Test Local_ResNet_18 poisoned: False, epoch: 188: Average loss: 2.1370, Accuracy: 5404/10000 (54.0400%)
___Train Local_ResNet_18,  epoch 188, local model 45, internal_epoch   1,  Average loss: 0.0037, Accuracy: 5089/5489 (92.7127%)
___Train Local_ResNet_18,  epoch 188, local model 45, internal_epoch   2,  Average loss: 0.0042, Accuracy: 5021/5489 (91.4739%)
___Test Local_ResNet_18 poisoned: False, epoch: 188: Average loss: 2.1796, Accuracy: 5318/10000 (53.1800%)
___Train Local_ResNet_18,  epoch 188, local model 74, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4518/4797 (94.1839%)
___Train Local_ResNet_18,  epoch 188, local model 74, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4446/4797 (92.6829%)
___Test Local_ResNet_18 poisoned: False, epoch: 188: Average loss: 2.0646, Accuracy: 5587/10000 (55.8700%)
___Train Local_ResNet_18,  epoch 188, local model 0, internal_epoch   1,  Average loss: 0.0036, Accuracy: 5090/5454 (93.3260%)
___Train Local_ResNet_18,  epoch 188, local model 0, internal_epoch   2,  Average loss: 0.0061, Accuracy: 4797/5454 (87.9538%)
___Test Local_ResNet_18 poisoned: False, epoch: 188: Average loss: 2.1284, Accuracy: 5369/10000 (53.6900%)
___Train Local_ResNet_18,  epoch 188, local model 54, internal_epoch   1,  Average loss: 0.0046, Accuracy: 5152/5645 (91.2666%)
___Train Local_ResNet_18,  epoch 188, local model 54, internal_epoch   2,  Average loss: 0.0061, Accuracy: 4994/5645 (88.4677%)
___Test Local_ResNet_18 poisoned: False, epoch: 188: Average loss: 2.1809, Accuracy: 5228/10000 (52.2800%)
___Train Local_ResNet_18,  epoch 188, local model 55, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4497/4731 (95.0539%)
___Train Local_ResNet_18,  epoch 188, local model 55, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4414/4731 (93.2995%)
___Test Local_ResNet_18 poisoned: False, epoch: 188: Average loss: 2.0079, Accuracy: 5641/10000 (56.4100%)
___Train Local_ResNet_18,  epoch 188, local model 59, internal_epoch   1,  Average loss: 0.0023, Accuracy: 4197/4397 (95.4514%)
___Train Local_ResNet_18,  epoch 188, local model 59, internal_epoch   2,  Average loss: 0.0024, Accuracy: 4199/4397 (95.4969%)
___Test Local_ResNet_18 poisoned: False, epoch: 188: Average loss: 1.8596, Accuracy: 5835/10000 (58.3500%)
___Train Local_ResNet_18,  epoch 188, local model 96, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4771/5086 (93.8065%)
___Train Local_ResNet_18,  epoch 188, local model 96, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4703/5086 (92.4695%)
___Test Local_ResNet_18 poisoned: False, epoch: 188: Average loss: 2.1015, Accuracy: 5399/10000 (53.9900%)
___Train Local_ResNet_18,  epoch 188, local model 81, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4746/5035 (94.2602%)
___Train Local_ResNet_18,  epoch 188, local model 81, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4664/5035 (92.6316%)
___Test Local_ResNet_18 poisoned: False, epoch: 188: Average loss: 2.1460, Accuracy: 5375/10000 (53.7500%)
___Train Local_ResNet_18,  epoch 188, local model 75, internal_epoch   1,  Average loss: 0.0026, Accuracy: 4433/4672 (94.8844%)
___Train Local_ResNet_18,  epoch 188, local model 75, internal_epoch   2,  Average loss: 0.0029, Accuracy: 4408/4672 (94.3493%)
___Test Local_ResNet_18 poisoned: False, epoch: 188: Average loss: 1.8713, Accuracy: 5878/10000 (58.7800%)
___Train Local_ResNet_18,  epoch 188, local model 98, internal_epoch   1,  Average loss: 0.0037, Accuracy: 3961/4161 (95.1935%)
___Train Local_ResNet_18,  epoch 188, local model 98, internal_epoch   2,  Average loss: 0.0049, Accuracy: 3833/4161 (92.1173%)
___Test Local_ResNet_18 poisoned: False, epoch: 188: Average loss: 2.2456, Accuracy: 5353/10000 (53.5300%)
___Train Local_ResNet_18,  epoch 188, local model 14, internal_epoch   1,  Average loss: 0.0021, Accuracy: 4049/4196 (96.4967%)
___Train Local_ResNet_18,  epoch 188, local model 14, internal_epoch   2,  Average loss: 0.0025, Accuracy: 4018/4196 (95.7579%)
___Test Local_ResNet_18 poisoned: False, epoch: 188: Average loss: 1.7843, Accuracy: 5905/10000 (59.0500%)
___Train Local_ResNet_18,  epoch 188, local model 62, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4953/5504 (89.9891%)
___Train Local_ResNet_18,  epoch 188, local model 62, internal_epoch   2,  Average loss: 0.0068, Accuracy: 4774/5504 (86.7369%)
___Test Local_ResNet_18 poisoned: False, epoch: 188: Average loss: 2.3487, Accuracy: 5049/10000 (50.4900%)
___Train Local_ResNet_18,  epoch 188, local model 25, internal_epoch   1,  Average loss: 0.0048, Accuracy: 5837/6419 (90.9332%)
___Train Local_ResNet_18,  epoch 188, local model 25, internal_epoch   2,  Average loss: 0.0073, Accuracy: 5480/6419 (85.3716%)
___Test Local_ResNet_18 poisoned: False, epoch: 188: Average loss: 2.2894, Accuracy: 5181/10000 (51.8100%)
___Train Local_ResNet_18,  epoch 188, local model 73, internal_epoch   1,  Average loss: 0.0028, Accuracy: 4375/4605 (95.0054%)
___Train Local_ResNet_18,  epoch 188, local model 73, internal_epoch   2,  Average loss: 0.0028, Accuracy: 4362/4605 (94.7231%)
___Test Local_ResNet_18 poisoned: False, epoch: 188: Average loss: 1.9867, Accuracy: 5723/10000 (57.2300%)
___Train Local_ResNet_18,  epoch 188, local model 29, internal_epoch   1,  Average loss: 0.0024, Accuracy: 4536/4732 (95.8580%)
___Train Local_ResNet_18,  epoch 188, local model 29, internal_epoch   2,  Average loss: 0.0026, Accuracy: 4500/4732 (95.0972%)
___Test Local_ResNet_18 poisoned: False, epoch: 188: Average loss: 1.8337, Accuracy: 5907/10000 (59.0700%)
time spent on training: 258.7564733028412
___Test Target_ResNet_18 poisoned: False, epoch: 188: Average loss: 1.5154, Accuracy: 6336/10000 (63.3600%)
___Test Target_ResNet_18 poisoned: True, epoch: 188: Average loss: 0.0219, Accuracy: 9842/9900 (99.4141%)
Done in 285.1400866508484 sec.
Server Epoch:189 choose agents : [13, 36, 58, 71, 1, 41, 43, 84, 99, 94, 23, 2, 40, 82, 59, 28, 14, 56, 63, 26].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 189, local model 13, internal_epoch   1,  Average loss: 0.0012, Accuracy: 5227/5308 (98.4740%), train_poison_data_count: 415
Global model norm: 44.82048748767479.
Norm before scaling: 44.77378852265994. Distance: 1.100181471420819
___Test Local_ResNet_18 poisoned: True, epoch: 189: Average loss: 0.0363, Accuracy: 9797/9900 (98.9596%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 189, local model 36, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5675/5777 (98.2344%), train_poison_data_count: 455
Global model norm: 44.82048748767479.
Norm before scaling: 44.76882623806855. Distance: 1.1621147604424846
___Test Local_ResNet_18 poisoned: True, epoch: 189: Average loss: 0.0323, Accuracy: 9827/9900 (99.2626%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 189, local model 58, internal_epoch   1,  Average loss: 0.0023, Accuracy: 5000/5123 (97.5991%), train_poison_data_count: 403
Global model norm: 44.82048748767479.
Norm before scaling: 44.77657343210077. Distance: 1.1937390611556804
___Test Local_ResNet_18 poisoned: True, epoch: 189: Average loss: 0.0445, Accuracy: 9780/9900 (98.7879%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 189, local model 71, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5379/5503 (97.7467%), train_poison_data_count: 430
Global model norm: 44.82048748767479.
Norm before scaling: 44.77583462327573. Distance: 1.2359911322260144
___Test Local_ResNet_18 poisoned: True, epoch: 189: Average loss: 0.0411, Accuracy: 9796/9900 (98.9495%)
___Train Local_ResNet_18,  epoch 189, local model 1, internal_epoch   1,  Average loss: 0.0026, Accuracy: 5163/5422 (95.2232%)
___Train Local_ResNet_18,  epoch 189, local model 1, internal_epoch   2,  Average loss: 0.0036, Accuracy: 5045/5422 (93.0468%)
___Test Local_ResNet_18 poisoned: False, epoch: 189: Average loss: 2.0455, Accuracy: 5503/10000 (55.0300%)
___Train Local_ResNet_18,  epoch 189, local model 41, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4474/4714 (94.9088%)
___Train Local_ResNet_18,  epoch 189, local model 41, internal_epoch   2,  Average loss: 0.0031, Accuracy: 4435/4714 (94.0815%)
___Test Local_ResNet_18 poisoned: False, epoch: 189: Average loss: 1.9852, Accuracy: 5695/10000 (56.9500%)
___Train Local_ResNet_18,  epoch 189, local model 43, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4689/4979 (94.1755%)
___Train Local_ResNet_18,  epoch 189, local model 43, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4579/4979 (91.9663%)
___Test Local_ResNet_18 poisoned: False, epoch: 189: Average loss: 2.2004, Accuracy: 5314/10000 (53.1400%)
___Train Local_ResNet_18,  epoch 189, local model 84, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4815/5209 (92.4362%)
___Train Local_ResNet_18,  epoch 189, local model 84, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4690/5209 (90.0365%)
___Test Local_ResNet_18 poisoned: False, epoch: 189: Average loss: 2.1546, Accuracy: 5391/10000 (53.9100%)
___Train Local_ResNet_18,  epoch 189, local model 99, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4458/4851 (91.8986%)
___Train Local_ResNet_18,  epoch 189, local model 99, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4408/4851 (90.8679%)
___Test Local_ResNet_18 poisoned: False, epoch: 189: Average loss: 2.0521, Accuracy: 5646/10000 (56.4600%)
___Train Local_ResNet_18,  epoch 189, local model 94, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4869/5224 (93.2044%)
___Train Local_ResNet_18,  epoch 189, local model 94, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4709/5224 (90.1417%)
___Test Local_ResNet_18 poisoned: False, epoch: 189: Average loss: 2.1848, Accuracy: 5337/10000 (53.3700%)
___Train Local_ResNet_18,  epoch 189, local model 23, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4303/4549 (94.5922%)
___Train Local_ResNet_18,  epoch 189, local model 23, internal_epoch   2,  Average loss: 0.0064, Accuracy: 4008/4549 (88.1073%)
___Test Local_ResNet_18 poisoned: False, epoch: 189: Average loss: 2.2245, Accuracy: 5249/10000 (52.4900%)
___Train Local_ResNet_18,  epoch 189, local model 2, internal_epoch   1,  Average loss: 0.0024, Accuracy: 3817/3968 (96.1946%)
___Train Local_ResNet_18,  epoch 189, local model 2, internal_epoch   2,  Average loss: 0.0027, Accuracy: 3769/3968 (94.9849%)
___Test Local_ResNet_18 poisoned: False, epoch: 189: Average loss: 1.7732, Accuracy: 5997/10000 (59.9700%)
___Train Local_ResNet_18,  epoch 189, local model 40, internal_epoch   1,  Average loss: 0.0034, Accuracy: 5546/5939 (93.3827%)
___Train Local_ResNet_18,  epoch 189, local model 40, internal_epoch   2,  Average loss: 0.0039, Accuracy: 5474/5939 (92.1704%)
___Test Local_ResNet_18 poisoned: False, epoch: 189: Average loss: 2.2566, Accuracy: 5272/10000 (52.7200%)
___Train Local_ResNet_18,  epoch 189, local model 82, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4948/5298 (93.3937%)
___Train Local_ResNet_18,  epoch 189, local model 82, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4911/5298 (92.6954%)
___Test Local_ResNet_18 poisoned: False, epoch: 189: Average loss: 2.0371, Accuracy: 5514/10000 (55.1400%)
___Train Local_ResNet_18,  epoch 189, local model 59, internal_epoch   1,  Average loss: 0.0025, Accuracy: 4194/4397 (95.3832%)
___Train Local_ResNet_18,  epoch 189, local model 59, internal_epoch   2,  Average loss: 0.0023, Accuracy: 4204/4397 (95.6106%)
___Test Local_ResNet_18 poisoned: False, epoch: 189: Average loss: 1.8253, Accuracy: 5919/10000 (59.1900%)
___Train Local_ResNet_18,  epoch 189, local model 28, internal_epoch   1,  Average loss: 0.0053, Accuracy: 4651/5122 (90.8044%)
___Train Local_ResNet_18,  epoch 189, local model 28, internal_epoch   2,  Average loss: 0.0110, Accuracy: 4087/5122 (79.7930%)
___Test Local_ResNet_18 poisoned: False, epoch: 189: Average loss: 2.5634, Accuracy: 4610/10000 (46.1000%)
___Train Local_ResNet_18,  epoch 189, local model 14, internal_epoch   1,  Average loss: 0.0022, Accuracy: 4044/4196 (96.3775%)
___Train Local_ResNet_18,  epoch 189, local model 14, internal_epoch   2,  Average loss: 0.0025, Accuracy: 3985/4196 (94.9714%)
___Test Local_ResNet_18 poisoned: False, epoch: 189: Average loss: 1.9629, Accuracy: 5665/10000 (56.6500%)
___Train Local_ResNet_18,  epoch 189, local model 56, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4983/5427 (91.8187%)
___Train Local_ResNet_18,  epoch 189, local model 56, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4853/5427 (89.4233%)
___Test Local_ResNet_18 poisoned: False, epoch: 189: Average loss: 2.1515, Accuracy: 5412/10000 (54.1200%)
___Train Local_ResNet_18,  epoch 189, local model 63, internal_epoch   1,  Average loss: 0.0028, Accuracy: 3721/3910 (95.1662%)
___Train Local_ResNet_18,  epoch 189, local model 63, internal_epoch   2,  Average loss: 0.0092, Accuracy: 3241/3910 (82.8900%)
___Test Local_ResNet_18 poisoned: False, epoch: 189: Average loss: 2.6028, Accuracy: 4796/10000 (47.9600%)
___Train Local_ResNet_18,  epoch 189, local model 26, internal_epoch   1,  Average loss: 0.0025, Accuracy: 3913/4086 (95.7660%)
___Train Local_ResNet_18,  epoch 189, local model 26, internal_epoch   2,  Average loss: 0.0027, Accuracy: 3882/4086 (95.0073%)
___Test Local_ResNet_18 poisoned: False, epoch: 189: Average loss: 2.0785, Accuracy: 5577/10000 (55.7700%)
time spent on training: 245.4182071685791
___Test Target_ResNet_18 poisoned: False, epoch: 189: Average loss: 1.5108, Accuracy: 6333/10000 (63.3300%)
___Test Target_ResNet_18 poisoned: True, epoch: 189: Average loss: 0.0226, Accuracy: 9842/9900 (99.4141%)
Done in 272.10809111595154 sec.
Server Epoch:190 choose agents : [13, 36, 58, 71, 27, 20, 75, 69, 86, 64, 19, 23, 31, 10, 76, 80, 97, 26, 52, 78].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 190, local model 13, internal_epoch   1,  Average loss: 0.0011, Accuracy: 5229/5308 (98.5117%), train_poison_data_count: 415
Global model norm: 44.83774458917119.
Norm before scaling: 44.78961508140726. Distance: 1.0741423423642935
___Test Local_ResNet_18 poisoned: True, epoch: 190: Average loss: 0.0159, Accuracy: 9857/9900 (99.5657%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 190, local model 36, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5668/5777 (98.1132%), train_poison_data_count: 455
Global model norm: 44.83774458917119.
Norm before scaling: 44.787639111561795. Distance: 1.1941433842570652
___Test Local_ResNet_18 poisoned: True, epoch: 190: Average loss: 0.0225, Accuracy: 9845/9900 (99.4444%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 190, local model 58, internal_epoch   1,  Average loss: 0.0024, Accuracy: 5017/5123 (97.9309%), train_poison_data_count: 403
Global model norm: 44.83774458917119.
Norm before scaling: 44.794966115154196. Distance: 1.2051046359269866
___Test Local_ResNet_18 poisoned: True, epoch: 190: Average loss: 0.0205, Accuracy: 9841/9900 (99.4040%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 190, local model 71, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5385/5503 (97.8557%), train_poison_data_count: 430
Global model norm: 44.83774458917119.
Norm before scaling: 44.792933151910944. Distance: 1.2435491045009746
___Test Local_ResNet_18 poisoned: True, epoch: 190: Average loss: 0.0288, Accuracy: 9829/9900 (99.2828%)
___Train Local_ResNet_18,  epoch 190, local model 27, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4289/4587 (93.5034%)
___Train Local_ResNet_18,  epoch 190, local model 27, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4235/4587 (92.3261%)
___Test Local_ResNet_18 poisoned: False, epoch: 190: Average loss: 1.9326, Accuracy: 5733/10000 (57.3300%)
___Train Local_ResNet_18,  epoch 190, local model 20, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4476/4714 (94.9512%)
___Train Local_ResNet_18,  epoch 190, local model 20, internal_epoch   2,  Average loss: 0.0032, Accuracy: 4434/4714 (94.0602%)
___Test Local_ResNet_18 poisoned: False, epoch: 190: Average loss: 1.9025, Accuracy: 5697/10000 (56.9700%)
___Train Local_ResNet_18,  epoch 190, local model 75, internal_epoch   1,  Average loss: 0.0028, Accuracy: 4422/4672 (94.6490%)
___Train Local_ResNet_18,  epoch 190, local model 75, internal_epoch   2,  Average loss: 0.0033, Accuracy: 4375/4672 (93.6430%)
___Test Local_ResNet_18 poisoned: False, epoch: 190: Average loss: 1.9666, Accuracy: 5766/10000 (57.6600%)
___Train Local_ResNet_18,  epoch 190, local model 69, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4058/4364 (92.9881%)
___Train Local_ResNet_18,  epoch 190, local model 69, internal_epoch   2,  Average loss: 0.0058, Accuracy: 3878/4364 (88.8634%)
___Test Local_ResNet_18 poisoned: False, epoch: 190: Average loss: 2.3163, Accuracy: 5087/10000 (50.8700%)
___Train Local_ResNet_18,  epoch 190, local model 86, internal_epoch   1,  Average loss: 0.0035, Accuracy: 3675/3929 (93.5353%)
___Train Local_ResNet_18,  epoch 190, local model 86, internal_epoch   2,  Average loss: 0.0040, Accuracy: 3605/3929 (91.7536%)
___Test Local_ResNet_18 poisoned: False, epoch: 190: Average loss: 1.9214, Accuracy: 5718/10000 (57.1800%)
___Train Local_ResNet_18,  epoch 190, local model 64, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4528/4894 (92.5215%)
___Train Local_ResNet_18,  epoch 190, local model 64, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4366/4894 (89.2113%)
___Test Local_ResNet_18 poisoned: False, epoch: 190: Average loss: 2.3025, Accuracy: 5149/10000 (51.4900%)
___Train Local_ResNet_18,  epoch 190, local model 19, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4945/5361 (92.2403%)
___Train Local_ResNet_18,  epoch 190, local model 19, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4810/5361 (89.7221%)
___Test Local_ResNet_18 poisoned: False, epoch: 190: Average loss: 2.1855, Accuracy: 5245/10000 (52.4500%)
___Train Local_ResNet_18,  epoch 190, local model 23, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4333/4549 (95.2517%)
___Train Local_ResNet_18,  epoch 190, local model 23, internal_epoch   2,  Average loss: 0.0092, Accuracy: 3749/4549 (82.4137%)
___Test Local_ResNet_18 poisoned: False, epoch: 190: Average loss: 2.4667, Accuracy: 4946/10000 (49.4600%)
___Train Local_ResNet_18,  epoch 190, local model 31, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4266/4537 (94.0269%)
___Train Local_ResNet_18,  epoch 190, local model 31, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4202/4537 (92.6163%)
___Test Local_ResNet_18 poisoned: False, epoch: 190: Average loss: 1.9559, Accuracy: 5677/10000 (56.7700%)
___Train Local_ResNet_18,  epoch 190, local model 10, internal_epoch   1,  Average loss: 0.0025, Accuracy: 4845/5068 (95.5998%)
___Train Local_ResNet_18,  epoch 190, local model 10, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4764/5068 (94.0016%)
___Test Local_ResNet_18 poisoned: False, epoch: 190: Average loss: 2.1637, Accuracy: 5340/10000 (53.4000%)
___Train Local_ResNet_18,  epoch 190, local model 76, internal_epoch   1,  Average loss: 0.0039, Accuracy: 3641/3959 (91.9677%)
___Train Local_ResNet_18,  epoch 190, local model 76, internal_epoch   2,  Average loss: 0.0046, Accuracy: 3601/3959 (90.9573%)
___Test Local_ResNet_18 poisoned: False, epoch: 190: Average loss: 2.1181, Accuracy: 5359/10000 (53.5900%)
___Train Local_ResNet_18,  epoch 190, local model 80, internal_epoch   1,  Average loss: 0.0036, Accuracy: 5097/5461 (93.3346%)
___Train Local_ResNet_18,  epoch 190, local model 80, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4939/5461 (90.4413%)
___Test Local_ResNet_18 poisoned: False, epoch: 190: Average loss: 2.4642, Accuracy: 5011/10000 (50.1100%)
___Train Local_ResNet_18,  epoch 190, local model 97, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4376/4736 (92.3986%)
___Train Local_ResNet_18,  epoch 190, local model 97, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4313/4736 (91.0684%)
___Test Local_ResNet_18 poisoned: False, epoch: 190: Average loss: 2.0984, Accuracy: 5550/10000 (55.5000%)
___Train Local_ResNet_18,  epoch 190, local model 26, internal_epoch   1,  Average loss: 0.0028, Accuracy: 3866/4086 (94.6158%)
___Train Local_ResNet_18,  epoch 190, local model 26, internal_epoch   2,  Average loss: 0.0031, Accuracy: 3846/4086 (94.1263%)
___Test Local_ResNet_18 poisoned: False, epoch: 190: Average loss: 1.9919, Accuracy: 5707/10000 (57.0700%)
___Train Local_ResNet_18,  epoch 190, local model 52, internal_epoch   1,  Average loss: 0.0031, Accuracy: 3882/4130 (93.9952%)
___Train Local_ResNet_18,  epoch 190, local model 52, internal_epoch   2,  Average loss: 0.0033, Accuracy: 3871/4130 (93.7288%)
___Test Local_ResNet_18 poisoned: False, epoch: 190: Average loss: 1.9550, Accuracy: 5662/10000 (56.6200%)
___Train Local_ResNet_18,  epoch 190, local model 78, internal_epoch   1,  Average loss: 0.0024, Accuracy: 4173/4368 (95.5357%)
___Train Local_ResNet_18,  epoch 190, local model 78, internal_epoch   2,  Average loss: 0.0025, Accuracy: 4173/4368 (95.5357%)
___Test Local_ResNet_18 poisoned: False, epoch: 190: Average loss: 1.8509, Accuracy: 5911/10000 (59.1100%)
time spent on training: 253.25203704833984
___Test Target_ResNet_18 poisoned: False, epoch: 190: Average loss: 1.5210, Accuracy: 6320/10000 (63.2000%)
___Test Target_ResNet_18 poisoned: True, epoch: 190: Average loss: 0.0211, Accuracy: 9848/9900 (99.4747%)
Done in 279.493590593338 sec.
Server Epoch:191 choose agents : [13, 36, 58, 71, 46, 98, 55, 51, 80, 4, 97, 11, 35, 61, 86, 6, 83, 73, 84, 7].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 191, local model 13, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5222/5308 (98.3798%), train_poison_data_count: 415
Global model norm: 44.85415547830407.
Norm before scaling: 44.808161782254444. Distance: 1.1417123497689197
___Test Local_ResNet_18 poisoned: True, epoch: 191: Average loss: 0.0255, Accuracy: 9838/9900 (99.3737%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 191, local model 36, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5676/5777 (98.2517%), train_poison_data_count: 455
Global model norm: 44.85415547830407.
Norm before scaling: 44.80366920704221. Distance: 1.1926512170078467
___Test Local_ResNet_18 poisoned: True, epoch: 191: Average loss: 0.0378, Accuracy: 9800/9900 (98.9899%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 191, local model 58, internal_epoch   1,  Average loss: 0.0021, Accuracy: 5012/5123 (97.8333%), train_poison_data_count: 403
Global model norm: 44.85415547830407.
Norm before scaling: 44.81019541668224. Distance: 1.1660502826389847
___Test Local_ResNet_18 poisoned: True, epoch: 191: Average loss: 0.0599, Accuracy: 9741/9900 (98.3939%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 191, local model 71, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5411/5503 (98.3282%), train_poison_data_count: 430
Global model norm: 44.85415547830407.
Norm before scaling: 44.806034063243786. Distance: 1.1257510856912907
___Test Local_ResNet_18 poisoned: True, epoch: 191: Average loss: 0.0649, Accuracy: 9724/9900 (98.2222%)
___Train Local_ResNet_18,  epoch 191, local model 46, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4922/5399 (91.1650%)
___Train Local_ResNet_18,  epoch 191, local model 46, internal_epoch   2,  Average loss: 0.0062, Accuracy: 4723/5399 (87.4792%)
___Test Local_ResNet_18 poisoned: False, epoch: 191: Average loss: 2.2389, Accuracy: 5185/10000 (51.8500%)
___Train Local_ResNet_18,  epoch 191, local model 98, internal_epoch   1,  Average loss: 0.0039, Accuracy: 3957/4161 (95.0973%)
___Train Local_ResNet_18,  epoch 191, local model 98, internal_epoch   2,  Average loss: 0.0045, Accuracy: 3897/4161 (93.6554%)
___Test Local_ResNet_18 poisoned: False, epoch: 191: Average loss: 2.0839, Accuracy: 5635/10000 (56.3500%)
___Train Local_ResNet_18,  epoch 191, local model 55, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4498/4731 (95.0750%)
___Train Local_ResNet_18,  epoch 191, local model 55, internal_epoch   2,  Average loss: 0.0033, Accuracy: 4437/4731 (93.7857%)
___Test Local_ResNet_18 poisoned: False, epoch: 191: Average loss: 1.9617, Accuracy: 5672/10000 (56.7200%)
___Train Local_ResNet_18,  epoch 191, local model 51, internal_epoch   1,  Average loss: 0.0028, Accuracy: 3907/4108 (95.1071%)
___Train Local_ResNet_18,  epoch 191, local model 51, internal_epoch   2,  Average loss: 0.0035, Accuracy: 3846/4108 (93.6222%)
___Test Local_ResNet_18 poisoned: False, epoch: 191: Average loss: 1.8549, Accuracy: 5792/10000 (57.9200%)
___Train Local_ResNet_18,  epoch 191, local model 80, internal_epoch   1,  Average loss: 0.0038, Accuracy: 5056/5461 (92.5838%)
___Train Local_ResNet_18,  epoch 191, local model 80, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4950/5461 (90.6427%)
___Test Local_ResNet_18 poisoned: False, epoch: 191: Average loss: 2.2448, Accuracy: 5201/10000 (52.0100%)
___Train Local_ResNet_18,  epoch 191, local model 4, internal_epoch   1,  Average loss: 0.0030, Accuracy: 3792/4028 (94.1410%)
___Train Local_ResNet_18,  epoch 191, local model 4, internal_epoch   2,  Average loss: 0.0034, Accuracy: 3751/4028 (93.1231%)
___Test Local_ResNet_18 poisoned: False, epoch: 191: Average loss: 1.9925, Accuracy: 5545/10000 (55.4500%)
___Train Local_ResNet_18,  epoch 191, local model 97, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4407/4736 (93.0532%)
___Train Local_ResNet_18,  epoch 191, local model 97, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4341/4736 (91.6596%)
___Test Local_ResNet_18 poisoned: False, epoch: 191: Average loss: 1.9924, Accuracy: 5610/10000 (56.1000%)
___Train Local_ResNet_18,  epoch 191, local model 11, internal_epoch   1,  Average loss: 0.0056, Accuracy: 5084/5702 (89.1617%)
___Train Local_ResNet_18,  epoch 191, local model 11, internal_epoch   2,  Average loss: 0.0113, Accuracy: 4481/5702 (78.5865%)
___Test Local_ResNet_18 poisoned: False, epoch: 191: Average loss: 2.4502, Accuracy: 4748/10000 (47.4800%)
___Train Local_ResNet_18,  epoch 191, local model 35, internal_epoch   1,  Average loss: 0.0033, Accuracy: 5267/5615 (93.8023%)
___Train Local_ResNet_18,  epoch 191, local model 35, internal_epoch   2,  Average loss: 0.0045, Accuracy: 5100/5615 (90.8281%)
___Test Local_ResNet_18 poisoned: False, epoch: 191: Average loss: 2.3618, Accuracy: 5202/10000 (52.0200%)
___Train Local_ResNet_18,  epoch 191, local model 61, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4192/4485 (93.4671%)
___Train Local_ResNet_18,  epoch 191, local model 61, internal_epoch   2,  Average loss: 0.0058, Accuracy: 3984/4485 (88.8294%)
___Test Local_ResNet_18 poisoned: False, epoch: 191: Average loss: 2.2804, Accuracy: 5148/10000 (51.4800%)
___Train Local_ResNet_18,  epoch 191, local model 86, internal_epoch   1,  Average loss: 0.0040, Accuracy: 3623/3929 (92.2118%)
___Train Local_ResNet_18,  epoch 191, local model 86, internal_epoch   2,  Average loss: 0.0046, Accuracy: 3561/3929 (90.6337%)
___Test Local_ResNet_18 poisoned: False, epoch: 191: Average loss: 1.9386, Accuracy: 5763/10000 (57.6300%)
___Train Local_ResNet_18,  epoch 191, local model 6, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4690/4929 (95.1511%)
___Train Local_ResNet_18,  epoch 191, local model 6, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4576/4929 (92.8383%)
___Test Local_ResNet_18 poisoned: False, epoch: 191: Average loss: 2.1487, Accuracy: 5603/10000 (56.0300%)
___Train Local_ResNet_18,  epoch 191, local model 83, internal_epoch   1,  Average loss: 0.0033, Accuracy: 3319/3552 (93.4403%)
___Train Local_ResNet_18,  epoch 191, local model 83, internal_epoch   2,  Average loss: 0.0031, Accuracy: 3343/3552 (94.1160%)
___Test Local_ResNet_18 poisoned: False, epoch: 191: Average loss: 1.8606, Accuracy: 5833/10000 (58.3300%)
___Train Local_ResNet_18,  epoch 191, local model 73, internal_epoch   1,  Average loss: 0.0024, Accuracy: 4408/4605 (95.7220%)
___Train Local_ResNet_18,  epoch 191, local model 73, internal_epoch   2,  Average loss: 0.0028, Accuracy: 4346/4605 (94.3757%)
___Test Local_ResNet_18 poisoned: False, epoch: 191: Average loss: 1.9597, Accuracy: 5739/10000 (57.3900%)
___Train Local_ResNet_18,  epoch 191, local model 84, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4863/5209 (93.3577%)
___Train Local_ResNet_18,  epoch 191, local model 84, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4695/5209 (90.1325%)
___Test Local_ResNet_18 poisoned: False, epoch: 191: Average loss: 2.1613, Accuracy: 5368/10000 (53.6800%)
___Train Local_ResNet_18,  epoch 191, local model 7, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4477/4869 (91.9491%)
___Train Local_ResNet_18,  epoch 191, local model 7, internal_epoch   2,  Average loss: 0.0112, Accuracy: 3888/4869 (79.8521%)
___Test Local_ResNet_18 poisoned: False, epoch: 191: Average loss: 2.8209, Accuracy: 4306/10000 (43.0600%)
time spent on training: 248.23285913467407
___Test Target_ResNet_18 poisoned: False, epoch: 191: Average loss: 1.5204, Accuracy: 6325/10000 (63.2500%)
___Test Target_ResNet_18 poisoned: True, epoch: 191: Average loss: 0.0209, Accuracy: 9845/9900 (99.4444%)
Done in 274.44991970062256 sec.
Server Epoch:192 choose agents : [13, 36, 58, 71, 14, 5, 1, 61, 91, 75, 59, 44, 12, 38, 53, 74, 20, 89, 0, 7].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 192, local model 13, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5232/5308 (98.5682%), train_poison_data_count: 415
Global model norm: 44.87084057586146.
Norm before scaling: 44.825540728054804. Distance: 1.144872621005873
___Test Local_ResNet_18 poisoned: True, epoch: 192: Average loss: 0.0347, Accuracy: 9813/9900 (99.1212%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 192, local model 36, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5684/5777 (98.3902%), train_poison_data_count: 455
Global model norm: 44.87084057586146.
Norm before scaling: 44.81833447896909. Distance: 1.1801049712737837
___Test Local_ResNet_18 poisoned: True, epoch: 192: Average loss: 0.0066, Accuracy: 9881/9900 (99.8081%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 192, local model 58, internal_epoch   1,  Average loss: 0.0022, Accuracy: 5006/5123 (97.7162%), train_poison_data_count: 403
Global model norm: 44.87084057586146.
Norm before scaling: 44.827429249132024. Distance: 1.2176395639406783
___Test Local_ResNet_18 poisoned: True, epoch: 192: Average loss: 0.0503, Accuracy: 9769/9900 (98.6768%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 192, local model 71, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5395/5503 (98.0374%), train_poison_data_count: 430
Global model norm: 44.87084057586146.
Norm before scaling: 44.82404292585342. Distance: 1.1766999669716653
___Test Local_ResNet_18 poisoned: True, epoch: 192: Average loss: 0.0251, Accuracy: 9842/9900 (99.4141%)
___Train Local_ResNet_18,  epoch 192, local model 14, internal_epoch   1,  Average loss: 0.0025, Accuracy: 4006/4196 (95.4719%)
___Train Local_ResNet_18,  epoch 192, local model 14, internal_epoch   2,  Average loss: 0.0031, Accuracy: 3971/4196 (94.6378%)
___Test Local_ResNet_18 poisoned: False, epoch: 192: Average loss: 1.8767, Accuracy: 5816/10000 (58.1600%)
___Train Local_ResNet_18,  epoch 192, local model 5, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4734/4993 (94.8127%)
___Train Local_ResNet_18,  epoch 192, local model 5, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4625/4993 (92.6297%)
___Test Local_ResNet_18 poisoned: False, epoch: 192: Average loss: 2.0805, Accuracy: 5619/10000 (56.1900%)
___Train Local_ResNet_18,  epoch 192, local model 1, internal_epoch   1,  Average loss: 0.0024, Accuracy: 5177/5422 (95.4814%)
___Train Local_ResNet_18,  epoch 192, local model 1, internal_epoch   2,  Average loss: 0.0038, Accuracy: 5019/5422 (92.5673%)
___Test Local_ResNet_18 poisoned: False, epoch: 192: Average loss: 2.1548, Accuracy: 5474/10000 (54.7400%)
___Train Local_ResNet_18,  epoch 192, local model 61, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4199/4485 (93.6232%)
___Train Local_ResNet_18,  epoch 192, local model 61, internal_epoch   2,  Average loss: 0.0102, Accuracy: 3677/4485 (81.9844%)
___Test Local_ResNet_18 poisoned: False, epoch: 192: Average loss: 2.2733, Accuracy: 4993/10000 (49.9300%)
___Train Local_ResNet_18,  epoch 192, local model 91, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4182/4527 (92.3791%)
___Train Local_ResNet_18,  epoch 192, local model 91, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4043/4527 (89.3086%)
___Test Local_ResNet_18 poisoned: False, epoch: 192: Average loss: 2.3599, Accuracy: 5093/10000 (50.9300%)
___Train Local_ResNet_18,  epoch 192, local model 75, internal_epoch   1,  Average loss: 0.0028, Accuracy: 4416/4672 (94.5205%)
___Train Local_ResNet_18,  epoch 192, local model 75, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4330/4672 (92.6798%)
___Test Local_ResNet_18 poisoned: False, epoch: 192: Average loss: 1.9170, Accuracy: 5759/10000 (57.5900%)
___Train Local_ResNet_18,  epoch 192, local model 59, internal_epoch   1,  Average loss: 0.0022, Accuracy: 4234/4397 (96.2929%)
___Train Local_ResNet_18,  epoch 192, local model 59, internal_epoch   2,  Average loss: 0.0025, Accuracy: 4190/4397 (95.2922%)
___Test Local_ResNet_18 poisoned: False, epoch: 192: Average loss: 1.8170, Accuracy: 5925/10000 (59.2500%)
___Train Local_ResNet_18,  epoch 192, local model 44, internal_epoch   1,  Average loss: 0.0028, Accuracy: 4811/5075 (94.7980%)
___Train Local_ResNet_18,  epoch 192, local model 44, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4659/5075 (91.8030%)
___Test Local_ResNet_18 poisoned: False, epoch: 192: Average loss: 2.0450, Accuracy: 5537/10000 (55.3700%)
___Train Local_ResNet_18,  epoch 192, local model 12, internal_epoch   1,  Average loss: 0.0039, Accuracy: 5132/5526 (92.8701%)
___Train Local_ResNet_18,  epoch 192, local model 12, internal_epoch   2,  Average loss: 0.0059, Accuracy: 4885/5526 (88.4003%)
___Test Local_ResNet_18 poisoned: False, epoch: 192: Average loss: 2.4884, Accuracy: 4801/10000 (48.0100%)
___Train Local_ResNet_18,  epoch 192, local model 38, internal_epoch   1,  Average loss: 0.0048, Accuracy: 5652/6235 (90.6496%)
___Train Local_ResNet_18,  epoch 192, local model 38, internal_epoch   2,  Average loss: 0.0065, Accuracy: 5433/6235 (87.1371%)
___Test Local_ResNet_18 poisoned: False, epoch: 192: Average loss: 2.2590, Accuracy: 5140/10000 (51.4000%)
___Train Local_ResNet_18,  epoch 192, local model 53, internal_epoch   1,  Average loss: 0.0051, Accuracy: 6032/6664 (90.5162%)
___Train Local_ResNet_18,  epoch 192, local model 53, internal_epoch   2,  Average loss: 0.0085, Accuracy: 5573/6664 (83.6285%)
___Test Local_ResNet_18 poisoned: False, epoch: 192: Average loss: 2.2940, Accuracy: 5010/10000 (50.1000%)
___Train Local_ResNet_18,  epoch 192, local model 74, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4483/4797 (93.4542%)
___Train Local_ResNet_18,  epoch 192, local model 74, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4358/4797 (90.8484%)
___Test Local_ResNet_18 poisoned: False, epoch: 192: Average loss: 2.1844, Accuracy: 5354/10000 (53.5400%)
___Train Local_ResNet_18,  epoch 192, local model 20, internal_epoch   1,  Average loss: 0.0021, Accuracy: 4533/4714 (96.1604%)
___Train Local_ResNet_18,  epoch 192, local model 20, internal_epoch   2,  Average loss: 0.0026, Accuracy: 4488/4714 (95.2058%)
___Test Local_ResNet_18 poisoned: False, epoch: 192: Average loss: 1.9048, Accuracy: 5763/10000 (57.6300%)
___Train Local_ResNet_18,  epoch 192, local model 89, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4460/4737 (94.1524%)
___Train Local_ResNet_18,  epoch 192, local model 89, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4379/4737 (92.4425%)
___Test Local_ResNet_18 poisoned: False, epoch: 192: Average loss: 2.2423, Accuracy: 5349/10000 (53.4900%)
___Train Local_ResNet_18,  epoch 192, local model 0, internal_epoch   1,  Average loss: 0.0038, Accuracy: 5069/5454 (92.9410%)
___Train Local_ResNet_18,  epoch 192, local model 0, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4933/5454 (90.4474%)
___Test Local_ResNet_18 poisoned: False, epoch: 192: Average loss: 2.1135, Accuracy: 5431/10000 (54.3100%)
___Train Local_ResNet_18,  epoch 192, local model 7, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4517/4869 (92.7706%)
___Train Local_ResNet_18,  epoch 192, local model 7, internal_epoch   2,  Average loss: 0.0073, Accuracy: 4192/4869 (86.0957%)
___Test Local_ResNet_18 poisoned: False, epoch: 192: Average loss: 2.5958, Accuracy: 4791/10000 (47.9100%)
time spent on training: 252.37749004364014
___Test Target_ResNet_18 poisoned: False, epoch: 192: Average loss: 1.5507, Accuracy: 6262/10000 (62.6200%)
___Test Target_ResNet_18 poisoned: True, epoch: 192: Average loss: 0.0194, Accuracy: 9851/9900 (99.5051%)
Done in 278.63003277778625 sec.
Server Epoch:193 choose agents : [13, 36, 58, 71, 17, 26, 15, 18, 38, 29, 82, 21, 84, 80, 85, 11, 12, 88, 89, 9].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 193, local model 13, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5203/5308 (98.0219%), train_poison_data_count: 415
Global model norm: 44.888959408275575.
Norm before scaling: 44.84253455452131. Distance: 1.1456482419883656
___Test Local_ResNet_18 poisoned: True, epoch: 193: Average loss: 0.0662, Accuracy: 9717/9900 (98.1515%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 193, local model 36, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5673/5777 (98.1998%), train_poison_data_count: 455
Global model norm: 44.888959408275575.
Norm before scaling: 44.83801003116315. Distance: 1.221912535654301
___Test Local_ResNet_18 poisoned: True, epoch: 193: Average loss: 0.0357, Accuracy: 9818/9900 (99.1717%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 193, local model 58, internal_epoch   1,  Average loss: 0.0022, Accuracy: 5017/5123 (97.9309%), train_poison_data_count: 403
Global model norm: 44.888959408275575.
Norm before scaling: 44.843751361062694. Distance: 1.146910865908901
___Test Local_ResNet_18 poisoned: True, epoch: 193: Average loss: 0.0336, Accuracy: 9811/9900 (99.1010%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 193, local model 71, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5404/5503 (98.2010%), train_poison_data_count: 430
Global model norm: 44.888959408275575.
Norm before scaling: 44.84232902800935. Distance: 1.1960469401821994
___Test Local_ResNet_18 poisoned: True, epoch: 193: Average loss: 0.0355, Accuracy: 9805/9900 (99.0404%)
___Train Local_ResNet_18,  epoch 193, local model 17, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4514/4903 (92.0661%)
___Train Local_ResNet_18,  epoch 193, local model 17, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4449/4903 (90.7404%)
___Test Local_ResNet_18 poisoned: False, epoch: 193: Average loss: 2.1294, Accuracy: 5397/10000 (53.9700%)
___Train Local_ResNet_18,  epoch 193, local model 26, internal_epoch   1,  Average loss: 0.0022, Accuracy: 3930/4086 (96.1821%)
___Train Local_ResNet_18,  epoch 193, local model 26, internal_epoch   2,  Average loss: 0.0023, Accuracy: 3898/4086 (95.3989%)
___Test Local_ResNet_18 poisoned: False, epoch: 193: Average loss: 1.9039, Accuracy: 5762/10000 (57.6200%)
___Train Local_ResNet_18,  epoch 193, local model 15, internal_epoch   1,  Average loss: 0.0034, Accuracy: 5659/6068 (93.2597%)
___Train Local_ResNet_18,  epoch 193, local model 15, internal_epoch   2,  Average loss: 0.0041, Accuracy: 5565/6068 (91.7106%)
___Test Local_ResNet_18 poisoned: False, epoch: 193: Average loss: 2.3631, Accuracy: 5158/10000 (51.5800%)
___Train Local_ResNet_18,  epoch 193, local model 18, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4009/4249 (94.3516%)
___Train Local_ResNet_18,  epoch 193, local model 18, internal_epoch   2,  Average loss: 0.0034, Accuracy: 3985/4249 (93.7868%)
___Test Local_ResNet_18 poisoned: False, epoch: 193: Average loss: 1.9055, Accuracy: 5883/10000 (58.8300%)
___Train Local_ResNet_18,  epoch 193, local model 38, internal_epoch   1,  Average loss: 0.0043, Accuracy: 5732/6235 (91.9326%)
___Train Local_ResNet_18,  epoch 193, local model 38, internal_epoch   2,  Average loss: 0.0058, Accuracy: 5532/6235 (88.7249%)
___Test Local_ResNet_18 poisoned: False, epoch: 193: Average loss: 2.6242, Accuracy: 4824/10000 (48.2400%)
___Train Local_ResNet_18,  epoch 193, local model 29, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4455/4732 (94.1462%)
___Train Local_ResNet_18,  epoch 193, local model 29, internal_epoch   2,  Average loss: 0.0031, Accuracy: 4454/4732 (94.1251%)
___Test Local_ResNet_18 poisoned: False, epoch: 193: Average loss: 1.8253, Accuracy: 5887/10000 (58.8700%)
___Train Local_ResNet_18,  epoch 193, local model 82, internal_epoch   1,  Average loss: 0.0027, Accuracy: 5025/5298 (94.8471%)
___Train Local_ResNet_18,  epoch 193, local model 82, internal_epoch   2,  Average loss: 0.0031, Accuracy: 4957/5298 (93.5636%)
___Test Local_ResNet_18 poisoned: False, epoch: 193: Average loss: 2.0247, Accuracy: 5653/10000 (56.5300%)
___Train Local_ResNet_18,  epoch 193, local model 21, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4690/5038 (93.0925%)
___Train Local_ResNet_18,  epoch 193, local model 21, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4608/5038 (91.4649%)
___Test Local_ResNet_18 poisoned: False, epoch: 193: Average loss: 2.1285, Accuracy: 5411/10000 (54.1100%)
___Train Local_ResNet_18,  epoch 193, local model 84, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4847/5209 (93.0505%)
___Train Local_ResNet_18,  epoch 193, local model 84, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4700/5209 (90.2285%)
___Test Local_ResNet_18 poisoned: False, epoch: 193: Average loss: 2.1541, Accuracy: 5351/10000 (53.5100%)
___Train Local_ResNet_18,  epoch 193, local model 80, internal_epoch   1,  Average loss: 0.0031, Accuracy: 5135/5461 (94.0304%)
___Train Local_ResNet_18,  epoch 193, local model 80, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4984/5461 (91.2653%)
___Test Local_ResNet_18 poisoned: False, epoch: 193: Average loss: 2.1424, Accuracy: 5517/10000 (55.1700%)
___Train Local_ResNet_18,  epoch 193, local model 85, internal_epoch   1,  Average loss: 0.0045, Accuracy: 6355/6947 (91.4783%)
___Train Local_ResNet_18,  epoch 193, local model 85, internal_epoch   2,  Average loss: 0.0068, Accuracy: 6007/6947 (86.4690%)
___Test Local_ResNet_18 poisoned: False, epoch: 193: Average loss: 2.4537, Accuracy: 4951/10000 (49.5100%)
___Train Local_ResNet_18,  epoch 193, local model 11, internal_epoch   1,  Average loss: 0.0054, Accuracy: 5127/5702 (89.9158%)
___Train Local_ResNet_18,  epoch 193, local model 11, internal_epoch   2,  Average loss: 0.0111, Accuracy: 4474/5702 (78.4637%)
___Test Local_ResNet_18 poisoned: False, epoch: 193: Average loss: 2.4093, Accuracy: 4996/10000 (49.9600%)
___Train Local_ResNet_18,  epoch 193, local model 12, internal_epoch   1,  Average loss: 0.0041, Accuracy: 5089/5526 (92.0919%)
___Train Local_ResNet_18,  epoch 193, local model 12, internal_epoch   2,  Average loss: 0.0065, Accuracy: 4830/5526 (87.4050%)
___Test Local_ResNet_18 poisoned: False, epoch: 193: Average loss: 2.4693, Accuracy: 4938/10000 (49.3800%)
___Train Local_ResNet_18,  epoch 193, local model 88, internal_epoch   1,  Average loss: 0.0034, Accuracy: 5000/5362 (93.2488%)
___Train Local_ResNet_18,  epoch 193, local model 88, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4863/5362 (90.6938%)
___Test Local_ResNet_18 poisoned: False, epoch: 193: Average loss: 2.4368, Accuracy: 4989/10000 (49.8900%)
___Train Local_ResNet_18,  epoch 193, local model 89, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4385/4737 (92.5691%)
___Train Local_ResNet_18,  epoch 193, local model 89, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4317/4737 (91.1336%)
___Test Local_ResNet_18 poisoned: False, epoch: 193: Average loss: 2.4829, Accuracy: 5014/10000 (50.1400%)
___Train Local_ResNet_18,  epoch 193, local model 9, internal_epoch   1,  Average loss: 0.0040, Accuracy: 5290/5727 (92.3695%)
___Train Local_ResNet_18,  epoch 193, local model 9, internal_epoch   2,  Average loss: 0.0056, Accuracy: 5096/5727 (88.9820%)
___Test Local_ResNet_18 poisoned: False, epoch: 193: Average loss: 2.0582, Accuracy: 5531/10000 (55.3100%)
time spent on training: 267.3791751861572
___Test Target_ResNet_18 poisoned: False, epoch: 193: Average loss: 1.5585, Accuracy: 6261/10000 (62.6100%)
___Test Target_ResNet_18 poisoned: True, epoch: 193: Average loss: 0.0182, Accuracy: 9854/9900 (99.5354%)
Done in 293.93513011932373 sec.
Server Epoch:194 choose agents : [13, 36, 58, 71, 7, 34, 31, 64, 77, 29, 99, 0, 33, 46, 72, 22, 88, 80, 11, 48].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 194, local model 13, internal_epoch   1,  Average loss: 0.0012, Accuracy: 5229/5308 (98.5117%), train_poison_data_count: 415
Global model norm: 44.90824657400423.
Norm before scaling: 44.86066073784399. Distance: 1.081111420587476
___Test Local_ResNet_18 poisoned: True, epoch: 194: Average loss: 0.0691, Accuracy: 9718/9900 (98.1616%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 194, local model 36, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5679/5777 (98.3036%), train_poison_data_count: 455
Global model norm: 44.90824657400423.
Norm before scaling: 44.85646324580077. Distance: 1.1592371732731466
___Test Local_ResNet_18 poisoned: True, epoch: 194: Average loss: 0.0520, Accuracy: 9764/9900 (98.6263%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 194, local model 58, internal_epoch   1,  Average loss: 0.0023, Accuracy: 4975/5123 (97.1111%), train_poison_data_count: 403
Global model norm: 44.90824657400423.
Norm before scaling: 44.8681036875376. Distance: 1.2812473948382432
___Test Local_ResNet_18 poisoned: True, epoch: 194: Average loss: 0.1511, Accuracy: 9473/9900 (95.6869%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 194, local model 71, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5402/5503 (98.1646%), train_poison_data_count: 430
Global model norm: 44.90824657400423.
Norm before scaling: 44.86075733676511. Distance: 1.1854633132168335
___Test Local_ResNet_18 poisoned: True, epoch: 194: Average loss: 0.0171, Accuracy: 9857/9900 (99.5657%)
___Train Local_ResNet_18,  epoch 194, local model 7, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4538/4869 (93.2019%)
___Train Local_ResNet_18,  epoch 194, local model 7, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4363/4869 (89.6077%)
___Test Local_ResNet_18 poisoned: False, epoch: 194: Average loss: 2.2390, Accuracy: 5272/10000 (52.7200%)
___Train Local_ResNet_18,  epoch 194, local model 34, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4607/4911 (93.8098%)
___Train Local_ResNet_18,  epoch 194, local model 34, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4574/4911 (93.1379%)
___Test Local_ResNet_18 poisoned: False, epoch: 194: Average loss: 2.0139, Accuracy: 5545/10000 (55.4500%)
___Train Local_ResNet_18,  epoch 194, local model 31, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4269/4537 (94.0930%)
___Train Local_ResNet_18,  epoch 194, local model 31, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4227/4537 (93.1673%)
___Test Local_ResNet_18 poisoned: False, epoch: 194: Average loss: 1.9693, Accuracy: 5722/10000 (57.2200%)
___Train Local_ResNet_18,  epoch 194, local model 64, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4512/4894 (92.1945%)
___Train Local_ResNet_18,  epoch 194, local model 64, internal_epoch   2,  Average loss: 0.0058, Accuracy: 4338/4894 (88.6391%)
___Test Local_ResNet_18 poisoned: False, epoch: 194: Average loss: 2.3587, Accuracy: 5112/10000 (51.1200%)
___Train Local_ResNet_18,  epoch 194, local model 77, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4649/5050 (92.0594%)
___Train Local_ResNet_18,  epoch 194, local model 77, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4529/5050 (89.6832%)
___Test Local_ResNet_18 poisoned: False, epoch: 194: Average loss: 2.1326, Accuracy: 5302/10000 (53.0200%)
___Train Local_ResNet_18,  epoch 194, local model 29, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4505/4732 (95.2029%)
___Train Local_ResNet_18,  epoch 194, local model 29, internal_epoch   2,  Average loss: 0.0027, Accuracy: 4476/4732 (94.5900%)
___Test Local_ResNet_18 poisoned: False, epoch: 194: Average loss: 1.8289, Accuracy: 5922/10000 (59.2200%)
___Train Local_ResNet_18,  epoch 194, local model 99, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4532/4851 (93.4240%)
___Train Local_ResNet_18,  epoch 194, local model 99, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4452/4851 (91.7749%)
___Test Local_ResNet_18 poisoned: False, epoch: 194: Average loss: 1.9622, Accuracy: 5631/10000 (56.3100%)
___Train Local_ResNet_18,  epoch 194, local model 0, internal_epoch   1,  Average loss: 0.0034, Accuracy: 5123/5454 (93.9311%)
___Train Local_ResNet_18,  epoch 194, local model 0, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4927/5454 (90.3374%)
___Test Local_ResNet_18 poisoned: False, epoch: 194: Average loss: 2.0392, Accuracy: 5492/10000 (54.9200%)
___Train Local_ResNet_18,  epoch 194, local model 33, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4521/4818 (93.8356%)
___Train Local_ResNet_18,  epoch 194, local model 33, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4324/4818 (89.7468%)
___Test Local_ResNet_18 poisoned: False, epoch: 194: Average loss: 2.1685, Accuracy: 5295/10000 (52.9500%)
___Train Local_ResNet_18,  epoch 194, local model 46, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4932/5399 (91.3503%)
___Train Local_ResNet_18,  epoch 194, local model 46, internal_epoch   2,  Average loss: 0.0062, Accuracy: 4723/5399 (87.4792%)
___Test Local_ResNet_18 poisoned: False, epoch: 194: Average loss: 2.3408, Accuracy: 5088/10000 (50.8800%)
___Train Local_ResNet_18,  epoch 194, local model 72, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4815/5193 (92.7210%)
___Train Local_ResNet_18,  epoch 194, local model 72, internal_epoch   2,  Average loss: 0.0069, Accuracy: 4513/5193 (86.9054%)
___Test Local_ResNet_18 poisoned: False, epoch: 194: Average loss: 2.3583, Accuracy: 5018/10000 (50.1800%)
___Train Local_ResNet_18,  epoch 194, local model 22, internal_epoch   1,  Average loss: 0.0028, Accuracy: 5384/5696 (94.5225%)
___Train Local_ResNet_18,  epoch 194, local model 22, internal_epoch   2,  Average loss: 0.0045, Accuracy: 5193/5696 (91.1692%)
___Test Local_ResNet_18 poisoned: False, epoch: 194: Average loss: 2.0588, Accuracy: 5522/10000 (55.2200%)
___Train Local_ResNet_18,  epoch 194, local model 88, internal_epoch   1,  Average loss: 0.0033, Accuracy: 5021/5362 (93.6404%)
___Train Local_ResNet_18,  epoch 194, local model 88, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4901/5362 (91.4025%)
___Test Local_ResNet_18 poisoned: False, epoch: 194: Average loss: 2.1445, Accuracy: 5363/10000 (53.6300%)
___Train Local_ResNet_18,  epoch 194, local model 80, internal_epoch   1,  Average loss: 0.0031, Accuracy: 5152/5461 (94.3417%)
___Train Local_ResNet_18,  epoch 194, local model 80, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4991/5461 (91.3935%)
___Test Local_ResNet_18 poisoned: False, epoch: 194: Average loss: 2.1546, Accuracy: 5396/10000 (53.9600%)
___Train Local_ResNet_18,  epoch 194, local model 11, internal_epoch   1,  Average loss: 0.0059, Accuracy: 5041/5702 (88.4076%)
___Train Local_ResNet_18,  epoch 194, local model 11, internal_epoch   2,  Average loss: 0.0098, Accuracy: 4607/5702 (80.7962%)
___Test Local_ResNet_18 poisoned: False, epoch: 194: Average loss: 2.5515, Accuracy: 4714/10000 (47.1400%)
___Train Local_ResNet_18,  epoch 194, local model 48, internal_epoch   1,  Average loss: 0.0025, Accuracy: 4609/4830 (95.4244%)
___Train Local_ResNet_18,  epoch 194, local model 48, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4490/4830 (92.9607%)
___Test Local_ResNet_18 poisoned: False, epoch: 194: Average loss: 2.1795, Accuracy: 5406/10000 (54.0600%)
time spent on training: 256.5142135620117
___Test Target_ResNet_18 poisoned: False, epoch: 194: Average loss: 1.5745, Accuracy: 6233/10000 (62.3300%)
___Test Target_ResNet_18 poisoned: True, epoch: 194: Average loss: 0.0191, Accuracy: 9850/9900 (99.4949%)
Done in 283.31065797805786 sec.
Server Epoch:195 choose agents : [13, 36, 58, 71, 31, 7, 49, 8, 57, 89, 19, 42, 51, 98, 15, 35, 76, 48, 75, 67].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 195, local model 13, internal_epoch   1,  Average loss: 0.0012, Accuracy: 5240/5308 (98.7189%), train_poison_data_count: 415
Global model norm: 44.927559422954694.
Norm before scaling: 44.877890151098484. Distance: 1.063636844771246
___Test Local_ResNet_18 poisoned: True, epoch: 195: Average loss: 0.0329, Accuracy: 9820/9900 (99.1919%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 195, local model 36, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5673/5777 (98.1998%), train_poison_data_count: 455
Global model norm: 44.927559422954694.
Norm before scaling: 44.87414855999359. Distance: 1.1814406548898728
___Test Local_ResNet_18 poisoned: True, epoch: 195: Average loss: 0.0099, Accuracy: 9871/9900 (99.7071%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 195, local model 58, internal_epoch   1,  Average loss: 0.0021, Accuracy: 4995/5123 (97.5015%), train_poison_data_count: 403
Global model norm: 44.927559422954694.
Norm before scaling: 44.8829260496823. Distance: 1.1718999732853352
___Test Local_ResNet_18 poisoned: True, epoch: 195: Average loss: 0.0254, Accuracy: 9830/9900 (99.2929%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 195, local model 71, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5406/5503 (98.2373%), train_poison_data_count: 430
Global model norm: 44.927559422954694.
Norm before scaling: 44.87885032010833. Distance: 1.1628068129398625
___Test Local_ResNet_18 poisoned: True, epoch: 195: Average loss: 0.0706, Accuracy: 9716/9900 (98.1414%)
___Train Local_ResNet_18,  epoch 195, local model 31, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4285/4537 (94.4457%)
___Train Local_ResNet_18,  epoch 195, local model 31, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4259/4537 (93.8726%)
___Test Local_ResNet_18 poisoned: False, epoch: 195: Average loss: 1.9145, Accuracy: 5780/10000 (57.8000%)
___Train Local_ResNet_18,  epoch 195, local model 7, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4550/4869 (93.4483%)
___Train Local_ResNet_18,  epoch 195, local model 7, internal_epoch   2,  Average loss: 0.0103, Accuracy: 3922/4869 (80.5504%)
___Test Local_ResNet_18 poisoned: False, epoch: 195: Average loss: 2.5496, Accuracy: 4737/10000 (47.3700%)
___Train Local_ResNet_18,  epoch 195, local model 49, internal_epoch   1,  Average loss: 0.0043, Accuracy: 5180/5652 (91.6490%)
___Train Local_ResNet_18,  epoch 195, local model 49, internal_epoch   2,  Average loss: 0.0055, Accuracy: 5037/5652 (89.1189%)
___Test Local_ResNet_18 poisoned: False, epoch: 195: Average loss: 2.4550, Accuracy: 4929/10000 (49.2900%)
___Train Local_ResNet_18,  epoch 195, local model 8, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4569/4889 (93.4547%)
___Train Local_ResNet_18,  epoch 195, local model 8, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4523/4889 (92.5138%)
___Test Local_ResNet_18 poisoned: False, epoch: 195: Average loss: 2.0604, Accuracy: 5572/10000 (55.7200%)
___Train Local_ResNet_18,  epoch 195, local model 57, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4644/4956 (93.7046%)
___Train Local_ResNet_18,  epoch 195, local model 57, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4529/4956 (91.3842%)
___Test Local_ResNet_18 poisoned: False, epoch: 195: Average loss: 2.1821, Accuracy: 5378/10000 (53.7800%)
___Train Local_ResNet_18,  epoch 195, local model 89, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4392/4737 (92.7169%)
___Train Local_ResNet_18,  epoch 195, local model 89, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4365/4737 (92.1469%)
___Test Local_ResNet_18 poisoned: False, epoch: 195: Average loss: 2.2777, Accuracy: 5299/10000 (52.9900%)
___Train Local_ResNet_18,  epoch 195, local model 19, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4983/5361 (92.9491%)
___Train Local_ResNet_18,  epoch 195, local model 19, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4795/5361 (89.4423%)
___Test Local_ResNet_18 poisoned: False, epoch: 195: Average loss: 2.2045, Accuracy: 5272/10000 (52.7200%)
___Train Local_ResNet_18,  epoch 195, local model 42, internal_epoch   1,  Average loss: 0.0042, Accuracy: 5453/5907 (92.3142%)
___Train Local_ResNet_18,  epoch 195, local model 42, internal_epoch   2,  Average loss: 0.0052, Accuracy: 5290/5907 (89.5548%)
___Test Local_ResNet_18 poisoned: False, epoch: 195: Average loss: 2.3807, Accuracy: 5033/10000 (50.3300%)
___Train Local_ResNet_18,  epoch 195, local model 51, internal_epoch   1,  Average loss: 0.0029, Accuracy: 3902/4108 (94.9854%)
___Train Local_ResNet_18,  epoch 195, local model 51, internal_epoch   2,  Average loss: 0.0036, Accuracy: 3818/4108 (92.9406%)
___Test Local_ResNet_18 poisoned: False, epoch: 195: Average loss: 2.0185, Accuracy: 5577/10000 (55.7700%)
___Train Local_ResNet_18,  epoch 195, local model 98, internal_epoch   1,  Average loss: 0.0039, Accuracy: 3937/4161 (94.6167%)
___Train Local_ResNet_18,  epoch 195, local model 98, internal_epoch   2,  Average loss: 0.0047, Accuracy: 3861/4161 (92.7902%)
___Test Local_ResNet_18 poisoned: False, epoch: 195: Average loss: 1.9887, Accuracy: 5755/10000 (57.5500%)
___Train Local_ResNet_18,  epoch 195, local model 15, internal_epoch   1,  Average loss: 0.0034, Accuracy: 5672/6068 (93.4740%)
___Train Local_ResNet_18,  epoch 195, local model 15, internal_epoch   2,  Average loss: 0.0043, Accuracy: 5558/6068 (91.5953%)
___Test Local_ResNet_18 poisoned: False, epoch: 195: Average loss: 2.2399, Accuracy: 5343/10000 (53.4300%)
___Train Local_ResNet_18,  epoch 195, local model 35, internal_epoch   1,  Average loss: 0.0033, Accuracy: 5263/5615 (93.7311%)
___Train Local_ResNet_18,  epoch 195, local model 35, internal_epoch   2,  Average loss: 0.0045, Accuracy: 5126/5615 (91.2912%)
___Test Local_ResNet_18 poisoned: False, epoch: 195: Average loss: 2.1165, Accuracy: 5389/10000 (53.8900%)
___Train Local_ResNet_18,  epoch 195, local model 76, internal_epoch   1,  Average loss: 0.0038, Accuracy: 3646/3959 (92.0940%)
___Train Local_ResNet_18,  epoch 195, local model 76, internal_epoch   2,  Average loss: 0.0046, Accuracy: 3603/3959 (91.0078%)
___Test Local_ResNet_18 poisoned: False, epoch: 195: Average loss: 2.0446, Accuracy: 5505/10000 (55.0500%)
___Train Local_ResNet_18,  epoch 195, local model 48, internal_epoch   1,  Average loss: 0.0025, Accuracy: 4602/4830 (95.2795%)
___Train Local_ResNet_18,  epoch 195, local model 48, internal_epoch   2,  Average loss: 0.0031, Accuracy: 4527/4830 (93.7267%)
___Test Local_ResNet_18 poisoned: False, epoch: 195: Average loss: 2.1092, Accuracy: 5543/10000 (55.4300%)
___Train Local_ResNet_18,  epoch 195, local model 75, internal_epoch   1,  Average loss: 0.0026, Accuracy: 4446/4672 (95.1627%)
___Train Local_ResNet_18,  epoch 195, local model 75, internal_epoch   2,  Average loss: 0.0033, Accuracy: 4357/4672 (93.2577%)
___Test Local_ResNet_18 poisoned: False, epoch: 195: Average loss: 2.0962, Accuracy: 5538/10000 (55.3800%)
___Train Local_ResNet_18,  epoch 195, local model 67, internal_epoch   1,  Average loss: 0.0039, Accuracy: 5147/5559 (92.5886%)
___Train Local_ResNet_18,  epoch 195, local model 67, internal_epoch   2,  Average loss: 0.0065, Accuracy: 4841/5559 (87.0840%)
___Test Local_ResNet_18 poisoned: False, epoch: 195: Average loss: 2.2066, Accuracy: 5200/10000 (52.0000%)
time spent on training: 248.8615734577179
___Test Target_ResNet_18 poisoned: False, epoch: 195: Average loss: 1.5886, Accuracy: 6216/10000 (62.1600%)
___Test Target_ResNet_18 poisoned: True, epoch: 195: Average loss: 0.0167, Accuracy: 9855/9900 (99.5455%)
Done in 275.3395013809204 sec.
Server Epoch:196 choose agents : [13, 36, 58, 71, 21, 78, 19, 42, 25, 70, 73, 31, 96, 99, 88, 18, 0, 54, 32, 45].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 196, local model 13, internal_epoch   1,  Average loss: 0.0012, Accuracy: 5226/5308 (98.4552%), train_poison_data_count: 415
Global model norm: 44.94551959256131.
Norm before scaling: 44.89650234541175. Distance: 1.0799412011105698
___Test Local_ResNet_18 poisoned: True, epoch: 196: Average loss: 0.0340, Accuracy: 9815/9900 (99.1414%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 196, local model 36, internal_epoch   1,  Average loss: 0.0012, Accuracy: 5698/5777 (98.6325%), train_poison_data_count: 455
Global model norm: 44.94551959256131.
Norm before scaling: 44.89233131764057. Distance: 1.1377123393475068
___Test Local_ResNet_18 poisoned: True, epoch: 196: Average loss: 0.0166, Accuracy: 9862/9900 (99.6162%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 196, local model 58, internal_epoch   1,  Average loss: 0.0023, Accuracy: 4991/5123 (97.4234%), train_poison_data_count: 403
Global model norm: 44.94551959256131.
Norm before scaling: 44.90258009534363. Distance: 1.219326958660678
___Test Local_ResNet_18 poisoned: True, epoch: 196: Average loss: 0.0944, Accuracy: 9648/9900 (97.4545%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 196, local model 71, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5413/5503 (98.3645%), train_poison_data_count: 430
Global model norm: 44.94551959256131.
Norm before scaling: 44.897080113681945. Distance: 1.1638431214342484
___Test Local_ResNet_18 poisoned: True, epoch: 196: Average loss: 0.0370, Accuracy: 9806/9900 (99.0505%)
___Train Local_ResNet_18,  epoch 196, local model 21, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4677/5038 (92.8345%)
___Train Local_ResNet_18,  epoch 196, local model 21, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4651/5038 (92.3184%)
___Test Local_ResNet_18 poisoned: False, epoch: 196: Average loss: 1.8743, Accuracy: 5753/10000 (57.5300%)
___Train Local_ResNet_18,  epoch 196, local model 78, internal_epoch   1,  Average loss: 0.0022, Accuracy: 4208/4368 (96.3370%)
___Train Local_ResNet_18,  epoch 196, local model 78, internal_epoch   2,  Average loss: 0.0026, Accuracy: 4157/4368 (95.1694%)
___Test Local_ResNet_18 poisoned: False, epoch: 196: Average loss: 1.9468, Accuracy: 5788/10000 (57.8800%)
___Train Local_ResNet_18,  epoch 196, local model 19, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4912/5361 (91.6247%)
___Train Local_ResNet_18,  epoch 196, local model 19, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4795/5361 (89.4423%)
___Test Local_ResNet_18 poisoned: False, epoch: 196: Average loss: 2.2073, Accuracy: 5300/10000 (53.0000%)
___Train Local_ResNet_18,  epoch 196, local model 42, internal_epoch   1,  Average loss: 0.0035, Accuracy: 5508/5907 (93.2453%)
___Train Local_ResNet_18,  epoch 196, local model 42, internal_epoch   2,  Average loss: 0.0043, Accuracy: 5390/5907 (91.2477%)
___Test Local_ResNet_18 poisoned: False, epoch: 196: Average loss: 2.4329, Accuracy: 4942/10000 (49.4200%)
___Train Local_ResNet_18,  epoch 196, local model 25, internal_epoch   1,  Average loss: 0.0045, Accuracy: 5857/6419 (91.2447%)
___Train Local_ResNet_18,  epoch 196, local model 25, internal_epoch   2,  Average loss: 0.0068, Accuracy: 5558/6419 (86.5867%)
___Test Local_ResNet_18 poisoned: False, epoch: 196: Average loss: 2.4868, Accuracy: 5022/10000 (50.2200%)
___Train Local_ResNet_18,  epoch 196, local model 70, internal_epoch   1,  Average loss: 0.0032, Accuracy: 5505/5871 (93.7660%)
___Train Local_ResNet_18,  epoch 196, local model 70, internal_epoch   2,  Average loss: 0.0040, Accuracy: 5433/5871 (92.5396%)
___Test Local_ResNet_18 poisoned: False, epoch: 196: Average loss: 2.2232, Accuracy: 5275/10000 (52.7500%)
___Train Local_ResNet_18,  epoch 196, local model 73, internal_epoch   1,  Average loss: 0.0023, Accuracy: 4424/4605 (96.0695%)
___Train Local_ResNet_18,  epoch 196, local model 73, internal_epoch   2,  Average loss: 0.0027, Accuracy: 4369/4605 (94.8751%)
___Test Local_ResNet_18 poisoned: False, epoch: 196: Average loss: 1.9055, Accuracy: 5896/10000 (58.9600%)
___Train Local_ResNet_18,  epoch 196, local model 31, internal_epoch   1,  Average loss: 0.0028, Accuracy: 4302/4537 (94.8204%)
___Train Local_ResNet_18,  epoch 196, local model 31, internal_epoch   2,  Average loss: 0.0028, Accuracy: 4301/4537 (94.7983%)
___Test Local_ResNet_18 poisoned: False, epoch: 196: Average loss: 1.9453, Accuracy: 5784/10000 (57.8400%)
___Train Local_ResNet_18,  epoch 196, local model 96, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4774/5086 (93.8655%)
___Train Local_ResNet_18,  epoch 196, local model 96, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4707/5086 (92.5482%)
___Test Local_ResNet_18 poisoned: False, epoch: 196: Average loss: 1.9366, Accuracy: 5699/10000 (56.9900%)
___Train Local_ResNet_18,  epoch 196, local model 99, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4549/4851 (93.7745%)
___Train Local_ResNet_18,  epoch 196, local model 99, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4502/4851 (92.8056%)
___Test Local_ResNet_18 poisoned: False, epoch: 196: Average loss: 1.9879, Accuracy: 5727/10000 (57.2700%)
___Train Local_ResNet_18,  epoch 196, local model 88, internal_epoch   1,  Average loss: 0.0031, Accuracy: 5050/5362 (94.1813%)
___Train Local_ResNet_18,  epoch 196, local model 88, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4889/5362 (91.1787%)
___Test Local_ResNet_18 poisoned: False, epoch: 196: Average loss: 2.1402, Accuracy: 5394/10000 (53.9400%)
___Train Local_ResNet_18,  epoch 196, local model 18, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4041/4249 (95.1047%)
___Train Local_ResNet_18,  epoch 196, local model 18, internal_epoch   2,  Average loss: 0.0042, Accuracy: 3917/4249 (92.1864%)
___Test Local_ResNet_18 poisoned: False, epoch: 196: Average loss: 2.0204, Accuracy: 5584/10000 (55.8400%)
___Train Local_ResNet_18,  epoch 196, local model 0, internal_epoch   1,  Average loss: 0.0035, Accuracy: 5098/5454 (93.4727%)
___Train Local_ResNet_18,  epoch 196, local model 0, internal_epoch   2,  Average loss: 0.0054, Accuracy: 4889/5454 (89.6406%)
___Test Local_ResNet_18 poisoned: False, epoch: 196: Average loss: 2.3908, Accuracy: 5209/10000 (52.0900%)
___Train Local_ResNet_18,  epoch 196, local model 54, internal_epoch   1,  Average loss: 0.0041, Accuracy: 5184/5645 (91.8335%)
___Train Local_ResNet_18,  epoch 196, local model 54, internal_epoch   2,  Average loss: 0.0060, Accuracy: 4981/5645 (88.2374%)
___Test Local_ResNet_18 poisoned: False, epoch: 196: Average loss: 2.3924, Accuracy: 5131/10000 (51.3100%)
___Train Local_ResNet_18,  epoch 196, local model 32, internal_epoch   1,  Average loss: 0.0050, Accuracy: 5511/6080 (90.6414%)
___Train Local_ResNet_18,  epoch 196, local model 32, internal_epoch   2,  Average loss: 0.0062, Accuracy: 5325/6080 (87.5822%)
___Test Local_ResNet_18 poisoned: False, epoch: 196: Average loss: 2.3333, Accuracy: 5024/10000 (50.2400%)
___Train Local_ResNet_18,  epoch 196, local model 45, internal_epoch   1,  Average loss: 0.0035, Accuracy: 5112/5489 (93.1317%)
___Train Local_ResNet_18,  epoch 196, local model 45, internal_epoch   2,  Average loss: 0.0042, Accuracy: 5021/5489 (91.4739%)
___Test Local_ResNet_18 poisoned: False, epoch: 196: Average loss: 2.2496, Accuracy: 5198/10000 (51.9800%)
time spent on training: 263.2391576766968
___Test Target_ResNet_18 poisoned: False, epoch: 196: Average loss: 1.5803, Accuracy: 6222/10000 (62.2200%)
___Test Target_ResNet_18 poisoned: True, epoch: 196: Average loss: 0.0162, Accuracy: 9858/9900 (99.5758%)
Done in 289.65688586235046 sec.
Server Epoch:197 choose agents : [13, 36, 58, 71, 84, 48, 20, 55, 59, 40, 92, 0, 16, 85, 82, 90, 52, 6, 15, 97].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 197, local model 13, internal_epoch   1,  Average loss: 0.0012, Accuracy: 5222/5308 (98.3798%), train_poison_data_count: 415
Global model norm: 44.96388117535632.
Norm before scaling: 44.91523184575376. Distance: 1.088034437114911
___Test Local_ResNet_18 poisoned: True, epoch: 197: Average loss: 0.0352, Accuracy: 9809/9900 (99.0808%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 197, local model 36, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5669/5777 (98.1305%), train_poison_data_count: 455
Global model norm: 44.96388117535632.
Norm before scaling: 44.912047838142776. Distance: 1.1981462286320654
___Test Local_ResNet_18 poisoned: True, epoch: 197: Average loss: 0.0224, Accuracy: 9840/9900 (99.3939%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 197, local model 58, internal_epoch   1,  Average loss: 0.0023, Accuracy: 5018/5123 (97.9504%), train_poison_data_count: 403
Global model norm: 44.96388117535632.
Norm before scaling: 44.91785443964279. Distance: 1.1356729107472265
___Test Local_ResNet_18 poisoned: True, epoch: 197: Average loss: 0.0529, Accuracy: 9758/9900 (98.5657%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 197, local model 71, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5393/5503 (98.0011%), train_poison_data_count: 430
Global model norm: 44.96388117535632.
Norm before scaling: 44.915788989907966. Distance: 1.1715042545047603
___Test Local_ResNet_18 poisoned: True, epoch: 197: Average loss: 0.0498, Accuracy: 9766/9900 (98.6465%)
___Train Local_ResNet_18,  epoch 197, local model 84, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4855/5209 (93.2041%)
___Train Local_ResNet_18,  epoch 197, local model 84, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4716/5209 (90.5356%)
___Test Local_ResNet_18 poisoned: False, epoch: 197: Average loss: 2.3415, Accuracy: 5168/10000 (51.6800%)
___Train Local_ResNet_18,  epoch 197, local model 48, internal_epoch   1,  Average loss: 0.0024, Accuracy: 4617/4830 (95.5901%)
___Train Local_ResNet_18,  epoch 197, local model 48, internal_epoch   2,  Average loss: 0.0032, Accuracy: 4523/4830 (93.6439%)
___Test Local_ResNet_18 poisoned: False, epoch: 197: Average loss: 2.1008, Accuracy: 5547/10000 (55.4700%)
___Train Local_ResNet_18,  epoch 197, local model 20, internal_epoch   1,  Average loss: 0.0023, Accuracy: 4521/4714 (95.9058%)
___Train Local_ResNet_18,  epoch 197, local model 20, internal_epoch   2,  Average loss: 0.0026, Accuracy: 4490/4714 (95.2482%)
___Test Local_ResNet_18 poisoned: False, epoch: 197: Average loss: 1.8785, Accuracy: 5805/10000 (58.0500%)
___Train Local_ResNet_18,  epoch 197, local model 55, internal_epoch   1,  Average loss: 0.0024, Accuracy: 4524/4731 (95.6246%)
___Train Local_ResNet_18,  epoch 197, local model 55, internal_epoch   2,  Average loss: 0.0029, Accuracy: 4463/4731 (94.3352%)
___Test Local_ResNet_18 poisoned: False, epoch: 197: Average loss: 2.0426, Accuracy: 5569/10000 (55.6900%)
___Train Local_ResNet_18,  epoch 197, local model 59, internal_epoch   1,  Average loss: 0.0022, Accuracy: 4237/4397 (96.3612%)
___Train Local_ResNet_18,  epoch 197, local model 59, internal_epoch   2,  Average loss: 0.0023, Accuracy: 4189/4397 (95.2695%)
___Test Local_ResNet_18 poisoned: False, epoch: 197: Average loss: 1.8758, Accuracy: 5766/10000 (57.6600%)
___Train Local_ResNet_18,  epoch 197, local model 40, internal_epoch   1,  Average loss: 0.0031, Accuracy: 5581/5939 (93.9720%)
___Train Local_ResNet_18,  epoch 197, local model 40, internal_epoch   2,  Average loss: 0.0040, Accuracy: 5467/5939 (92.0525%)
___Test Local_ResNet_18 poisoned: False, epoch: 197: Average loss: 2.1923, Accuracy: 5318/10000 (53.1800%)
___Train Local_ResNet_18,  epoch 197, local model 92, internal_epoch   1,  Average loss: 0.0028, Accuracy: 6450/6812 (94.6858%)
___Train Local_ResNet_18,  epoch 197, local model 92, internal_epoch   2,  Average loss: 0.0045, Accuracy: 6210/6812 (91.1627%)
___Test Local_ResNet_18 poisoned: False, epoch: 197: Average loss: 2.4493, Accuracy: 5085/10000 (50.8500%)
___Train Local_ResNet_18,  epoch 197, local model 0, internal_epoch   1,  Average loss: 0.0039, Accuracy: 5062/5454 (92.8126%)
___Train Local_ResNet_18,  epoch 197, local model 0, internal_epoch   2,  Average loss: 0.0056, Accuracy: 4853/5454 (88.9806%)
___Test Local_ResNet_18 poisoned: False, epoch: 197: Average loss: 2.3329, Accuracy: 5188/10000 (51.8800%)
___Train Local_ResNet_18,  epoch 197, local model 16, internal_epoch   1,  Average loss: 0.0034, Accuracy: 5027/5353 (93.9100%)
___Train Local_ResNet_18,  epoch 197, local model 16, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4842/5353 (90.4540%)
___Test Local_ResNet_18 poisoned: False, epoch: 197: Average loss: 2.0969, Accuracy: 5400/10000 (54.0000%)
___Train Local_ResNet_18,  epoch 197, local model 85, internal_epoch   1,  Average loss: 0.0045, Accuracy: 6342/6947 (91.2912%)
___Train Local_ResNet_18,  epoch 197, local model 85, internal_epoch   2,  Average loss: 0.0071, Accuracy: 5981/6947 (86.0947%)
___Test Local_ResNet_18 poisoned: False, epoch: 197: Average loss: 2.4633, Accuracy: 4928/10000 (49.2800%)
___Train Local_ResNet_18,  epoch 197, local model 82, internal_epoch   1,  Average loss: 0.0024, Accuracy: 5057/5298 (95.4511%)
___Train Local_ResNet_18,  epoch 197, local model 82, internal_epoch   2,  Average loss: 0.0029, Accuracy: 5000/5298 (94.3752%)
___Test Local_ResNet_18 poisoned: False, epoch: 197: Average loss: 2.1131, Accuracy: 5499/10000 (54.9900%)
___Train Local_ResNet_18,  epoch 197, local model 90, internal_epoch   1,  Average loss: 0.0026, Accuracy: 4537/4748 (95.5560%)
___Train Local_ResNet_18,  epoch 197, local model 90, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4357/4748 (91.7650%)
___Test Local_ResNet_18 poisoned: False, epoch: 197: Average loss: 2.1586, Accuracy: 5268/10000 (52.6800%)
___Train Local_ResNet_18,  epoch 197, local model 52, internal_epoch   1,  Average loss: 0.0027, Accuracy: 3929/4130 (95.1332%)
___Train Local_ResNet_18,  epoch 197, local model 52, internal_epoch   2,  Average loss: 0.0038, Accuracy: 3814/4130 (92.3487%)
___Test Local_ResNet_18 poisoned: False, epoch: 197: Average loss: 2.1265, Accuracy: 5481/10000 (54.8100%)
___Train Local_ResNet_18,  epoch 197, local model 6, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4680/4929 (94.9483%)
___Train Local_ResNet_18,  epoch 197, local model 6, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4556/4929 (92.4325%)
___Test Local_ResNet_18 poisoned: False, epoch: 197: Average loss: 2.1712, Accuracy: 5539/10000 (55.3900%)
___Train Local_ResNet_18,  epoch 197, local model 15, internal_epoch   1,  Average loss: 0.0033, Accuracy: 5669/6068 (93.4245%)
___Train Local_ResNet_18,  epoch 197, local model 15, internal_epoch   2,  Average loss: 0.0040, Accuracy: 5607/6068 (92.4028%)
___Test Local_ResNet_18 poisoned: False, epoch: 197: Average loss: 2.3175, Accuracy: 5174/10000 (51.7400%)
___Train Local_ResNet_18,  epoch 197, local model 97, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4423/4736 (93.3910%)
___Train Local_ResNet_18,  epoch 197, local model 97, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4306/4736 (90.9206%)
___Test Local_ResNet_18 poisoned: False, epoch: 197: Average loss: 2.0199, Accuracy: 5507/10000 (55.0700%)
time spent on training: 261.4113733768463
___Test Target_ResNet_18 poisoned: False, epoch: 197: Average loss: 1.6123, Accuracy: 6173/10000 (61.7300%)
___Test Target_ResNet_18 poisoned: True, epoch: 197: Average loss: 0.0152, Accuracy: 9860/9900 (99.5960%)
Done in 287.97521209716797 sec.
Server Epoch:198 choose agents : [13, 36, 58, 71, 57, 62, 61, 67, 3, 82, 69, 93, 42, 76, 7, 94, 14, 21, 32, 25].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 198, local model 13, internal_epoch   1,  Average loss: 0.0011, Accuracy: 5236/5308 (98.6436%), train_poison_data_count: 415
Global model norm: 44.98123659380445.
Norm before scaling: 44.93181683464959. Distance: 1.0590002539276886
___Test Local_ResNet_18 poisoned: True, epoch: 198: Average loss: 0.0539, Accuracy: 9759/9900 (98.5758%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 198, local model 36, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5660/5777 (97.9747%), train_poison_data_count: 455
Global model norm: 44.98123659380445.
Norm before scaling: 44.9323398136889. Distance: 1.302536659164145
___Test Local_ResNet_18 poisoned: True, epoch: 198: Average loss: 0.0079, Accuracy: 9877/9900 (99.7677%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 198, local model 58, internal_epoch   1,  Average loss: 0.0022, Accuracy: 5008/5123 (97.7552%), train_poison_data_count: 403
Global model norm: 44.98123659380445.
Norm before scaling: 44.93707623235517. Distance: 1.1850107605361078
___Test Local_ResNet_18 poisoned: True, epoch: 198: Average loss: 0.0754, Accuracy: 9703/9900 (98.0101%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 198, local model 71, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5417/5503 (98.4372%), train_poison_data_count: 430
Global model norm: 44.98123659380445.
Norm before scaling: 44.933744355839494. Distance: 1.1650806045480262
___Test Local_ResNet_18 poisoned: True, epoch: 198: Average loss: 0.0300, Accuracy: 9821/9900 (99.2020%)
___Train Local_ResNet_18,  epoch 198, local model 57, internal_epoch   1,  Average loss: 0.0028, Accuracy: 4684/4956 (94.5117%)
___Train Local_ResNet_18,  epoch 198, local model 57, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4534/4956 (91.4851%)
___Test Local_ResNet_18 poisoned: False, epoch: 198: Average loss: 2.1928, Accuracy: 5323/10000 (53.2300%)
___Train Local_ResNet_18,  epoch 198, local model 62, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4992/5504 (90.6977%)
___Train Local_ResNet_18,  epoch 198, local model 62, internal_epoch   2,  Average loss: 0.0061, Accuracy: 4828/5504 (87.7180%)
___Test Local_ResNet_18 poisoned: False, epoch: 198: Average loss: 2.2653, Accuracy: 5233/10000 (52.3300%)
___Train Local_ResNet_18,  epoch 198, local model 61, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4156/4485 (92.6644%)
___Train Local_ResNet_18,  epoch 198, local model 61, internal_epoch   2,  Average loss: 0.0067, Accuracy: 3893/4485 (86.8004%)
___Test Local_ResNet_18 poisoned: False, epoch: 198: Average loss: 2.2929, Accuracy: 5019/10000 (50.1900%)
___Train Local_ResNet_18,  epoch 198, local model 67, internal_epoch   1,  Average loss: 0.0041, Accuracy: 5111/5559 (91.9410%)
___Train Local_ResNet_18,  epoch 198, local model 67, internal_epoch   2,  Average loss: 0.0059, Accuracy: 4900/5559 (88.1453%)
___Test Local_ResNet_18 poisoned: False, epoch: 198: Average loss: 2.3914, Accuracy: 4966/10000 (49.6600%)
___Train Local_ResNet_18,  epoch 198, local model 3, internal_epoch   1,  Average loss: 0.0029, Accuracy: 5057/5346 (94.5941%)
___Train Local_ResNet_18,  epoch 198, local model 3, internal_epoch   2,  Average loss: 0.0030, Accuracy: 5038/5346 (94.2387%)
___Test Local_ResNet_18 poisoned: False, epoch: 198: Average loss: 2.1845, Accuracy: 5309/10000 (53.0900%)
___Train Local_ResNet_18,  epoch 198, local model 82, internal_epoch   1,  Average loss: 0.0027, Accuracy: 5033/5298 (94.9981%)
___Train Local_ResNet_18,  epoch 198, local model 82, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4940/5298 (93.2427%)
___Test Local_ResNet_18 poisoned: False, epoch: 198: Average loss: 2.0923, Accuracy: 5572/10000 (55.7200%)
___Train Local_ResNet_18,  epoch 198, local model 69, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4125/4364 (94.5234%)
___Train Local_ResNet_18,  epoch 198, local model 69, internal_epoch   2,  Average loss: 0.0051, Accuracy: 3925/4364 (89.9404%)
___Test Local_ResNet_18 poisoned: False, epoch: 198: Average loss: 2.1219, Accuracy: 5430/10000 (54.3000%)
___Train Local_ResNet_18,  epoch 198, local model 93, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4673/5055 (92.4431%)
___Train Local_ResNet_18,  epoch 198, local model 93, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4580/5055 (90.6034%)
___Test Local_ResNet_18 poisoned: False, epoch: 198: Average loss: 2.1365, Accuracy: 5464/10000 (54.6400%)
___Train Local_ResNet_18,  epoch 198, local model 42, internal_epoch   1,  Average loss: 0.0039, Accuracy: 5455/5907 (92.3481%)
___Train Local_ResNet_18,  epoch 198, local model 42, internal_epoch   2,  Average loss: 0.0051, Accuracy: 5318/5907 (90.0288%)
___Test Local_ResNet_18 poisoned: False, epoch: 198: Average loss: 2.3717, Accuracy: 5045/10000 (50.4500%)
___Train Local_ResNet_18,  epoch 198, local model 76, internal_epoch   1,  Average loss: 0.0040, Accuracy: 3657/3959 (92.3718%)
___Train Local_ResNet_18,  epoch 198, local model 76, internal_epoch   2,  Average loss: 0.0039, Accuracy: 3638/3959 (91.8919%)
___Test Local_ResNet_18 poisoned: False, epoch: 198: Average loss: 1.9660, Accuracy: 5572/10000 (55.7200%)
___Train Local_ResNet_18,  epoch 198, local model 7, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4548/4869 (93.4073%)
___Train Local_ResNet_18,  epoch 198, local model 7, internal_epoch   2,  Average loss: 0.0099, Accuracy: 3976/4869 (81.6595%)
___Test Local_ResNet_18 poisoned: False, epoch: 198: Average loss: 2.5199, Accuracy: 4843/10000 (48.4300%)
___Train Local_ResNet_18,  epoch 198, local model 94, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4883/5224 (93.4724%)
___Train Local_ResNet_18,  epoch 198, local model 94, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4804/5224 (91.9602%)
___Test Local_ResNet_18 poisoned: False, epoch: 198: Average loss: 2.1938, Accuracy: 5450/10000 (54.5000%)
___Train Local_ResNet_18,  epoch 198, local model 14, internal_epoch   1,  Average loss: 0.0020, Accuracy: 4050/4196 (96.5205%)
___Train Local_ResNet_18,  epoch 198, local model 14, internal_epoch   2,  Average loss: 0.0026, Accuracy: 3997/4196 (95.2574%)
___Test Local_ResNet_18 poisoned: False, epoch: 198: Average loss: 1.8522, Accuracy: 5795/10000 (57.9500%)
___Train Local_ResNet_18,  epoch 198, local model 21, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4723/5038 (93.7475%)
___Train Local_ResNet_18,  epoch 198, local model 21, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4665/5038 (92.5963%)
___Test Local_ResNet_18 poisoned: False, epoch: 198: Average loss: 2.0610, Accuracy: 5566/10000 (55.6600%)
___Train Local_ResNet_18,  epoch 198, local model 32, internal_epoch   1,  Average loss: 0.0051, Accuracy: 5466/6080 (89.9013%)
___Train Local_ResNet_18,  epoch 198, local model 32, internal_epoch   2,  Average loss: 0.0061, Accuracy: 5319/6080 (87.4836%)
___Test Local_ResNet_18 poisoned: False, epoch: 198: Average loss: 2.2080, Accuracy: 5121/10000 (51.2100%)
___Train Local_ResNet_18,  epoch 198, local model 25, internal_epoch   1,  Average loss: 0.0047, Accuracy: 5822/6419 (90.6995%)
___Train Local_ResNet_18,  epoch 198, local model 25, internal_epoch   2,  Average loss: 0.0069, Accuracy: 5532/6419 (86.1816%)
___Test Local_ResNet_18 poisoned: False, epoch: 198: Average loss: 2.3114, Accuracy: 5167/10000 (51.6700%)
time spent on training: 252.64791917800903
___Test Target_ResNet_18 poisoned: False, epoch: 198: Average loss: 1.6148, Accuracy: 6165/10000 (61.6500%)
___Test Target_ResNet_18 poisoned: True, epoch: 198: Average loss: 0.0156, Accuracy: 9859/9900 (99.5859%)
Done in 279.10836148262024 sec.
Server Epoch:199 choose agents : [13, 36, 58, 71, 19, 16, 82, 89, 45, 31, 91, 9, 44, 66, 11, 76, 92, 37, 54, 63].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 199, local model 13, internal_epoch   1,  Average loss: 0.0011, Accuracy: 5245/5308 (98.8131%), train_poison_data_count: 415
Global model norm: 45.00079616266181.
Norm before scaling: 44.95194645657043. Distance: 1.0575488236611987
___Test Local_ResNet_18 poisoned: True, epoch: 199: Average loss: 0.0598, Accuracy: 9744/9900 (98.4242%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 199, local model 36, internal_epoch   1,  Average loss: 0.0012, Accuracy: 5685/5777 (98.4075%), train_poison_data_count: 455
Global model norm: 45.00079616266181.
Norm before scaling: 44.946642628718664. Distance: 1.1569742048317486
___Test Local_ResNet_18 poisoned: True, epoch: 199: Average loss: 0.0363, Accuracy: 9803/9900 (99.0202%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 199, local model 58, internal_epoch   1,  Average loss: 0.0021, Accuracy: 5020/5123 (97.9895%), train_poison_data_count: 403
Global model norm: 45.00079616266181.
Norm before scaling: 44.955165653629976. Distance: 1.1458519096024686
___Test Local_ResNet_18 poisoned: True, epoch: 199: Average loss: 0.0285, Accuracy: 9824/9900 (99.2323%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 199, local model 71, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5408/5503 (98.2737%), train_poison_data_count: 430
Global model norm: 45.00079616266181.
Norm before scaling: 44.9512947142168. Distance: 1.1335556749486604
___Test Local_ResNet_18 poisoned: True, epoch: 199: Average loss: 0.0843, Accuracy: 9671/9900 (97.6869%)
___Train Local_ResNet_18,  epoch 199, local model 19, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4993/5361 (93.1356%)
___Train Local_ResNet_18,  epoch 199, local model 19, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4802/5361 (89.5728%)
___Test Local_ResNet_18 poisoned: False, epoch: 199: Average loss: 2.3211, Accuracy: 5252/10000 (52.5200%)
___Train Local_ResNet_18,  epoch 199, local model 16, internal_epoch   1,  Average loss: 0.0031, Accuracy: 5052/5353 (94.3770%)
___Train Local_ResNet_18,  epoch 199, local model 16, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4818/5353 (90.0056%)
___Test Local_ResNet_18 poisoned: False, epoch: 199: Average loss: 2.1655, Accuracy: 5492/10000 (54.9200%)
___Train Local_ResNet_18,  epoch 199, local model 82, internal_epoch   1,  Average loss: 0.0025, Accuracy: 5067/5298 (95.6399%)
___Train Local_ResNet_18,  epoch 199, local model 82, internal_epoch   2,  Average loss: 0.0030, Accuracy: 4980/5298 (93.9977%)
___Test Local_ResNet_18 poisoned: False, epoch: 199: Average loss: 2.1139, Accuracy: 5505/10000 (55.0500%)
___Train Local_ResNet_18,  epoch 199, local model 89, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4435/4737 (93.6247%)
___Train Local_ResNet_18,  epoch 199, local model 89, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4388/4737 (92.6325%)
___Test Local_ResNet_18 poisoned: False, epoch: 199: Average loss: 2.1203, Accuracy: 5447/10000 (54.4700%)
___Train Local_ResNet_18,  epoch 199, local model 45, internal_epoch   1,  Average loss: 0.0038, Accuracy: 5056/5489 (92.1115%)
___Train Local_ResNet_18,  epoch 199, local model 45, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4953/5489 (90.2350%)
___Test Local_ResNet_18 poisoned: False, epoch: 199: Average loss: 2.3097, Accuracy: 5091/10000 (50.9100%)
___Train Local_ResNet_18,  epoch 199, local model 31, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4319/4537 (95.1951%)
___Train Local_ResNet_18,  epoch 199, local model 31, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4232/4537 (93.2775%)
___Test Local_ResNet_18 poisoned: False, epoch: 199: Average loss: 1.9303, Accuracy: 5815/10000 (58.1500%)
___Train Local_ResNet_18,  epoch 199, local model 91, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4154/4527 (91.7605%)
___Train Local_ResNet_18,  epoch 199, local model 91, internal_epoch   2,  Average loss: 0.0056, Accuracy: 4045/4527 (89.3528%)
___Test Local_ResNet_18 poisoned: False, epoch: 199: Average loss: 2.0626, Accuracy: 5507/10000 (55.0700%)
___Train Local_ResNet_18,  epoch 199, local model 9, internal_epoch   1,  Average loss: 0.0039, Accuracy: 5294/5727 (92.4393%)
___Train Local_ResNet_18,  epoch 199, local model 9, internal_epoch   2,  Average loss: 0.0050, Accuracy: 5151/5727 (89.9424%)
___Test Local_ResNet_18 poisoned: False, epoch: 199: Average loss: 1.9693, Accuracy: 5611/10000 (56.1100%)
___Train Local_ResNet_18,  epoch 199, local model 44, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4788/5075 (94.3448%)
___Train Local_ResNet_18,  epoch 199, local model 44, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4650/5075 (91.6256%)
___Test Local_ResNet_18 poisoned: False, epoch: 199: Average loss: 2.0988, Accuracy: 5532/10000 (55.3200%)
___Train Local_ResNet_18,  epoch 199, local model 66, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4589/4843 (94.7553%)
___Train Local_ResNet_18,  epoch 199, local model 66, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4474/4843 (92.3808%)
___Test Local_ResNet_18 poisoned: False, epoch: 199: Average loss: 2.1722, Accuracy: 5422/10000 (54.2200%)
___Train Local_ResNet_18,  epoch 199, local model 11, internal_epoch   1,  Average loss: 0.0059, Accuracy: 5051/5702 (88.5830%)
___Train Local_ResNet_18,  epoch 199, local model 11, internal_epoch   2,  Average loss: 0.0101, Accuracy: 4598/5702 (80.6384%)
___Test Local_ResNet_18 poisoned: False, epoch: 199: Average loss: 2.6536, Accuracy: 4532/10000 (45.3200%)
___Train Local_ResNet_18,  epoch 199, local model 76, internal_epoch   1,  Average loss: 0.0036, Accuracy: 3679/3959 (92.9275%)
___Train Local_ResNet_18,  epoch 199, local model 76, internal_epoch   2,  Average loss: 0.0042, Accuracy: 3623/3959 (91.5130%)
___Test Local_ResNet_18 poisoned: False, epoch: 199: Average loss: 1.9918, Accuracy: 5590/10000 (55.9000%)
___Train Local_ResNet_18,  epoch 199, local model 92, internal_epoch   1,  Average loss: 0.0030, Accuracy: 6427/6812 (94.3482%)
___Train Local_ResNet_18,  epoch 199, local model 92, internal_epoch   2,  Average loss: 0.0044, Accuracy: 6197/6812 (90.9718%)
___Test Local_ResNet_18 poisoned: False, epoch: 199: Average loss: 2.2809, Accuracy: 5156/10000 (51.5600%)
___Train Local_ResNet_18,  epoch 199, local model 37, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4367/4741 (92.1114%)
___Train Local_ResNet_18,  epoch 199, local model 37, internal_epoch   2,  Average loss: 0.0093, Accuracy: 3913/4741 (82.5353%)
___Test Local_ResNet_18 poisoned: False, epoch: 199: Average loss: 2.6305, Accuracy: 4740/10000 (47.4000%)
___Train Local_ResNet_18,  epoch 199, local model 54, internal_epoch   1,  Average loss: 0.0046, Accuracy: 5132/5645 (90.9123%)
___Train Local_ResNet_18,  epoch 199, local model 54, internal_epoch   2,  Average loss: 0.0064, Accuracy: 4939/5645 (87.4934%)
___Test Local_ResNet_18 poisoned: False, epoch: 199: Average loss: 2.2518, Accuracy: 5142/10000 (51.4200%)
___Train Local_ResNet_18,  epoch 199, local model 63, internal_epoch   1,  Average loss: 0.0028, Accuracy: 3735/3910 (95.5243%)
___Train Local_ResNet_18,  epoch 199, local model 63, internal_epoch   2,  Average loss: 0.0059, Accuracy: 3491/3910 (89.2839%)
___Test Local_ResNet_18 poisoned: False, epoch: 199: Average loss: 2.2266, Accuracy: 5306/10000 (53.0600%)
time spent on training: 253.7632932662964
___Test Target_ResNet_18 poisoned: False, epoch: 199: Average loss: 1.6186, Accuracy: 6162/10000 (61.6200%)
___Test Target_ResNet_18 poisoned: True, epoch: 199: Average loss: 0.0168, Accuracy: 9857/9900 (99.5657%)
Done in 280.44697093963623 sec.
Server Epoch:200 choose agents : [13, 36, 58, 71, 42, 74, 66, 6, 50, 49, 10, 11, 1, 96, 61, 52, 79, 72, 55, 38].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Significant loss increase detected for 13 at epoch 200: Current loss: 0.0921, Previous loss: 0.0582, Loss jump: 0.0339, Applied weight: 1.3394
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 200, local model 13, internal_epoch   1,  Average loss: 0.0012, Accuracy: 5225/5308 (98.4363%), train_poison_data_count: 415
Global model norm: 45.02068616333149.
Norm before scaling: 44.97152690783219. Distance: 1.0905056929162056
___Test Local_ResNet_18 poisoned: True, epoch: 200: Average loss: 0.0264, Accuracy: 9841/9900 (99.4040%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Significant loss increase detected for 36 at epoch 200: Current loss: 0.1266, Previous loss: 0.0632, Loss jump: 0.0634, Applied weight: 2.0066
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 200, local model 36, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5673/5777 (98.1998%), train_poison_data_count: 455
Global model norm: 45.02068616333149.
Norm before scaling: 44.96719181629813. Distance: 1.1613863707459895
___Test Local_ResNet_18 poisoned: True, epoch: 200: Average loss: 0.1128, Accuracy: 9611/9900 (97.0808%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Significant loss increase detected for 58 at epoch 200: Current loss: 0.1122, Previous loss: 0.0728, Loss jump: 0.0394, Applied weight: 1.2923
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 200, local model 58, internal_epoch   1,  Average loss: 0.0022, Accuracy: 5026/5123 (98.1066%), train_poison_data_count: 403
Global model norm: 45.02068616333149.
Norm before scaling: 44.9740118642318. Distance: 1.1086588952653675
___Test Local_ResNet_18 poisoned: True, epoch: 200: Average loss: 0.2404, Accuracy: 9254/9900 (93.4747%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 200, local model 71, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5400/5503 (98.1283%), train_poison_data_count: 430
Global model norm: 45.02068616333149.
Norm before scaling: 44.97308765563301. Distance: 1.1775826376974854
___Test Local_ResNet_18 poisoned: True, epoch: 200: Average loss: 0.0356, Accuracy: 9810/9900 (99.0909%)
___Train Local_ResNet_18,  epoch 200, local model 42, internal_epoch   1,  Average loss: 0.0037, Accuracy: 5481/5907 (92.7882%)
___Train Local_ResNet_18,  epoch 200, local model 42, internal_epoch   2,  Average loss: 0.0050, Accuracy: 5330/5907 (90.2319%)
___Test Local_ResNet_18 poisoned: False, epoch: 200: Average loss: 2.3697, Accuracy: 5048/10000 (50.4800%)
___Train Local_ResNet_18,  epoch 200, local model 74, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4474/4797 (93.2666%)
___Train Local_ResNet_18,  epoch 200, local model 74, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4410/4797 (91.9325%)
___Test Local_ResNet_18 poisoned: False, epoch: 200: Average loss: 1.9733, Accuracy: 5653/10000 (56.5300%)
___Train Local_ResNet_18,  epoch 200, local model 66, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4559/4843 (94.1359%)
___Train Local_ResNet_18,  epoch 200, local model 66, internal_epoch   2,  Average loss: 0.0033, Accuracy: 4537/4843 (93.6816%)
___Test Local_ResNet_18 poisoned: False, epoch: 200: Average loss: 2.0862, Accuracy: 5623/10000 (56.2300%)
___Train Local_ResNet_18,  epoch 200, local model 6, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4688/4929 (95.1106%)
___Train Local_ResNet_18,  epoch 200, local model 6, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4564/4929 (92.5948%)
___Test Local_ResNet_18 poisoned: False, epoch: 200: Average loss: 2.1703, Accuracy: 5530/10000 (55.3000%)
___Train Local_ResNet_18,  epoch 200, local model 50, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4483/4757 (94.2401%)
___Train Local_ResNet_18,  epoch 200, local model 50, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4337/4757 (91.1709%)
___Test Local_ResNet_18 poisoned: False, epoch: 200: Average loss: 2.1198, Accuracy: 5358/10000 (53.5800%)
___Train Local_ResNet_18,  epoch 200, local model 49, internal_epoch   1,  Average loss: 0.0043, Accuracy: 5163/5652 (91.3482%)
___Train Local_ResNet_18,  epoch 200, local model 49, internal_epoch   2,  Average loss: 0.0053, Accuracy: 5081/5652 (89.8974%)
___Test Local_ResNet_18 poisoned: False, epoch: 200: Average loss: 2.2802, Accuracy: 5137/10000 (51.3700%)
___Train Local_ResNet_18,  epoch 200, local model 10, internal_epoch   1,  Average loss: 0.0026, Accuracy: 4839/5068 (95.4815%)
___Train Local_ResNet_18,  epoch 200, local model 10, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4676/5068 (92.2652%)
___Test Local_ResNet_18 poisoned: False, epoch: 200: Average loss: 2.3132, Accuracy: 5209/10000 (52.0900%)
___Train Local_ResNet_18,  epoch 200, local model 11, internal_epoch   1,  Average loss: 0.0056, Accuracy: 5075/5702 (89.0039%)
___Train Local_ResNet_18,  epoch 200, local model 11, internal_epoch   2,  Average loss: 0.0103, Accuracy: 4532/5702 (79.4809%)
___Test Local_ResNet_18 poisoned: False, epoch: 200: Average loss: 2.4094, Accuracy: 4910/10000 (49.1000%)
___Train Local_ResNet_18,  epoch 200, local model 1, internal_epoch   1,  Average loss: 0.0022, Accuracy: 5214/5422 (96.1638%)
___Train Local_ResNet_18,  epoch 200, local model 1, internal_epoch   2,  Average loss: 0.0031, Accuracy: 5114/5422 (94.3194%)
___Test Local_ResNet_18 poisoned: False, epoch: 200: Average loss: 1.9009, Accuracy: 5820/10000 (58.2000%)
___Train Local_ResNet_18,  epoch 200, local model 96, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4779/5086 (93.9638%)
___Train Local_ResNet_18,  epoch 200, local model 96, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4688/5086 (92.1746%)
___Test Local_ResNet_18 poisoned: False, epoch: 200: Average loss: 2.0645, Accuracy: 5495/10000 (54.9500%)
___Train Local_ResNet_18,  epoch 200, local model 61, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4200/4485 (93.6455%)
___Train Local_ResNet_18,  epoch 200, local model 61, internal_epoch   2,  Average loss: 0.0063, Accuracy: 3963/4485 (88.3612%)
___Test Local_ResNet_18 poisoned: False, epoch: 200: Average loss: 2.1998, Accuracy: 5166/10000 (51.6600%)
___Train Local_ResNet_18,  epoch 200, local model 52, internal_epoch   1,  Average loss: 0.0025, Accuracy: 3938/4130 (95.3511%)
___Train Local_ResNet_18,  epoch 200, local model 52, internal_epoch   2,  Average loss: 0.0033, Accuracy: 3851/4130 (93.2446%)
___Test Local_ResNet_18 poisoned: False, epoch: 200: Average loss: 1.9677, Accuracy: 5715/10000 (57.1500%)
___Train Local_ResNet_18,  epoch 200, local model 79, internal_epoch   1,  Average loss: 0.0032, Accuracy: 3867/4111 (94.0647%)
___Train Local_ResNet_18,  epoch 200, local model 79, internal_epoch   2,  Average loss: 0.0051, Accuracy: 3699/4111 (89.9781%)
___Test Local_ResNet_18 poisoned: False, epoch: 200: Average loss: 2.2421, Accuracy: 5340/10000 (53.4000%)
___Train Local_ResNet_18,  epoch 200, local model 72, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4865/5193 (93.6838%)
___Train Local_ResNet_18,  epoch 200, local model 72, internal_epoch   2,  Average loss: 0.0056, Accuracy: 4613/5193 (88.8311%)
___Test Local_ResNet_18 poisoned: False, epoch: 200: Average loss: 2.4575, Accuracy: 4978/10000 (49.7800%)
___Train Local_ResNet_18,  epoch 200, local model 55, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4452/4731 (94.1027%)
___Train Local_ResNet_18,  epoch 200, local model 55, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4409/4731 (93.1938%)
___Test Local_ResNet_18 poisoned: False, epoch: 200: Average loss: 2.0830, Accuracy: 5510/10000 (55.1000%)
___Train Local_ResNet_18,  epoch 200, local model 38, internal_epoch   1,  Average loss: 0.0040, Accuracy: 5787/6235 (92.8148%)
___Train Local_ResNet_18,  epoch 200, local model 38, internal_epoch   2,  Average loss: 0.0060, Accuracy: 5486/6235 (87.9872%)
___Test Local_ResNet_18 poisoned: False, epoch: 200: Average loss: 2.6825, Accuracy: 4706/10000 (47.0600%)
time spent on training: 261.7327518463135
___Test Target_ResNet_18 poisoned: False, epoch: 200: Average loss: 1.6008, Accuracy: 6189/10000 (61.8900%)
___Test Target_ResNet_18 poisoned: True, epoch: 200: Average loss: 0.0200, Accuracy: 9848/9900 (99.4747%)
Done in 288.57941484451294 sec.
Saving all the graphs.
This run has a label: Oct.02_23.12.10. Visdom environment: cifar100_CerP
