INFO:root:Application Started
INFO:root:Working directory: /csehome/fursule.1/.visdom
Setting up a new session...
INFO:tornado.access:200 POST /env/main (::1) 1.13ms
INFO:tornado.access:101 GET /vis_socket (::1) 1.05ms
INFO:root:Opened visdom socket from ip: ::1
Setting up a new session...
INFO:tornado.access:200 POST /env/main (::1) 0.88ms
INFO:tornado.access:101 GET /vis_socket (::1) 0.88ms
INFO:root:Opened visdom socket from ip: ::1
current path: saved_models/model_cifar100_Aug.22_08.03.55_CerP_mkrum_0.0001_0.0001
Loading data
build_classes_dict done
train loaders done
get poison test loader
load data done
Loaded parameters from saved model: LR is 0.01 and current epoch is 71
create model done
Poisoned following participants: [13, 36, 58, 71]
INFO:tornado.access:200 POST /events (::1) 5.96ms
We use following environment for graphs:  cifar100_CerP
Server Epoch:71 choose agents : [13, 36, 58, 71, 85, 4, 97, 76, 38, 94, 86, 10, 29, 34, 7, 18, 6, 22, 69, 81].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
/csehome/fursule.1/DATA/CerP/cifar100_trigger.py:44: UserWarning: To copy construct from a tensor, it is recommended to use sourceTensor.clone().detach() or sourceTensor.clone().detach().requires_grad_(True), rather than torch.tensor(sourceTensor).
  pre_trigger = torch.tensor(noise_trigger).cuda()
normally training
save normal model, normally training ending
/csehome/fursule.1/DATA/CerP/cifar100_helper.py:289: UserWarning: To copy construct from a tensor, it is recommended to use sourceTensor.clone().detach() or sourceTensor.clone().detach().requires_grad_(True), rather than torch.tensor(sourceTensor).
  noise = torch.tensor(noise_trigger).cpu()
/csehome/fursule.1/miniconda/envs/ve_cerp/lib/python3.8/site-packages/torch/optim/lr_scheduler.py:416: UserWarning: To get the last learning rate computed by the scheduler, please use `get_last_lr()`.
  warnings.warn("To get the last learning rate computed by the scheduler, "
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  71, local model 13, internal_epoch   1,  Average loss: 0.0062, Accuracy: 4751/5308 (89.5064%), train_poison_data_count: 415
Global model norm: 42.432124970265015.
Norm before scaling: 42.4391338050743. Distance: 2.2825594762467327
Total norm for 4 adversaries is: 42.4391338050743. distance: 2.2825594762467327
___Test Local_ResNet_18 poisoned: True, epoch: 71: Average loss: 0.5715, Accuracy: 8583/9900 (86.6970%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  71, local model 36, internal_epoch   1,  Average loss: 0.0051, Accuracy: 5310/5777 (91.9162%), train_poison_data_count: 455
Global model norm: 42.432124970265015.
Norm before scaling: 42.42953717635864. Distance: 2.173503237949835
Total norm for 4 adversaries is: 42.42953717635864. distance: 2.173503237949835
___Test Local_ResNet_18 poisoned: True, epoch: 71: Average loss: 0.5764, Accuracy: 8576/9900 (86.6263%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  71, local model 58, internal_epoch   1,  Average loss: 0.0071, Accuracy: 4579/5123 (89.3812%), train_poison_data_count: 403
Global model norm: 42.432124970265015.
Norm before scaling: 42.43913236689326. Distance: 2.26342508782693
Total norm for 4 adversaries is: 42.43913236689326. distance: 2.26342508782693
___Test Local_ResNet_18 poisoned: True, epoch: 71: Average loss: 0.4857, Accuracy: 8728/9900 (88.1616%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  71, local model 71, internal_epoch   1,  Average loss: 0.0062, Accuracy: 4938/5503 (89.7329%), train_poison_data_count: 430
Global model norm: 42.432124970265015.
Norm before scaling: 42.439194208633666. Distance: 2.304196373286413
Total norm for 4 adversaries is: 42.439194208633666. distance: 2.304196373286413
___Test Local_ResNet_18 poisoned: True, epoch: 71: Average loss: 0.5591, Accuracy: 8545/9900 (86.3131%)
___Train Local_ResNet_18,  epoch  71, local model 85, internal_epoch   1,  Average loss: 0.0058, Accuracy: 6171/6947 (88.8297%)
___Train Local_ResNet_18,  epoch  71, local model 85, internal_epoch   2,  Average loss: 0.0058, Accuracy: 6138/6947 (88.3547%)
___Test Local_ResNet_18 poisoned: False, epoch: 71: Average loss: 2.0576, Accuracy: 5404/10000 (54.0400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /events (::1) 1.02ms
___Train Local_ResNet_18,  epoch  71, local model 4, internal_epoch   1,  Average loss: 0.0058, Accuracy: 3578/4028 (88.8282%)
___Train Local_ResNet_18,  epoch  71, local model 4, internal_epoch   2,  Average loss: 0.0043, Accuracy: 3700/4028 (91.8570%)
___Test Local_ResNet_18 poisoned: False, epoch: 71: Average loss: 1.9259, Accuracy: 5535/10000 (55.3500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.97ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 3.61ms
___Train Local_ResNet_18,  epoch  71, local model 97, internal_epoch   1,  Average loss: 0.0066, Accuracy: 4117/4736 (86.9299%)
___Train Local_ResNet_18,  epoch  71, local model 97, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4241/4736 (89.5481%)
___Test Local_ResNet_18 poisoned: False, epoch: 71: Average loss: 1.9904, Accuracy: 5475/10000 (54.7500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 2.99ms
___Train Local_ResNet_18,  epoch  71, local model 76, internal_epoch   1,  Average loss: 0.0064, Accuracy: 3440/3959 (86.8906%)
___Train Local_ResNet_18,  epoch  71, local model 76, internal_epoch   2,  Average loss: 0.0049, Accuracy: 3567/3959 (90.0985%)
___Test Local_ResNet_18 poisoned: False, epoch: 71: Average loss: 1.8748, Accuracy: 5595/10000 (55.9500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /win_exists (::1) 0.59ms
INFO:tornado.access:200 POST /update (::1) 2.11ms
___Train Local_ResNet_18,  epoch  71, local model 38, internal_epoch   1,  Average loss: 0.0065, Accuracy: 5470/6235 (87.7306%)
___Train Local_ResNet_18,  epoch  71, local model 38, internal_epoch   2,  Average loss: 0.0064, Accuracy: 5455/6235 (87.4900%)
___Test Local_ResNet_18 poisoned: False, epoch: 71: Average loss: 2.2603, Accuracy: 5108/10000 (51.0800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 3.61ms
___Train Local_ResNet_18,  epoch  71, local model 94, internal_epoch   1,  Average loss: 0.0069, Accuracy: 4547/5224 (87.0406%)
___Train Local_ResNet_18,  epoch  71, local model 94, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4721/5224 (90.3714%)
___Test Local_ResNet_18 poisoned: False, epoch: 71: Average loss: 2.0310, Accuracy: 5336/10000 (53.3600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 3.65ms
___Train Local_ResNet_18,  epoch  71, local model 86, internal_epoch   1,  Average loss: 0.0058, Accuracy: 3459/3929 (88.0377%)
___Train Local_ResNet_18,  epoch  71, local model 86, internal_epoch   2,  Average loss: 0.0047, Accuracy: 3578/3929 (91.0664%)
___Test Local_ResNet_18 poisoned: False, epoch: 71: Average loss: 1.8859, Accuracy: 5651/10000 (56.5100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 3.86ms
___Train Local_ResNet_18,  epoch  71, local model 10, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4567/5068 (90.1144%)
___Train Local_ResNet_18,  epoch  71, local model 10, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4695/5068 (92.6401%)
___Test Local_ResNet_18 poisoned: False, epoch: 71: Average loss: 1.9827, Accuracy: 5426/10000 (54.2600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 4.05ms
___Train Local_ResNet_18,  epoch  71, local model 29, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4297/4732 (90.8073%)
___Train Local_ResNet_18,  epoch  71, local model 29, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4395/4732 (92.8783%)
___Test Local_ResNet_18 poisoned: False, epoch: 71: Average loss: 1.7697, Accuracy: 5819/10000 (58.1900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 4.25ms
___Train Local_ResNet_18,  epoch  71, local model 34, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4433/4911 (90.2667%)
___Train Local_ResNet_18,  epoch  71, local model 34, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4503/4911 (91.6921%)
___Test Local_ResNet_18 poisoned: False, epoch: 71: Average loss: 1.8695, Accuracy: 5569/10000 (55.6900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.97ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 4.40ms
___Train Local_ResNet_18,  epoch  71, local model 7, internal_epoch   1,  Average loss: 0.0069, Accuracy: 4291/4869 (88.1290%)
___Train Local_ResNet_18,  epoch  71, local model 7, internal_epoch   2,  Average loss: 0.0091, Accuracy: 4021/4869 (82.5837%)
___Test Local_ResNet_18 poisoned: False, epoch: 71: Average loss: 2.2812, Accuracy: 4880/10000 (48.8000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 6.02ms
___Train Local_ResNet_18,  epoch  71, local model 18, internal_epoch   1,  Average loss: 0.0061, Accuracy: 3758/4249 (88.4443%)
___Train Local_ResNet_18,  epoch  71, local model 18, internal_epoch   2,  Average loss: 0.0049, Accuracy: 3854/4249 (90.7037%)
___Test Local_ResNet_18 poisoned: False, epoch: 71: Average loss: 2.0369, Accuracy: 5464/10000 (54.6400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.97ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 4.74ms
___Train Local_ResNet_18,  epoch  71, local model 6, internal_epoch   1,  Average loss: 0.0062, Accuracy: 4417/4929 (89.6125%)
___Train Local_ResNet_18,  epoch  71, local model 6, internal_epoch   2,  Average loss: 0.0058, Accuracy: 4469/4929 (90.6675%)
___Test Local_ResNet_18 poisoned: False, epoch: 71: Average loss: 1.9724, Accuracy: 5583/10000 (55.8300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 4.88ms
___Train Local_ResNet_18,  epoch  71, local model 22, internal_epoch   1,  Average loss: 0.0051, Accuracy: 5128/5696 (90.0281%)
___Train Local_ResNet_18,  epoch  71, local model 22, internal_epoch   2,  Average loss: 0.0051, Accuracy: 5104/5696 (89.6067%)
___Test Local_ResNet_18 poisoned: False, epoch: 71: Average loss: 2.0573, Accuracy: 5364/10000 (53.6400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 5.15ms
___Train Local_ResNet_18,  epoch  71, local model 69, internal_epoch   1,  Average loss: 0.0054, Accuracy: 3912/4364 (89.6425%)
___Train Local_ResNet_18,  epoch  71, local model 69, internal_epoch   2,  Average loss: 0.0053, Accuracy: 3929/4364 (90.0321%)
___Test Local_ResNet_18 poisoned: False, epoch: 71: Average loss: 1.9665, Accuracy: 5491/10000 (54.9100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 5.35ms
___Train Local_ResNet_18,  epoch  71, local model 81, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4530/5035 (89.9702%)
___Train Local_ResNet_18,  epoch  71, local model 81, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4654/5035 (92.4330%)
___Test Local_ResNet_18 poisoned: False, epoch: 71: Average loss: 2.0279, Accuracy: 5367/10000 (53.6700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 5.44ms
time spent on training: 242.89725613594055
___Test Target_ResNet_18 poisoned: False, epoch: 71: Average loss: 1.1043, Accuracy: 7047/10000 (70.4700%)
___Test Target_ResNet_18 poisoned: True, epoch: 71: Average loss: 8.8522, Accuracy: 136/9900 (1.3737%)
Done in 269.8270137310028 sec.
Server Epoch:72 choose agents : [13, 36, 58, 71, 47, 10, 95, 98, 64, 57, 27, 85, 93, 6, 74, 54, 88, 45, 51, 52].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  72, local model 13, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4875/5308 (91.8425%), train_poison_data_count: 415
Global model norm: 42.45322995248345.
Norm before scaling: 42.45540801737601. Distance: 2.0668438338152515
Total norm for 4 adversaries is: 42.45540801737601. distance: 2.0668438338152515
___Test Local_ResNet_18 poisoned: True, epoch: 72: Average loss: 0.2281, Accuracy: 9313/9900 (94.0707%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  72, local model 36, internal_epoch   1,  Average loss: 0.0044, Accuracy: 5374/5777 (93.0241%), train_poison_data_count: 455
Global model norm: 42.45322995248345.
Norm before scaling: 42.445080266942455. Distance: 1.988933703499567
Total norm for 4 adversaries is: 42.445080266942455. distance: 1.988933703499567
___Test Local_ResNet_18 poisoned: True, epoch: 72: Average loss: 0.2252, Accuracy: 9333/9900 (94.2727%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  72, local model 58, internal_epoch   1,  Average loss: 0.0065, Accuracy: 4602/5123 (89.8302%), train_poison_data_count: 403
Global model norm: 42.45322995248345.
Norm before scaling: 42.45743790201106. Distance: 2.1486726389435136
Total norm for 4 adversaries is: 42.45743790201106. distance: 2.1486726389435136
___Test Local_ResNet_18 poisoned: True, epoch: 72: Average loss: 0.1187, Accuracy: 9582/9900 (96.7879%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  72, local model 71, internal_epoch   1,  Average loss: 0.0050, Accuracy: 5040/5503 (91.5864%), train_poison_data_count: 430
Global model norm: 42.45322995248345.
Norm before scaling: 42.45578898754194. Distance: 2.105755108838551
Total norm for 4 adversaries is: 42.45578898754194. distance: 2.105755108838551
___Test Local_ResNet_18 poisoned: True, epoch: 72: Average loss: 0.2876, Accuracy: 9177/9900 (92.6970%)
___Train Local_ResNet_18,  epoch  72, local model 47, internal_epoch   1,  Average loss: 0.0067, Accuracy: 4490/5123 (87.6440%)
___Train Local_ResNet_18,  epoch  72, local model 47, internal_epoch   2,  Average loss: 0.0094, Accuracy: 4226/5123 (82.4907%)
___Test Local_ResNet_18 poisoned: False, epoch: 72: Average loss: 2.0112, Accuracy: 5302/10000 (53.0200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.97ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 5.71ms
___Train Local_ResNet_18,  epoch  72, local model 10, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4541/5068 (89.6014%)
___Train Local_ResNet_18,  epoch  72, local model 10, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4641/5068 (91.5746%)
___Test Local_ResNet_18 poisoned: False, epoch: 72: Average loss: 2.0135, Accuracy: 5383/10000 (53.8300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.97ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 5.93ms
___Train Local_ResNet_18,  epoch  72, local model 95, internal_epoch   1,  Average loss: 0.0067, Accuracy: 4346/5018 (86.6082%)
___Train Local_ResNet_18,  epoch  72, local model 95, internal_epoch   2,  Average loss: 0.0058, Accuracy: 4457/5018 (88.8202%)
___Test Local_ResNet_18 poisoned: False, epoch: 72: Average loss: 2.3245, Accuracy: 5025/10000 (50.2500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 5.97ms
___Train Local_ResNet_18,  epoch  72, local model 98, internal_epoch   1,  Average loss: 0.0064, Accuracy: 3767/4161 (90.5311%)
___Train Local_ResNet_18,  epoch  72, local model 98, internal_epoch   2,  Average loss: 0.0054, Accuracy: 3781/4161 (90.8676%)
___Test Local_ResNet_18 poisoned: False, epoch: 72: Average loss: 2.0223, Accuracy: 5395/10000 (53.9500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 5.88ms
___Train Local_ResNet_18,  epoch  72, local model 64, internal_epoch   1,  Average loss: 0.0064, Accuracy: 4293/4894 (87.7197%)
___Train Local_ResNet_18,  epoch  72, local model 64, internal_epoch   2,  Average loss: 0.0060, Accuracy: 4324/4894 (88.3531%)
___Test Local_ResNet_18 poisoned: False, epoch: 72: Average loss: 2.0905, Accuracy: 5354/10000 (53.5400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 6.32ms
___Train Local_ResNet_18,  epoch  72, local model 57, internal_epoch   1,  Average loss: 0.0055, Accuracy: 4410/4956 (88.9831%)
___Train Local_ResNet_18,  epoch  72, local model 57, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4574/4956 (92.2922%)
___Test Local_ResNet_18 poisoned: False, epoch: 72: Average loss: 2.0580, Accuracy: 5317/10000 (53.1700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 6.60ms
___Train Local_ResNet_18,  epoch  72, local model 27, internal_epoch   1,  Average loss: 0.0057, Accuracy: 4088/4587 (89.1214%)
___Train Local_ResNet_18,  epoch  72, local model 27, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4167/4587 (90.8437%)
___Test Local_ResNet_18 poisoned: False, epoch: 72: Average loss: 2.0367, Accuracy: 5381/10000 (53.8100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 6.51ms
___Train Local_ResNet_18,  epoch  72, local model 85, internal_epoch   1,  Average loss: 0.0056, Accuracy: 6205/6947 (89.3191%)
___Train Local_ResNet_18,  epoch  72, local model 85, internal_epoch   2,  Average loss: 0.0058, Accuracy: 6175/6947 (88.8873%)
___Test Local_ResNet_18 poisoned: False, epoch: 72: Average loss: 2.3358, Accuracy: 5088/10000 (50.8800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.60ms
INFO:tornado.access:200 POST /update (::1) 4.59ms
___Train Local_ResNet_18,  epoch  72, local model 93, internal_epoch   1,  Average loss: 0.0057, Accuracy: 4492/5055 (88.8625%)
___Train Local_ResNet_18,  epoch  72, local model 93, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4595/5055 (90.9001%)
___Test Local_ResNet_18 poisoned: False, epoch: 72: Average loss: 2.1233, Accuracy: 5253/10000 (52.5300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 6.93ms
___Train Local_ResNet_18,  epoch  72, local model 6, internal_epoch   1,  Average loss: 0.0060, Accuracy: 4420/4929 (89.6734%)
___Train Local_ResNet_18,  epoch  72, local model 6, internal_epoch   2,  Average loss: 0.0061, Accuracy: 4432/4929 (89.9168%)
___Test Local_ResNet_18 poisoned: False, epoch: 72: Average loss: 2.2678, Accuracy: 5168/10000 (51.6800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 7.39ms
___Train Local_ResNet_18,  epoch  72, local model 74, internal_epoch   1,  Average loss: 0.0060, Accuracy: 4207/4797 (87.7006%)
___Train Local_ResNet_18,  epoch  72, local model 74, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4263/4797 (88.8680%)
___Test Local_ResNet_18 poisoned: False, epoch: 72: Average loss: 2.0014, Accuracy: 5371/10000 (53.7100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 7.13ms
___Train Local_ResNet_18,  epoch  72, local model 54, internal_epoch   1,  Average loss: 0.0069, Accuracy: 4863/5645 (86.1470%)
___Train Local_ResNet_18,  epoch  72, local model 54, internal_epoch   2,  Average loss: 0.0067, Accuracy: 4939/5645 (87.4934%)
___Test Local_ResNet_18 poisoned: False, epoch: 72: Average loss: 2.2716, Accuracy: 5064/10000 (50.6400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 7.34ms
___Train Local_ResNet_18,  epoch  72, local model 88, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4836/5362 (90.1902%)
___Train Local_ResNet_18,  epoch  72, local model 88, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4898/5362 (91.3465%)
___Test Local_ResNet_18 poisoned: False, epoch: 72: Average loss: 1.9767, Accuracy: 5475/10000 (54.7500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.59ms
INFO:tornado.access:200 POST /update (::1) 5.47ms
___Train Local_ResNet_18,  epoch  72, local model 45, internal_epoch   1,  Average loss: 0.0065, Accuracy: 4796/5489 (87.3747%)
___Train Local_ResNet_18,  epoch  72, local model 45, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4915/5489 (89.5427%)
___Test Local_ResNet_18 poisoned: False, epoch: 72: Average loss: 2.2502, Accuracy: 5074/10000 (50.7400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.78ms
INFO:tornado.access:200 POST /update (::1) 7.68ms
___Train Local_ResNet_18,  epoch  72, local model 51, internal_epoch   1,  Average loss: 0.0053, Accuracy: 3680/4108 (89.5813%)
___Train Local_ResNet_18,  epoch  72, local model 51, internal_epoch   2,  Average loss: 0.0041, Accuracy: 3818/4108 (92.9406%)
___Test Local_ResNet_18 poisoned: False, epoch: 72: Average loss: 1.9794, Accuracy: 5545/10000 (55.4500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 7.95ms
___Train Local_ResNet_18,  epoch  72, local model 52, internal_epoch   1,  Average loss: 0.0053, Accuracy: 3727/4130 (90.2421%)
___Train Local_ResNet_18,  epoch  72, local model 52, internal_epoch   2,  Average loss: 0.0042, Accuracy: 3801/4130 (92.0339%)
___Test Local_ResNet_18 poisoned: False, epoch: 72: Average loss: 2.0084, Accuracy: 5497/10000 (54.9700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 8.14ms
time spent on training: 245.46112155914307
___Test Target_ResNet_18 poisoned: False, epoch: 72: Average loss: 1.0958, Accuracy: 7071/10000 (70.7100%)
___Test Target_ResNet_18 poisoned: True, epoch: 72: Average loss: 7.4987, Accuracy: 322/9900 (3.2525%)
Done in 271.9794428348541 sec.
Server Epoch:73 choose agents : [13, 36, 58, 71, 31, 47, 14, 73, 99, 60, 81, 39, 40, 78, 27, 59, 7, 22, 83, 97].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  73, local model 13, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4890/5308 (92.1251%), train_poison_data_count: 415
Global model norm: 42.476275834741706.
Norm before scaling: 42.47553868662233. Distance: 1.9784412125266573
Total norm for 4 adversaries is: 42.47553868662233. distance: 1.9784412125266573
___Test Local_ResNet_18 poisoned: True, epoch: 73: Average loss: 0.3011, Accuracy: 9147/9900 (92.3939%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  73, local model 36, internal_epoch   1,  Average loss: 0.0041, Accuracy: 5398/5777 (93.4395%), train_poison_data_count: 455
Global model norm: 42.476275834741706.
Norm before scaling: 42.46961948383294. Distance: 1.9590920811383905
Total norm for 4 adversaries is: 42.46961948383294. distance: 1.9590920811383905
___Test Local_ResNet_18 poisoned: True, epoch: 73: Average loss: 0.3074, Accuracy: 9103/9900 (91.9495%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  73, local model 58, internal_epoch   1,  Average loss: 0.0059, Accuracy: 4684/5123 (91.4308%), train_poison_data_count: 403
Global model norm: 42.476275834741706.
Norm before scaling: 42.47415775678709. Distance: 1.9641369862418625
Total norm for 4 adversaries is: 42.47415775678709. distance: 1.9641369862418625
___Test Local_ResNet_18 poisoned: True, epoch: 73: Average loss: 0.2829, Accuracy: 9217/9900 (93.1010%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  73, local model 71, internal_epoch   1,  Average loss: 0.0052, Accuracy: 5011/5503 (91.0594%), train_poison_data_count: 430
Global model norm: 42.476275834741706.
Norm before scaling: 42.475597601464806. Distance: 2.0832375186503698
Total norm for 4 adversaries is: 42.475597601464806. distance: 2.0832375186503698
___Test Local_ResNet_18 poisoned: True, epoch: 73: Average loss: 0.1100, Accuracy: 9630/9900 (97.2727%)
___Train Local_ResNet_18,  epoch  73, local model 31, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4090/4537 (90.1477%)
___Train Local_ResNet_18,  epoch  73, local model 31, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4173/4537 (91.9771%)
___Test Local_ResNet_18 poisoned: False, epoch: 73: Average loss: 1.8588, Accuracy: 5711/10000 (57.1100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 8.39ms
___Train Local_ResNet_18,  epoch  73, local model 47, internal_epoch   1,  Average loss: 0.0059, Accuracy: 4542/5123 (88.6590%)
___Train Local_ResNet_18,  epoch  73, local model 47, internal_epoch   2,  Average loss: 0.0066, Accuracy: 4503/5123 (87.8977%)
___Test Local_ResNet_18 poisoned: False, epoch: 73: Average loss: 2.2056, Accuracy: 5130/10000 (51.3000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 8.43ms
___Train Local_ResNet_18,  epoch  73, local model 14, internal_epoch   1,  Average loss: 0.0042, Accuracy: 3840/4196 (91.5157%)
___Train Local_ResNet_18,  epoch  73, local model 14, internal_epoch   2,  Average loss: 0.0033, Accuracy: 3947/4196 (94.0658%)
___Test Local_ResNet_18 poisoned: False, epoch: 73: Average loss: 1.8176, Accuracy: 5735/10000 (57.3500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 8.57ms
___Train Local_ResNet_18,  epoch  73, local model 73, internal_epoch   1,  Average loss: 0.0053, Accuracy: 4127/4605 (89.6200%)
___Train Local_ResNet_18,  epoch  73, local model 73, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4265/4605 (92.6167%)
___Test Local_ResNet_18 poisoned: False, epoch: 73: Average loss: 1.8455, Accuracy: 5707/10000 (57.0700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 8.30ms
___Train Local_ResNet_18,  epoch  73, local model 99, internal_epoch   1,  Average loss: 0.0058, Accuracy: 4333/4851 (89.3218%)
___Train Local_ResNet_18,  epoch  73, local model 99, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4422/4851 (91.1565%)
___Test Local_ResNet_18 poisoned: False, epoch: 73: Average loss: 1.9191, Accuracy: 5599/10000 (55.9900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 9.00ms
___Train Local_ResNet_18,  epoch  73, local model 60, internal_epoch   1,  Average loss: 0.0059, Accuracy: 3679/4145 (88.7575%)
___Train Local_ResNet_18,  epoch  73, local model 60, internal_epoch   2,  Average loss: 0.0045, Accuracy: 3794/4145 (91.5320%)
___Test Local_ResNet_18 poisoned: False, epoch: 73: Average loss: 2.0128, Accuracy: 5477/10000 (54.7700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 9.18ms
___Train Local_ResNet_18,  epoch  73, local model 81, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4552/5035 (90.4071%)
___Train Local_ResNet_18,  epoch  73, local model 81, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4671/5035 (92.7706%)
___Test Local_ResNet_18 poisoned: False, epoch: 73: Average loss: 1.8831, Accuracy: 5638/10000 (56.3800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.78ms
INFO:tornado.access:200 POST /update (::1) 9.31ms
___Train Local_ResNet_18,  epoch  73, local model 39, internal_epoch   1,  Average loss: 0.0061, Accuracy: 3685/4175 (88.2635%)
___Train Local_ResNet_18,  epoch  73, local model 39, internal_epoch   2,  Average loss: 0.0052, Accuracy: 3777/4175 (90.4671%)
___Test Local_ResNet_18 poisoned: False, epoch: 73: Average loss: 2.0337, Accuracy: 5383/10000 (53.8300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 8.81ms
___Train Local_ResNet_18,  epoch  73, local model 40, internal_epoch   1,  Average loss: 0.0043, Accuracy: 5451/5939 (91.7831%)
___Train Local_ResNet_18,  epoch  73, local model 40, internal_epoch   2,  Average loss: 0.0037, Accuracy: 5512/5939 (92.8102%)
___Test Local_ResNet_18 poisoned: False, epoch: 73: Average loss: 2.0580, Accuracy: 5359/10000 (53.5900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 17.98ms
___Train Local_ResNet_18,  epoch  73, local model 78, internal_epoch   1,  Average loss: 0.0045, Accuracy: 3991/4368 (91.3690%)
___Train Local_ResNet_18,  epoch  73, local model 78, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4073/4368 (93.2463%)
___Test Local_ResNet_18 poisoned: False, epoch: 73: Average loss: 1.9785, Accuracy: 5456/10000 (54.5600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 9.73ms
___Train Local_ResNet_18,  epoch  73, local model 27, internal_epoch   1,  Average loss: 0.0064, Accuracy: 4008/4587 (87.3774%)
___Train Local_ResNet_18,  epoch  73, local model 27, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4146/4587 (90.3859%)
___Test Local_ResNet_18 poisoned: False, epoch: 73: Average loss: 2.0742, Accuracy: 5311/10000 (53.1100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 9.59ms
___Train Local_ResNet_18,  epoch  73, local model 59, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4133/4397 (93.9959%)
___Train Local_ResNet_18,  epoch  73, local model 59, internal_epoch   2,  Average loss: 0.0024, Accuracy: 4193/4397 (95.3605%)
___Test Local_ResNet_18 poisoned: False, epoch: 73: Average loss: 1.7704, Accuracy: 5845/10000 (58.4500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.97ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 10.04ms
___Train Local_ResNet_18,  epoch  73, local model 7, internal_epoch   1,  Average loss: 0.0062, Accuracy: 4284/4869 (87.9852%)
___Train Local_ResNet_18,  epoch  73, local model 7, internal_epoch   2,  Average loss: 0.0069, Accuracy: 4230/4869 (86.8762%)
___Test Local_ResNet_18 poisoned: False, epoch: 73: Average loss: 2.1208, Accuracy: 5155/10000 (51.5500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.97ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 9.79ms
___Train Local_ResNet_18,  epoch  73, local model 22, internal_epoch   1,  Average loss: 0.0049, Accuracy: 5166/5696 (90.6952%)
___Train Local_ResNet_18,  epoch  73, local model 22, internal_epoch   2,  Average loss: 0.0049, Accuracy: 5150/5696 (90.4143%)
___Test Local_ResNet_18 poisoned: False, epoch: 73: Average loss: 1.9755, Accuracy: 5470/10000 (54.7000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 9.44ms
___Train Local_ResNet_18,  epoch  73, local model 83, internal_epoch   1,  Average loss: 0.0058, Accuracy: 3170/3552 (89.2455%)
___Train Local_ResNet_18,  epoch  73, local model 83, internal_epoch   2,  Average loss: 0.0038, Accuracy: 3277/3552 (92.2579%)
___Test Local_ResNet_18 poisoned: False, epoch: 73: Average loss: 1.8300, Accuracy: 5748/10000 (57.4800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 9.90ms
___Train Local_ResNet_18,  epoch  73, local model 97, internal_epoch   1,  Average loss: 0.0061, Accuracy: 4159/4736 (87.8167%)
___Train Local_ResNet_18,  epoch  73, local model 97, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4281/4736 (90.3927%)
___Test Local_ResNet_18 poisoned: False, epoch: 73: Average loss: 1.9209, Accuracy: 5594/10000 (55.9400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.79ms
INFO:tornado.access:200 POST /update (::1) 10.22ms
time spent on training: 240.41082096099854
___Test Target_ResNet_18 poisoned: False, epoch: 73: Average loss: 1.0898, Accuracy: 7094/10000 (70.9400%)
___Test Target_ResNet_18 poisoned: True, epoch: 73: Average loss: 6.4172, Accuracy: 655/9900 (6.6162%)
Done in 266.994562625885 sec.
Server Epoch:74 choose agents : [13, 36, 58, 71, 10, 76, 15, 42, 57, 17, 9, 3, 70, 8, 65, 33, 59, 52, 69, 11].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  74, local model 13, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4908/5308 (92.4642%), train_poison_data_count: 415
Global model norm: 42.49608638920103.
Norm before scaling: 42.496745624481356. Distance: 1.949871924669291
Total norm for 4 adversaries is: 42.496745624481356. distance: 1.949871924669291
___Test Local_ResNet_18 poisoned: True, epoch: 74: Average loss: 0.1191, Accuracy: 9604/9900 (97.0101%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  74, local model 36, internal_epoch   1,  Average loss: 0.0040, Accuracy: 5402/5777 (93.5087%), train_poison_data_count: 455
Global model norm: 42.49608638920103.
Norm before scaling: 42.486565834004374. Distance: 1.938639213598946
Total norm for 4 adversaries is: 42.486565834004374. distance: 1.938639213598946
___Test Local_ResNet_18 poisoned: True, epoch: 74: Average loss: 0.1406, Accuracy: 9527/9900 (96.2323%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  74, local model 58, internal_epoch   1,  Average loss: 0.0061, Accuracy: 4632/5123 (90.4158%), train_poison_data_count: 403
Global model norm: 42.49608638920103.
Norm before scaling: 42.499731444464004. Distance: 2.0646020985304525
Total norm for 4 adversaries is: 42.499731444464004. distance: 2.0646020985304525
___Test Local_ResNet_18 poisoned: True, epoch: 74: Average loss: 0.1556, Accuracy: 9479/9900 (95.7475%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  74, local model 71, internal_epoch   1,  Average loss: 0.0047, Accuracy: 5057/5503 (91.8953%), train_poison_data_count: 430
Global model norm: 42.49608638920103.
Norm before scaling: 42.49734740113567. Distance: 2.008153151769838
Total norm for 4 adversaries is: 42.49734740113567. distance: 2.008153151769838
___Test Local_ResNet_18 poisoned: True, epoch: 74: Average loss: 0.1946, Accuracy: 9395/9900 (94.8990%)
___Train Local_ResNet_18,  epoch  74, local model 10, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4640/5068 (91.5549%)
___Train Local_ResNet_18,  epoch  74, local model 10, internal_epoch   2,  Average loss: 0.0054, Accuracy: 4541/5068 (89.6014%)
___Test Local_ResNet_18 poisoned: False, epoch: 74: Average loss: 2.1759, Accuracy: 5128/10000 (51.2800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 10.05ms
___Train Local_ResNet_18,  epoch  74, local model 76, internal_epoch   1,  Average loss: 0.0061, Accuracy: 3473/3959 (87.7242%)
___Train Local_ResNet_18,  epoch  74, local model 76, internal_epoch   2,  Average loss: 0.0048, Accuracy: 3584/3959 (90.5279%)
___Test Local_ResNet_18 poisoned: False, epoch: 74: Average loss: 1.9562, Accuracy: 5525/10000 (55.2500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 10.04ms
___Train Local_ResNet_18,  epoch  74, local model 15, internal_epoch   1,  Average loss: 0.0050, Accuracy: 5485/6068 (90.3922%)
___Train Local_ResNet_18,  epoch  74, local model 15, internal_epoch   2,  Average loss: 0.0048, Accuracy: 5510/6068 (90.8042%)
___Test Local_ResNet_18 poisoned: False, epoch: 74: Average loss: 2.0723, Accuracy: 5269/10000 (52.6900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.80ms
INFO:tornado.access:200 POST /update (::1) 10.49ms
___Train Local_ResNet_18,  epoch  74, local model 42, internal_epoch   1,  Average loss: 0.0054, Accuracy: 5314/5907 (89.9611%)
___Train Local_ResNet_18,  epoch  74, local model 42, internal_epoch   2,  Average loss: 0.0048, Accuracy: 5360/5907 (90.7398%)
___Test Local_ResNet_18 poisoned: False, epoch: 74: Average loss: 2.2824, Accuracy: 4995/10000 (49.9500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 10.57ms
___Train Local_ResNet_18,  epoch  74, local model 57, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4507/4956 (90.9403%)
___Train Local_ResNet_18,  epoch  74, local model 57, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4545/4956 (91.7070%)
___Test Local_ResNet_18 poisoned: False, epoch: 74: Average loss: 1.9281, Accuracy: 5519/10000 (55.1900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 10.08ms
___Train Local_ResNet_18,  epoch  74, local model 17, internal_epoch   1,  Average loss: 0.0067, Accuracy: 4248/4903 (86.6408%)
___Train Local_ResNet_18,  epoch  74, local model 17, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4394/4903 (89.6186%)
___Test Local_ResNet_18 poisoned: False, epoch: 74: Average loss: 2.2161, Accuracy: 5075/10000 (50.7500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 10.34ms
___Train Local_ResNet_18,  epoch  74, local model 9, internal_epoch   1,  Average loss: 0.0064, Accuracy: 4986/5727 (87.0613%)
___Train Local_ResNet_18,  epoch  74, local model 9, internal_epoch   2,  Average loss: 0.0056, Accuracy: 5126/5727 (89.5058%)
___Test Local_ResNet_18 poisoned: False, epoch: 74: Average loss: 2.1504, Accuracy: 5318/10000 (53.1800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 10.50ms
___Train Local_ResNet_18,  epoch  74, local model 3, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4894/5346 (91.5451%)
___Train Local_ResNet_18,  epoch  74, local model 3, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4953/5346 (92.6487%)
___Test Local_ResNet_18 poisoned: False, epoch: 74: Average loss: 2.1263, Accuracy: 5275/10000 (52.7500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.78ms
INFO:tornado.access:200 POST /update (::1) 10.55ms
___Train Local_ResNet_18,  epoch  74, local model 70, internal_epoch   1,  Average loss: 0.0043, Accuracy: 5372/5871 (91.5006%)
___Train Local_ResNet_18,  epoch  74, local model 70, internal_epoch   2,  Average loss: 0.0044, Accuracy: 5374/5871 (91.5347%)
___Test Local_ResNet_18 poisoned: False, epoch: 74: Average loss: 2.0958, Accuracy: 5344/10000 (53.4400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 10.77ms
___Train Local_ResNet_18,  epoch  74, local model 8, internal_epoch   1,  Average loss: 0.0059, Accuracy: 4327/4889 (88.5048%)
___Train Local_ResNet_18,  epoch  74, local model 8, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4403/4889 (90.0593%)
___Test Local_ResNet_18 poisoned: False, epoch: 74: Average loss: 2.0911, Accuracy: 5378/10000 (53.7800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 11.03ms
___Train Local_ResNet_18,  epoch  74, local model 65, internal_epoch   1,  Average loss: 0.0061, Accuracy: 4846/5497 (88.1572%)
___Train Local_ResNet_18,  epoch  74, local model 65, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4953/5497 (90.1037%)
___Test Local_ResNet_18 poisoned: False, epoch: 74: Average loss: 2.0261, Accuracy: 5358/10000 (53.5800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 10.94ms
___Train Local_ResNet_18,  epoch  74, local model 33, internal_epoch   1,  Average loss: 0.0062, Accuracy: 4240/4818 (88.0033%)
___Train Local_ResNet_18,  epoch  74, local model 33, internal_epoch   2,  Average loss: 0.0058, Accuracy: 4278/4818 (88.7920%)
___Test Local_ResNet_18 poisoned: False, epoch: 74: Average loss: 1.8669, Accuracy: 5660/10000 (56.6000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 12.27ms
___Train Local_ResNet_18,  epoch  74, local model 59, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4123/4397 (93.7685%)
___Train Local_ResNet_18,  epoch  74, local model 59, internal_epoch   2,  Average loss: 0.0025, Accuracy: 4203/4397 (95.5879%)
___Test Local_ResNet_18 poisoned: False, epoch: 74: Average loss: 1.8492, Accuracy: 5750/10000 (57.5000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 12.40ms
___Train Local_ResNet_18,  epoch  74, local model 52, internal_epoch   1,  Average loss: 0.0052, Accuracy: 3726/4130 (90.2179%)
___Train Local_ResNet_18,  epoch  74, local model 52, internal_epoch   2,  Average loss: 0.0042, Accuracy: 3802/4130 (92.0581%)
___Test Local_ResNet_18 poisoned: False, epoch: 74: Average loss: 1.9373, Accuracy: 5642/10000 (56.4200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 11.96ms
___Train Local_ResNet_18,  epoch  74, local model 69, internal_epoch   1,  Average loss: 0.0047, Accuracy: 3985/4364 (91.3153%)
___Train Local_ResNet_18,  epoch  74, local model 69, internal_epoch   2,  Average loss: 0.0049, Accuracy: 3971/4364 (90.9945%)
___Test Local_ResNet_18 poisoned: False, epoch: 74: Average loss: 2.0006, Accuracy: 5414/10000 (54.1400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 11.87ms
___Train Local_ResNet_18,  epoch  74, local model 11, internal_epoch   1,  Average loss: 0.0078, Accuracy: 4856/5702 (85.1631%)
___Train Local_ResNet_18,  epoch  74, local model 11, internal_epoch   2,  Average loss: 0.0097, Accuracy: 4591/5702 (80.5156%)
___Test Local_ResNet_18 poisoned: False, epoch: 74: Average loss: 2.1400, Accuracy: 5091/10000 (50.9100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 12.31ms
time spent on training: 248.8171455860138
___Test Target_ResNet_18 poisoned: False, epoch: 74: Average loss: 1.0911, Accuracy: 7076/10000 (70.7600%)
___Test Target_ResNet_18 poisoned: True, epoch: 74: Average loss: 5.5487, Accuracy: 1114/9900 (11.2525%)
Done in 275.3260865211487 sec.
Server Epoch:75 choose agents : [13, 36, 58, 71, 57, 60, 74, 72, 70, 14, 43, 88, 9, 80, 22, 73, 66, 82, 56, 48].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  75, local model 13, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4923/5308 (92.7468%), train_poison_data_count: 415
Global model norm: 42.51890664016421.
Norm before scaling: 42.51308679486971. Distance: 1.8771085327466623
Total norm for 4 adversaries is: 42.51308679486971. distance: 1.8771085327466623
___Test Local_ResNet_18 poisoned: True, epoch: 75: Average loss: 0.2255, Accuracy: 9353/9900 (94.4747%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  75, local model 36, internal_epoch   1,  Average loss: 0.0037, Accuracy: 5446/5777 (94.2704%), train_poison_data_count: 455
Global model norm: 42.51890664016421.
Norm before scaling: 42.50670902928148. Distance: 1.82463634212152
Total norm for 4 adversaries is: 42.50670902928148. distance: 1.82463634212152
___Test Local_ResNet_18 poisoned: True, epoch: 75: Average loss: 0.2133, Accuracy: 9389/9900 (94.8384%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  75, local model 58, internal_epoch   1,  Average loss: 0.0059, Accuracy: 4652/5123 (90.8062%), train_poison_data_count: 403
Global model norm: 42.51890664016421.
Norm before scaling: 42.520044962732726. Distance: 1.993061307868528
Total norm for 4 adversaries is: 42.520044962732726. distance: 1.993061307868528
___Test Local_ResNet_18 poisoned: True, epoch: 75: Average loss: 0.1725, Accuracy: 9480/9900 (95.7576%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  75, local model 71, internal_epoch   1,  Average loss: 0.0044, Accuracy: 5108/5503 (92.8221%), train_poison_data_count: 430
Global model norm: 42.51890664016421.
Norm before scaling: 42.51640452014155. Distance: 1.939763746328672
Total norm for 4 adversaries is: 42.51640452014155. distance: 1.939763746328672
___Test Local_ResNet_18 poisoned: True, epoch: 75: Average loss: 0.1055, Accuracy: 9606/9900 (97.0303%)
___Train Local_ResNet_18,  epoch  75, local model 57, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4562/4956 (92.0500%)
___Train Local_ResNet_18,  epoch  75, local model 57, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4558/4956 (91.9693%)
___Test Local_ResNet_18 poisoned: False, epoch: 75: Average loss: 2.0271, Accuracy: 5464/10000 (54.6400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 12.04ms
___Train Local_ResNet_18,  epoch  75, local model 60, internal_epoch   1,  Average loss: 0.0061, Accuracy: 3674/4145 (88.6369%)
___Train Local_ResNet_18,  epoch  75, local model 60, internal_epoch   2,  Average loss: 0.0048, Accuracy: 3752/4145 (90.5187%)
___Test Local_ResNet_18 poisoned: False, epoch: 75: Average loss: 1.9591, Accuracy: 5542/10000 (55.4200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.59ms
INFO:tornado.access:200 POST /update (::1) 8.48ms
___Train Local_ResNet_18,  epoch  75, local model 74, internal_epoch   1,  Average loss: 0.0059, Accuracy: 4245/4797 (88.4928%)
___Train Local_ResNet_18,  epoch  75, local model 74, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4327/4797 (90.2022%)
___Test Local_ResNet_18 poisoned: False, epoch: 75: Average loss: 1.8961, Accuracy: 5584/10000 (55.8400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 12.58ms
___Train Local_ResNet_18,  epoch  75, local model 72, internal_epoch   1,  Average loss: 0.0057, Accuracy: 4636/5193 (89.2740%)
___Train Local_ResNet_18,  epoch  75, local model 72, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4649/5193 (89.5244%)
___Test Local_ResNet_18 poisoned: False, epoch: 75: Average loss: 2.1017, Accuracy: 5322/10000 (53.2200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 11.96ms
___Train Local_ResNet_18,  epoch  75, local model 70, internal_epoch   1,  Average loss: 0.0041, Accuracy: 5435/5871 (92.5737%)
___Train Local_ResNet_18,  epoch  75, local model 70, internal_epoch   2,  Average loss: 0.0044, Accuracy: 5384/5871 (91.7050%)
___Test Local_ResNet_18 poisoned: False, epoch: 75: Average loss: 2.1593, Accuracy: 5297/10000 (52.9700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 12.29ms
___Train Local_ResNet_18,  epoch  75, local model 14, internal_epoch   1,  Average loss: 0.0040, Accuracy: 3869/4196 (92.2069%)
___Train Local_ResNet_18,  epoch  75, local model 14, internal_epoch   2,  Average loss: 0.0035, Accuracy: 3932/4196 (93.7083%)
___Test Local_ResNet_18 poisoned: False, epoch: 75: Average loss: 1.9766, Accuracy: 5551/10000 (55.5100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 12.23ms
___Train Local_ResNet_18,  epoch  75, local model 43, internal_epoch   1,  Average loss: 0.0057, Accuracy: 4428/4979 (88.9335%)
___Train Local_ResNet_18,  epoch  75, local model 43, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4533/4979 (91.0424%)
___Test Local_ResNet_18 poisoned: False, epoch: 75: Average loss: 2.0744, Accuracy: 5357/10000 (53.5700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 11.92ms
___Train Local_ResNet_18,  epoch  75, local model 88, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4852/5362 (90.4886%)
___Train Local_ResNet_18,  epoch  75, local model 88, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4861/5362 (90.6565%)
___Test Local_ResNet_18 poisoned: False, epoch: 75: Average loss: 1.9747, Accuracy: 5485/10000 (54.8500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 12.08ms
___Train Local_ResNet_18,  epoch  75, local model 9, internal_epoch   1,  Average loss: 0.0060, Accuracy: 5059/5727 (88.3360%)
___Train Local_ResNet_18,  epoch  75, local model 9, internal_epoch   2,  Average loss: 0.0062, Accuracy: 5039/5727 (87.9867%)
___Test Local_ResNet_18 poisoned: False, epoch: 75: Average loss: 2.0840, Accuracy: 5416/10000 (54.1600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 12.09ms
___Train Local_ResNet_18,  epoch  75, local model 80, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4921/5461 (90.1117%)
___Train Local_ResNet_18,  epoch  75, local model 80, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4946/5461 (90.5695%)
___Test Local_ResNet_18 poisoned: False, epoch: 75: Average loss: 2.1321, Accuracy: 5201/10000 (52.0100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 12.23ms
___Train Local_ResNet_18,  epoch  75, local model 22, internal_epoch   1,  Average loss: 0.0052, Accuracy: 5116/5696 (89.8174%)
___Train Local_ResNet_18,  epoch  75, local model 22, internal_epoch   2,  Average loss: 0.0047, Accuracy: 5181/5696 (90.9586%)
___Test Local_ResNet_18 poisoned: False, epoch: 75: Average loss: 2.0006, Accuracy: 5416/10000 (54.1600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.78ms
INFO:tornado.access:200 POST /update (::1) 12.50ms
___Train Local_ResNet_18,  epoch  75, local model 73, internal_epoch   1,  Average loss: 0.0050, Accuracy: 4168/4605 (90.5103%)
___Train Local_ResNet_18,  epoch  75, local model 73, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4275/4605 (92.8339%)
___Test Local_ResNet_18 poisoned: False, epoch: 75: Average loss: 1.8812, Accuracy: 5606/10000 (56.0600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 12.53ms
___Train Local_ResNet_18,  epoch  75, local model 66, internal_epoch   1,  Average loss: 0.0053, Accuracy: 4335/4843 (89.5106%)
___Train Local_ResNet_18,  epoch  75, local model 66, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4389/4843 (90.6256%)
___Test Local_ResNet_18 poisoned: False, epoch: 75: Average loss: 2.1964, Accuracy: 5161/10000 (51.6100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 12.05ms
___Train Local_ResNet_18,  epoch  75, local model 82, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4885/5298 (92.2046%)
___Train Local_ResNet_18,  epoch  75, local model 82, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4928/5298 (93.0162%)
___Test Local_ResNet_18 poisoned: False, epoch: 75: Average loss: 1.9183, Accuracy: 5588/10000 (55.8800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 12.79ms
___Train Local_ResNet_18,  epoch  75, local model 56, internal_epoch   1,  Average loss: 0.0056, Accuracy: 4829/5427 (88.9810%)
___Train Local_ResNet_18,  epoch  75, local model 56, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4831/5427 (89.0179%)
___Test Local_ResNet_18 poisoned: False, epoch: 75: Average loss: 1.9841, Accuracy: 5407/10000 (54.0700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.97ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 13.04ms
___Train Local_ResNet_18,  epoch  75, local model 48, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4423/4830 (91.5735%)
___Train Local_ResNet_18,  epoch  75, local model 48, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4431/4830 (91.7391%)
___Test Local_ResNet_18 poisoned: False, epoch: 75: Average loss: 2.1848, Accuracy: 5328/10000 (53.2800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 12.62ms
time spent on training: 246.27457356452942
___Test Target_ResNet_18 poisoned: False, epoch: 75: Average loss: 1.0951, Accuracy: 7058/10000 (70.5800%)
___Test Target_ResNet_18 poisoned: True, epoch: 75: Average loss: 4.7100, Accuracy: 1747/9900 (17.6465%)
Done in 272.74249839782715 sec.
Server Epoch:76 choose agents : [13, 36, 58, 71, 69, 16, 75, 60, 24, 8, 77, 11, 80, 28, 41, 2, 76, 57, 33, 78].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  76, local model 13, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4946/5308 (93.1801%), train_poison_data_count: 415
Global model norm: 42.54131579775933.
Norm before scaling: 42.5380129289711. Distance: 1.839879061933059
Total norm for 4 adversaries is: 42.5380129289711. distance: 1.839879061933059
___Test Local_ResNet_18 poisoned: True, epoch: 76: Average loss: 0.2238, Accuracy: 9365/9900 (94.5960%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  76, local model 36, internal_epoch   1,  Average loss: 0.0034, Accuracy: 5449/5777 (94.3223%), train_poison_data_count: 455
Global model norm: 42.54131579775933.
Norm before scaling: 42.52842426092445. Distance: 1.782509609373067
Total norm for 4 adversaries is: 42.52842426092445. distance: 1.782509609373067
___Test Local_ResNet_18 poisoned: True, epoch: 76: Average loss: 0.0973, Accuracy: 9659/9900 (97.5657%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  76, local model 58, internal_epoch   1,  Average loss: 0.0054, Accuracy: 4683/5123 (91.4113%), train_poison_data_count: 403
Global model norm: 42.54131579775933.
Norm before scaling: 42.54116228173896. Distance: 1.9309476992351182
Total norm for 4 adversaries is: 42.54116228173896. distance: 1.9309476992351182
___Test Local_ResNet_18 poisoned: True, epoch: 76: Average loss: 0.1433, Accuracy: 9540/9900 (96.3636%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  76, local model 71, internal_epoch   1,  Average loss: 0.0044, Accuracy: 5085/5503 (92.4041%), train_poison_data_count: 430
Global model norm: 42.54131579775933.
Norm before scaling: 42.542885359676326. Distance: 1.962730833922796
Total norm for 4 adversaries is: 42.542885359676326. distance: 1.962730833922796
___Test Local_ResNet_18 poisoned: True, epoch: 76: Average loss: 0.1373, Accuracy: 9541/9900 (96.3737%)
___Train Local_ResNet_18,  epoch  76, local model 69, internal_epoch   1,  Average loss: 0.0047, Accuracy: 3970/4364 (90.9716%)
___Train Local_ResNet_18,  epoch  76, local model 69, internal_epoch   2,  Average loss: 0.0047, Accuracy: 3967/4364 (90.9028%)
___Test Local_ResNet_18 poisoned: False, epoch: 76: Average loss: 1.9286, Accuracy: 5583/10000 (55.8300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.61ms
INFO:tornado.access:200 POST /update (::1) 9.32ms
___Train Local_ResNet_18,  epoch  76, local model 16, internal_epoch   1,  Average loss: 0.0056, Accuracy: 4788/5353 (89.4452%)
___Train Local_ResNet_18,  epoch  76, local model 16, internal_epoch   2,  Average loss: 0.0054, Accuracy: 4804/5353 (89.7441%)
___Test Local_ResNet_18 poisoned: False, epoch: 76: Average loss: 1.9590, Accuracy: 5523/10000 (55.2300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.78ms
INFO:tornado.access:200 POST /update (::1) 13.35ms
___Train Local_ResNet_18,  epoch  76, local model 75, internal_epoch   1,  Average loss: 0.0050, Accuracy: 4218/4672 (90.2825%)
___Train Local_ResNet_18,  epoch  76, local model 75, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4323/4672 (92.5300%)
___Test Local_ResNet_18 poisoned: False, epoch: 76: Average loss: 1.8248, Accuracy: 5735/10000 (57.3500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 10.13ms
___Train Local_ResNet_18,  epoch  76, local model 60, internal_epoch   1,  Average loss: 0.0056, Accuracy: 3705/4145 (89.3848%)
___Train Local_ResNet_18,  epoch  76, local model 60, internal_epoch   2,  Average loss: 0.0047, Accuracy: 3758/4145 (90.6634%)
___Test Local_ResNet_18 poisoned: False, epoch: 76: Average loss: 2.0130, Accuracy: 5555/10000 (55.5500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 12.64ms
___Train Local_ResNet_18,  epoch  76, local model 24, internal_epoch   1,  Average loss: 0.0048, Accuracy: 3931/4313 (91.1431%)
___Train Local_ResNet_18,  epoch  76, local model 24, internal_epoch   2,  Average loss: 0.0044, Accuracy: 3953/4313 (91.6531%)
___Test Local_ResNet_18 poisoned: False, epoch: 76: Average loss: 1.9426, Accuracy: 5596/10000 (55.9600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 13.35ms
___Train Local_ResNet_18,  epoch  76, local model 8, internal_epoch   1,  Average loss: 0.0057, Accuracy: 4366/4889 (89.3025%)
___Train Local_ResNet_18,  epoch  76, local model 8, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4390/4889 (89.7934%)
___Test Local_ResNet_18 poisoned: False, epoch: 76: Average loss: 2.1371, Accuracy: 5318/10000 (53.1800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 13.04ms
___Train Local_ResNet_18,  epoch  76, local model 77, internal_epoch   1,  Average loss: 0.0068, Accuracy: 4398/5050 (87.0891%)
___Train Local_ResNet_18,  epoch  76, local model 77, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4522/5050 (89.5446%)
___Test Local_ResNet_18 poisoned: False, epoch: 76: Average loss: 1.9708, Accuracy: 5386/10000 (53.8600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 13.19ms
___Train Local_ResNet_18,  epoch  76, local model 11, internal_epoch   1,  Average loss: 0.0086, Accuracy: 4818/5702 (84.4967%)
___Train Local_ResNet_18,  epoch  76, local model 11, internal_epoch   2,  Average loss: 0.0106, Accuracy: 4562/5702 (80.0070%)
___Test Local_ResNet_18 poisoned: False, epoch: 76: Average loss: 2.1874, Accuracy: 4935/10000 (49.3500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 11.21ms
___Train Local_ResNet_18,  epoch  76, local model 80, internal_epoch   1,  Average loss: 0.0050, Accuracy: 4926/5461 (90.2033%)
___Train Local_ResNet_18,  epoch  76, local model 80, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4925/5461 (90.1849%)
___Test Local_ResNet_18 poisoned: False, epoch: 76: Average loss: 2.2612, Accuracy: 5115/10000 (51.1500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 13.46ms
___Train Local_ResNet_18,  epoch  76, local model 28, internal_epoch   1,  Average loss: 0.0063, Accuracy: 4524/5122 (88.3249%)
___Train Local_ResNet_18,  epoch  76, local model 28, internal_epoch   2,  Average loss: 0.0116, Accuracy: 4102/5122 (80.0859%)
___Test Local_ResNet_18 poisoned: False, epoch: 76: Average loss: 2.4599, Accuracy: 4517/10000 (45.1700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.60ms
INFO:tornado.access:200 POST /update (::1) 9.64ms
___Train Local_ResNet_18,  epoch  76, local model 41, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4282/4714 (90.8358%)
___Train Local_ResNet_18,  epoch  76, local model 41, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4356/4714 (92.4056%)
___Test Local_ResNet_18 poisoned: False, epoch: 76: Average loss: 2.1674, Accuracy: 5211/10000 (52.1100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.97ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 13.50ms
___Train Local_ResNet_18,  epoch  76, local model 2, internal_epoch   1,  Average loss: 0.0056, Accuracy: 3545/3968 (89.3397%)
___Train Local_ResNet_18,  epoch  76, local model 2, internal_epoch   2,  Average loss: 0.0046, Accuracy: 3627/3968 (91.4062%)
___Test Local_ResNet_18 poisoned: False, epoch: 76: Average loss: 1.8951, Accuracy: 5593/10000 (55.9300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 14.55ms
___Train Local_ResNet_18,  epoch  76, local model 76, internal_epoch   1,  Average loss: 0.0060, Accuracy: 3495/3959 (88.2799%)
___Train Local_ResNet_18,  epoch  76, local model 76, internal_epoch   2,  Average loss: 0.0044, Accuracy: 3619/3959 (91.4120%)
___Test Local_ResNet_18 poisoned: False, epoch: 76: Average loss: 2.0315, Accuracy: 5483/10000 (54.8300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.97ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 14.53ms
___Train Local_ResNet_18,  epoch  76, local model 57, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4511/4956 (91.0210%)
___Train Local_ResNet_18,  epoch  76, local model 57, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4545/4956 (91.7070%)
___Test Local_ResNet_18 poisoned: False, epoch: 76: Average loss: 1.9845, Accuracy: 5584/10000 (55.8400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 13.59ms
___Train Local_ResNet_18,  epoch  76, local model 33, internal_epoch   1,  Average loss: 0.0061, Accuracy: 4261/4818 (88.4392%)
___Train Local_ResNet_18,  epoch  76, local model 33, internal_epoch   2,  Average loss: 0.0056, Accuracy: 4299/4818 (89.2279%)
___Test Local_ResNet_18 poisoned: False, epoch: 76: Average loss: 2.0265, Accuracy: 5442/10000 (54.4200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 14.67ms
___Train Local_ResNet_18,  epoch  76, local model 78, internal_epoch   1,  Average loss: 0.0046, Accuracy: 3985/4368 (91.2317%)
___Train Local_ResNet_18,  epoch  76, local model 78, internal_epoch   2,  Average loss: 0.0042, Accuracy: 3997/4368 (91.5064%)
___Test Local_ResNet_18 poisoned: False, epoch: 76: Average loss: 2.1658, Accuracy: 5182/10000 (51.8200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.97ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 13.85ms
time spent on training: 242.77447271347046
___Test Target_ResNet_18 poisoned: False, epoch: 76: Average loss: 1.1008, Accuracy: 7029/10000 (70.2900%)
___Test Target_ResNet_18 poisoned: True, epoch: 76: Average loss: 4.0135, Accuracy: 2506/9900 (25.3131%)
Done in 269.0852439403534 sec.
Server Epoch:77 choose agents : [13, 36, 58, 71, 29, 81, 74, 11, 98, 12, 65, 40, 72, 67, 2, 26, 91, 61, 25, 45].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  77, local model 13, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4945/5308 (93.1613%), train_poison_data_count: 415
Global model norm: 42.562845595605005.
Norm before scaling: 42.558061499941616. Distance: 1.8480499686838339
Total norm for 4 adversaries is: 42.558061499941616. distance: 1.8480499686838339
___Test Local_ResNet_18 poisoned: True, epoch: 77: Average loss: 0.0987, Accuracy: 9641/9900 (97.3838%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  77, local model 36, internal_epoch   1,  Average loss: 0.0031, Accuracy: 5483/5777 (94.9109%), train_poison_data_count: 455
Global model norm: 42.562845595605005.
Norm before scaling: 42.551536996696726. Distance: 1.725746203472941
Total norm for 4 adversaries is: 42.551536996696726. distance: 1.725746203472941
___Test Local_ResNet_18 poisoned: True, epoch: 77: Average loss: 0.1963, Accuracy: 9405/9900 (95.0000%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  77, local model 58, internal_epoch   1,  Average loss: 0.0050, Accuracy: 4740/5123 (92.5239%), train_poison_data_count: 403
Global model norm: 42.562845595605005.
Norm before scaling: 42.55909551821003. Distance: 1.852242196145791
Total norm for 4 adversaries is: 42.55909551821003. distance: 1.852242196145791
___Test Local_ResNet_18 poisoned: True, epoch: 77: Average loss: 0.2019, Accuracy: 9410/9900 (95.0505%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  77, local model 71, internal_epoch   1,  Average loss: 0.0039, Accuracy: 5126/5503 (93.1492%), train_poison_data_count: 430
Global model norm: 42.562845595605005.
Norm before scaling: 42.55961466908799. Distance: 1.8763170067438344
Total norm for 4 adversaries is: 42.55961466908799. distance: 1.8763170067438344
___Test Local_ResNet_18 poisoned: True, epoch: 77: Average loss: 0.2052, Accuracy: 9366/9900 (94.6061%)
___Train Local_ResNet_18,  epoch  77, local model 29, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4362/4732 (92.1809%)
___Train Local_ResNet_18,  epoch  77, local model 29, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4387/4732 (92.7092%)
___Test Local_ResNet_18 poisoned: False, epoch: 77: Average loss: 1.9178, Accuracy: 5585/10000 (55.8500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 13.97ms
___Train Local_ResNet_18,  epoch  77, local model 81, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4549/5035 (90.3476%)
___Train Local_ResNet_18,  epoch  77, local model 81, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4593/5035 (91.2214%)
___Test Local_ResNet_18 poisoned: False, epoch: 77: Average loss: 1.9224, Accuracy: 5462/10000 (54.6200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 13.77ms
___Train Local_ResNet_18,  epoch  77, local model 74, internal_epoch   1,  Average loss: 0.0055, Accuracy: 4276/4797 (89.1390%)
___Train Local_ResNet_18,  epoch  77, local model 74, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4282/4797 (89.2641%)
___Test Local_ResNet_18 poisoned: False, epoch: 77: Average loss: 2.1226, Accuracy: 5277/10000 (52.7700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 13.50ms
___Train Local_ResNet_18,  epoch  77, local model 11, internal_epoch   1,  Average loss: 0.0083, Accuracy: 4770/5702 (83.6549%)
___Train Local_ResNet_18,  epoch  77, local model 11, internal_epoch   2,  Average loss: 0.0086, Accuracy: 4735/5702 (83.0410%)
___Test Local_ResNet_18 poisoned: False, epoch: 77: Average loss: 2.2409, Accuracy: 5050/10000 (50.5000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.97ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 13.93ms
___Train Local_ResNet_18,  epoch  77, local model 98, internal_epoch   1,  Average loss: 0.0058, Accuracy: 3802/4161 (91.3723%)
___Train Local_ResNet_18,  epoch  77, local model 98, internal_epoch   2,  Average loss: 0.0049, Accuracy: 3836/4161 (92.1894%)
___Test Local_ResNet_18 poisoned: False, epoch: 77: Average loss: 1.8525, Accuracy: 5738/10000 (57.3800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.78ms
INFO:tornado.access:200 POST /win_exists (::1) 0.71ms
INFO:tornado.access:200 POST /update (::1) 10.99ms
___Train Local_ResNet_18,  epoch  77, local model 12, internal_epoch   1,  Average loss: 0.0059, Accuracy: 4887/5526 (88.4365%)
___Train Local_ResNet_18,  epoch  77, local model 12, internal_epoch   2,  Average loss: 0.0060, Accuracy: 4863/5526 (88.0022%)
___Test Local_ResNet_18 poisoned: False, epoch: 77: Average loss: 2.1441, Accuracy: 5145/10000 (51.4500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 13.65ms
___Train Local_ResNet_18,  epoch  77, local model 65, internal_epoch   1,  Average loss: 0.0056, Accuracy: 4892/5497 (88.9940%)
___Train Local_ResNet_18,  epoch  77, local model 65, internal_epoch   2,  Average loss: 0.0058, Accuracy: 4847/5497 (88.1754%)
___Test Local_ResNet_18 poisoned: False, epoch: 77: Average loss: 2.2156, Accuracy: 5095/10000 (50.9500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 14.65ms
___Train Local_ResNet_18,  epoch  77, local model 40, internal_epoch   1,  Average loss: 0.0042, Accuracy: 5450/5939 (91.7663%)
___Train Local_ResNet_18,  epoch  77, local model 40, internal_epoch   2,  Average loss: 0.0037, Accuracy: 5503/5939 (92.6587%)
___Test Local_ResNet_18 poisoned: False, epoch: 77: Average loss: 2.0805, Accuracy: 5385/10000 (53.8500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.97ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 14.73ms
___Train Local_ResNet_18,  epoch  77, local model 72, internal_epoch   1,  Average loss: 0.0057, Accuracy: 4642/5193 (89.3896%)
___Train Local_ResNet_18,  epoch  77, local model 72, internal_epoch   2,  Average loss: 0.0075, Accuracy: 4430/5193 (85.3071%)
___Test Local_ResNet_18 poisoned: False, epoch: 77: Average loss: 2.3241, Accuracy: 4869/10000 (48.6900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 13.69ms
___Train Local_ResNet_18,  epoch  77, local model 67, internal_epoch   1,  Average loss: 0.0065, Accuracy: 4875/5559 (87.6956%)
___Train Local_ResNet_18,  epoch  77, local model 67, internal_epoch   2,  Average loss: 0.0062, Accuracy: 4881/5559 (87.8036%)
___Test Local_ResNet_18 poisoned: False, epoch: 77: Average loss: 2.0732, Accuracy: 5294/10000 (52.9400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 14.32ms
___Train Local_ResNet_18,  epoch  77, local model 2, internal_epoch   1,  Average loss: 0.0056, Accuracy: 3529/3968 (88.9365%)
___Train Local_ResNet_18,  epoch  77, local model 2, internal_epoch   2,  Average loss: 0.0043, Accuracy: 3637/3968 (91.6583%)
___Test Local_ResNet_18 poisoned: False, epoch: 77: Average loss: 1.8452, Accuracy: 5634/10000 (56.3400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 13.81ms
___Train Local_ResNet_18,  epoch  77, local model 26, internal_epoch   1,  Average loss: 0.0044, Accuracy: 3750/4086 (91.7768%)
___Train Local_ResNet_18,  epoch  77, local model 26, internal_epoch   2,  Average loss: 0.0034, Accuracy: 3831/4086 (93.7592%)
___Test Local_ResNet_18 poisoned: False, epoch: 77: Average loss: 1.9185, Accuracy: 5626/10000 (56.2600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /win_exists (::1) 0.71ms
INFO:tornado.access:200 POST /update (::1) 12.29ms
___Train Local_ResNet_18,  epoch  77, local model 91, internal_epoch   1,  Average loss: 0.0054, Accuracy: 4039/4527 (89.2202%)
___Train Local_ResNet_18,  epoch  77, local model 91, internal_epoch   2,  Average loss: 0.0054, Accuracy: 4031/4527 (89.0435%)
___Test Local_ResNet_18 poisoned: False, epoch: 77: Average loss: 1.9795, Accuracy: 5431/10000 (54.3100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 14.04ms
___Train Local_ResNet_18,  epoch  77, local model 61, internal_epoch   1,  Average loss: 0.0054, Accuracy: 4033/4485 (89.9220%)
___Train Local_ResNet_18,  epoch  77, local model 61, internal_epoch   2,  Average loss: 0.0077, Accuracy: 3839/4485 (85.5964%)
___Test Local_ResNet_18 poisoned: False, epoch: 77: Average loss: 1.9991, Accuracy: 5360/10000 (53.6000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.60ms
INFO:tornado.access:200 POST /update (::1) 10.66ms
___Train Local_ResNet_18,  epoch  77, local model 25, internal_epoch   1,  Average loss: 0.0059, Accuracy: 5671/6419 (88.3471%)
___Train Local_ResNet_18,  epoch  77, local model 25, internal_epoch   2,  Average loss: 0.0071, Accuracy: 5522/6419 (86.0259%)
___Test Local_ResNet_18 poisoned: False, epoch: 77: Average loss: 2.1542, Accuracy: 5265/10000 (52.6500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 15.22ms
___Train Local_ResNet_18,  epoch  77, local model 45, internal_epoch   1,  Average loss: 0.0058, Accuracy: 4851/5489 (88.3768%)
___Train Local_ResNet_18,  epoch  77, local model 45, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4955/5489 (90.2715%)
___Test Local_ResNet_18 poisoned: False, epoch: 77: Average loss: 2.0962, Accuracy: 5349/10000 (53.4900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 14.54ms
time spent on training: 247.5476689338684
___Test Target_ResNet_18 poisoned: False, epoch: 77: Average loss: 1.1045, Accuracy: 7030/10000 (70.3000%)
___Test Target_ResNet_18 poisoned: True, epoch: 77: Average loss: 3.4713, Accuracy: 3236/9900 (32.6869%)
Done in 274.2744836807251 sec.
Server Epoch:78 choose agents : [13, 36, 58, 71, 56, 90, 54, 63, 94, 10, 96, 45, 38, 59, 6, 85, 55, 32, 83, 89].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  78, local model 13, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4954/5308 (93.3308%), train_poison_data_count: 415
Global model norm: 42.58656453056087.
Norm before scaling: 42.583897257814044. Distance: 1.8139931677844199
Total norm for 4 adversaries is: 42.583897257814044. distance: 1.8139931677844199
___Test Local_ResNet_18 poisoned: True, epoch: 78: Average loss: 0.2011, Accuracy: 9423/9900 (95.1818%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  78, local model 36, internal_epoch   1,  Average loss: 0.0033, Accuracy: 5491/5777 (95.0493%), train_poison_data_count: 455
Global model norm: 42.58656453056087.
Norm before scaling: 42.57152185036671. Distance: 1.7038916166115312
Total norm for 4 adversaries is: 42.57152185036671. distance: 1.7038916166115312
___Test Local_ResNet_18 poisoned: True, epoch: 78: Average loss: 0.2012, Accuracy: 9390/9900 (94.8485%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  78, local model 58, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4714/5123 (92.0164%), train_poison_data_count: 403
Global model norm: 42.58656453056087.
Norm before scaling: 42.58333970360357. Distance: 1.8371126350505307
Total norm for 4 adversaries is: 42.58333970360357. distance: 1.8371126350505307
___Test Local_ResNet_18 poisoned: True, epoch: 78: Average loss: 0.2081, Accuracy: 9362/9900 (94.5657%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  78, local model 71, internal_epoch   1,  Average loss: 0.0039, Accuracy: 5115/5503 (92.9493%), train_poison_data_count: 430
Global model norm: 42.58656453056087.
Norm before scaling: 42.583197805608286. Distance: 1.8683440644667537
Total norm for 4 adversaries is: 42.583197805608286. distance: 1.8683440644667537
___Test Local_ResNet_18 poisoned: True, epoch: 78: Average loss: 0.1365, Accuracy: 9541/9900 (96.3737%)
___Train Local_ResNet_18,  epoch  78, local model 56, internal_epoch   1,  Average loss: 0.0055, Accuracy: 4845/5427 (89.2758%)
___Train Local_ResNet_18,  epoch  78, local model 56, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4886/5427 (90.0313%)
___Test Local_ResNet_18 poisoned: False, epoch: 78: Average loss: 1.9898, Accuracy: 5437/10000 (54.3700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 14.68ms
___Train Local_ResNet_18,  epoch  78, local model 90, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4388/4748 (92.4179%)
___Train Local_ResNet_18,  epoch  78, local model 90, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4343/4748 (91.4701%)
___Test Local_ResNet_18 poisoned: False, epoch: 78: Average loss: 1.9990, Accuracy: 5410/10000 (54.1000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 14.82ms
___Train Local_ResNet_18,  epoch  78, local model 54, internal_epoch   1,  Average loss: 0.0070, Accuracy: 4901/5645 (86.8202%)
___Train Local_ResNet_18,  epoch  78, local model 54, internal_epoch   2,  Average loss: 0.0078, Accuracy: 4796/5645 (84.9601%)
___Test Local_ResNet_18 poisoned: False, epoch: 78: Average loss: 2.3475, Accuracy: 4835/10000 (48.3500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 15.60ms
___Train Local_ResNet_18,  epoch  78, local model 63, internal_epoch   1,  Average loss: 0.0047, Accuracy: 3577/3910 (91.4834%)
___Train Local_ResNet_18,  epoch  78, local model 63, internal_epoch   2,  Average loss: 0.0061, Accuracy: 3487/3910 (89.1816%)
___Test Local_ResNet_18 poisoned: False, epoch: 78: Average loss: 2.0407, Accuracy: 5473/10000 (54.7300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 15.02ms
___Train Local_ResNet_18,  epoch  78, local model 94, internal_epoch   1,  Average loss: 0.0059, Accuracy: 4620/5224 (88.4380%)
___Train Local_ResNet_18,  epoch  78, local model 94, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4756/5224 (91.0413%)
___Test Local_ResNet_18 poisoned: False, epoch: 78: Average loss: 1.9938, Accuracy: 5420/10000 (54.2000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 15.40ms
___Train Local_ResNet_18,  epoch  78, local model 10, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4618/5068 (91.1208%)
___Train Local_ResNet_18,  epoch  78, local model 10, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4572/5068 (90.2131%)
___Test Local_ResNet_18 poisoned: False, epoch: 78: Average loss: 2.1875, Accuracy: 5173/10000 (51.7300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 15.82ms
___Train Local_ResNet_18,  epoch  78, local model 96, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4594/5086 (90.3264%)
___Train Local_ResNet_18,  epoch  78, local model 96, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4644/5086 (91.3095%)
___Test Local_ResNet_18 poisoned: False, epoch: 78: Average loss: 1.9362, Accuracy: 5553/10000 (55.5300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 15.12ms
___Train Local_ResNet_18,  epoch  78, local model 45, internal_epoch   1,  Average loss: 0.0054, Accuracy: 4889/5489 (89.0690%)
___Train Local_ResNet_18,  epoch  78, local model 45, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4955/5489 (90.2715%)
___Test Local_ResNet_18 poisoned: False, epoch: 78: Average loss: 2.2511, Accuracy: 5077/10000 (50.7700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.79ms
INFO:tornado.access:200 POST /update (::1) 15.24ms
___Train Local_ResNet_18,  epoch  78, local model 38, internal_epoch   1,  Average loss: 0.0058, Accuracy: 5510/6235 (88.3721%)
___Train Local_ResNet_18,  epoch  78, local model 38, internal_epoch   2,  Average loss: 0.0060, Accuracy: 5494/6235 (88.1155%)
___Test Local_ResNet_18 poisoned: False, epoch: 78: Average loss: 2.1074, Accuracy: 5230/10000 (52.3000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 15.55ms
___Train Local_ResNet_18,  epoch  78, local model 59, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4150/4397 (94.3825%)
___Train Local_ResNet_18,  epoch  78, local model 59, internal_epoch   2,  Average loss: 0.0025, Accuracy: 4203/4397 (95.5879%)
___Test Local_ResNet_18 poisoned: False, epoch: 78: Average loss: 1.8234, Accuracy: 5793/10000 (57.9300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.78ms
INFO:tornado.access:200 POST /update (::1) 16.49ms
___Train Local_ResNet_18,  epoch  78, local model 6, internal_epoch   1,  Average loss: 0.0060, Accuracy: 4440/4929 (90.0791%)
___Train Local_ResNet_18,  epoch  78, local model 6, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4485/4929 (90.9921%)
___Test Local_ResNet_18 poisoned: False, epoch: 78: Average loss: 2.0162, Accuracy: 5552/10000 (55.5200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 15.24ms
___Train Local_ResNet_18,  epoch  78, local model 85, internal_epoch   1,  Average loss: 0.0056, Accuracy: 6216/6947 (89.4775%)
___Train Local_ResNet_18,  epoch  78, local model 85, internal_epoch   2,  Average loss: 0.0061, Accuracy: 6115/6947 (88.0236%)
___Test Local_ResNet_18 poisoned: False, epoch: 78: Average loss: 2.0739, Accuracy: 5258/10000 (52.5800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 15.98ms
___Train Local_ResNet_18,  epoch  78, local model 55, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4287/4731 (90.6151%)
___Train Local_ResNet_18,  epoch  78, local model 55, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4325/4731 (91.4183%)
___Test Local_ResNet_18 poisoned: False, epoch: 78: Average loss: 1.8939, Accuracy: 5547/10000 (55.4700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 16.11ms
___Train Local_ResNet_18,  epoch  78, local model 32, internal_epoch   1,  Average loss: 0.0065, Accuracy: 5294/6080 (87.0724%)
___Train Local_ResNet_18,  epoch  78, local model 32, internal_epoch   2,  Average loss: 0.0061, Accuracy: 5364/6080 (88.2237%)
___Test Local_ResNet_18 poisoned: False, epoch: 78: Average loss: 2.1555, Accuracy: 5136/10000 (51.3600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 15.17ms
___Train Local_ResNet_18,  epoch  78, local model 83, internal_epoch   1,  Average loss: 0.0051, Accuracy: 3193/3552 (89.8930%)
___Train Local_ResNet_18,  epoch  78, local model 83, internal_epoch   2,  Average loss: 0.0038, Accuracy: 3305/3552 (93.0462%)
___Test Local_ResNet_18 poisoned: False, epoch: 78: Average loss: 1.7815, Accuracy: 5861/10000 (58.6100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 15.78ms
___Train Local_ResNet_18,  epoch  78, local model 89, internal_epoch   1,  Average loss: 0.0054, Accuracy: 4310/4737 (90.9859%)
___Train Local_ResNet_18,  epoch  78, local model 89, internal_epoch   2,  Average loss: 0.0056, Accuracy: 4309/4737 (90.9647%)
___Test Local_ResNet_18 poisoned: False, epoch: 78: Average loss: 2.0260, Accuracy: 5384/10000 (53.8400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 16.31ms
time spent on training: 248.42784428596497
___Test Target_ResNet_18 poisoned: False, epoch: 78: Average loss: 1.1089, Accuracy: 7010/10000 (70.1000%)
___Test Target_ResNet_18 poisoned: True, epoch: 78: Average loss: 2.9009, Accuracy: 4036/9900 (40.7677%)
Done in 275.3062553405762 sec.
Server Epoch:79 choose agents : [13, 36, 58, 71, 23, 89, 83, 1, 0, 90, 46, 70, 48, 5, 17, 96, 79, 7, 63, 39].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  79, local model 13, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4966/5308 (93.5569%), train_poison_data_count: 415
Global model norm: 42.608124465972594.
Norm before scaling: 42.60460185953362. Distance: 1.7860134078587282
Total norm for 4 adversaries is: 42.60460185953362. distance: 1.7860134078587282
___Test Local_ResNet_18 poisoned: True, epoch: 79: Average loss: 0.1756, Accuracy: 9454/9900 (95.4949%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  79, local model 36, internal_epoch   1,  Average loss: 0.0033, Accuracy: 5477/5777 (94.8070%), train_poison_data_count: 455
Global model norm: 42.608124465972594.
Norm before scaling: 42.597005561570874. Distance: 1.7670633314578208
Total norm for 4 adversaries is: 42.597005561570874. distance: 1.7670633314578208
___Test Local_ResNet_18 poisoned: True, epoch: 79: Average loss: 0.2012, Accuracy: 9426/9900 (95.2121%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  79, local model 58, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4727/5123 (92.2702%), train_poison_data_count: 403
Global model norm: 42.608124465972594.
Norm before scaling: 42.60173657240248. Distance: 1.8244718911035605
Total norm for 4 adversaries is: 42.60173657240248. distance: 1.8244718911035605
___Test Local_ResNet_18 poisoned: True, epoch: 79: Average loss: 0.3695, Accuracy: 8959/9900 (90.4949%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  79, local model 71, internal_epoch   1,  Average loss: 0.0039, Accuracy: 5123/5503 (93.0947%), train_poison_data_count: 430
Global model norm: 42.608124465972594.
Norm before scaling: 42.602739444818866. Distance: 1.816952858993039
Total norm for 4 adversaries is: 42.602739444818866. distance: 1.816952858993039
___Test Local_ResNet_18 poisoned: True, epoch: 79: Average loss: 0.3470, Accuracy: 8965/9900 (90.5556%)
___Train Local_ResNet_18,  epoch  79, local model 23, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4266/4549 (93.7789%)
___Train Local_ResNet_18,  epoch  79, local model 23, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4274/4549 (93.9547%)
___Test Local_ResNet_18 poisoned: False, epoch: 79: Average loss: 1.7632, Accuracy: 5872/10000 (58.7200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 15.92ms
___Train Local_ResNet_18,  epoch  79, local model 89, internal_epoch   1,  Average loss: 0.0056, Accuracy: 4281/4737 (90.3737%)
___Train Local_ResNet_18,  epoch  79, local model 89, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4300/4737 (90.7748%)
___Test Local_ResNet_18 poisoned: False, epoch: 79: Average loss: 2.1329, Accuracy: 5341/10000 (53.4100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.76ms
INFO:tornado.access:200 POST /update (::1) 16.22ms
___Train Local_ResNet_18,  epoch  79, local model 83, internal_epoch   1,  Average loss: 0.0050, Accuracy: 3207/3552 (90.2872%)
___Train Local_ResNet_18,  epoch  79, local model 83, internal_epoch   2,  Average loss: 0.0036, Accuracy: 3304/3552 (93.0180%)
___Test Local_ResNet_18 poisoned: False, epoch: 79: Average loss: 1.8933, Accuracy: 5668/10000 (56.6800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 16.36ms
___Train Local_ResNet_18,  epoch  79, local model 1, internal_epoch   1,  Average loss: 0.0039, Accuracy: 5019/5422 (92.5673%)
___Train Local_ResNet_18,  epoch  79, local model 1, internal_epoch   2,  Average loss: 0.0037, Accuracy: 5038/5422 (92.9177%)
___Test Local_ResNet_18 poisoned: False, epoch: 79: Average loss: 1.8454, Accuracy: 5726/10000 (57.2600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 16.02ms
___Train Local_ResNet_18,  epoch  79, local model 0, internal_epoch   1,  Average loss: 0.0057, Accuracy: 4885/5454 (89.5673%)
___Train Local_ResNet_18,  epoch  79, local model 0, internal_epoch   2,  Average loss: 0.0063, Accuracy: 4785/5454 (87.7338%)
___Test Local_ResNet_18 poisoned: False, epoch: 79: Average loss: 1.9942, Accuracy: 5383/10000 (53.8300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 16.18ms
___Train Local_ResNet_18,  epoch  79, local model 90, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4343/4748 (91.4701%)
___Train Local_ResNet_18,  epoch  79, local model 90, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4355/4748 (91.7228%)
___Test Local_ResNet_18 poisoned: False, epoch: 79: Average loss: 1.9382, Accuracy: 5480/10000 (54.8000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 16.66ms
___Train Local_ResNet_18,  epoch  79, local model 46, internal_epoch   1,  Average loss: 0.0068, Accuracy: 4653/5399 (86.1826%)
___Train Local_ResNet_18,  epoch  79, local model 46, internal_epoch   2,  Average loss: 0.0064, Accuracy: 4718/5399 (87.3866%)
___Test Local_ResNet_18 poisoned: False, epoch: 79: Average loss: 2.1207, Accuracy: 5276/10000 (52.7600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.67ms
INFO:tornado.access:200 POST /win_exists (::1) 0.60ms
INFO:tornado.access:200 POST /update (::1) 12.00ms
___Train Local_ResNet_18,  epoch  79, local model 70, internal_epoch   1,  Average loss: 0.0041, Accuracy: 5431/5871 (92.5055%)
___Train Local_ResNet_18,  epoch  79, local model 70, internal_epoch   2,  Average loss: 0.0044, Accuracy: 5378/5871 (91.6028%)
___Test Local_ResNet_18 poisoned: False, epoch: 79: Average loss: 2.0133, Accuracy: 5429/10000 (54.2900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 16.89ms
___Train Local_ResNet_18,  epoch  79, local model 48, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4468/4830 (92.5052%)
___Train Local_ResNet_18,  epoch  79, local model 48, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4545/4830 (94.0994%)
___Test Local_ResNet_18 poisoned: False, epoch: 79: Average loss: 2.0791, Accuracy: 5521/10000 (55.2100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 17.28ms
___Train Local_ResNet_18,  epoch  79, local model 5, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4631/4993 (92.7498%)
___Train Local_ResNet_18,  epoch  79, local model 5, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4648/4993 (93.0903%)
___Test Local_ResNet_18 poisoned: False, epoch: 79: Average loss: 1.9692, Accuracy: 5545/10000 (55.4500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 16.33ms
___Train Local_ResNet_18,  epoch  79, local model 17, internal_epoch   1,  Average loss: 0.0063, Accuracy: 4308/4903 (87.8646%)
___Train Local_ResNet_18,  epoch  79, local model 17, internal_epoch   2,  Average loss: 0.0056, Accuracy: 4360/4903 (88.9251%)
___Test Local_ResNet_18 poisoned: False, epoch: 79: Average loss: 2.1249, Accuracy: 5181/10000 (51.8100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 16.82ms
___Train Local_ResNet_18,  epoch  79, local model 96, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4598/5086 (90.4050%)
___Train Local_ResNet_18,  epoch  79, local model 96, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4673/5086 (91.8797%)
___Test Local_ResNet_18 poisoned: False, epoch: 79: Average loss: 1.8981, Accuracy: 5553/10000 (55.5300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 16.68ms
___Train Local_ResNet_18,  epoch  79, local model 79, internal_epoch   1,  Average loss: 0.0051, Accuracy: 3732/4111 (90.7808%)
___Train Local_ResNet_18,  epoch  79, local model 79, internal_epoch   2,  Average loss: 0.0053, Accuracy: 3676/4111 (89.4186%)
___Test Local_ResNet_18 poisoned: False, epoch: 79: Average loss: 2.0871, Accuracy: 5359/10000 (53.5900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 16.85ms
___Train Local_ResNet_18,  epoch  79, local model 7, internal_epoch   1,  Average loss: 0.0056, Accuracy: 4358/4869 (89.5050%)
___Train Local_ResNet_18,  epoch  79, local model 7, internal_epoch   2,  Average loss: 0.0076, Accuracy: 4140/4869 (85.0277%)
___Test Local_ResNet_18 poisoned: False, epoch: 79: Average loss: 2.2903, Accuracy: 5088/10000 (50.8800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 16.15ms
___Train Local_ResNet_18,  epoch  79, local model 63, internal_epoch   1,  Average loss: 0.0047, Accuracy: 3538/3910 (90.4859%)
___Train Local_ResNet_18,  epoch  79, local model 63, internal_epoch   2,  Average loss: 0.0051, Accuracy: 3548/3910 (90.7417%)
___Test Local_ResNet_18 poisoned: False, epoch: 79: Average loss: 2.0181, Accuracy: 5537/10000 (55.3700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 17.27ms
___Train Local_ResNet_18,  epoch  79, local model 39, internal_epoch   1,  Average loss: 0.0056, Accuracy: 3736/4175 (89.4850%)
___Train Local_ResNet_18,  epoch  79, local model 39, internal_epoch   2,  Average loss: 0.0052, Accuracy: 3760/4175 (90.0599%)
___Test Local_ResNet_18 poisoned: False, epoch: 79: Average loss: 1.9407, Accuracy: 5494/10000 (54.9400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 17.12ms
time spent on training: 243.8884654045105
___Test Target_ResNet_18 poisoned: False, epoch: 79: Average loss: 1.1140, Accuracy: 7000/10000 (70.0000%)
___Test Target_ResNet_18 poisoned: True, epoch: 79: Average loss: 2.5627, Accuracy: 4561/9900 (46.0707%)
Done in 270.5722916126251 sec.
Server Epoch:80 choose agents : [13, 36, 58, 71, 44, 30, 66, 73, 76, 81, 22, 46, 17, 34, 96, 31, 95, 40, 53, 11].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  80, local model 13, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4972/5308 (93.6699%), train_poison_data_count: 415
Global model norm: 42.629467324551456.
Norm before scaling: 42.62272320257265. Distance: 1.756701512518932
Total norm for 4 adversaries is: 42.62272320257265. distance: 1.756701512518932
___Test Local_ResNet_18 poisoned: True, epoch: 80: Average loss: 0.1392, Accuracy: 9564/9900 (96.6061%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  80, local model 36, internal_epoch   1,  Average loss: 0.0030, Accuracy: 5485/5777 (94.9455%), train_poison_data_count: 455
Global model norm: 42.629467324551456.
Norm before scaling: 42.613939925528626. Distance: 1.6726937116537448
Total norm for 4 adversaries is: 42.613939925528626. distance: 1.6726937116537448
___Test Local_ResNet_18 poisoned: True, epoch: 80: Average loss: 0.1199, Accuracy: 9598/9900 (96.9495%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  80, local model 58, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4758/5123 (92.8753%), train_poison_data_count: 403
Global model norm: 42.629467324551456.
Norm before scaling: 42.622385252463. Distance: 1.7915458268807536
Total norm for 4 adversaries is: 42.622385252463. distance: 1.7915458268807536
___Test Local_ResNet_18 poisoned: True, epoch: 80: Average loss: 0.2737, Accuracy: 9219/9900 (93.1212%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  80, local model 71, internal_epoch   1,  Average loss: 0.0038, Accuracy: 5146/5503 (93.5126%), train_poison_data_count: 430
Global model norm: 42.629467324551456.
Norm before scaling: 42.62320148331774. Distance: 1.814496223586634
Total norm for 4 adversaries is: 42.62320148331774. distance: 1.814496223586634
___Test Local_ResNet_18 poisoned: True, epoch: 80: Average loss: 0.2147, Accuracy: 9358/9900 (94.5253%)
___Train Local_ResNet_18,  epoch  80, local model 44, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4640/5075 (91.4286%)
___Train Local_ResNet_18,  epoch  80, local model 44, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4539/5075 (89.4384%)
___Test Local_ResNet_18 poisoned: False, epoch: 80: Average loss: 1.9693, Accuracy: 5464/10000 (54.6400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 17.52ms
___Train Local_ResNet_18,  epoch  80, local model 30, internal_epoch   1,  Average loss: 0.0048, Accuracy: 3425/3774 (90.7525%)
___Train Local_ResNet_18,  epoch  80, local model 30, internal_epoch   2,  Average loss: 0.0037, Accuracy: 3505/3774 (92.8723%)
___Test Local_ResNet_18 poisoned: False, epoch: 80: Average loss: 1.7820, Accuracy: 5852/10000 (58.5200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 16.71ms
___Train Local_ResNet_18,  epoch  80, local model 66, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4370/4843 (90.2333%)
___Train Local_ResNet_18,  epoch  80, local model 66, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4419/4843 (91.2451%)
___Test Local_ResNet_18 poisoned: False, epoch: 80: Average loss: 2.0121, Accuracy: 5435/10000 (54.3500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 16.78ms
___Train Local_ResNet_18,  epoch  80, local model 73, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4242/4605 (92.1173%)
___Train Local_ResNet_18,  epoch  80, local model 73, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4232/4605 (91.9001%)
___Test Local_ResNet_18 poisoned: False, epoch: 80: Average loss: 1.9701, Accuracy: 5442/10000 (54.4200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 17.01ms
___Train Local_ResNet_18,  epoch  80, local model 76, internal_epoch   1,  Average loss: 0.0060, Accuracy: 3474/3959 (87.7494%)
___Train Local_ResNet_18,  epoch  80, local model 76, internal_epoch   2,  Average loss: 0.0045, Accuracy: 3601/3959 (90.9573%)
___Test Local_ResNet_18 poisoned: False, epoch: 80: Average loss: 2.0241, Accuracy: 5534/10000 (55.3400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 16.59ms
___Train Local_ResNet_18,  epoch  80, local model 81, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4573/5035 (90.8242%)
___Train Local_ResNet_18,  epoch  80, local model 81, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4609/5035 (91.5392%)
___Test Local_ResNet_18 poisoned: False, epoch: 80: Average loss: 2.0340, Accuracy: 5380/10000 (53.8000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 17.26ms
___Train Local_ResNet_18,  epoch  80, local model 22, internal_epoch   1,  Average loss: 0.0047, Accuracy: 5208/5696 (91.4326%)
___Train Local_ResNet_18,  epoch  80, local model 22, internal_epoch   2,  Average loss: 0.0042, Accuracy: 5244/5696 (92.0646%)
___Test Local_ResNet_18 poisoned: False, epoch: 80: Average loss: 2.0224, Accuracy: 5395/10000 (53.9500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 17.44ms
___Train Local_ResNet_18,  epoch  80, local model 46, internal_epoch   1,  Average loss: 0.0071, Accuracy: 4660/5399 (86.3123%)
___Train Local_ResNet_18,  epoch  80, local model 46, internal_epoch   2,  Average loss: 0.0067, Accuracy: 4676/5399 (86.6086%)
___Test Local_ResNet_18 poisoned: False, epoch: 80: Average loss: 2.1427, Accuracy: 5214/10000 (52.1400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 17.62ms
___Train Local_ResNet_18,  epoch  80, local model 17, internal_epoch   1,  Average loss: 0.0058, Accuracy: 4357/4903 (88.8640%)
___Train Local_ResNet_18,  epoch  80, local model 17, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4386/4903 (89.4554%)
___Test Local_ResNet_18 poisoned: False, epoch: 80: Average loss: 2.0955, Accuracy: 5309/10000 (53.0900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 16.95ms
___Train Local_ResNet_18,  epoch  80, local model 34, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4464/4911 (90.8980%)
___Train Local_ResNet_18,  epoch  80, local model 34, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4490/4911 (91.4274%)
___Test Local_ResNet_18 poisoned: False, epoch: 80: Average loss: 1.9232, Accuracy: 5461/10000 (54.6100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 17.47ms
___Train Local_ResNet_18,  epoch  80, local model 96, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4606/5086 (90.5623%)
___Train Local_ResNet_18,  epoch  80, local model 96, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4608/5086 (90.6017%)
___Test Local_ResNet_18 poisoned: False, epoch: 80: Average loss: 2.1456, Accuracy: 5141/10000 (51.4100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.97ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 17.18ms
___Train Local_ResNet_18,  epoch  80, local model 31, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4125/4537 (90.9191%)
___Train Local_ResNet_18,  epoch  80, local model 31, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4169/4537 (91.8889%)
___Test Local_ResNet_18 poisoned: False, epoch: 80: Average loss: 1.9284, Accuracy: 5575/10000 (55.7500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.62ms
INFO:tornado.access:200 POST /update (::1) 14.45ms
___Train Local_ResNet_18,  epoch  80, local model 95, internal_epoch   1,  Average loss: 0.0058, Accuracy: 4467/5018 (89.0195%)
___Train Local_ResNet_18,  epoch  80, local model 95, internal_epoch   2,  Average loss: 0.0061, Accuracy: 4416/5018 (88.0032%)
___Test Local_ResNet_18 poisoned: False, epoch: 80: Average loss: 2.0979, Accuracy: 5201/10000 (52.0100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 17.72ms
___Train Local_ResNet_18,  epoch  80, local model 40, internal_epoch   1,  Average loss: 0.0042, Accuracy: 5475/5939 (92.1872%)
___Train Local_ResNet_18,  epoch  80, local model 40, internal_epoch   2,  Average loss: 0.0038, Accuracy: 5517/5939 (92.8944%)
___Test Local_ResNet_18 poisoned: False, epoch: 80: Average loss: 1.9577, Accuracy: 5536/10000 (55.3600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 17.43ms
___Train Local_ResNet_18,  epoch  80, local model 53, internal_epoch   1,  Average loss: 0.0067, Accuracy: 5804/6664 (87.0948%)
___Train Local_ResNet_18,  epoch  80, local model 53, internal_epoch   2,  Average loss: 0.0084, Accuracy: 5608/6664 (84.1537%)
___Test Local_ResNet_18 poisoned: False, epoch: 80: Average loss: 2.2805, Accuracy: 4863/10000 (48.6300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 17.21ms
___Train Local_ResNet_18,  epoch  80, local model 11, internal_epoch   1,  Average loss: 0.0078, Accuracy: 4871/5702 (85.4262%)
___Train Local_ResNet_18,  epoch  80, local model 11, internal_epoch   2,  Average loss: 0.0103, Accuracy: 4584/5702 (80.3928%)
___Test Local_ResNet_18 poisoned: False, epoch: 80: Average loss: 2.2264, Accuracy: 5045/10000 (50.4500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.60ms
INFO:tornado.access:200 POST /update (::1) 12.64ms
time spent on training: 246.52901244163513
___Test Target_ResNet_18 poisoned: False, epoch: 80: Average loss: 1.1202, Accuracy: 6995/10000 (69.9500%)
___Test Target_ResNet_18 poisoned: True, epoch: 80: Average loss: 2.1876, Accuracy: 5207/9900 (52.5960%)
Done in 273.0657343864441 sec.
Server Epoch:81 choose agents : [13, 36, 58, 71, 69, 64, 10, 24, 15, 54, 35, 59, 42, 72, 84, 92, 73, 76, 29, 44].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  81, local model 13, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4999/5308 (94.1786%), train_poison_data_count: 415
Global model norm: 42.651414847300934.
Norm before scaling: 42.641476665642834. Distance: 1.6685791328190724
Total norm for 4 adversaries is: 42.641476665642834. distance: 1.6685791328190724
___Test Local_ResNet_18 poisoned: True, epoch: 81: Average loss: 0.0996, Accuracy: 9646/9900 (97.4343%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  81, local model 36, internal_epoch   1,  Average loss: 0.0028, Accuracy: 5519/5777 (95.5340%), train_poison_data_count: 455
Global model norm: 42.651414847300934.
Norm before scaling: 42.63269152562092. Distance: 1.6408822720760923
Total norm for 4 adversaries is: 42.63269152562092. distance: 1.6408822720760923
___Test Local_ResNet_18 poisoned: True, epoch: 81: Average loss: 0.0943, Accuracy: 9659/9900 (97.5657%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  81, local model 58, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4772/5123 (93.1485%), train_poison_data_count: 403
Global model norm: 42.651414847300934.
Norm before scaling: 42.64435788900596. Distance: 1.7488805051128966
Total norm for 4 adversaries is: 42.64435788900596. distance: 1.7488805051128966
___Test Local_ResNet_18 poisoned: True, epoch: 81: Average loss: 0.1707, Accuracy: 9452/9900 (95.4747%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  81, local model 71, internal_epoch   1,  Average loss: 0.0035, Accuracy: 5176/5503 (94.0578%), train_poison_data_count: 430
Global model norm: 42.651414847300934.
Norm before scaling: 42.64283500135896. Distance: 1.7518439115337323
Total norm for 4 adversaries is: 42.64283500135896. distance: 1.7518439115337323
___Test Local_ResNet_18 poisoned: True, epoch: 81: Average loss: 0.1810, Accuracy: 9438/9900 (95.3333%)
___Train Local_ResNet_18,  epoch  81, local model 69, internal_epoch   1,  Average loss: 0.0048, Accuracy: 3973/4364 (91.0403%)
___Train Local_ResNet_18,  epoch  81, local model 69, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4006/4364 (91.7965%)
___Test Local_ResNet_18 poisoned: False, epoch: 81: Average loss: 2.1357, Accuracy: 5208/10000 (52.0800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 17.02ms
___Train Local_ResNet_18,  epoch  81, local model 64, internal_epoch   1,  Average loss: 0.0060, Accuracy: 4361/4894 (89.1091%)
___Train Local_ResNet_18,  epoch  81, local model 64, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4379/4894 (89.4769%)
___Test Local_ResNet_18 poisoned: False, epoch: 81: Average loss: 1.9185, Accuracy: 5597/10000 (55.9700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 17.02ms
___Train Local_ResNet_18,  epoch  81, local model 10, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4694/5068 (92.6204%)
___Train Local_ResNet_18,  epoch  81, local model 10, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4626/5068 (91.2786%)
___Test Local_ResNet_18 poisoned: False, epoch: 81: Average loss: 2.1709, Accuracy: 5162/10000 (51.6200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 16.68ms
___Train Local_ResNet_18,  epoch  81, local model 24, internal_epoch   1,  Average loss: 0.0045, Accuracy: 3948/4313 (91.5372%)
___Train Local_ResNet_18,  epoch  81, local model 24, internal_epoch   2,  Average loss: 0.0041, Accuracy: 3992/4313 (92.5574%)
___Test Local_ResNet_18 poisoned: False, epoch: 81: Average loss: 1.8265, Accuracy: 5719/10000 (57.1900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 17.30ms
___Train Local_ResNet_18,  epoch  81, local model 15, internal_epoch   1,  Average loss: 0.0049, Accuracy: 5499/6068 (90.6229%)
___Train Local_ResNet_18,  epoch  81, local model 15, internal_epoch   2,  Average loss: 0.0050, Accuracy: 5480/6068 (90.3098%)
___Test Local_ResNet_18 poisoned: False, epoch: 81: Average loss: 2.2705, Accuracy: 5062/10000 (50.6200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 17.79ms
___Train Local_ResNet_18,  epoch  81, local model 54, internal_epoch   1,  Average loss: 0.0062, Accuracy: 4970/5645 (88.0425%)
___Train Local_ResNet_18,  epoch  81, local model 54, internal_epoch   2,  Average loss: 0.0072, Accuracy: 4853/5645 (85.9699%)
___Test Local_ResNet_18 poisoned: False, epoch: 81: Average loss: 2.6594, Accuracy: 4643/10000 (46.4300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 17.17ms
___Train Local_ResNet_18,  epoch  81, local model 35, internal_epoch   1,  Average loss: 0.0052, Accuracy: 5049/5615 (89.9199%)
___Train Local_ResNet_18,  epoch  81, local model 35, internal_epoch   2,  Average loss: 0.0051, Accuracy: 5053/5615 (89.9911%)
___Test Local_ResNet_18 poisoned: False, epoch: 81: Average loss: 2.1024, Accuracy: 5272/10000 (52.7200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 18.25ms
___Train Local_ResNet_18,  epoch  81, local model 59, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4140/4397 (94.1551%)
___Train Local_ResNet_18,  epoch  81, local model 59, internal_epoch   2,  Average loss: 0.0027, Accuracy: 4163/4397 (94.6782%)
___Test Local_ResNet_18 poisoned: False, epoch: 81: Average loss: 1.7941, Accuracy: 5804/10000 (58.0400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 18.13ms
___Train Local_ResNet_18,  epoch  81, local model 42, internal_epoch   1,  Average loss: 0.0050, Accuracy: 5343/5907 (90.4520%)
___Train Local_ResNet_18,  epoch  81, local model 42, internal_epoch   2,  Average loss: 0.0049, Accuracy: 5323/5907 (90.1134%)
___Test Local_ResNet_18 poisoned: False, epoch: 81: Average loss: 2.3933, Accuracy: 4852/10000 (48.5200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 17.56ms
___Train Local_ResNet_18,  epoch  81, local model 72, internal_epoch   1,  Average loss: 0.0056, Accuracy: 4661/5193 (89.7554%)
___Train Local_ResNet_18,  epoch  81, local model 72, internal_epoch   2,  Average loss: 0.0068, Accuracy: 4491/5193 (86.4818%)
___Test Local_ResNet_18 poisoned: False, epoch: 81: Average loss: 2.3245, Accuracy: 5052/10000 (50.5200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 18.08ms
___Train Local_ResNet_18,  epoch  81, local model 84, internal_epoch   1,  Average loss: 0.0054, Accuracy: 4673/5209 (89.7101%)
___Train Local_ResNet_18,  epoch  81, local model 84, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4693/5209 (90.0941%)
___Test Local_ResNet_18 poisoned: False, epoch: 81: Average loss: 2.0710, Accuracy: 5464/10000 (54.6400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 17.70ms
___Train Local_ResNet_18,  epoch  81, local model 92, internal_epoch   1,  Average loss: 0.0044, Accuracy: 6266/6812 (91.9847%)
___Train Local_ResNet_18,  epoch  81, local model 92, internal_epoch   2,  Average loss: 0.0043, Accuracy: 6249/6812 (91.7352%)
___Test Local_ResNet_18 poisoned: False, epoch: 81: Average loss: 2.1640, Accuracy: 5251/10000 (52.5100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 18.17ms
___Train Local_ResNet_18,  epoch  81, local model 73, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4212/4605 (91.4658%)
___Train Local_ResNet_18,  epoch  81, local model 73, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4277/4605 (92.8773%)
___Test Local_ResNet_18 poisoned: False, epoch: 81: Average loss: 1.9110, Accuracy: 5589/10000 (55.8900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 18.12ms
___Train Local_ResNet_18,  epoch  81, local model 76, internal_epoch   1,  Average loss: 0.0050, Accuracy: 3571/3959 (90.1995%)
___Train Local_ResNet_18,  epoch  81, local model 76, internal_epoch   2,  Average loss: 0.0039, Accuracy: 3649/3959 (92.1697%)
___Test Local_ResNet_18 poisoned: False, epoch: 81: Average loss: 1.9980, Accuracy: 5474/10000 (54.7400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 17.96ms
___Train Local_ResNet_18,  epoch  81, local model 29, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4365/4732 (92.2443%)
___Train Local_ResNet_18,  epoch  81, local model 29, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4425/4732 (93.5123%)
___Test Local_ResNet_18 poisoned: False, epoch: 81: Average loss: 1.9154, Accuracy: 5632/10000 (56.3200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 18.21ms
___Train Local_ResNet_18,  epoch  81, local model 44, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4631/5075 (91.2512%)
___Train Local_ResNet_18,  epoch  81, local model 44, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4650/5075 (91.6256%)
___Test Local_ResNet_18 poisoned: False, epoch: 81: Average loss: 2.1036, Accuracy: 5250/10000 (52.5000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 17.92ms
time spent on training: 248.48755836486816
___Test Target_ResNet_18 poisoned: False, epoch: 81: Average loss: 1.1278, Accuracy: 6979/10000 (69.7900%)
___Test Target_ResNet_18 poisoned: True, epoch: 81: Average loss: 1.8939, Accuracy: 5734/9900 (57.9192%)
Done in 275.04987120628357 sec.
Server Epoch:82 choose agents : [13, 36, 58, 71, 14, 54, 3, 34, 68, 73, 15, 91, 7, 26, 79, 11, 61, 56, 16, 45].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  82, local model 13, internal_epoch   1,  Average loss: 0.0034, Accuracy: 5019/5308 (94.5554%), train_poison_data_count: 415
Global model norm: 42.67310650227714.
Norm before scaling: 42.66463831212785. Distance: 1.678735862666725
Total norm for 4 adversaries is: 42.66463831212785. distance: 1.678735862666725
___Test Local_ResNet_18 poisoned: True, epoch: 82: Average loss: 0.2421, Accuracy: 9312/9900 (94.0606%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  82, local model 36, internal_epoch   1,  Average loss: 0.0028, Accuracy: 5516/5777 (95.4821%), train_poison_data_count: 455
Global model norm: 42.67310650227714.
Norm before scaling: 42.653681527525414. Distance: 1.5963465911868029
Total norm for 4 adversaries is: 42.653681527525414. distance: 1.5963465911868029
___Test Local_ResNet_18 poisoned: True, epoch: 82: Average loss: 0.1366, Accuracy: 9558/9900 (96.5455%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  82, local model 58, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4796/5123 (93.6170%), train_poison_data_count: 403
Global model norm: 42.67310650227714.
Norm before scaling: 42.663294976844554. Distance: 1.6741413192893557
Total norm for 4 adversaries is: 42.663294976844554. distance: 1.6741413192893557
___Test Local_ResNet_18 poisoned: True, epoch: 82: Average loss: 0.4213, Accuracy: 8907/9900 (89.9697%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  82, local model 71, internal_epoch   1,  Average loss: 0.0036, Accuracy: 5152/5503 (93.6217%), train_poison_data_count: 430
Global model norm: 42.67310650227714.
Norm before scaling: 42.66591580048119. Distance: 1.767323445050121
Total norm for 4 adversaries is: 42.66591580048119. distance: 1.767323445050121
___Test Local_ResNet_18 poisoned: True, epoch: 82: Average loss: 0.3308, Accuracy: 9042/9900 (91.3333%)
___Train Local_ResNet_18,  epoch  82, local model 14, internal_epoch   1,  Average loss: 0.0036, Accuracy: 3932/4196 (93.7083%)
___Train Local_ResNet_18,  epoch  82, local model 14, internal_epoch   2,  Average loss: 0.0029, Accuracy: 3977/4196 (94.7807%)
___Test Local_ResNet_18 poisoned: False, epoch: 82: Average loss: 1.8535, Accuracy: 5746/10000 (57.4600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.78ms
INFO:tornado.access:200 POST /update (::1) 17.88ms
___Train Local_ResNet_18,  epoch  82, local model 54, internal_epoch   1,  Average loss: 0.0061, Accuracy: 4983/5645 (88.2728%)
___Train Local_ResNet_18,  epoch  82, local model 54, internal_epoch   2,  Average loss: 0.0069, Accuracy: 4890/5645 (86.6253%)
___Test Local_ResNet_18 poisoned: False, epoch: 82: Average loss: 2.1470, Accuracy: 5202/10000 (52.0200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 17.51ms
___Train Local_ResNet_18,  epoch  82, local model 3, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4934/5346 (92.2933%)
___Train Local_ResNet_18,  epoch  82, local model 3, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4913/5346 (91.9005%)
___Test Local_ResNet_18 poisoned: False, epoch: 82: Average loss: 2.0720, Accuracy: 5348/10000 (53.4800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 18.21ms
___Train Local_ResNet_18,  epoch  82, local model 34, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4459/4911 (90.7962%)
___Train Local_ResNet_18,  epoch  82, local model 34, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4445/4911 (90.5111%)
___Test Local_ResNet_18 poisoned: False, epoch: 82: Average loss: 2.0489, Accuracy: 5409/10000 (54.0900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 18.31ms
___Train Local_ResNet_18,  epoch  82, local model 68, internal_epoch   1,  Average loss: 0.0046, Accuracy: 3300/3589 (91.9476%)
___Train Local_ResNet_18,  epoch  82, local model 68, internal_epoch   2,  Average loss: 0.0066, Accuracy: 3157/3589 (87.9632%)
___Test Local_ResNet_18 poisoned: False, epoch: 82: Average loss: 2.0614, Accuracy: 5358/10000 (53.5800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 18.33ms
___Train Local_ResNet_18,  epoch  82, local model 73, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4261/4605 (92.5299%)
___Train Local_ResNet_18,  epoch  82, local model 73, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4307/4605 (93.5288%)
___Test Local_ResNet_18 poisoned: False, epoch: 82: Average loss: 1.9504, Accuracy: 5586/10000 (55.8600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 18.13ms
___Train Local_ResNet_18,  epoch  82, local model 15, internal_epoch   1,  Average loss: 0.0047, Accuracy: 5536/6068 (91.2327%)
___Train Local_ResNet_18,  epoch  82, local model 15, internal_epoch   2,  Average loss: 0.0044, Accuracy: 5555/6068 (91.5458%)
___Test Local_ResNet_18 poisoned: False, epoch: 82: Average loss: 2.1606, Accuracy: 5210/10000 (52.1000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 17.85ms
___Train Local_ResNet_18,  epoch  82, local model 91, internal_epoch   1,  Average loss: 0.0056, Accuracy: 4040/4527 (89.2423%)
___Train Local_ResNet_18,  epoch  82, local model 91, internal_epoch   2,  Average loss: 0.0061, Accuracy: 3974/4527 (87.7844%)
___Test Local_ResNet_18 poisoned: False, epoch: 82: Average loss: 1.9893, Accuracy: 5449/10000 (54.4900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 18.28ms
___Train Local_ResNet_18,  epoch  82, local model 7, internal_epoch   1,  Average loss: 0.0056, Accuracy: 4378/4869 (89.9158%)
___Train Local_ResNet_18,  epoch  82, local model 7, internal_epoch   2,  Average loss: 0.0072, Accuracy: 4201/4869 (86.2806%)
___Test Local_ResNet_18 poisoned: False, epoch: 82: Average loss: 2.3361, Accuracy: 5003/10000 (50.0300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.77ms
INFO:tornado.access:200 POST /update (::1) 17.88ms
___Train Local_ResNet_18,  epoch  82, local model 26, internal_epoch   1,  Average loss: 0.0045, Accuracy: 3743/4086 (91.6055%)
___Train Local_ResNet_18,  epoch  82, local model 26, internal_epoch   2,  Average loss: 0.0034, Accuracy: 3824/4086 (93.5879%)
___Test Local_ResNet_18 poisoned: False, epoch: 82: Average loss: 1.8969, Accuracy: 5587/10000 (55.8700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 17.78ms
___Train Local_ResNet_18,  epoch  82, local model 79, internal_epoch   1,  Average loss: 0.0050, Accuracy: 3733/4111 (90.8052%)
___Train Local_ResNet_18,  epoch  82, local model 79, internal_epoch   2,  Average loss: 0.0047, Accuracy: 3738/4111 (90.9268%)
___Test Local_ResNet_18 poisoned: False, epoch: 82: Average loss: 2.2955, Accuracy: 5016/10000 (50.1600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.97ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 18.85ms
___Train Local_ResNet_18,  epoch  82, local model 11, internal_epoch   1,  Average loss: 0.0083, Accuracy: 4851/5702 (85.0754%)
___Train Local_ResNet_18,  epoch  82, local model 11, internal_epoch   2,  Average loss: 0.0114, Accuracy: 4425/5702 (77.6043%)
___Test Local_ResNet_18 poisoned: False, epoch: 82: Average loss: 2.1251, Accuracy: 5136/10000 (51.3600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 18.73ms
___Train Local_ResNet_18,  epoch  82, local model 61, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4099/4485 (91.3935%)
___Train Local_ResNet_18,  epoch  82, local model 61, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4075/4485 (90.8584%)
___Test Local_ResNet_18 poisoned: False, epoch: 82: Average loss: 2.0490, Accuracy: 5321/10000 (53.2100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 17.93ms
___Train Local_ResNet_18,  epoch  82, local model 56, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4871/5427 (89.7549%)
___Train Local_ResNet_18,  epoch  82, local model 56, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4868/5427 (89.6996%)
___Test Local_ResNet_18 poisoned: False, epoch: 82: Average loss: 1.9718, Accuracy: 5525/10000 (55.2500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 17.98ms
___Train Local_ResNet_18,  epoch  82, local model 16, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4842/5353 (90.4540%)
___Train Local_ResNet_18,  epoch  82, local model 16, internal_epoch   2,  Average loss: 0.0054, Accuracy: 4787/5353 (89.4265%)
___Test Local_ResNet_18 poisoned: False, epoch: 82: Average loss: 2.1586, Accuracy: 5148/10000 (51.4800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 18.40ms
___Train Local_ResNet_18,  epoch  82, local model 45, internal_epoch   1,  Average loss: 0.0056, Accuracy: 4855/5489 (88.4496%)
___Train Local_ResNet_18,  epoch  82, local model 45, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4974/5489 (90.6176%)
___Test Local_ResNet_18 poisoned: False, epoch: 82: Average loss: 2.0046, Accuracy: 5364/10000 (53.6400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 18.22ms
time spent on training: 245.0648488998413
___Test Target_ResNet_18 poisoned: False, epoch: 82: Average loss: 1.1288, Accuracy: 6979/10000 (69.7900%)
___Test Target_ResNet_18 poisoned: True, epoch: 82: Average loss: 1.7373, Accuracy: 6024/9900 (60.8485%)
Done in 272.0352075099945 sec.
Server Epoch:83 choose agents : [13, 36, 58, 71, 46, 78, 3, 7, 8, 74, 87, 47, 38, 94, 25, 49, 44, 70, 40, 0].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  83, local model 13, internal_epoch   1,  Average loss: 0.0032, Accuracy: 5035/5308 (94.8568%), train_poison_data_count: 415
Global model norm: 42.69579925957661.
Norm before scaling: 42.6828728733054. Distance: 1.622985765245479
Total norm for 4 adversaries is: 42.6828728733054. distance: 1.622985765245479
___Test Local_ResNet_18 poisoned: True, epoch: 83: Average loss: 0.1038, Accuracy: 9641/9900 (97.3838%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  83, local model 36, internal_epoch   1,  Average loss: 0.0027, Accuracy: 5529/5777 (95.7071%), train_poison_data_count: 455
Global model norm: 42.69579925957661.
Norm before scaling: 42.677281330901046. Distance: 1.5991944460752834
Total norm for 4 adversaries is: 42.677281330901046. distance: 1.5991944460752834
___Test Local_ResNet_18 poisoned: True, epoch: 83: Average loss: 0.1367, Accuracy: 9554/9900 (96.5051%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  83, local model 58, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4802/5123 (93.7341%), train_poison_data_count: 403
Global model norm: 42.69579925957661.
Norm before scaling: 42.6859386152952. Distance: 1.6776602643201148
Total norm for 4 adversaries is: 42.6859386152952. distance: 1.6776602643201148
___Test Local_ResNet_18 poisoned: True, epoch: 83: Average loss: 0.4608, Accuracy: 8763/9900 (88.5152%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  83, local model 71, internal_epoch   1,  Average loss: 0.0033, Accuracy: 5185/5503 (94.2213%), train_poison_data_count: 430
Global model norm: 42.69579925957661.
Norm before scaling: 42.68682083326846. Distance: 1.736127637996423
Total norm for 4 adversaries is: 42.68682083326846. distance: 1.736127637996423
___Test Local_ResNet_18 poisoned: True, epoch: 83: Average loss: 0.0523, Accuracy: 9762/9900 (98.6061%)
___Train Local_ResNet_18,  epoch  83, local model 46, internal_epoch   1,  Average loss: 0.0065, Accuracy: 4763/5399 (88.2200%)
___Train Local_ResNet_18,  epoch  83, local model 46, internal_epoch   2,  Average loss: 0.0064, Accuracy: 4728/5399 (87.5718%)
___Test Local_ResNet_18 poisoned: False, epoch: 83: Average loss: 2.2645, Accuracy: 5064/10000 (50.6400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 17.70ms
___Train Local_ResNet_18,  epoch  83, local model 78, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4022/4368 (92.0788%)
___Train Local_ResNet_18,  epoch  83, local model 78, internal_epoch   2,  Average loss: 0.0046, Accuracy: 3981/4368 (91.1401%)
___Test Local_ResNet_18 poisoned: False, epoch: 83: Average loss: 1.9457, Accuracy: 5507/10000 (55.0700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 18.83ms
___Train Local_ResNet_18,  epoch  83, local model 3, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4927/5346 (92.1624%)
___Train Local_ResNet_18,  epoch  83, local model 3, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4999/5346 (93.5092%)
___Test Local_ResNet_18 poisoned: False, epoch: 83: Average loss: 1.9986, Accuracy: 5485/10000 (54.8500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.59ms
INFO:tornado.access:200 POST /update (::1) 13.91ms
___Train Local_ResNet_18,  epoch  83, local model 7, internal_epoch   1,  Average loss: 0.0054, Accuracy: 4377/4869 (89.8953%)
___Train Local_ResNet_18,  epoch  83, local model 7, internal_epoch   2,  Average loss: 0.0069, Accuracy: 4213/4869 (86.5270%)
___Test Local_ResNet_18 poisoned: False, epoch: 83: Average loss: 2.1483, Accuracy: 5284/10000 (52.8400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.70ms
INFO:tornado.access:200 POST /win_exists (::1) 0.54ms
INFO:tornado.access:200 POST /update (::1) 13.95ms
___Train Local_ResNet_18,  epoch  83, local model 8, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4412/4889 (90.2434%)
___Train Local_ResNet_18,  epoch  83, local model 8, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4437/4889 (90.7548%)
___Test Local_ResNet_18 poisoned: False, epoch: 83: Average loss: 2.0483, Accuracy: 5388/10000 (53.8800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 17.76ms
___Train Local_ResNet_18,  epoch  83, local model 74, internal_epoch   1,  Average loss: 0.0054, Accuracy: 4275/4797 (89.1182%)
___Train Local_ResNet_18,  epoch  83, local model 74, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4286/4797 (89.3475%)
___Test Local_ResNet_18 poisoned: False, epoch: 83: Average loss: 2.0311, Accuracy: 5346/10000 (53.4600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 18.03ms
___Train Local_ResNet_18,  epoch  83, local model 87, internal_epoch   1,  Average loss: 0.0059, Accuracy: 3533/3995 (88.4355%)
___Train Local_ResNet_18,  epoch  83, local model 87, internal_epoch   2,  Average loss: 0.0051, Accuracy: 3585/3995 (89.7372%)
___Test Local_ResNet_18 poisoned: False, epoch: 83: Average loss: 1.9651, Accuracy: 5466/10000 (54.6600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 18.23ms
___Train Local_ResNet_18,  epoch  83, local model 47, internal_epoch   1,  Average loss: 0.0059, Accuracy: 4566/5123 (89.1275%)
___Train Local_ResNet_18,  epoch  83, local model 47, internal_epoch   2,  Average loss: 0.0062, Accuracy: 4528/5123 (88.3857%)
___Test Local_ResNet_18 poisoned: False, epoch: 83: Average loss: 2.1425, Accuracy: 5295/10000 (52.9500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 18.66ms
___Train Local_ResNet_18,  epoch  83, local model 38, internal_epoch   1,  Average loss: 0.0061, Accuracy: 5512/6235 (88.4042%)
___Train Local_ResNet_18,  epoch  83, local model 38, internal_epoch   2,  Average loss: 0.0060, Accuracy: 5489/6235 (88.0353%)
___Test Local_ResNet_18 poisoned: False, epoch: 83: Average loss: 2.3393, Accuracy: 5021/10000 (50.2100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 18.08ms
___Train Local_ResNet_18,  epoch  83, local model 94, internal_epoch   1,  Average loss: 0.0059, Accuracy: 4608/5224 (88.2083%)
___Train Local_ResNet_18,  epoch  83, local model 94, internal_epoch   2,  Average loss: 0.0054, Accuracy: 4632/5224 (88.6677%)
___Test Local_ResNet_18 poisoned: False, epoch: 83: Average loss: 1.9989, Accuracy: 5474/10000 (54.7400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.97ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 18.71ms
___Train Local_ResNet_18,  epoch  83, local model 25, internal_epoch   1,  Average loss: 0.0063, Accuracy: 5657/6419 (88.1290%)
___Train Local_ResNet_18,  epoch  83, local model 25, internal_epoch   2,  Average loss: 0.0068, Accuracy: 5545/6419 (86.3842%)
___Test Local_ResNet_18 poisoned: False, epoch: 83: Average loss: 2.4287, Accuracy: 4945/10000 (49.4500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 18.70ms
___Train Local_ResNet_18,  epoch  83, local model 49, internal_epoch   1,  Average loss: 0.0058, Accuracy: 5016/5652 (88.7473%)
___Train Local_ResNet_18,  epoch  83, local model 49, internal_epoch   2,  Average loss: 0.0059, Accuracy: 5009/5652 (88.6235%)
___Test Local_ResNet_18 poisoned: False, epoch: 83: Average loss: 2.1104, Accuracy: 5340/10000 (53.4000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.77ms
INFO:tornado.access:200 POST /update (::1) 18.22ms
___Train Local_ResNet_18,  epoch  83, local model 44, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4652/5075 (91.6650%)
___Train Local_ResNet_18,  epoch  83, local model 44, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4678/5075 (92.1773%)
___Test Local_ResNet_18 poisoned: False, epoch: 83: Average loss: 1.9557, Accuracy: 5428/10000 (54.2800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 18.93ms
___Train Local_ResNet_18,  epoch  83, local model 70, internal_epoch   1,  Average loss: 0.0041, Accuracy: 5421/5871 (92.3352%)
___Train Local_ResNet_18,  epoch  83, local model 70, internal_epoch   2,  Average loss: 0.0041, Accuracy: 5406/5871 (92.0797%)
___Test Local_ResNet_18 poisoned: False, epoch: 83: Average loss: 2.0213, Accuracy: 5388/10000 (53.8800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 18.70ms
___Train Local_ResNet_18,  epoch  83, local model 40, internal_epoch   1,  Average loss: 0.0042, Accuracy: 5457/5939 (91.8842%)
___Train Local_ResNet_18,  epoch  83, local model 40, internal_epoch   2,  Average loss: 0.0044, Accuracy: 5421/5939 (91.2780%)
___Test Local_ResNet_18 poisoned: False, epoch: 83: Average loss: 2.1221, Accuracy: 5254/10000 (52.5400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 18.63ms
___Train Local_ResNet_18,  epoch  83, local model 0, internal_epoch   1,  Average loss: 0.0056, Accuracy: 4881/5454 (89.4939%)
___Train Local_ResNet_18,  epoch  83, local model 0, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4865/5454 (89.2006%)
___Test Local_ResNet_18 poisoned: False, epoch: 83: Average loss: 2.1024, Accuracy: 5357/10000 (53.5700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 18.52ms
time spent on training: 251.14102220535278
___Test Target_ResNet_18 poisoned: False, epoch: 83: Average loss: 1.1360, Accuracy: 6959/10000 (69.5900%)
___Test Target_ResNet_18 poisoned: True, epoch: 83: Average loss: 1.5411, Accuracy: 6415/9900 (64.7980%)
Done in 278.0773093700409 sec.
Server Epoch:84 choose agents : [13, 36, 58, 71, 80, 3, 45, 6, 57, 22, 68, 38, 76, 26, 41, 98, 61, 0, 1, 28].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  84, local model 13, internal_epoch   1,  Average loss: 0.0030, Accuracy: 5039/5308 (94.9322%), train_poison_data_count: 415
Global model norm: 42.72006301703788.
Norm before scaling: 42.70746839190205. Distance: 1.6264695345267843
Total norm for 4 adversaries is: 42.70746839190205. distance: 1.6264695345267843
___Test Local_ResNet_18 poisoned: True, epoch: 84: Average loss: 0.1465, Accuracy: 9532/9900 (96.2828%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  84, local model 36, internal_epoch   1,  Average loss: 0.0028, Accuracy: 5517/5777 (95.4994%), train_poison_data_count: 455
Global model norm: 42.72006301703788.
Norm before scaling: 42.70065940329918. Distance: 1.6237595298434575
Total norm for 4 adversaries is: 42.70065940329918. distance: 1.6237595298434575
___Test Local_ResNet_18 poisoned: True, epoch: 84: Average loss: 0.1184, Accuracy: 9609/9900 (97.0606%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  84, local model 58, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4812/5123 (93.9293%), train_poison_data_count: 403
Global model norm: 42.72006301703788.
Norm before scaling: 42.709862142352435. Distance: 1.6652080192869474
Total norm for 4 adversaries is: 42.709862142352435. distance: 1.6652080192869474
___Test Local_ResNet_18 poisoned: True, epoch: 84: Average loss: 0.3412, Accuracy: 9061/9900 (91.5253%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  84, local model 71, internal_epoch   1,  Average loss: 0.0035, Accuracy: 5159/5503 (93.7489%), train_poison_data_count: 430
Global model norm: 42.72006301703788.
Norm before scaling: 42.71276304517334. Distance: 1.762701196211614
Total norm for 4 adversaries is: 42.71276304517334. distance: 1.762701196211614
___Test Local_ResNet_18 poisoned: True, epoch: 84: Average loss: 0.1501, Accuracy: 9517/9900 (96.1313%)
___Train Local_ResNet_18,  epoch  84, local model 80, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4952/5461 (90.6794%)
___Train Local_ResNet_18,  epoch  84, local model 80, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4924/5461 (90.1666%)
___Test Local_ResNet_18 poisoned: False, epoch: 84: Average loss: 2.1920, Accuracy: 5216/10000 (52.1600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 18.98ms
___Train Local_ResNet_18,  epoch  84, local model 3, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4943/5346 (92.4617%)
___Train Local_ResNet_18,  epoch  84, local model 3, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4942/5346 (92.4429%)
___Test Local_ResNet_18 poisoned: False, epoch: 84: Average loss: 2.0024, Accuracy: 5486/10000 (54.8600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 18.78ms
___Train Local_ResNet_18,  epoch  84, local model 45, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4941/5489 (90.0164%)
___Train Local_ResNet_18,  epoch  84, local model 45, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4943/5489 (90.0528%)
___Test Local_ResNet_18 poisoned: False, epoch: 84: Average loss: 2.0098, Accuracy: 5444/10000 (54.4400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 19.04ms
___Train Local_ResNet_18,  epoch  84, local model 6, internal_epoch   1,  Average loss: 0.0053, Accuracy: 4521/4929 (91.7225%)
___Train Local_ResNet_18,  epoch  84, local model 6, internal_epoch   2,  Average loss: 0.0054, Accuracy: 4488/4929 (91.0530%)
___Test Local_ResNet_18 poisoned: False, epoch: 84: Average loss: 2.0253, Accuracy: 5609/10000 (56.0900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 18.79ms
___Train Local_ResNet_18,  epoch  84, local model 57, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4535/4956 (91.5052%)
___Train Local_ResNet_18,  epoch  84, local model 57, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4547/4956 (91.7474%)
___Test Local_ResNet_18 poisoned: False, epoch: 84: Average loss: 2.0511, Accuracy: 5507/10000 (55.0700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 19.49ms
___Train Local_ResNet_18,  epoch  84, local model 22, internal_epoch   1,  Average loss: 0.0048, Accuracy: 5164/5696 (90.6601%)
___Train Local_ResNet_18,  epoch  84, local model 22, internal_epoch   2,  Average loss: 0.0050, Accuracy: 5134/5696 (90.1334%)
___Test Local_ResNet_18 poisoned: False, epoch: 84: Average loss: 2.0876, Accuracy: 5242/10000 (52.4200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 19.32ms
___Train Local_ResNet_18,  epoch  84, local model 68, internal_epoch   1,  Average loss: 0.0054, Accuracy: 3271/3589 (91.1396%)
___Train Local_ResNet_18,  epoch  84, local model 68, internal_epoch   2,  Average loss: 0.0095, Accuracy: 2962/3589 (82.5300%)
___Test Local_ResNet_18 poisoned: False, epoch: 84: Average loss: 2.2953, Accuracy: 5056/10000 (50.5600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 19.44ms
___Train Local_ResNet_18,  epoch  84, local model 38, internal_epoch   1,  Average loss: 0.0060, Accuracy: 5529/6235 (88.6768%)
___Train Local_ResNet_18,  epoch  84, local model 38, internal_epoch   2,  Average loss: 0.0058, Accuracy: 5509/6235 (88.3561%)
___Test Local_ResNet_18 poisoned: False, epoch: 84: Average loss: 2.3030, Accuracy: 4960/10000 (49.6000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 18.16ms
___Train Local_ResNet_18,  epoch  84, local model 76, internal_epoch   1,  Average loss: 0.0052, Accuracy: 3525/3959 (89.0376%)
___Train Local_ResNet_18,  epoch  84, local model 76, internal_epoch   2,  Average loss: 0.0045, Accuracy: 3621/3959 (91.4625%)
___Test Local_ResNet_18 poisoned: False, epoch: 84: Average loss: 1.8992, Accuracy: 5562/10000 (55.6200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 18.56ms
___Train Local_ResNet_18,  epoch  84, local model 26, internal_epoch   1,  Average loss: 0.0044, Accuracy: 3738/4086 (91.4831%)
___Train Local_ResNet_18,  epoch  84, local model 26, internal_epoch   2,  Average loss: 0.0032, Accuracy: 3853/4086 (94.2976%)
___Test Local_ResNet_18 poisoned: False, epoch: 84: Average loss: 1.9873, Accuracy: 5544/10000 (55.4400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 18.27ms
___Train Local_ResNet_18,  epoch  84, local model 41, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4348/4714 (92.2359%)
___Train Local_ResNet_18,  epoch  84, local model 41, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4319/4714 (91.6207%)
___Test Local_ResNet_18 poisoned: False, epoch: 84: Average loss: 2.1194, Accuracy: 5243/10000 (52.4300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 18.58ms
___Train Local_ResNet_18,  epoch  84, local model 98, internal_epoch   1,  Average loss: 0.0054, Accuracy: 3814/4161 (91.6607%)
___Train Local_ResNet_18,  epoch  84, local model 98, internal_epoch   2,  Average loss: 0.0053, Accuracy: 3800/4161 (91.3242%)
___Test Local_ResNet_18 poisoned: False, epoch: 84: Average loss: 2.1857, Accuracy: 5240/10000 (52.4000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 18.94ms
___Train Local_ResNet_18,  epoch  84, local model 61, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4089/4485 (91.1706%)
___Train Local_ResNet_18,  epoch  84, local model 61, internal_epoch   2,  Average loss: 0.0058, Accuracy: 3963/4485 (88.3612%)
___Test Local_ResNet_18 poisoned: False, epoch: 84: Average loss: 2.0648, Accuracy: 5318/10000 (53.1800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 18.48ms
___Train Local_ResNet_18,  epoch  84, local model 0, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4954/5454 (90.8324%)
___Train Local_ResNet_18,  epoch  84, local model 0, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4968/5454 (91.0891%)
___Test Local_ResNet_18 poisoned: False, epoch: 84: Average loss: 2.0117, Accuracy: 5450/10000 (54.5000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 18.65ms
___Train Local_ResNet_18,  epoch  84, local model 1, internal_epoch   1,  Average loss: 0.0037, Accuracy: 5048/5422 (93.1022%)
___Train Local_ResNet_18,  epoch  84, local model 1, internal_epoch   2,  Average loss: 0.0036, Accuracy: 5051/5422 (93.1575%)
___Test Local_ResNet_18 poisoned: False, epoch: 84: Average loss: 1.9259, Accuracy: 5670/10000 (56.7000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 19.32ms
___Train Local_ResNet_18,  epoch  84, local model 28, internal_epoch   1,  Average loss: 0.0058, Accuracy: 4591/5122 (89.6330%)
___Train Local_ResNet_18,  epoch  84, local model 28, internal_epoch   2,  Average loss: 0.0100, Accuracy: 4193/5122 (81.8626%)
___Test Local_ResNet_18 poisoned: False, epoch: 84: Average loss: 2.3774, Accuracy: 4884/10000 (48.8400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.77ms
INFO:tornado.access:200 POST /update (::1) 19.00ms
time spent on training: 244.8304796218872
___Test Target_ResNet_18 poisoned: False, epoch: 84: Average loss: 1.1412, Accuracy: 6958/10000 (69.5800%)
___Test Target_ResNet_18 poisoned: True, epoch: 84: Average loss: 1.3486, Accuracy: 6789/9900 (68.5758%)
Done in 271.60937333106995 sec.
Server Epoch:85 choose agents : [13, 36, 58, 71, 47, 12, 88, 79, 31, 29, 65, 32, 92, 8, 20, 41, 52, 61, 39, 64].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  85, local model 13, internal_epoch   1,  Average loss: 0.0030, Accuracy: 5048/5308 (95.1017%), train_poison_data_count: 415
Global model norm: 42.742658018110255.
Norm before scaling: 42.72944727073473. Distance: 1.6064731398378205
Total norm for 4 adversaries is: 42.72944727073473. distance: 1.6064731398378205
___Test Local_ResNet_18 poisoned: True, epoch: 85: Average loss: 0.1233, Accuracy: 9574/9900 (96.7071%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  85, local model 36, internal_epoch   1,  Average loss: 0.0026, Accuracy: 5532/5777 (95.7590%), train_poison_data_count: 455
Global model norm: 42.742658018110255.
Norm before scaling: 42.722394630096375. Distance: 1.5819687819215926
Total norm for 4 adversaries is: 42.722394630096375. distance: 1.5819687819215926
___Test Local_ResNet_18 poisoned: True, epoch: 85: Average loss: 0.2251, Accuracy: 9339/9900 (94.3333%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  85, local model 58, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4796/5123 (93.6170%), train_poison_data_count: 403
Global model norm: 42.742658018110255.
Norm before scaling: 42.73014004381524. Distance: 1.657334961995997
Total norm for 4 adversaries is: 42.73014004381524. distance: 1.657334961995997
___Test Local_ResNet_18 poisoned: True, epoch: 85: Average loss: 0.3290, Accuracy: 9156/9900 (92.4848%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  85, local model 71, internal_epoch   1,  Average loss: 0.0033, Accuracy: 5192/5503 (94.3485%), train_poison_data_count: 430
Global model norm: 42.742658018110255.
Norm before scaling: 42.730461429574746. Distance: 1.6998524854274106
Total norm for 4 adversaries is: 42.730461429574746. distance: 1.6998524854274106
___Test Local_ResNet_18 poisoned: True, epoch: 85: Average loss: 0.1493, Accuracy: 9505/9900 (96.0101%)
___Train Local_ResNet_18,  epoch  85, local model 47, internal_epoch   1,  Average loss: 0.0057, Accuracy: 4593/5123 (89.6545%)
___Train Local_ResNet_18,  epoch  85, local model 47, internal_epoch   2,  Average loss: 0.0074, Accuracy: 4407/5123 (86.0238%)
___Test Local_ResNet_18 poisoned: False, epoch: 85: Average loss: 2.1346, Accuracy: 5319/10000 (53.1900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 18.61ms
___Train Local_ResNet_18,  epoch  85, local model 12, internal_epoch   1,  Average loss: 0.0056, Accuracy: 4909/5526 (88.8346%)
___Train Local_ResNet_18,  epoch  85, local model 12, internal_epoch   2,  Average loss: 0.0058, Accuracy: 4888/5526 (88.4546%)
___Test Local_ResNet_18 poisoned: False, epoch: 85: Average loss: 2.1732, Accuracy: 5131/10000 (51.3100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 18.64ms
___Train Local_ResNet_18,  epoch  85, local model 88, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4937/5362 (92.0739%)
___Train Local_ResNet_18,  epoch  85, local model 88, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4871/5362 (90.8430%)
___Test Local_ResNet_18 poisoned: False, epoch: 85: Average loss: 2.1125, Accuracy: 5284/10000 (52.8400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.78ms
INFO:tornado.access:200 POST /update (::1) 19.14ms
___Train Local_ResNet_18,  epoch  85, local model 79, internal_epoch   1,  Average loss: 0.0044, Accuracy: 3778/4111 (91.8998%)
___Train Local_ResNet_18,  epoch  85, local model 79, internal_epoch   2,  Average loss: 0.0041, Accuracy: 3791/4111 (92.2160%)
___Test Local_ResNet_18 poisoned: False, epoch: 85: Average loss: 1.9765, Accuracy: 5538/10000 (55.3800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.77ms
INFO:tornado.access:200 POST /update (::1) 18.66ms
___Train Local_ResNet_18,  epoch  85, local model 31, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4170/4537 (91.9110%)
___Train Local_ResNet_18,  epoch  85, local model 31, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4190/4537 (92.3518%)
___Test Local_ResNet_18 poisoned: False, epoch: 85: Average loss: 1.9285, Accuracy: 5562/10000 (55.6200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 18.38ms
___Train Local_ResNet_18,  epoch  85, local model 29, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4421/4732 (93.4277%)
___Train Local_ResNet_18,  epoch  85, local model 29, internal_epoch   2,  Average loss: 0.0030, Accuracy: 4464/4732 (94.3364%)
___Test Local_ResNet_18 poisoned: False, epoch: 85: Average loss: 1.8361, Accuracy: 5782/10000 (57.8200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 18.86ms
___Train Local_ResNet_18,  epoch  85, local model 65, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4949/5497 (90.0309%)
___Train Local_ResNet_18,  epoch  85, local model 65, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4962/5497 (90.2674%)
___Test Local_ResNet_18 poisoned: False, epoch: 85: Average loss: 2.1049, Accuracy: 5273/10000 (52.7300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 18.70ms
___Train Local_ResNet_18,  epoch  85, local model 32, internal_epoch   1,  Average loss: 0.0060, Accuracy: 5361/6080 (88.1743%)
___Train Local_ResNet_18,  epoch  85, local model 32, internal_epoch   2,  Average loss: 0.0062, Accuracy: 5308/6080 (87.3026%)
___Test Local_ResNet_18 poisoned: False, epoch: 85: Average loss: 2.1363, Accuracy: 5249/10000 (52.4900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 19.29ms
___Train Local_ResNet_18,  epoch  85, local model 92, internal_epoch   1,  Average loss: 0.0042, Accuracy: 6264/6812 (91.9554%)
___Train Local_ResNet_18,  epoch  85, local model 92, internal_epoch   2,  Average loss: 0.0045, Accuracy: 6225/6812 (91.3829%)
___Test Local_ResNet_18 poisoned: False, epoch: 85: Average loss: 2.1116, Accuracy: 5229/10000 (52.2900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 19.07ms
___Train Local_ResNet_18,  epoch  85, local model 8, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4457/4889 (91.1638%)
___Train Local_ResNet_18,  epoch  85, local model 8, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4458/4889 (91.1843%)
___Test Local_ResNet_18 poisoned: False, epoch: 85: Average loss: 1.9190, Accuracy: 5550/10000 (55.5000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 19.49ms
___Train Local_ResNet_18,  epoch  85, local model 20, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4314/4714 (91.5146%)
___Train Local_ResNet_18,  epoch  85, local model 20, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4403/4714 (93.4026%)
___Test Local_ResNet_18 poisoned: False, epoch: 85: Average loss: 1.8924, Accuracy: 5596/10000 (55.9600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.79ms
INFO:tornado.access:200 POST /update (::1) 19.77ms
___Train Local_ResNet_18,  epoch  85, local model 41, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4320/4714 (91.6419%)
___Train Local_ResNet_18,  epoch  85, local model 41, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4373/4714 (92.7662%)
___Test Local_ResNet_18 poisoned: False, epoch: 85: Average loss: 2.0554, Accuracy: 5425/10000 (54.2500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 18.96ms
___Train Local_ResNet_18,  epoch  85, local model 52, internal_epoch   1,  Average loss: 0.0046, Accuracy: 3789/4130 (91.7433%)
___Train Local_ResNet_18,  epoch  85, local model 52, internal_epoch   2,  Average loss: 0.0042, Accuracy: 3806/4130 (92.1550%)
___Test Local_ResNet_18 poisoned: False, epoch: 85: Average loss: 1.8841, Accuracy: 5665/10000 (56.6500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 19.12ms
___Train Local_ResNet_18,  epoch  85, local model 61, internal_epoch   1,  Average loss: 0.0050, Accuracy: 4058/4485 (90.4794%)
___Train Local_ResNet_18,  epoch  85, local model 61, internal_epoch   2,  Average loss: 0.0062, Accuracy: 3969/4485 (88.4950%)
___Test Local_ResNet_18 poisoned: False, epoch: 85: Average loss: 2.1422, Accuracy: 5176/10000 (51.7600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 19.72ms
___Train Local_ResNet_18,  epoch  85, local model 39, internal_epoch   1,  Average loss: 0.0052, Accuracy: 3743/4175 (89.6527%)
___Train Local_ResNet_18,  epoch  85, local model 39, internal_epoch   2,  Average loss: 0.0053, Accuracy: 3766/4175 (90.2036%)
___Test Local_ResNet_18 poisoned: False, epoch: 85: Average loss: 1.9771, Accuracy: 5497/10000 (54.9700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 19.52ms
___Train Local_ResNet_18,  epoch  85, local model 64, internal_epoch   1,  Average loss: 0.0060, Accuracy: 4363/4894 (89.1500%)
___Train Local_ResNet_18,  epoch  85, local model 64, internal_epoch   2,  Average loss: 0.0061, Accuracy: 4314/4894 (88.1488%)
___Test Local_ResNet_18 poisoned: False, epoch: 85: Average loss: 2.0271, Accuracy: 5404/10000 (54.0400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 19.44ms
time spent on training: 247.22428560256958
___Test Target_ResNet_18 poisoned: False, epoch: 85: Average loss: 1.1457, Accuracy: 6953/10000 (69.5300%)
___Test Target_ResNet_18 poisoned: True, epoch: 85: Average loss: 1.1787, Accuracy: 7142/9900 (72.1414%)
Done in 274.12707924842834 sec.
Server Epoch:86 choose agents : [13, 36, 58, 71, 88, 39, 63, 20, 24, 15, 83, 29, 97, 50, 96, 1, 57, 30, 10, 3].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  86, local model 13, internal_epoch   1,  Average loss: 0.0030, Accuracy: 5030/5308 (94.7626%), train_poison_data_count: 415
Global model norm: 42.764794360767716.
Norm before scaling: 42.75099368362682. Distance: 1.6189701004330475
Total norm for 4 adversaries is: 42.75099368362682. distance: 1.6189701004330475
___Test Local_ResNet_18 poisoned: True, epoch: 86: Average loss: 0.1545, Accuracy: 9512/9900 (96.0808%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  86, local model 36, internal_epoch   1,  Average loss: 0.0025, Accuracy: 5545/5777 (95.9841%), train_poison_data_count: 455
Global model norm: 42.764794360767716.
Norm before scaling: 42.74224533330944. Distance: 1.5419145676909656
Total norm for 4 adversaries is: 42.74224533330944. distance: 1.5419145676909656
___Test Local_ResNet_18 poisoned: True, epoch: 86: Average loss: 0.1825, Accuracy: 9447/9900 (95.4242%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  86, local model 58, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4817/5123 (94.0269%), train_poison_data_count: 403
Global model norm: 42.764794360767716.
Norm before scaling: 42.75330647849064. Distance: 1.653041178375601
Total norm for 4 adversaries is: 42.75330647849064. distance: 1.653041178375601
___Test Local_ResNet_18 poisoned: True, epoch: 86: Average loss: 0.2332, Accuracy: 9335/9900 (94.2929%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  86, local model 71, internal_epoch   1,  Average loss: 0.0031, Accuracy: 5227/5503 (94.9846%), train_poison_data_count: 430
Global model norm: 42.764794360767716.
Norm before scaling: 42.75294529099355. Distance: 1.6763946193178187
Total norm for 4 adversaries is: 42.75294529099355. distance: 1.6763946193178187
___Test Local_ResNet_18 poisoned: True, epoch: 86: Average loss: 0.0999, Accuracy: 9634/9900 (97.3131%)
___Train Local_ResNet_18,  epoch  86, local model 88, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4921/5362 (91.7755%)
___Train Local_ResNet_18,  epoch  86, local model 88, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4870/5362 (90.8243%)
___Test Local_ResNet_18 poisoned: False, epoch: 86: Average loss: 1.9778, Accuracy: 5530/10000 (55.3000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 18.66ms
___Train Local_ResNet_18,  epoch  86, local model 39, internal_epoch   1,  Average loss: 0.0054, Accuracy: 3751/4175 (89.8443%)
___Train Local_ResNet_18,  epoch  86, local model 39, internal_epoch   2,  Average loss: 0.0049, Accuracy: 3793/4175 (90.8503%)
___Test Local_ResNet_18 poisoned: False, epoch: 86: Average loss: 2.2495, Accuracy: 5232/10000 (52.3200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 19.45ms
___Train Local_ResNet_18,  epoch  86, local model 63, internal_epoch   1,  Average loss: 0.0041, Accuracy: 3615/3910 (92.4552%)
___Train Local_ResNet_18,  epoch  86, local model 63, internal_epoch   2,  Average loss: 0.0046, Accuracy: 3566/3910 (91.2020%)
___Test Local_ResNet_18 poisoned: False, epoch: 86: Average loss: 2.0296, Accuracy: 5563/10000 (55.6300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 18.99ms
___Train Local_ResNet_18,  epoch  86, local model 20, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4351/4714 (92.2995%)
___Train Local_ResNet_18,  epoch  86, local model 20, internal_epoch   2,  Average loss: 0.0033, Accuracy: 4425/4714 (93.8693%)
___Test Local_ResNet_18 poisoned: False, epoch: 86: Average loss: 1.7815, Accuracy: 5825/10000 (58.2500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.78ms
INFO:tornado.access:200 POST /update (::1) 19.10ms
___Train Local_ResNet_18,  epoch  86, local model 24, internal_epoch   1,  Average loss: 0.0046, Accuracy: 3920/4313 (90.8880%)
___Train Local_ResNet_18,  epoch  86, local model 24, internal_epoch   2,  Average loss: 0.0041, Accuracy: 3987/4313 (92.4415%)
___Test Local_ResNet_18 poisoned: False, epoch: 86: Average loss: 1.7819, Accuracy: 5844/10000 (58.4400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 19.03ms
___Train Local_ResNet_18,  epoch  86, local model 15, internal_epoch   1,  Average loss: 0.0045, Accuracy: 5540/6068 (91.2986%)
___Train Local_ResNet_18,  epoch  86, local model 15, internal_epoch   2,  Average loss: 0.0045, Accuracy: 5539/6068 (91.2821%)
___Test Local_ResNet_18 poisoned: False, epoch: 86: Average loss: 2.0595, Accuracy: 5308/10000 (53.0800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 19.41ms
___Train Local_ResNet_18,  epoch  86, local model 83, internal_epoch   1,  Average loss: 0.0047, Accuracy: 3224/3552 (90.7658%)
___Train Local_ResNet_18,  epoch  86, local model 83, internal_epoch   2,  Average loss: 0.0042, Accuracy: 3263/3552 (91.8637%)
___Test Local_ResNet_18 poisoned: False, epoch: 86: Average loss: 1.8606, Accuracy: 5669/10000 (56.6900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 19.62ms
___Train Local_ResNet_18,  epoch  86, local model 29, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4371/4732 (92.3711%)
___Train Local_ResNet_18,  epoch  86, local model 29, internal_epoch   2,  Average loss: 0.0030, Accuracy: 4459/4732 (94.2308%)
___Test Local_ResNet_18 poisoned: False, epoch: 86: Average loss: 1.7966, Accuracy: 5812/10000 (58.1200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 19.01ms
___Train Local_ResNet_18,  epoch  86, local model 97, internal_epoch   1,  Average loss: 0.0057, Accuracy: 4196/4736 (88.5980%)
___Train Local_ResNet_18,  epoch  86, local model 97, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4266/4736 (90.0760%)
___Test Local_ResNet_18 poisoned: False, epoch: 86: Average loss: 2.0724, Accuracy: 5374/10000 (53.7400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 14.78ms
___Train Local_ResNet_18,  epoch  86, local model 50, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4357/4757 (91.5913%)
___Train Local_ResNet_18,  epoch  86, local model 50, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4340/4757 (91.2340%)
___Test Local_ResNet_18 poisoned: False, epoch: 86: Average loss: 2.0084, Accuracy: 5451/10000 (54.5100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 19.36ms
___Train Local_ResNet_18,  epoch  86, local model 96, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4597/5086 (90.3854%)
___Train Local_ResNet_18,  epoch  86, local model 96, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4608/5086 (90.6017%)
___Test Local_ResNet_18 poisoned: False, epoch: 86: Average loss: 2.1745, Accuracy: 5117/10000 (51.1700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 19.19ms
___Train Local_ResNet_18,  epoch  86, local model 1, internal_epoch   1,  Average loss: 0.0037, Accuracy: 5052/5422 (93.1759%)
___Train Local_ResNet_18,  epoch  86, local model 1, internal_epoch   2,  Average loss: 0.0036, Accuracy: 5055/5422 (93.2313%)
___Test Local_ResNet_18 poisoned: False, epoch: 86: Average loss: 1.9200, Accuracy: 5672/10000 (56.7200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 20.20ms
___Train Local_ResNet_18,  epoch  86, local model 57, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4577/4956 (92.3527%)
___Train Local_ResNet_18,  epoch  86, local model 57, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4570/4956 (92.2115%)
___Test Local_ResNet_18 poisoned: False, epoch: 86: Average loss: 2.1236, Accuracy: 5328/10000 (53.2800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.78ms
INFO:tornado.access:200 POST /win_exists (::1) 0.63ms
INFO:tornado.access:200 POST /update (::1) 19.59ms
___Train Local_ResNet_18,  epoch  86, local model 30, internal_epoch   1,  Average loss: 0.0043, Accuracy: 3490/3774 (92.4748%)
___Train Local_ResNet_18,  epoch  86, local model 30, internal_epoch   2,  Average loss: 0.0031, Accuracy: 3558/3774 (94.2766%)
___Test Local_ResNet_18 poisoned: False, epoch: 86: Average loss: 1.8617, Accuracy: 5768/10000 (57.6800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 19.04ms
___Train Local_ResNet_18,  epoch  86, local model 10, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4684/5068 (92.4230%)
___Train Local_ResNet_18,  epoch  86, local model 10, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4696/5068 (92.6598%)
___Test Local_ResNet_18 poisoned: False, epoch: 86: Average loss: 1.9674, Accuracy: 5522/10000 (55.2200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 19.55ms
___Train Local_ResNet_18,  epoch  86, local model 3, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4934/5346 (92.2933%)
___Train Local_ResNet_18,  epoch  86, local model 3, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4922/5346 (92.0688%)
___Test Local_ResNet_18 poisoned: False, epoch: 86: Average loss: 2.0155, Accuracy: 5403/10000 (54.0300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.79ms
INFO:tornado.access:200 POST /update (::1) 19.62ms
time spent on training: 243.08739352226257
___Test Target_ResNet_18 poisoned: False, epoch: 86: Average loss: 1.1554, Accuracy: 6925/10000 (69.2500%)
___Test Target_ResNet_18 poisoned: True, epoch: 86: Average loss: 1.0089, Accuracy: 7509/9900 (75.8485%)
Done in 269.7754647731781 sec.
Server Epoch:87 choose agents : [13, 36, 58, 71, 47, 33, 81, 59, 32, 96, 60, 88, 7, 69, 95, 21, 51, 35, 93, 74].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  87, local model 13, internal_epoch   1,  Average loss: 0.0030, Accuracy: 5034/5308 (94.8380%), train_poison_data_count: 415
Global model norm: 42.78454835714641.
Norm before scaling: 42.77134484036158. Distance: 1.5962933460823627
Total norm for 4 adversaries is: 42.77134484036158. distance: 1.5962933460823627
___Test Local_ResNet_18 poisoned: True, epoch: 87: Average loss: 0.2140, Accuracy: 9366/9900 (94.6061%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  87, local model 36, internal_epoch   1,  Average loss: 0.0024, Accuracy: 5548/5777 (96.0360%), train_poison_data_count: 455
Global model norm: 42.78454835714641.
Norm before scaling: 42.76142025821874. Distance: 1.5221487218200793
Total norm for 4 adversaries is: 42.76142025821874. distance: 1.5221487218200793
___Test Local_ResNet_18 poisoned: True, epoch: 87: Average loss: 0.0991, Accuracy: 9646/9900 (97.4343%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  87, local model 58, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4814/5123 (93.9684%), train_poison_data_count: 403
Global model norm: 42.78454835714641.
Norm before scaling: 42.76989640022451. Distance: 1.5930394103209415
Total norm for 4 adversaries is: 42.76989640022451. distance: 1.5930394103209415
___Test Local_ResNet_18 poisoned: True, epoch: 87: Average loss: 0.0950, Accuracy: 9640/9900 (97.3737%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  87, local model 71, internal_epoch   1,  Average loss: 0.0031, Accuracy: 5223/5503 (94.9119%), train_poison_data_count: 430
Global model norm: 42.78454835714641.
Norm before scaling: 42.76927562514942. Distance: 1.614721952661051
Total norm for 4 adversaries is: 42.76927562514942. distance: 1.614721952661051
___Test Local_ResNet_18 poisoned: True, epoch: 87: Average loss: 0.3247, Accuracy: 9102/9900 (91.9394%)
___Train Local_ResNet_18,  epoch  87, local model 47, internal_epoch   1,  Average loss: 0.0054, Accuracy: 4609/5123 (89.9668%)
___Train Local_ResNet_18,  epoch  87, local model 47, internal_epoch   2,  Average loss: 0.0075, Accuracy: 4432/5123 (86.5118%)
___Test Local_ResNet_18 poisoned: False, epoch: 87: Average loss: 2.1424, Accuracy: 5222/10000 (52.2200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 20.20ms
___Train Local_ResNet_18,  epoch  87, local model 33, internal_epoch   1,  Average loss: 0.0055, Accuracy: 4315/4818 (89.5600%)
___Train Local_ResNet_18,  epoch  87, local model 33, internal_epoch   2,  Average loss: 0.0060, Accuracy: 4253/4818 (88.2731%)
___Test Local_ResNet_18 poisoned: False, epoch: 87: Average loss: 2.0691, Accuracy: 5300/10000 (53.0000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 19.86ms
___Train Local_ResNet_18,  epoch  87, local model 81, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4592/5035 (91.2016%)
___Train Local_ResNet_18,  epoch  87, local model 81, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4638/5035 (92.1152%)
___Test Local_ResNet_18 poisoned: False, epoch: 87: Average loss: 2.0966, Accuracy: 5354/10000 (53.5400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 19.07ms
___Train Local_ResNet_18,  epoch  87, local model 59, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4169/4397 (94.8146%)
___Train Local_ResNet_18,  epoch  87, local model 59, internal_epoch   2,  Average loss: 0.0025, Accuracy: 4188/4397 (95.2468%)
___Test Local_ResNet_18 poisoned: False, epoch: 87: Average loss: 1.8184, Accuracy: 5873/10000 (58.7300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 18.95ms
___Train Local_ResNet_18,  epoch  87, local model 32, internal_epoch   1,  Average loss: 0.0066, Accuracy: 5273/6080 (86.7270%)
___Train Local_ResNet_18,  epoch  87, local model 32, internal_epoch   2,  Average loss: 0.0066, Accuracy: 5272/6080 (86.7105%)
___Test Local_ResNet_18 poisoned: False, epoch: 87: Average loss: 2.3545, Accuracy: 4882/10000 (48.8200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 20.06ms
___Train Local_ResNet_18,  epoch  87, local model 96, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4619/5086 (90.8179%)
___Train Local_ResNet_18,  epoch  87, local model 96, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4665/5086 (91.7224%)
___Test Local_ResNet_18 poisoned: False, epoch: 87: Average loss: 2.0578, Accuracy: 5428/10000 (54.2800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 19.32ms
___Train Local_ResNet_18,  epoch  87, local model 60, internal_epoch   1,  Average loss: 0.0045, Accuracy: 3796/4145 (91.5802%)
___Train Local_ResNet_18,  epoch  87, local model 60, internal_epoch   2,  Average loss: 0.0041, Accuracy: 3804/4145 (91.7732%)
___Test Local_ResNet_18 poisoned: False, epoch: 87: Average loss: 2.0768, Accuracy: 5464/10000 (54.6400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 19.10ms
___Train Local_ResNet_18,  epoch  87, local model 88, internal_epoch   1,  Average loss: 0.0050, Accuracy: 4851/5362 (90.4700%)
___Train Local_ResNet_18,  epoch  87, local model 88, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4875/5362 (90.9176%)
___Test Local_ResNet_18 poisoned: False, epoch: 87: Average loss: 2.0719, Accuracy: 5369/10000 (53.6900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 20.07ms
___Train Local_ResNet_18,  epoch  87, local model 7, internal_epoch   1,  Average loss: 0.0055, Accuracy: 4363/4869 (89.6077%)
___Train Local_ResNet_18,  epoch  87, local model 7, internal_epoch   2,  Average loss: 0.0082, Accuracy: 4085/4869 (83.8981%)
___Test Local_ResNet_18 poisoned: False, epoch: 87: Average loss: 2.3333, Accuracy: 4944/10000 (49.4400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 15.52ms
___Train Local_ResNet_18,  epoch  87, local model 69, internal_epoch   1,  Average loss: 0.0050, Accuracy: 3960/4364 (90.7424%)
___Train Local_ResNet_18,  epoch  87, local model 69, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4001/4364 (91.6819%)
___Test Local_ResNet_18 poisoned: False, epoch: 87: Average loss: 1.8859, Accuracy: 5614/10000 (56.1400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 20.35ms
___Train Local_ResNet_18,  epoch  87, local model 95, internal_epoch   1,  Average loss: 0.0060, Accuracy: 4440/5018 (88.4815%)
___Train Local_ResNet_18,  epoch  87, local model 95, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4470/5018 (89.0793%)
___Test Local_ResNet_18 poisoned: False, epoch: 87: Average loss: 2.1265, Accuracy: 5215/10000 (52.1500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /win_exists (::1) 0.70ms
INFO:tornado.access:200 POST /update (::1) 19.10ms
___Train Local_ResNet_18,  epoch  87, local model 21, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4584/5038 (90.9885%)
___Train Local_ResNet_18,  epoch  87, local model 21, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4626/5038 (91.8222%)
___Test Local_ResNet_18 poisoned: False, epoch: 87: Average loss: 1.8718, Accuracy: 5664/10000 (56.6400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 18.83ms
___Train Local_ResNet_18,  epoch  87, local model 51, internal_epoch   1,  Average loss: 0.0042, Accuracy: 3799/4108 (92.4781%)
___Train Local_ResNet_18,  epoch  87, local model 51, internal_epoch   2,  Average loss: 0.0045, Accuracy: 3751/4108 (91.3096%)
___Test Local_ResNet_18 poisoned: False, epoch: 87: Average loss: 2.0273, Accuracy: 5482/10000 (54.8200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 19.73ms
___Train Local_ResNet_18,  epoch  87, local model 35, internal_epoch   1,  Average loss: 0.0051, Accuracy: 5063/5615 (90.1692%)
___Train Local_ResNet_18,  epoch  87, local model 35, internal_epoch   2,  Average loss: 0.0049, Accuracy: 5081/5615 (90.4898%)
___Test Local_ResNet_18 poisoned: False, epoch: 87: Average loss: 2.1685, Accuracy: 5255/10000 (52.5500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 19.67ms
___Train Local_ResNet_18,  epoch  87, local model 93, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4552/5055 (90.0495%)
___Train Local_ResNet_18,  epoch  87, local model 93, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4507/5055 (89.1592%)
___Test Local_ResNet_18 poisoned: False, epoch: 87: Average loss: 2.1707, Accuracy: 5238/10000 (52.3800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 20.38ms
___Train Local_ResNet_18,  epoch  87, local model 74, internal_epoch   1,  Average loss: 0.0053, Accuracy: 4285/4797 (89.3267%)
___Train Local_ResNet_18,  epoch  87, local model 74, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4341/4797 (90.4941%)
___Test Local_ResNet_18 poisoned: False, epoch: 87: Average loss: 1.9233, Accuracy: 5532/10000 (55.3200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 19.45ms
time spent on training: 245.49054884910583
___Test Target_ResNet_18 poisoned: False, epoch: 87: Average loss: 1.1620, Accuracy: 6912/10000 (69.1200%)
___Test Target_ResNet_18 poisoned: True, epoch: 87: Average loss: 0.8849, Accuracy: 7811/9900 (78.8990%)
Done in 271.91804361343384 sec.
Server Epoch:88 choose agents : [13, 36, 58, 71, 91, 26, 17, 2, 35, 90, 19, 77, 49, 55, 42, 94, 76, 73, 74, 22].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  88, local model 13, internal_epoch   1,  Average loss: 0.0028, Accuracy: 5081/5308 (95.7234%), train_poison_data_count: 415
Global model norm: 42.80644060678107.
Norm before scaling: 42.791734813622305. Distance: 1.5590382183643865
Total norm for 4 adversaries is: 42.791734813622305. distance: 1.5590382183643865
___Test Local_ResNet_18 poisoned: True, epoch: 88: Average loss: 0.1097, Accuracy: 9585/9900 (96.8182%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  88, local model 36, internal_epoch   1,  Average loss: 0.0026, Accuracy: 5516/5777 (95.4821%), train_poison_data_count: 455
Global model norm: 42.80644060678107.
Norm before scaling: 42.78727872514359. Distance: 1.6142593633017732
Total norm for 4 adversaries is: 42.78727872514359. distance: 1.6142593633017732
___Test Local_ResNet_18 poisoned: True, epoch: 88: Average loss: 0.0966, Accuracy: 9650/9900 (97.4747%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  88, local model 58, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4825/5123 (94.1831%), train_poison_data_count: 403
Global model norm: 42.80644060678107.
Norm before scaling: 42.79292007784772. Distance: 1.6222574124953908
Total norm for 4 adversaries is: 42.79292007784772. distance: 1.6222574124953908
___Test Local_ResNet_18 poisoned: True, epoch: 88: Average loss: 0.1607, Accuracy: 9468/9900 (95.6364%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  88, local model 71, internal_epoch   1,  Average loss: 0.0031, Accuracy: 5202/5503 (94.5303%), train_poison_data_count: 430
Global model norm: 42.80644060678107.
Norm before scaling: 42.79316112034579. Distance: 1.6671879747813727
Total norm for 4 adversaries is: 42.79316112034579. distance: 1.6671879747813727
___Test Local_ResNet_18 poisoned: True, epoch: 88: Average loss: 0.0661, Accuracy: 9723/9900 (98.2121%)
___Train Local_ResNet_18,  epoch  88, local model 91, internal_epoch   1,  Average loss: 0.0053, Accuracy: 4070/4527 (89.9050%)
___Train Local_ResNet_18,  epoch  88, local model 91, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4033/4527 (89.0877%)
___Test Local_ResNet_18 poisoned: False, epoch: 88: Average loss: 2.1101, Accuracy: 5276/10000 (52.7600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 19.75ms
___Train Local_ResNet_18,  epoch  88, local model 26, internal_epoch   1,  Average loss: 0.0037, Accuracy: 3794/4086 (92.8536%)
___Train Local_ResNet_18,  epoch  88, local model 26, internal_epoch   2,  Average loss: 0.0037, Accuracy: 3780/4086 (92.5110%)
___Test Local_ResNet_18 poisoned: False, epoch: 88: Average loss: 1.9920, Accuracy: 5498/10000 (54.9800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 19.85ms
___Train Local_ResNet_18,  epoch  88, local model 17, internal_epoch   1,  Average loss: 0.0057, Accuracy: 4368/4903 (89.0883%)
___Train Local_ResNet_18,  epoch  88, local model 17, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4386/4903 (89.4554%)
___Test Local_ResNet_18 poisoned: False, epoch: 88: Average loss: 1.9585, Accuracy: 5390/10000 (53.9000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 19.45ms
___Train Local_ResNet_18,  epoch  88, local model 2, internal_epoch   1,  Average loss: 0.0045, Accuracy: 3620/3968 (91.2298%)
___Train Local_ResNet_18,  epoch  88, local model 2, internal_epoch   2,  Average loss: 0.0038, Accuracy: 3694/3968 (93.0948%)
___Test Local_ResNet_18 poisoned: False, epoch: 88: Average loss: 1.7163, Accuracy: 5902/10000 (59.0200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 19.35ms
___Train Local_ResNet_18,  epoch  88, local model 35, internal_epoch   1,  Average loss: 0.0047, Accuracy: 5100/5615 (90.8281%)
___Train Local_ResNet_18,  epoch  88, local model 35, internal_epoch   2,  Average loss: 0.0046, Accuracy: 5100/5615 (90.8281%)
___Test Local_ResNet_18 poisoned: False, epoch: 88: Average loss: 2.0167, Accuracy: 5434/10000 (54.3400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 20.58ms
___Train Local_ResNet_18,  epoch  88, local model 90, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4423/4748 (93.1550%)
___Train Local_ResNet_18,  epoch  88, local model 90, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4367/4748 (91.9756%)
___Test Local_ResNet_18 poisoned: False, epoch: 88: Average loss: 2.0162, Accuracy: 5465/10000 (54.6500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 20.47ms
___Train Local_ResNet_18,  epoch  88, local model 19, internal_epoch   1,  Average loss: 0.0050, Accuracy: 4842/5361 (90.3190%)
___Train Local_ResNet_18,  epoch  88, local model 19, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4820/5361 (89.9086%)
___Test Local_ResNet_18 poisoned: False, epoch: 88: Average loss: 2.1839, Accuracy: 5185/10000 (51.8500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 19.85ms
___Train Local_ResNet_18,  epoch  88, local model 77, internal_epoch   1,  Average loss: 0.0060, Accuracy: 4465/5050 (88.4158%)
___Train Local_ResNet_18,  epoch  88, local model 77, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4544/5050 (89.9802%)
___Test Local_ResNet_18 poisoned: False, epoch: 88: Average loss: 2.0866, Accuracy: 5316/10000 (53.1600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 19.79ms
___Train Local_ResNet_18,  epoch  88, local model 49, internal_epoch   1,  Average loss: 0.0056, Accuracy: 5055/5652 (89.4374%)
___Train Local_ResNet_18,  epoch  88, local model 49, internal_epoch   2,  Average loss: 0.0059, Accuracy: 4984/5652 (88.1812%)
___Test Local_ResNet_18 poisoned: False, epoch: 88: Average loss: 2.1877, Accuracy: 5213/10000 (52.1300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 19.05ms
___Train Local_ResNet_18,  epoch  88, local model 55, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4350/4731 (91.9467%)
___Train Local_ResNet_18,  epoch  88, local model 55, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4392/4731 (92.8345%)
___Test Local_ResNet_18 poisoned: False, epoch: 88: Average loss: 1.8909, Accuracy: 5656/10000 (56.5600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 20.13ms
___Train Local_ResNet_18,  epoch  88, local model 42, internal_epoch   1,  Average loss: 0.0052, Accuracy: 5321/5907 (90.0796%)
___Train Local_ResNet_18,  epoch  88, local model 42, internal_epoch   2,  Average loss: 0.0048, Accuracy: 5348/5907 (90.5367%)
___Test Local_ResNet_18 poisoned: False, epoch: 88: Average loss: 2.3860, Accuracy: 4938/10000 (49.3800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 20.40ms
___Train Local_ResNet_18,  epoch  88, local model 94, internal_epoch   1,  Average loss: 0.0055, Accuracy: 4668/5224 (89.3568%)
___Train Local_ResNet_18,  epoch  88, local model 94, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4729/5224 (90.5245%)
___Test Local_ResNet_18 poisoned: False, epoch: 88: Average loss: 2.0152, Accuracy: 5406/10000 (54.0600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 20.00ms
___Train Local_ResNet_18,  epoch  88, local model 76, internal_epoch   1,  Average loss: 0.0049, Accuracy: 3590/3959 (90.6795%)
___Train Local_ResNet_18,  epoch  88, local model 76, internal_epoch   2,  Average loss: 0.0044, Accuracy: 3629/3959 (91.6646%)
___Test Local_ResNet_18 poisoned: False, epoch: 88: Average loss: 1.8112, Accuracy: 5743/10000 (57.4300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.78ms
INFO:tornado.access:200 POST /update (::1) 19.85ms
___Train Local_ResNet_18,  epoch  88, local model 73, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4294/4605 (93.2465%)
___Train Local_ResNet_18,  epoch  88, local model 73, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4305/4605 (93.4853%)
___Test Local_ResNet_18 poisoned: False, epoch: 88: Average loss: 1.9721, Accuracy: 5546/10000 (55.4600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.97ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 19.69ms
___Train Local_ResNet_18,  epoch  88, local model 74, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4339/4797 (90.4524%)
___Train Local_ResNet_18,  epoch  88, local model 74, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4287/4797 (89.3684%)
___Test Local_ResNet_18 poisoned: False, epoch: 88: Average loss: 1.9192, Accuracy: 5529/10000 (55.2900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 20.04ms
___Train Local_ResNet_18,  epoch  88, local model 22, internal_epoch   1,  Average loss: 0.0044, Accuracy: 5231/5696 (91.8364%)
___Train Local_ResNet_18,  epoch  88, local model 22, internal_epoch   2,  Average loss: 0.0048, Accuracy: 5197/5696 (91.2395%)
___Test Local_ResNet_18 poisoned: False, epoch: 88: Average loss: 1.9758, Accuracy: 5459/10000 (54.5900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.59ms
INFO:tornado.access:200 POST /update (::1) 15.67ms
time spent on training: 245.46646404266357
___Test Target_ResNet_18 poisoned: False, epoch: 88: Average loss: 1.1608, Accuracy: 6917/10000 (69.1700%)
___Test Target_ResNet_18 poisoned: True, epoch: 88: Average loss: 0.8474, Accuracy: 7871/9900 (79.5051%)
Done in 272.2848553657532 sec.
Server Epoch:89 choose agents : [13, 36, 58, 71, 59, 78, 62, 30, 12, 24, 43, 89, 46, 60, 90, 77, 95, 53, 69, 14].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  89, local model 13, internal_epoch   1,  Average loss: 0.0030, Accuracy: 5039/5308 (94.9322%), train_poison_data_count: 415
Global model norm: 42.82792833318581.
Norm before scaling: 42.81431622516148. Distance: 1.5978790351717054
Total norm for 4 adversaries is: 42.81431622516148. distance: 1.5978790351717054
___Test Local_ResNet_18 poisoned: True, epoch: 89: Average loss: 0.0636, Accuracy: 9726/9900 (98.2424%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  89, local model 36, internal_epoch   1,  Average loss: 0.0025, Accuracy: 5539/5777 (95.8802%), train_poison_data_count: 455
Global model norm: 42.82792833318581.
Norm before scaling: 42.8058802478008. Distance: 1.5697326348673686
Total norm for 4 adversaries is: 42.8058802478008. distance: 1.5697326348673686
___Test Local_ResNet_18 poisoned: True, epoch: 89: Average loss: 0.1749, Accuracy: 9451/9900 (95.4646%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  89, local model 58, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4826/5123 (94.2026%), train_poison_data_count: 403
Global model norm: 42.82792833318581.
Norm before scaling: 42.812170676196885. Distance: 1.5621831191127982
Total norm for 4 adversaries is: 42.812170676196885. distance: 1.5621831191127982
___Test Local_ResNet_18 poisoned: True, epoch: 89: Average loss: 0.2812, Accuracy: 9220/9900 (93.1313%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  89, local model 71, internal_epoch   1,  Average loss: 0.0030, Accuracy: 5209/5503 (94.6575%), train_poison_data_count: 430
Global model norm: 42.82792833318581.
Norm before scaling: 42.81132668328339. Distance: 1.6137291238086013
Total norm for 4 adversaries is: 42.81132668328339. distance: 1.6137291238086013
___Test Local_ResNet_18 poisoned: True, epoch: 89: Average loss: 0.1357, Accuracy: 9572/9900 (96.6869%)
___Train Local_ResNet_18,  epoch  89, local model 59, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4181/4397 (95.0876%)
___Train Local_ResNet_18,  epoch  89, local model 59, internal_epoch   2,  Average loss: 0.0027, Accuracy: 4174/4397 (94.9284%)
___Test Local_ResNet_18 poisoned: False, epoch: 89: Average loss: 1.8060, Accuracy: 5849/10000 (58.4900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 20.60ms
___Train Local_ResNet_18,  epoch  89, local model 78, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4032/4368 (92.3077%)
___Train Local_ResNet_18,  epoch  89, local model 78, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4000/4368 (91.5751%)
___Test Local_ResNet_18 poisoned: False, epoch: 89: Average loss: 1.9866, Accuracy: 5409/10000 (54.0900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 20.02ms
___Train Local_ResNet_18,  epoch  89, local model 62, internal_epoch   1,  Average loss: 0.0065, Accuracy: 4793/5504 (87.0821%)
___Train Local_ResNet_18,  epoch  89, local model 62, internal_epoch   2,  Average loss: 0.0059, Accuracy: 4852/5504 (88.1541%)
___Test Local_ResNet_18 poisoned: False, epoch: 89: Average loss: 2.1411, Accuracy: 5272/10000 (52.7200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 19.78ms
___Train Local_ResNet_18,  epoch  89, local model 30, internal_epoch   1,  Average loss: 0.0044, Accuracy: 3448/3774 (91.3620%)
___Train Local_ResNet_18,  epoch  89, local model 30, internal_epoch   2,  Average loss: 0.0035, Accuracy: 3508/3774 (92.9518%)
___Test Local_ResNet_18 poisoned: False, epoch: 89: Average loss: 1.9533, Accuracy: 5510/10000 (55.1000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 20.69ms
___Train Local_ResNet_18,  epoch  89, local model 12, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4974/5526 (90.0109%)
___Train Local_ResNet_18,  epoch  89, local model 12, internal_epoch   2,  Average loss: 0.0061, Accuracy: 4879/5526 (88.2917%)
___Test Local_ResNet_18 poisoned: False, epoch: 89: Average loss: 2.2426, Accuracy: 5180/10000 (51.8000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 20.22ms
___Train Local_ResNet_18,  epoch  89, local model 24, internal_epoch   1,  Average loss: 0.0041, Accuracy: 3983/4313 (92.3487%)
___Train Local_ResNet_18,  epoch  89, local model 24, internal_epoch   2,  Average loss: 0.0039, Accuracy: 3979/4313 (92.2560%)
___Test Local_ResNet_18 poisoned: False, epoch: 89: Average loss: 1.8854, Accuracy: 5710/10000 (57.1000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 20.43ms
___Train Local_ResNet_18,  epoch  89, local model 43, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4497/4979 (90.3193%)
___Train Local_ResNet_18,  epoch  89, local model 43, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4537/4979 (91.1227%)
___Test Local_ResNet_18 poisoned: False, epoch: 89: Average loss: 2.0254, Accuracy: 5432/10000 (54.3200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 19.32ms
___Train Local_ResNet_18,  epoch  89, local model 89, internal_epoch   1,  Average loss: 0.0056, Accuracy: 4297/4737 (90.7114%)
___Train Local_ResNet_18,  epoch  89, local model 89, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4358/4737 (91.9992%)
___Test Local_ResNet_18 poisoned: False, epoch: 89: Average loss: 2.1128, Accuracy: 5316/10000 (53.1600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 20.18ms
___Train Local_ResNet_18,  epoch  89, local model 46, internal_epoch   1,  Average loss: 0.0060, Accuracy: 4775/5399 (88.4423%)
___Train Local_ResNet_18,  epoch  89, local model 46, internal_epoch   2,  Average loss: 0.0065, Accuracy: 4672/5399 (86.5345%)
___Test Local_ResNet_18 poisoned: False, epoch: 89: Average loss: 2.0805, Accuracy: 5276/10000 (52.7600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 20.12ms
___Train Local_ResNet_18,  epoch  89, local model 60, internal_epoch   1,  Average loss: 0.0048, Accuracy: 3770/4145 (90.9530%)
___Train Local_ResNet_18,  epoch  89, local model 60, internal_epoch   2,  Average loss: 0.0041, Accuracy: 3825/4145 (92.2799%)
___Test Local_ResNet_18 poisoned: False, epoch: 89: Average loss: 1.9705, Accuracy: 5490/10000 (54.9000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 20.18ms
___Train Local_ResNet_18,  epoch  89, local model 90, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4424/4748 (93.1761%)
___Train Local_ResNet_18,  epoch  89, local model 90, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4373/4748 (92.1019%)
___Test Local_ResNet_18 poisoned: False, epoch: 89: Average loss: 2.1358, Accuracy: 5198/10000 (51.9800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.77ms
INFO:tornado.access:200 POST /update (::1) 21.16ms
___Train Local_ResNet_18,  epoch  89, local model 77, internal_epoch   1,  Average loss: 0.0058, Accuracy: 4479/5050 (88.6931%)
___Train Local_ResNet_18,  epoch  89, local model 77, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4527/5050 (89.6436%)
___Test Local_ResNet_18 poisoned: False, epoch: 89: Average loss: 2.1017, Accuracy: 5308/10000 (53.0800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 20.13ms
___Train Local_ResNet_18,  epoch  89, local model 95, internal_epoch   1,  Average loss: 0.0057, Accuracy: 4463/5018 (88.9398%)
___Train Local_ResNet_18,  epoch  89, local model 95, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4483/5018 (89.3384%)
___Test Local_ResNet_18 poisoned: False, epoch: 89: Average loss: 2.2218, Accuracy: 5156/10000 (51.5600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 20.70ms
___Train Local_ResNet_18,  epoch  89, local model 53, internal_epoch   1,  Average loss: 0.0063, Accuracy: 5878/6664 (88.2053%)
___Train Local_ResNet_18,  epoch  89, local model 53, internal_epoch   2,  Average loss: 0.0074, Accuracy: 5708/6664 (85.6543%)
___Test Local_ResNet_18 poisoned: False, epoch: 89: Average loss: 2.1057, Accuracy: 5225/10000 (52.2500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 20.15ms
___Train Local_ResNet_18,  epoch  89, local model 69, internal_epoch   1,  Average loss: 0.0044, Accuracy: 3990/4364 (91.4299%)
___Train Local_ResNet_18,  epoch  89, local model 69, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4075/4364 (93.3776%)
___Test Local_ResNet_18 poisoned: False, epoch: 89: Average loss: 1.7748, Accuracy: 5843/10000 (58.4300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 20.56ms
___Train Local_ResNet_18,  epoch  89, local model 14, internal_epoch   1,  Average loss: 0.0035, Accuracy: 3918/4196 (93.3746%)
___Train Local_ResNet_18,  epoch  89, local model 14, internal_epoch   2,  Average loss: 0.0033, Accuracy: 3928/4196 (93.6130%)
___Test Local_ResNet_18 poisoned: False, epoch: 89: Average loss: 1.7908, Accuracy: 5847/10000 (58.4700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 20.51ms
time spent on training: 243.3956277370453
___Test Target_ResNet_18 poisoned: False, epoch: 89: Average loss: 1.1605, Accuracy: 6898/10000 (68.9800%)
___Test Target_ResNet_18 poisoned: True, epoch: 89: Average loss: 0.7862, Accuracy: 8001/9900 (80.8182%)
Done in 269.83449387550354 sec.
Server Epoch:90 choose agents : [13, 36, 58, 71, 6, 84, 86, 33, 22, 12, 42, 56, 72, 93, 82, 28, 78, 39, 99, 16].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  90, local model 13, internal_epoch   1,  Average loss: 0.0028, Accuracy: 5056/5308 (95.2524%), train_poison_data_count: 415
Global model norm: 42.847724446397095.
Norm before scaling: 42.83218069541872. Distance: 1.5762208082504476
Total norm for 4 adversaries is: 42.83218069541872. distance: 1.5762208082504476
___Test Local_ResNet_18 poisoned: True, epoch: 90: Average loss: 0.0467, Accuracy: 9768/9900 (98.6667%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  90, local model 36, internal_epoch   1,  Average loss: 0.0026, Accuracy: 5535/5777 (95.8110%), train_poison_data_count: 455
Global model norm: 42.847724446397095.
Norm before scaling: 42.827096052032296. Distance: 1.5663006145217684
Total norm for 4 adversaries is: 42.827096052032296. distance: 1.5663006145217684
___Test Local_ResNet_18 poisoned: True, epoch: 90: Average loss: 0.0700, Accuracy: 9722/9900 (98.2020%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  90, local model 58, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4860/5123 (94.8663%), train_poison_data_count: 403
Global model norm: 42.847724446397095.
Norm before scaling: 42.83404168360867. Distance: 1.5669229088219887
Total norm for 4 adversaries is: 42.83404168360867. distance: 1.5669229088219887
___Test Local_ResNet_18 poisoned: True, epoch: 90: Average loss: 0.2708, Accuracy: 9209/9900 (93.0202%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  90, local model 71, internal_epoch   1,  Average loss: 0.0029, Accuracy: 5226/5503 (94.9664%), train_poison_data_count: 430
Global model norm: 42.847724446397095.
Norm before scaling: 42.83207097153881. Distance: 1.62018311442867
Total norm for 4 adversaries is: 42.83207097153881. distance: 1.62018311442867
___Test Local_ResNet_18 poisoned: True, epoch: 90: Average loss: 0.0969, Accuracy: 9632/9900 (97.2929%)
___Train Local_ResNet_18,  epoch  90, local model 6, internal_epoch   1,  Average loss: 0.0054, Accuracy: 4517/4929 (91.6413%)
___Train Local_ResNet_18,  epoch  90, local model 6, internal_epoch   2,  Average loss: 0.0057, Accuracy: 4452/4929 (90.3226%)
___Test Local_ResNet_18 poisoned: False, epoch: 90: Average loss: 2.2249, Accuracy: 5236/10000 (52.3600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 21.15ms
___Train Local_ResNet_18,  epoch  90, local model 84, internal_epoch   1,  Average loss: 0.0053, Accuracy: 4689/5209 (90.0173%)
___Train Local_ResNet_18,  epoch  90, local model 84, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4673/5209 (89.7101%)
___Test Local_ResNet_18 poisoned: False, epoch: 90: Average loss: 2.0350, Accuracy: 5425/10000 (54.2500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 20.03ms
___Train Local_ResNet_18,  epoch  90, local model 86, internal_epoch   1,  Average loss: 0.0050, Accuracy: 3532/3929 (89.8956%)
___Train Local_ResNet_18,  epoch  90, local model 86, internal_epoch   2,  Average loss: 0.0047, Accuracy: 3570/3929 (90.8628%)
___Test Local_ResNet_18 poisoned: False, epoch: 90: Average loss: 1.9066, Accuracy: 5697/10000 (56.9700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 20.11ms
___Train Local_ResNet_18,  epoch  90, local model 33, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4360/4818 (90.4940%)
___Train Local_ResNet_18,  epoch  90, local model 33, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4338/4818 (90.0374%)
___Test Local_ResNet_18 poisoned: False, epoch: 90: Average loss: 2.0134, Accuracy: 5492/10000 (54.9200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 21.00ms
___Train Local_ResNet_18,  epoch  90, local model 22, internal_epoch   1,  Average loss: 0.0042, Accuracy: 5247/5696 (92.1173%)
___Train Local_ResNet_18,  epoch  90, local model 22, internal_epoch   2,  Average loss: 0.0048, Accuracy: 5167/5696 (90.7128%)
___Test Local_ResNet_18 poisoned: False, epoch: 90: Average loss: 2.0878, Accuracy: 5299/10000 (52.9900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 20.33ms
___Train Local_ResNet_18,  epoch  90, local model 12, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4983/5526 (90.1737%)
___Train Local_ResNet_18,  epoch  90, local model 12, internal_epoch   2,  Average loss: 0.0061, Accuracy: 4877/5526 (88.2555%)
___Test Local_ResNet_18 poisoned: False, epoch: 90: Average loss: 2.1366, Accuracy: 5259/10000 (52.5900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 21.02ms
___Train Local_ResNet_18,  epoch  90, local model 42, internal_epoch   1,  Average loss: 0.0048, Accuracy: 5365/5907 (90.8244%)
___Train Local_ResNet_18,  epoch  90, local model 42, internal_epoch   2,  Average loss: 0.0043, Accuracy: 5403/5907 (91.4678%)
___Test Local_ResNet_18 poisoned: False, epoch: 90: Average loss: 2.2048, Accuracy: 5169/10000 (51.6900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 20.91ms
___Train Local_ResNet_18,  epoch  90, local model 56, internal_epoch   1,  Average loss: 0.0055, Accuracy: 4849/5427 (89.3495%)
___Train Local_ResNet_18,  epoch  90, local model 56, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4849/5427 (89.3495%)
___Test Local_ResNet_18 poisoned: False, epoch: 90: Average loss: 1.9678, Accuracy: 5618/10000 (56.1800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 20.08ms
___Train Local_ResNet_18,  epoch  90, local model 72, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4714/5193 (90.7760%)
___Train Local_ResNet_18,  epoch  90, local model 72, internal_epoch   2,  Average loss: 0.0060, Accuracy: 4597/5193 (88.5230%)
___Test Local_ResNet_18 poisoned: False, epoch: 90: Average loss: 2.2398, Accuracy: 5120/10000 (51.2000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 20.12ms
___Train Local_ResNet_18,  epoch  90, local model 93, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4550/5055 (90.0099%)
___Train Local_ResNet_18,  epoch  90, local model 93, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4575/5055 (90.5045%)
___Test Local_ResNet_18 poisoned: False, epoch: 90: Average loss: 2.0619, Accuracy: 5437/10000 (54.3700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 21.25ms
___Train Local_ResNet_18,  epoch  90, local model 82, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4904/5298 (92.5632%)
___Train Local_ResNet_18,  epoch  90, local model 82, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4903/5298 (92.5444%)
___Test Local_ResNet_18 poisoned: False, epoch: 90: Average loss: 1.9806, Accuracy: 5538/10000 (55.3800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 14.48ms
___Train Local_ResNet_18,  epoch  90, local model 28, internal_epoch   1,  Average loss: 0.0059, Accuracy: 4558/5122 (88.9887%)
___Train Local_ResNet_18,  epoch  90, local model 28, internal_epoch   2,  Average loss: 0.0097, Accuracy: 4216/5122 (82.3116%)
___Test Local_ResNet_18 poisoned: False, epoch: 90: Average loss: 2.4157, Accuracy: 4721/10000 (47.2100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 20.53ms
___Train Local_ResNet_18,  epoch  90, local model 78, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4058/4368 (92.9029%)
___Train Local_ResNet_18,  epoch  90, local model 78, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4065/4368 (93.0632%)
___Test Local_ResNet_18 poisoned: False, epoch: 90: Average loss: 1.9324, Accuracy: 5594/10000 (55.9400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 20.44ms
___Train Local_ResNet_18,  epoch  90, local model 39, internal_epoch   1,  Average loss: 0.0050, Accuracy: 3764/4175 (90.1557%)
___Train Local_ResNet_18,  epoch  90, local model 39, internal_epoch   2,  Average loss: 0.0046, Accuracy: 3793/4175 (90.8503%)
___Test Local_ResNet_18 poisoned: False, epoch: 90: Average loss: 2.0823, Accuracy: 5370/10000 (53.7000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.73ms
INFO:tornado.access:200 POST /update (::1) 16.70ms
___Train Local_ResNet_18,  epoch  90, local model 99, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4367/4851 (90.0227%)
___Train Local_ResNet_18,  epoch  90, local model 99, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4402/4851 (90.7442%)
___Test Local_ResNet_18 poisoned: False, epoch: 90: Average loss: 1.8709, Accuracy: 5714/10000 (57.1400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 21.04ms
___Train Local_ResNet_18,  epoch  90, local model 16, internal_epoch   1,  Average loss: 0.0050, Accuracy: 4878/5353 (91.1265%)
___Train Local_ResNet_18,  epoch  90, local model 16, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4832/5353 (90.2671%)
___Test Local_ResNet_18 poisoned: False, epoch: 90: Average loss: 1.9020, Accuracy: 5583/10000 (55.8300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 19.94ms
time spent on training: 248.70080399513245
___Test Target_ResNet_18 poisoned: False, epoch: 90: Average loss: 1.1682, Accuracy: 6872/10000 (68.7200%)
___Test Target_ResNet_18 poisoned: True, epoch: 90: Average loss: 0.6897, Accuracy: 8200/9900 (82.8283%)
Done in 275.58153891563416 sec.
Server Epoch:91 choose agents : [13, 36, 58, 71, 56, 54, 18, 92, 50, 11, 82, 27, 16, 4, 75, 29, 52, 67, 62, 47].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  91, local model 13, internal_epoch   1,  Average loss: 0.0029, Accuracy: 5065/5308 (95.4220%), train_poison_data_count: 415
Global model norm: 42.8709084919118.
Norm before scaling: 42.85533754451932. Distance: 1.557874011448575
Total norm for 4 adversaries is: 42.85533754451932. distance: 1.557874011448575
___Test Local_ResNet_18 poisoned: True, epoch: 91: Average loss: 0.0869, Accuracy: 9668/9900 (97.6566%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  91, local model 36, internal_epoch   1,  Average loss: 0.0025, Accuracy: 5547/5777 (96.0187%), train_poison_data_count: 455
Global model norm: 42.8709084919118.
Norm before scaling: 42.845912486454004. Distance: 1.5267821545348261
Total norm for 4 adversaries is: 42.845912486454004. distance: 1.5267821545348261
___Test Local_ResNet_18 poisoned: True, epoch: 91: Average loss: 0.0565, Accuracy: 9754/9900 (98.5253%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  91, local model 58, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4862/5123 (94.9053%), train_poison_data_count: 403
Global model norm: 42.8709084919118.
Norm before scaling: 42.85151193593188. Distance: 1.5176566752917529
Total norm for 4 adversaries is: 42.85151193593188. distance: 1.5176566752917529
___Test Local_ResNet_18 poisoned: True, epoch: 91: Average loss: 0.1573, Accuracy: 9501/9900 (95.9697%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  91, local model 71, internal_epoch   1,  Average loss: 0.0028, Accuracy: 5245/5503 (95.3116%), train_poison_data_count: 430
Global model norm: 42.8709084919118.
Norm before scaling: 42.85430355294334. Distance: 1.5917218336893875
Total norm for 4 adversaries is: 42.85430355294334. distance: 1.5917218336893875
___Test Local_ResNet_18 poisoned: True, epoch: 91: Average loss: 0.0675, Accuracy: 9705/9900 (98.0303%)
___Train Local_ResNet_18,  epoch  91, local model 56, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4862/5427 (89.5891%)
___Train Local_ResNet_18,  epoch  91, local model 56, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4864/5427 (89.6259%)
___Test Local_ResNet_18 poisoned: False, epoch: 91: Average loss: 2.0893, Accuracy: 5421/10000 (54.2100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 20.48ms
___Train Local_ResNet_18,  epoch  91, local model 54, internal_epoch   1,  Average loss: 0.0058, Accuracy: 4995/5645 (88.4854%)
___Train Local_ResNet_18,  epoch  91, local model 54, internal_epoch   2,  Average loss: 0.0063, Accuracy: 4932/5645 (87.3694%)
___Test Local_ResNet_18 poisoned: False, epoch: 91: Average loss: 2.0766, Accuracy: 5289/10000 (52.8900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 20.63ms
___Train Local_ResNet_18,  epoch  91, local model 18, internal_epoch   1,  Average loss: 0.0046, Accuracy: 3878/4249 (91.2685%)
___Train Local_ResNet_18,  epoch  91, local model 18, internal_epoch   2,  Average loss: 0.0046, Accuracy: 3889/4249 (91.5274%)
___Test Local_ResNet_18 poisoned: False, epoch: 91: Average loss: 1.9275, Accuracy: 5586/10000 (55.8600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 20.23ms
___Train Local_ResNet_18,  epoch  91, local model 92, internal_epoch   1,  Average loss: 0.0046, Accuracy: 6211/6812 (91.1773%)
___Train Local_ResNet_18,  epoch  91, local model 92, internal_epoch   2,  Average loss: 0.0048, Accuracy: 6155/6812 (90.3553%)
___Test Local_ResNet_18 poisoned: False, epoch: 91: Average loss: 1.9861, Accuracy: 5459/10000 (54.5900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 20.10ms
___Train Local_ResNet_18,  epoch  91, local model 50, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4350/4757 (91.4442%)
___Train Local_ResNet_18,  epoch  91, local model 50, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4268/4757 (89.7204%)
___Test Local_ResNet_18 poisoned: False, epoch: 91: Average loss: 2.0865, Accuracy: 5356/10000 (53.5600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 20.93ms
___Train Local_ResNet_18,  epoch  91, local model 11, internal_epoch   1,  Average loss: 0.0072, Accuracy: 4902/5702 (85.9698%)
___Train Local_ResNet_18,  epoch  91, local model 11, internal_epoch   2,  Average loss: 0.0078, Accuracy: 4825/5702 (84.6194%)
___Test Local_ResNet_18 poisoned: False, epoch: 91: Average loss: 2.1966, Accuracy: 5178/10000 (51.7800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 19.75ms
___Train Local_ResNet_18,  epoch  91, local model 82, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4921/5298 (92.8841%)
___Train Local_ResNet_18,  epoch  91, local model 82, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4938/5298 (93.2050%)
___Test Local_ResNet_18 poisoned: False, epoch: 91: Average loss: 1.9961, Accuracy: 5537/10000 (55.3700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 20.96ms
___Train Local_ResNet_18,  epoch  91, local model 27, internal_epoch   1,  Average loss: 0.0050, Accuracy: 4136/4587 (90.1679%)
___Train Local_ResNet_18,  epoch  91, local model 27, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4165/4587 (90.8001%)
___Test Local_ResNet_18 poisoned: False, epoch: 91: Average loss: 2.0009, Accuracy: 5467/10000 (54.6700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 20.35ms
___Train Local_ResNet_18,  epoch  91, local model 16, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4822/5353 (90.0803%)
___Train Local_ResNet_18,  epoch  91, local model 16, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4784/5353 (89.3704%)
___Test Local_ResNet_18 poisoned: False, epoch: 91: Average loss: 2.0925, Accuracy: 5340/10000 (53.4000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.78ms
INFO:tornado.access:200 POST /update (::1) 21.11ms
___Train Local_ResNet_18,  epoch  91, local model 4, internal_epoch   1,  Average loss: 0.0043, Accuracy: 3704/4028 (91.9563%)
___Train Local_ResNet_18,  epoch  91, local model 4, internal_epoch   2,  Average loss: 0.0039, Accuracy: 3716/4028 (92.2542%)
___Test Local_ResNet_18 poisoned: False, epoch: 91: Average loss: 1.7791, Accuracy: 5858/10000 (58.5800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 19.71ms
___Train Local_ResNet_18,  epoch  91, local model 75, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4281/4672 (91.6310%)
___Train Local_ResNet_18,  epoch  91, local model 75, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4308/4672 (92.2089%)
___Test Local_ResNet_18 poisoned: False, epoch: 91: Average loss: 1.9054, Accuracy: 5617/10000 (56.1700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 17.32ms
___Train Local_ResNet_18,  epoch  91, local model 29, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4402/4732 (93.0262%)
___Train Local_ResNet_18,  epoch  91, local model 29, internal_epoch   2,  Average loss: 0.0033, Accuracy: 4423/4732 (93.4700%)
___Test Local_ResNet_18 poisoned: False, epoch: 91: Average loss: 1.8971, Accuracy: 5615/10000 (56.1500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 20.21ms
___Train Local_ResNet_18,  epoch  91, local model 52, internal_epoch   1,  Average loss: 0.0045, Accuracy: 3799/4130 (91.9855%)
___Train Local_ResNet_18,  epoch  91, local model 52, internal_epoch   2,  Average loss: 0.0042, Accuracy: 3808/4130 (92.2034%)
___Test Local_ResNet_18 poisoned: False, epoch: 91: Average loss: 1.9740, Accuracy: 5531/10000 (55.3100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 20.47ms
___Train Local_ResNet_18,  epoch  91, local model 67, internal_epoch   1,  Average loss: 0.0058, Accuracy: 4957/5559 (89.1707%)
___Train Local_ResNet_18,  epoch  91, local model 67, internal_epoch   2,  Average loss: 0.0063, Accuracy: 4868/5559 (87.5697%)
___Test Local_ResNet_18 poisoned: False, epoch: 91: Average loss: 2.2809, Accuracy: 5002/10000 (50.0200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.59ms
INFO:tornado.access:200 POST /update (::1) 15.43ms
___Train Local_ResNet_18,  epoch  91, local model 62, internal_epoch   1,  Average loss: 0.0064, Accuracy: 4801/5504 (87.2275%)
___Train Local_ResNet_18,  epoch  91, local model 62, internal_epoch   2,  Average loss: 0.0063, Accuracy: 4820/5504 (87.5727%)
___Test Local_ResNet_18 poisoned: False, epoch: 91: Average loss: 2.1436, Accuracy: 5178/10000 (51.7800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.80ms
INFO:tornado.access:200 POST /update (::1) 20.79ms
___Train Local_ResNet_18,  epoch  91, local model 47, internal_epoch   1,  Average loss: 0.0057, Accuracy: 4570/5123 (89.2055%)
___Train Local_ResNet_18,  epoch  91, local model 47, internal_epoch   2,  Average loss: 0.0087, Accuracy: 4255/5123 (83.0568%)
___Test Local_ResNet_18 poisoned: False, epoch: 91: Average loss: 2.2181, Accuracy: 5134/10000 (51.3400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 20.66ms
time spent on training: 248.60868954658508
___Test Target_ResNet_18 poisoned: False, epoch: 91: Average loss: 1.1678, Accuracy: 6893/10000 (68.9300%)
___Test Target_ResNet_18 poisoned: True, epoch: 91: Average loss: 0.6423, Accuracy: 8303/9900 (83.8687%)
Done in 275.06636333465576 sec.
Server Epoch:92 choose agents : [13, 36, 58, 71, 74, 10, 82, 34, 43, 23, 33, 1, 44, 19, 63, 0, 28, 54, 70, 92].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  92, local model 13, internal_epoch   1,  Average loss: 0.0026, Accuracy: 5079/5308 (95.6858%), train_poison_data_count: 415
Global model norm: 42.89413123191359.
Norm before scaling: 42.87449036231364. Distance: 1.5065618674928343
Total norm for 4 adversaries is: 42.87449036231364. distance: 1.5065618674928343
___Test Local_ResNet_18 poisoned: True, epoch: 92: Average loss: 0.0331, Accuracy: 9813/9900 (99.1212%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  92, local model 36, internal_epoch   1,  Average loss: 0.0023, Accuracy: 5569/5777 (96.3995%), train_poison_data_count: 455
Global model norm: 42.89413123191359.
Norm before scaling: 42.86926124358003. Distance: 1.474362950229281
Total norm for 4 adversaries is: 42.86926124358003. distance: 1.474362950229281
___Test Local_ResNet_18 poisoned: True, epoch: 92: Average loss: 0.2294, Accuracy: 9378/9900 (94.7273%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  92, local model 58, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4856/5123 (94.7882%), train_poison_data_count: 403
Global model norm: 42.89413123191359.
Norm before scaling: 42.878748070959496. Distance: 1.5628171980279408
Total norm for 4 adversaries is: 42.878748070959496. distance: 1.5628171980279408
___Test Local_ResNet_18 poisoned: True, epoch: 92: Average loss: 0.1422, Accuracy: 9511/9900 (96.0707%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  92, local model 71, internal_epoch   1,  Average loss: 0.0028, Accuracy: 5240/5503 (95.2208%), train_poison_data_count: 430
Global model norm: 42.89413123191359.
Norm before scaling: 42.87669685053292. Distance: 1.5874486779755428
Total norm for 4 adversaries is: 42.87669685053292. distance: 1.5874486779755428
___Test Local_ResNet_18 poisoned: True, epoch: 92: Average loss: 0.2531, Accuracy: 9263/9900 (93.5657%)
___Train Local_ResNet_18,  epoch  92, local model 74, internal_epoch   1,  Average loss: 0.0053, Accuracy: 4261/4797 (88.8263%)
___Train Local_ResNet_18,  epoch  92, local model 74, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4270/4797 (89.0140%)
___Test Local_ResNet_18 poisoned: False, epoch: 92: Average loss: 1.9897, Accuracy: 5394/10000 (53.9400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 20.38ms
___Train Local_ResNet_18,  epoch  92, local model 10, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4676/5068 (92.2652%)
___Train Local_ResNet_18,  epoch  92, local model 10, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4632/5068 (91.3970%)
___Test Local_ResNet_18 poisoned: False, epoch: 92: Average loss: 1.9734, Accuracy: 5455/10000 (54.5500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 20.74ms
___Train Local_ResNet_18,  epoch  92, local model 82, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4936/5298 (93.1672%)
___Train Local_ResNet_18,  epoch  92, local model 82, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4899/5298 (92.4689%)
___Test Local_ResNet_18 poisoned: False, epoch: 92: Average loss: 2.0709, Accuracy: 5392/10000 (53.9200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 20.76ms
___Train Local_ResNet_18,  epoch  92, local model 34, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4491/4911 (91.4478%)
___Train Local_ResNet_18,  epoch  92, local model 34, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4535/4911 (92.3437%)
___Test Local_ResNet_18 poisoned: False, epoch: 92: Average loss: 1.9969, Accuracy: 5454/10000 (54.5400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 20.83ms
___Train Local_ResNet_18,  epoch  92, local model 43, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4500/4979 (90.3796%)
___Train Local_ResNet_18,  epoch  92, local model 43, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4571/4979 (91.8056%)
___Test Local_ResNet_18 poisoned: False, epoch: 92: Average loss: 1.9968, Accuracy: 5481/10000 (54.8100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.76ms
INFO:tornado.access:200 POST /update (::1) 20.58ms
___Train Local_ResNet_18,  epoch  92, local model 23, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4265/4549 (93.7569%)
___Train Local_ResNet_18,  epoch  92, local model 23, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4123/4549 (90.6353%)
___Test Local_ResNet_18 poisoned: False, epoch: 92: Average loss: 1.7996, Accuracy: 5792/10000 (57.9200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 20.77ms
___Train Local_ResNet_18,  epoch  92, local model 33, internal_epoch   1,  Average loss: 0.0050, Accuracy: 4388/4818 (91.0751%)
___Train Local_ResNet_18,  epoch  92, local model 33, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4318/4818 (89.6222%)
___Test Local_ResNet_18 poisoned: False, epoch: 92: Average loss: 2.1598, Accuracy: 5202/10000 (52.0200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 20.49ms
___Train Local_ResNet_18,  epoch  92, local model 1, internal_epoch   1,  Average loss: 0.0035, Accuracy: 5068/5422 (93.4710%)
___Train Local_ResNet_18,  epoch  92, local model 1, internal_epoch   2,  Average loss: 0.0034, Accuracy: 5080/5422 (93.6924%)
___Test Local_ResNet_18 poisoned: False, epoch: 92: Average loss: 1.8425, Accuracy: 5738/10000 (57.3800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 20.98ms
___Train Local_ResNet_18,  epoch  92, local model 44, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4667/5075 (91.9606%)
___Train Local_ResNet_18,  epoch  92, local model 44, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4651/5075 (91.6453%)
___Test Local_ResNet_18 poisoned: False, epoch: 92: Average loss: 2.0499, Accuracy: 5474/10000 (54.7400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 21.03ms
___Train Local_ResNet_18,  epoch  92, local model 19, internal_epoch   1,  Average loss: 0.0053, Accuracy: 4814/5361 (89.7967%)
___Train Local_ResNet_18,  epoch  92, local model 19, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4787/5361 (89.2930%)
___Test Local_ResNet_18 poisoned: False, epoch: 92: Average loss: 2.0046, Accuracy: 5409/10000 (54.0900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.69ms
INFO:tornado.access:200 POST /win_exists (::1) 0.62ms
INFO:tornado.access:200 POST /update (::1) 16.22ms
___Train Local_ResNet_18,  epoch  92, local model 63, internal_epoch   1,  Average loss: 0.0047, Accuracy: 3565/3910 (91.1765%)
___Train Local_ResNet_18,  epoch  92, local model 63, internal_epoch   2,  Average loss: 0.0050, Accuracy: 3531/3910 (90.3069%)
___Test Local_ResNet_18 poisoned: False, epoch: 92: Average loss: 2.0836, Accuracy: 5551/10000 (55.5100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 20.67ms
___Train Local_ResNet_18,  epoch  92, local model 0, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4934/5454 (90.4657%)
___Train Local_ResNet_18,  epoch  92, local model 0, internal_epoch   2,  Average loss: 0.0059, Accuracy: 4872/5454 (89.3289%)
___Test Local_ResNet_18 poisoned: False, epoch: 92: Average loss: 1.9730, Accuracy: 5480/10000 (54.8000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 21.66ms
___Train Local_ResNet_18,  epoch  92, local model 28, internal_epoch   1,  Average loss: 0.0058, Accuracy: 4573/5122 (89.2815%)
___Train Local_ResNet_18,  epoch  92, local model 28, internal_epoch   2,  Average loss: 0.0083, Accuracy: 4329/5122 (84.5178%)
___Test Local_ResNet_18 poisoned: False, epoch: 92: Average loss: 2.3323, Accuracy: 4884/10000 (48.8400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 21.25ms
___Train Local_ResNet_18,  epoch  92, local model 54, internal_epoch   1,  Average loss: 0.0061, Accuracy: 4989/5645 (88.3791%)
___Train Local_ResNet_18,  epoch  92, local model 54, internal_epoch   2,  Average loss: 0.0062, Accuracy: 4960/5645 (87.8654%)
___Test Local_ResNet_18 poisoned: False, epoch: 92: Average loss: 2.1503, Accuracy: 5167/10000 (51.6700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 20.73ms
___Train Local_ResNet_18,  epoch  92, local model 70, internal_epoch   1,  Average loss: 0.0041, Accuracy: 5419/5871 (92.3011%)
___Train Local_ResNet_18,  epoch  92, local model 70, internal_epoch   2,  Average loss: 0.0045, Accuracy: 5367/5871 (91.4154%)
___Test Local_ResNet_18 poisoned: False, epoch: 92: Average loss: 2.0684, Accuracy: 5390/10000 (53.9000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 21.08ms
___Train Local_ResNet_18,  epoch  92, local model 92, internal_epoch   1,  Average loss: 0.0041, Accuracy: 6293/6812 (92.3811%)
___Train Local_ResNet_18,  epoch  92, local model 92, internal_epoch   2,  Average loss: 0.0045, Accuracy: 6213/6812 (91.2067%)
___Test Local_ResNet_18 poisoned: False, epoch: 92: Average loss: 2.1889, Accuracy: 5286/10000 (52.8600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 20.49ms
time spent on training: 248.589848279953
___Test Target_ResNet_18 poisoned: False, epoch: 92: Average loss: 1.1663, Accuracy: 6893/10000 (68.9300%)
___Test Target_ResNet_18 poisoned: True, epoch: 92: Average loss: 0.6136, Accuracy: 8383/9900 (84.6768%)
Done in 275.1048743724823 sec.
Server Epoch:93 choose agents : [13, 36, 58, 71, 92, 14, 45, 16, 59, 87, 19, 95, 47, 66, 6, 7, 82, 69, 79, 4].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  93, local model 13, internal_epoch   1,  Average loss: 0.0026, Accuracy: 5074/5308 (95.5916%), train_poison_data_count: 415
Global model norm: 42.91706835117439.
Norm before scaling: 42.9001412484927. Distance: 1.5411379998839427
Total norm for 4 adversaries is: 42.9001412484927. distance: 1.5411379998839427
___Test Local_ResNet_18 poisoned: True, epoch: 93: Average loss: 0.0731, Accuracy: 9714/9900 (98.1212%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  93, local model 36, internal_epoch   1,  Average loss: 0.0025, Accuracy: 5532/5777 (95.7590%), train_poison_data_count: 455
Global model norm: 42.91706835117439.
Norm before scaling: 42.8927566637859. Distance: 1.5278286761658193
Total norm for 4 adversaries is: 42.8927566637859. distance: 1.5278286761658193
___Test Local_ResNet_18 poisoned: True, epoch: 93: Average loss: 0.1132, Accuracy: 9600/9900 (96.9697%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  93, local model 58, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4860/5123 (94.8663%), train_poison_data_count: 403
Global model norm: 42.91706835117439.
Norm before scaling: 42.89987519786261. Distance: 1.553084040203378
Total norm for 4 adversaries is: 42.89987519786261. distance: 1.553084040203378
___Test Local_ResNet_18 poisoned: True, epoch: 93: Average loss: 0.1430, Accuracy: 9535/9900 (96.3131%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  93, local model 71, internal_epoch   1,  Average loss: 0.0028, Accuracy: 5250/5503 (95.4025%), train_poison_data_count: 430
Global model norm: 42.91706835117439.
Norm before scaling: 42.900135557587404. Distance: 1.5495816835314482
Total norm for 4 adversaries is: 42.900135557587404. distance: 1.5495816835314482
___Test Local_ResNet_18 poisoned: True, epoch: 93: Average loss: 0.0872, Accuracy: 9667/9900 (97.6465%)
___Train Local_ResNet_18,  epoch  93, local model 92, internal_epoch   1,  Average loss: 0.0040, Accuracy: 6274/6812 (92.1022%)
___Train Local_ResNet_18,  epoch  93, local model 92, internal_epoch   2,  Average loss: 0.0043, Accuracy: 6257/6812 (91.8526%)
___Test Local_ResNet_18 poisoned: False, epoch: 93: Average loss: 2.3152, Accuracy: 5131/10000 (51.3100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 20.54ms
___Train Local_ResNet_18,  epoch  93, local model 14, internal_epoch   1,  Average loss: 0.0032, Accuracy: 3961/4196 (94.3994%)
___Train Local_ResNet_18,  epoch  93, local model 14, internal_epoch   2,  Average loss: 0.0028, Accuracy: 3997/4196 (95.2574%)
___Test Local_ResNet_18 poisoned: False, epoch: 93: Average loss: 1.8747, Accuracy: 5722/10000 (57.2200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 14.77ms
___Train Local_ResNet_18,  epoch  93, local model 45, internal_epoch   1,  Average loss: 0.0055, Accuracy: 4881/5489 (88.9233%)
___Train Local_ResNet_18,  epoch  93, local model 45, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4941/5489 (90.0164%)
___Test Local_ResNet_18 poisoned: False, epoch: 93: Average loss: 2.0411, Accuracy: 5335/10000 (53.3500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 19.88ms
___Train Local_ResNet_18,  epoch  93, local model 16, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4869/5353 (90.9583%)
___Train Local_ResNet_18,  epoch  93, local model 16, internal_epoch   2,  Average loss: 0.0056, Accuracy: 4777/5353 (89.2397%)
___Test Local_ResNet_18 poisoned: False, epoch: 93: Average loss: 2.0377, Accuracy: 5300/10000 (53.0000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 21.21ms
___Train Local_ResNet_18,  epoch  93, local model 59, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4140/4397 (94.1551%)
___Train Local_ResNet_18,  epoch  93, local model 59, internal_epoch   2,  Average loss: 0.0024, Accuracy: 4203/4397 (95.5879%)
___Test Local_ResNet_18 poisoned: False, epoch: 93: Average loss: 1.8267, Accuracy: 5776/10000 (57.7600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 20.87ms
___Train Local_ResNet_18,  epoch  93, local model 87, internal_epoch   1,  Average loss: 0.0056, Accuracy: 3549/3995 (88.8360%)
___Train Local_ResNet_18,  epoch  93, local model 87, internal_epoch   2,  Average loss: 0.0053, Accuracy: 3554/3995 (88.9612%)
___Test Local_ResNet_18 poisoned: False, epoch: 93: Average loss: 2.0323, Accuracy: 5334/10000 (53.3400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 19.97ms
___Train Local_ResNet_18,  epoch  93, local model 19, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4860/5361 (90.6547%)
___Train Local_ResNet_18,  epoch  93, local model 19, internal_epoch   2,  Average loss: 0.0058, Accuracy: 4724/5361 (88.1179%)
___Test Local_ResNet_18 poisoned: False, epoch: 93: Average loss: 2.0413, Accuracy: 5411/10000 (54.1100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 21.57ms
___Train Local_ResNet_18,  epoch  93, local model 95, internal_epoch   1,  Average loss: 0.0053, Accuracy: 4526/5018 (90.1953%)
___Train Local_ResNet_18,  epoch  93, local model 95, internal_epoch   2,  Average loss: 0.0057, Accuracy: 4447/5018 (88.6210%)
___Test Local_ResNet_18 poisoned: False, epoch: 93: Average loss: 2.0895, Accuracy: 5304/10000 (53.0400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.75ms
INFO:tornado.access:200 POST /win_exists (::1) 0.68ms
INFO:tornado.access:200 POST /update (::1) 16.96ms
___Train Local_ResNet_18,  epoch  93, local model 47, internal_epoch   1,  Average loss: 0.0057, Accuracy: 4582/5123 (89.4398%)
___Train Local_ResNet_18,  epoch  93, local model 47, internal_epoch   2,  Average loss: 0.0088, Accuracy: 4314/5123 (84.2085%)
___Test Local_ResNet_18 poisoned: False, epoch: 93: Average loss: 2.3049, Accuracy: 4962/10000 (49.6200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 21.24ms
___Train Local_ResNet_18,  epoch  93, local model 66, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4409/4843 (91.0386%)
___Train Local_ResNet_18,  epoch  93, local model 66, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4447/4843 (91.8233%)
___Test Local_ResNet_18 poisoned: False, epoch: 93: Average loss: 2.0009, Accuracy: 5570/10000 (55.7000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 21.15ms
___Train Local_ResNet_18,  epoch  93, local model 6, internal_epoch   1,  Average loss: 0.0050, Accuracy: 4554/4929 (92.3920%)
___Train Local_ResNet_18,  epoch  93, local model 6, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4502/4929 (91.3370%)
___Test Local_ResNet_18 poisoned: False, epoch: 93: Average loss: 2.1139, Accuracy: 5487/10000 (54.8700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 21.47ms
___Train Local_ResNet_18,  epoch  93, local model 7, internal_epoch   1,  Average loss: 0.0053, Accuracy: 4400/4869 (90.3676%)
___Train Local_ResNet_18,  epoch  93, local model 7, internal_epoch   2,  Average loss: 0.0095, Accuracy: 4046/4869 (83.0971%)
___Test Local_ResNet_18 poisoned: False, epoch: 93: Average loss: 2.3321, Accuracy: 4838/10000 (48.3800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 21.25ms
___Train Local_ResNet_18,  epoch  93, local model 82, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4891/5298 (92.3179%)
___Train Local_ResNet_18,  epoch  93, local model 82, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4896/5298 (92.4122%)
___Test Local_ResNet_18 poisoned: False, epoch: 93: Average loss: 1.9979, Accuracy: 5391/10000 (53.9100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 20.60ms
___Train Local_ResNet_18,  epoch  93, local model 69, internal_epoch   1,  Average loss: 0.0047, Accuracy: 3996/4364 (91.5674%)
___Train Local_ResNet_18,  epoch  93, local model 69, internal_epoch   2,  Average loss: 0.0057, Accuracy: 3888/4364 (89.0926%)
___Test Local_ResNet_18 poisoned: False, epoch: 93: Average loss: 2.0485, Accuracy: 5406/10000 (54.0600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 21.46ms
___Train Local_ResNet_18,  epoch  93, local model 79, internal_epoch   1,  Average loss: 0.0044, Accuracy: 3758/4111 (91.4133%)
___Train Local_ResNet_18,  epoch  93, local model 79, internal_epoch   2,  Average loss: 0.0048, Accuracy: 3723/4111 (90.5619%)
___Test Local_ResNet_18 poisoned: False, epoch: 93: Average loss: 2.0071, Accuracy: 5406/10000 (54.0600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 20.74ms
___Train Local_ResNet_18,  epoch  93, local model 4, internal_epoch   1,  Average loss: 0.0047, Accuracy: 3648/4028 (90.5660%)
___Train Local_ResNet_18,  epoch  93, local model 4, internal_epoch   2,  Average loss: 0.0041, Accuracy: 3711/4028 (92.1301%)
___Test Local_ResNet_18 poisoned: False, epoch: 93: Average loss: 1.9260, Accuracy: 5660/10000 (56.6000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 21.19ms
time spent on training: 245.10303378105164
___Test Target_ResNet_18 poisoned: False, epoch: 93: Average loss: 1.1711, Accuracy: 6886/10000 (68.8600%)
___Test Target_ResNet_18 poisoned: True, epoch: 93: Average loss: 0.5332, Accuracy: 8588/9900 (86.7475%)
Done in 272.1097390651703 sec.
Server Epoch:94 choose agents : [13, 36, 58, 71, 14, 82, 18, 47, 52, 43, 16, 75, 27, 28, 33, 5, 17, 67, 48, 22].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  94, local model 13, internal_epoch   1,  Average loss: 0.0026, Accuracy: 5094/5308 (95.9683%), train_poison_data_count: 415
Global model norm: 42.9389498936426.
Norm before scaling: 42.91899107530226. Distance: 1.491531947070964
Total norm for 4 adversaries is: 42.91899107530226. distance: 1.491531947070964
___Test Local_ResNet_18 poisoned: True, epoch: 94: Average loss: 0.0684, Accuracy: 9724/9900 (98.2222%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  94, local model 36, internal_epoch   1,  Average loss: 0.0023, Accuracy: 5573/5777 (96.4688%), train_poison_data_count: 455
Global model norm: 42.9389498936426.
Norm before scaling: 42.91069657858487. Distance: 1.4444398462189738
Total norm for 4 adversaries is: 42.91069657858487. distance: 1.4444398462189738
___Test Local_ResNet_18 poisoned: True, epoch: 94: Average loss: 0.1626, Accuracy: 9487/9900 (95.8283%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  94, local model 58, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4863/5123 (94.9248%), train_poison_data_count: 403
Global model norm: 42.9389498936426.
Norm before scaling: 42.92052549525766. Distance: 1.545724228798511
Total norm for 4 adversaries is: 42.92052549525766. distance: 1.545724228798511
___Test Local_ResNet_18 poisoned: True, epoch: 94: Average loss: 0.1491, Accuracy: 9523/9900 (96.1919%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  94, local model 71, internal_epoch   1,  Average loss: 0.0028, Accuracy: 5265/5503 (95.6751%), train_poison_data_count: 430
Global model norm: 42.9389498936426.
Norm before scaling: 42.92159770796851. Distance: 1.572565540591414
Total norm for 4 adversaries is: 42.92159770796851. distance: 1.572565540591414
___Test Local_ResNet_18 poisoned: True, epoch: 94: Average loss: 0.0886, Accuracy: 9659/9900 (97.5657%)
___Train Local_ResNet_18,  epoch  94, local model 14, internal_epoch   1,  Average loss: 0.0032, Accuracy: 3960/4196 (94.3756%)
___Train Local_ResNet_18,  epoch  94, local model 14, internal_epoch   2,  Average loss: 0.0029, Accuracy: 3979/4196 (94.8284%)
___Test Local_ResNet_18 poisoned: False, epoch: 94: Average loss: 1.7974, Accuracy: 5830/10000 (58.3000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 20.99ms
___Train Local_ResNet_18,  epoch  94, local model 82, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4895/5298 (92.3934%)
___Train Local_ResNet_18,  epoch  94, local model 82, internal_epoch   2,  Average loss: 0.0033, Accuracy: 4951/5298 (93.4504%)
___Test Local_ResNet_18 poisoned: False, epoch: 94: Average loss: 2.0682, Accuracy: 5454/10000 (54.5400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.82ms
INFO:tornado.access:200 POST /update (::1) 21.12ms
___Train Local_ResNet_18,  epoch  94, local model 18, internal_epoch   1,  Average loss: 0.0049, Accuracy: 3854/4249 (90.7037%)
___Train Local_ResNet_18,  epoch  94, local model 18, internal_epoch   2,  Average loss: 0.0047, Accuracy: 3860/4249 (90.8449%)
___Test Local_ResNet_18 poisoned: False, epoch: 94: Average loss: 1.9588, Accuracy: 5569/10000 (55.6900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.82ms
INFO:tornado.access:200 POST /update (::1) 19.79ms
___Train Local_ResNet_18,  epoch  94, local model 47, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4624/5123 (90.2596%)
___Train Local_ResNet_18,  epoch  94, local model 47, internal_epoch   2,  Average loss: 0.0057, Accuracy: 4604/5123 (89.8692%)
___Test Local_ResNet_18 poisoned: False, epoch: 94: Average loss: 2.0794, Accuracy: 5364/10000 (53.6400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 20.98ms
___Train Local_ResNet_18,  epoch  94, local model 52, internal_epoch   1,  Average loss: 0.0043, Accuracy: 3811/4130 (92.2760%)
___Train Local_ResNet_18,  epoch  94, local model 52, internal_epoch   2,  Average loss: 0.0038, Accuracy: 3855/4130 (93.3414%)
___Test Local_ResNet_18 poisoned: False, epoch: 94: Average loss: 1.9173, Accuracy: 5644/10000 (56.4400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.79ms
INFO:tornado.access:200 POST /win_exists (::1) 0.69ms
INFO:tornado.access:200 POST /update (::1) 17.40ms
___Train Local_ResNet_18,  epoch  94, local model 43, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4526/4979 (90.9018%)
___Train Local_ResNet_18,  epoch  94, local model 43, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4488/4979 (90.1386%)
___Test Local_ResNet_18 poisoned: False, epoch: 94: Average loss: 1.9851, Accuracy: 5416/10000 (54.1600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 21.02ms
___Train Local_ResNet_18,  epoch  94, local model 16, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4867/5353 (90.9210%)
___Train Local_ResNet_18,  epoch  94, local model 16, internal_epoch   2,  Average loss: 0.0056, Accuracy: 4790/5353 (89.4825%)
___Test Local_ResNet_18 poisoned: False, epoch: 94: Average loss: 2.0653, Accuracy: 5344/10000 (53.4400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.82ms
INFO:tornado.access:200 POST /update (::1) 21.10ms
___Train Local_ResNet_18,  epoch  94, local model 75, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4302/4672 (92.0805%)
___Train Local_ResNet_18,  epoch  94, local model 75, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4362/4672 (93.3647%)
___Test Local_ResNet_18 poisoned: False, epoch: 94: Average loss: 1.8647, Accuracy: 5770/10000 (57.7000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 20.77ms
___Train Local_ResNet_18,  epoch  94, local model 27, internal_epoch   1,  Average loss: 0.0053, Accuracy: 4135/4587 (90.1461%)
___Train Local_ResNet_18,  epoch  94, local model 27, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4186/4587 (91.2579%)
___Test Local_ResNet_18 poisoned: False, epoch: 94: Average loss: 2.1784, Accuracy: 5285/10000 (52.8500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 20.40ms
___Train Local_ResNet_18,  epoch  94, local model 28, internal_epoch   1,  Average loss: 0.0058, Accuracy: 4564/5122 (89.1058%)
___Train Local_ResNet_18,  epoch  94, local model 28, internal_epoch   2,  Average loss: 0.0086, Accuracy: 4289/5122 (83.7368%)
___Test Local_ResNet_18 poisoned: False, epoch: 94: Average loss: 2.3151, Accuracy: 4955/10000 (49.5500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 20.70ms
___Train Local_ResNet_18,  epoch  94, local model 33, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4352/4818 (90.3279%)
___Train Local_ResNet_18,  epoch  94, local model 33, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4362/4818 (90.5355%)
___Test Local_ResNet_18 poisoned: False, epoch: 94: Average loss: 2.2323, Accuracy: 5227/10000 (52.2700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /win_exists (::1) 0.82ms
INFO:tornado.access:200 POST /update (::1) 20.54ms
___Train Local_ResNet_18,  epoch  94, local model 5, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4682/4993 (93.7713%)
___Train Local_ResNet_18,  epoch  94, local model 5, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4629/4993 (92.7098%)
___Test Local_ResNet_18 poisoned: False, epoch: 94: Average loss: 2.0192, Accuracy: 5608/10000 (56.0800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 20.91ms
___Train Local_ResNet_18,  epoch  94, local model 17, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4424/4903 (90.2305%)
___Train Local_ResNet_18,  epoch  94, local model 17, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4427/4903 (90.2917%)
___Test Local_ResNet_18 poisoned: False, epoch: 94: Average loss: 2.1339, Accuracy: 5380/10000 (53.8000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.76ms
INFO:tornado.access:200 POST /update (::1) 21.20ms
___Train Local_ResNet_18,  epoch  94, local model 67, internal_epoch   1,  Average loss: 0.0055, Accuracy: 4950/5559 (89.0448%)
___Train Local_ResNet_18,  epoch  94, local model 67, internal_epoch   2,  Average loss: 0.0056, Accuracy: 4958/5559 (89.1887%)
___Test Local_ResNet_18 poisoned: False, epoch: 94: Average loss: 2.1385, Accuracy: 5214/10000 (52.1400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.76ms
INFO:tornado.access:200 POST /update (::1) 20.21ms
___Train Local_ResNet_18,  epoch  94, local model 48, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4501/4830 (93.1884%)
___Train Local_ResNet_18,  epoch  94, local model 48, internal_epoch   2,  Average loss: 0.0031, Accuracy: 4548/4830 (94.1615%)
___Test Local_ResNet_18 poisoned: False, epoch: 94: Average loss: 1.9818, Accuracy: 5577/10000 (55.7700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 20.07ms
___Train Local_ResNet_18,  epoch  94, local model 22, internal_epoch   1,  Average loss: 0.0046, Accuracy: 5190/5696 (91.1166%)
___Train Local_ResNet_18,  epoch  94, local model 22, internal_epoch   2,  Average loss: 0.0047, Accuracy: 5151/5696 (90.4319%)
___Test Local_ResNet_18 poisoned: False, epoch: 94: Average loss: 2.1583, Accuracy: 5136/10000 (51.3600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 21.63ms
time spent on training: 245.8981213569641
___Test Target_ResNet_18 poisoned: False, epoch: 94: Average loss: 1.1692, Accuracy: 6875/10000 (68.7500%)
___Test Target_ResNet_18 poisoned: True, epoch: 94: Average loss: 0.5051, Accuracy: 8643/9900 (87.3030%)
Done in 272.5557208061218 sec.
Server Epoch:95 choose agents : [13, 36, 58, 71, 14, 47, 73, 97, 20, 45, 34, 76, 40, 35, 85, 62, 90, 54, 32, 68].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  95, local model 13, internal_epoch   1,  Average loss: 0.0027, Accuracy: 5070/5308 (95.5162%), train_poison_data_count: 415
Global model norm: 42.960172439314356.
Norm before scaling: 42.94057030507396. Distance: 1.5227932863923668
Total norm for 4 adversaries is: 42.94057030507396. distance: 1.5227932863923668
___Test Local_ResNet_18 poisoned: True, epoch: 95: Average loss: 0.0273, Accuracy: 9822/9900 (99.2121%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  95, local model 36, internal_epoch   1,  Average loss: 0.0024, Accuracy: 5564/5777 (96.3130%), train_poison_data_count: 455
Global model norm: 42.960172439314356.
Norm before scaling: 42.9325742603118. Distance: 1.4874018276099246
Total norm for 4 adversaries is: 42.9325742603118. distance: 1.4874018276099246
___Test Local_ResNet_18 poisoned: True, epoch: 95: Average loss: 0.1938, Accuracy: 9461/9900 (95.5657%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  95, local model 58, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4834/5123 (94.3588%), train_poison_data_count: 403
Global model norm: 42.960172439314356.
Norm before scaling: 42.94686516544674. Distance: 1.6068720937648444
Total norm for 4 adversaries is: 42.94686516544674. distance: 1.6068720937648444
___Test Local_ResNet_18 poisoned: True, epoch: 95: Average loss: 0.1922, Accuracy: 9404/9900 (94.9899%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  95, local model 71, internal_epoch   1,  Average loss: 0.0025, Accuracy: 5286/5503 (96.0567%), train_poison_data_count: 430
Global model norm: 42.960172439314356.
Norm before scaling: 42.93934363081616. Distance: 1.4746260282068757
Total norm for 4 adversaries is: 42.93934363081616. distance: 1.4746260282068757
___Test Local_ResNet_18 poisoned: True, epoch: 95: Average loss: 0.1543, Accuracy: 9492/9900 (95.8788%)
___Train Local_ResNet_18,  epoch  95, local model 14, internal_epoch   1,  Average loss: 0.0031, Accuracy: 3966/4196 (94.5186%)
___Train Local_ResNet_18,  epoch  95, local model 14, internal_epoch   2,  Average loss: 0.0033, Accuracy: 3939/4196 (93.8751%)
___Test Local_ResNet_18 poisoned: False, epoch: 95: Average loss: 1.9010, Accuracy: 5732/10000 (57.3200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 20.94ms
___Train Local_ResNet_18,  epoch  95, local model 47, internal_epoch   1,  Average loss: 0.0055, Accuracy: 4620/5123 (90.1815%)
___Train Local_ResNet_18,  epoch  95, local model 47, internal_epoch   2,  Average loss: 0.0101, Accuracy: 4147/5123 (80.9487%)
___Test Local_ResNet_18 poisoned: False, epoch: 95: Average loss: 2.2993, Accuracy: 4895/10000 (48.9500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 21.00ms
___Train Local_ResNet_18,  epoch  95, local model 73, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4265/4605 (92.6167%)
___Train Local_ResNet_18,  epoch  95, local model 73, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4273/4605 (92.7904%)
___Test Local_ResNet_18 poisoned: False, epoch: 95: Average loss: 1.9298, Accuracy: 5652/10000 (56.5200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 20.75ms
___Train Local_ResNet_18,  epoch  95, local model 97, internal_epoch   1,  Average loss: 0.0054, Accuracy: 4229/4736 (89.2948%)
___Train Local_ResNet_18,  epoch  95, local model 97, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4240/4736 (89.5270%)
___Test Local_ResNet_18 poisoned: False, epoch: 95: Average loss: 2.0815, Accuracy: 5318/10000 (53.1800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 20.34ms
___Train Local_ResNet_18,  epoch  95, local model 20, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4352/4714 (92.3207%)
___Train Local_ResNet_18,  epoch  95, local model 20, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4379/4714 (92.8935%)
___Test Local_ResNet_18 poisoned: False, epoch: 95: Average loss: 1.9783, Accuracy: 5475/10000 (54.7500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 21.16ms
___Train Local_ResNet_18,  epoch  95, local model 45, internal_epoch   1,  Average loss: 0.0053, Accuracy: 4918/5489 (89.5974%)
___Train Local_ResNet_18,  epoch  95, local model 45, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4921/5489 (89.6520%)
___Test Local_ResNet_18 poisoned: False, epoch: 95: Average loss: 2.1633, Accuracy: 5117/10000 (51.1700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 20.83ms
___Train Local_ResNet_18,  epoch  95, local model 34, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4482/4911 (91.2645%)
___Train Local_ResNet_18,  epoch  95, local model 34, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4520/4911 (92.0383%)
___Test Local_ResNet_18 poisoned: False, epoch: 95: Average loss: 2.1594, Accuracy: 5136/10000 (51.3600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 20.86ms
___Train Local_ResNet_18,  epoch  95, local model 76, internal_epoch   1,  Average loss: 0.0054, Accuracy: 3520/3959 (88.9113%)
___Train Local_ResNet_18,  epoch  95, local model 76, internal_epoch   2,  Average loss: 0.0043, Accuracy: 3626/3959 (91.5888%)
___Test Local_ResNet_18 poisoned: False, epoch: 95: Average loss: 2.1675, Accuracy: 5210/10000 (52.1000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 17.13ms
___Train Local_ResNet_18,  epoch  95, local model 40, internal_epoch   1,  Average loss: 0.0043, Accuracy: 5451/5939 (91.7831%)
___Train Local_ResNet_18,  epoch  95, local model 40, internal_epoch   2,  Average loss: 0.0039, Accuracy: 5504/5939 (92.6755%)
___Test Local_ResNet_18 poisoned: False, epoch: 95: Average loss: 1.9806, Accuracy: 5457/10000 (54.5700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 21.12ms
___Train Local_ResNet_18,  epoch  95, local model 35, internal_epoch   1,  Average loss: 0.0045, Accuracy: 5145/5615 (91.6296%)
___Train Local_ResNet_18,  epoch  95, local model 35, internal_epoch   2,  Average loss: 0.0046, Accuracy: 5091/5615 (90.6679%)
___Test Local_ResNet_18 poisoned: False, epoch: 95: Average loss: 2.1126, Accuracy: 5351/10000 (53.5100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 20.64ms
___Train Local_ResNet_18,  epoch  95, local model 85, internal_epoch   1,  Average loss: 0.0050, Accuracy: 6300/6947 (90.6866%)
___Train Local_ResNet_18,  epoch  95, local model 85, internal_epoch   2,  Average loss: 0.0057, Accuracy: 6169/6947 (88.8009%)
___Test Local_ResNet_18 poisoned: False, epoch: 95: Average loss: 2.2873, Accuracy: 5112/10000 (51.1200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 21.21ms
___Train Local_ResNet_18,  epoch  95, local model 62, internal_epoch   1,  Average loss: 0.0062, Accuracy: 4821/5504 (87.5908%)
___Train Local_ResNet_18,  epoch  95, local model 62, internal_epoch   2,  Average loss: 0.0064, Accuracy: 4797/5504 (87.1548%)
___Test Local_ResNet_18 poisoned: False, epoch: 95: Average loss: 2.1713, Accuracy: 5182/10000 (51.8200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 20.66ms
___Train Local_ResNet_18,  epoch  95, local model 90, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4402/4748 (92.7127%)
___Train Local_ResNet_18,  epoch  95, local model 90, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4370/4748 (92.0388%)
___Test Local_ResNet_18 poisoned: False, epoch: 95: Average loss: 2.0737, Accuracy: 5421/10000 (54.2100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.82ms
INFO:tornado.access:200 POST /update (::1) 20.95ms
___Train Local_ResNet_18,  epoch  95, local model 54, internal_epoch   1,  Average loss: 0.0061, Accuracy: 4972/5645 (88.0779%)
___Train Local_ResNet_18,  epoch  95, local model 54, internal_epoch   2,  Average loss: 0.0068, Accuracy: 4898/5645 (86.7671%)
___Test Local_ResNet_18 poisoned: False, epoch: 95: Average loss: 2.1908, Accuracy: 5104/10000 (51.0400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 21.76ms
___Train Local_ResNet_18,  epoch  95, local model 32, internal_epoch   1,  Average loss: 0.0059, Accuracy: 5374/6080 (88.3882%)
___Train Local_ResNet_18,  epoch  95, local model 32, internal_epoch   2,  Average loss: 0.0060, Accuracy: 5313/6080 (87.3849%)
___Test Local_ResNet_18 poisoned: False, epoch: 95: Average loss: 2.1267, Accuracy: 5203/10000 (52.0300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 21.19ms
___Train Local_ResNet_18,  epoch  95, local model 68, internal_epoch   1,  Average loss: 0.0045, Accuracy: 3300/3589 (91.9476%)
___Train Local_ResNet_18,  epoch  95, local model 68, internal_epoch   2,  Average loss: 0.0052, Accuracy: 3249/3589 (90.5266%)
___Test Local_ResNet_18 poisoned: False, epoch: 95: Average loss: 2.0090, Accuracy: 5471/10000 (54.7100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 20.58ms
time spent on training: 247.4246711730957
___Test Target_ResNet_18 poisoned: False, epoch: 95: Average loss: 1.1696, Accuracy: 6883/10000 (68.8300%)
___Test Target_ResNet_18 poisoned: True, epoch: 95: Average loss: 0.4777, Accuracy: 8715/9900 (88.0303%)
Done in 274.37548828125 sec.
Server Epoch:96 choose agents : [13, 36, 58, 71, 19, 26, 11, 32, 40, 65, 21, 5, 17, 92, 12, 63, 44, 51, 82, 1].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  96, local model 13, internal_epoch   1,  Average loss: 0.0024, Accuracy: 5098/5308 (96.0437%), train_poison_data_count: 415
Global model norm: 42.98178495468313.
Norm before scaling: 42.959231900358155. Distance: 1.42028098832059
Total norm for 4 adversaries is: 42.959231900358155. distance: 1.42028098832059
___Test Local_ResNet_18 poisoned: True, epoch: 96: Average loss: 0.1226, Accuracy: 9585/9900 (96.8182%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  96, local model 36, internal_epoch   1,  Average loss: 0.0024, Accuracy: 5561/5777 (96.2610%), train_poison_data_count: 455
Global model norm: 42.98178495468313.
Norm before scaling: 42.95636042971038. Distance: 1.510989385303752
Total norm for 4 adversaries is: 42.95636042971038. distance: 1.510989385303752
___Test Local_ResNet_18 poisoned: True, epoch: 96: Average loss: 0.0456, Accuracy: 9767/9900 (98.6566%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  96, local model 58, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4861/5123 (94.8858%), train_poison_data_count: 403
Global model norm: 42.98178495468313.
Norm before scaling: 42.96418867835238. Distance: 1.5251542810662426
Total norm for 4 adversaries is: 42.96418867835238. distance: 1.5251542810662426
___Test Local_ResNet_18 poisoned: True, epoch: 96: Average loss: 0.2878, Accuracy: 9179/9900 (92.7172%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  96, local model 71, internal_epoch   1,  Average loss: 0.0027, Accuracy: 5261/5503 (95.6024%), train_poison_data_count: 430
Global model norm: 42.98178495468313.
Norm before scaling: 42.96314736201248. Distance: 1.5801011356144712
Total norm for 4 adversaries is: 42.96314736201248. distance: 1.5801011356144712
___Test Local_ResNet_18 poisoned: True, epoch: 96: Average loss: 0.0906, Accuracy: 9663/9900 (97.6061%)
___Train Local_ResNet_18,  epoch  96, local model 19, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4824/5361 (89.9832%)
___Train Local_ResNet_18,  epoch  96, local model 19, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4843/5361 (90.3376%)
___Test Local_ResNet_18 poisoned: False, epoch: 96: Average loss: 2.1849, Accuracy: 5210/10000 (52.1000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 20.47ms
___Train Local_ResNet_18,  epoch  96, local model 26, internal_epoch   1,  Average loss: 0.0041, Accuracy: 3764/4086 (92.1194%)
___Train Local_ResNet_18,  epoch  96, local model 26, internal_epoch   2,  Average loss: 0.0032, Accuracy: 3846/4086 (94.1263%)
___Test Local_ResNet_18 poisoned: False, epoch: 96: Average loss: 1.9761, Accuracy: 5552/10000 (55.5200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 20.29ms
___Train Local_ResNet_18,  epoch  96, local model 11, internal_epoch   1,  Average loss: 0.0071, Accuracy: 4923/5702 (86.3381%)
___Train Local_ResNet_18,  epoch  96, local model 11, internal_epoch   2,  Average loss: 0.0091, Accuracy: 4669/5702 (81.8835%)
___Test Local_ResNet_18 poisoned: False, epoch: 96: Average loss: 2.1567, Accuracy: 5074/10000 (50.7400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /win_exists (::1) 0.82ms
INFO:tornado.access:200 POST /update (::1) 21.41ms
___Train Local_ResNet_18,  epoch  96, local model 32, internal_epoch   1,  Average loss: 0.0062, Accuracy: 5321/6080 (87.5164%)
___Train Local_ResNet_18,  epoch  96, local model 32, internal_epoch   2,  Average loss: 0.0059, Accuracy: 5331/6080 (87.6809%)
___Test Local_ResNet_18 poisoned: False, epoch: 96: Average loss: 2.3437, Accuracy: 4855/10000 (48.5500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 20.94ms
___Train Local_ResNet_18,  epoch  96, local model 40, internal_epoch   1,  Average loss: 0.0043, Accuracy: 5436/5939 (91.5306%)
___Train Local_ResNet_18,  epoch  96, local model 40, internal_epoch   2,  Average loss: 0.0044, Accuracy: 5448/5939 (91.7326%)
___Test Local_ResNet_18 poisoned: False, epoch: 96: Average loss: 2.0570, Accuracy: 5310/10000 (53.1000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 20.99ms
___Train Local_ResNet_18,  epoch  96, local model 65, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4920/5497 (89.5034%)
___Train Local_ResNet_18,  epoch  96, local model 65, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4923/5497 (89.5579%)
___Test Local_ResNet_18 poisoned: False, epoch: 96: Average loss: 2.1910, Accuracy: 5206/10000 (52.0600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 21.51ms
___Train Local_ResNet_18,  epoch  96, local model 21, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4549/5038 (90.2938%)
___Train Local_ResNet_18,  epoch  96, local model 21, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4573/5038 (90.7701%)
___Test Local_ResNet_18 poisoned: False, epoch: 96: Average loss: 1.8390, Accuracy: 5746/10000 (57.4600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 21.10ms
___Train Local_ResNet_18,  epoch  96, local model 5, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4651/4993 (93.1504%)
___Train Local_ResNet_18,  epoch  96, local model 5, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4564/4993 (91.4080%)
___Test Local_ResNet_18 poisoned: False, epoch: 96: Average loss: 2.1266, Accuracy: 5401/10000 (54.0100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 20.66ms
___Train Local_ResNet_18,  epoch  96, local model 17, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4416/4903 (90.0673%)
___Train Local_ResNet_18,  epoch  96, local model 17, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4432/4903 (90.3936%)
___Test Local_ResNet_18 poisoned: False, epoch: 96: Average loss: 2.1199, Accuracy: 5199/10000 (51.9900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 20.41ms
___Train Local_ResNet_18,  epoch  96, local model 92, internal_epoch   1,  Average loss: 0.0040, Accuracy: 6293/6812 (92.3811%)
___Train Local_ResNet_18,  epoch  96, local model 92, internal_epoch   2,  Average loss: 0.0046, Accuracy: 6209/6812 (91.1480%)
___Test Local_ResNet_18 poisoned: False, epoch: 96: Average loss: 2.1085, Accuracy: 5335/10000 (53.3500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 21.67ms
___Train Local_ResNet_18,  epoch  96, local model 12, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4989/5526 (90.2823%)
___Train Local_ResNet_18,  epoch  96, local model 12, internal_epoch   2,  Average loss: 0.0056, Accuracy: 4948/5526 (89.5404%)
___Test Local_ResNet_18 poisoned: False, epoch: 96: Average loss: 1.9670, Accuracy: 5481/10000 (54.8100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 22.17ms
___Train Local_ResNet_18,  epoch  96, local model 63, internal_epoch   1,  Average loss: 0.0043, Accuracy: 3602/3910 (92.1228%)
___Train Local_ResNet_18,  epoch  96, local model 63, internal_epoch   2,  Average loss: 0.0053, Accuracy: 3516/3910 (89.9233%)
___Test Local_ResNet_18 poisoned: False, epoch: 96: Average loss: 2.0337, Accuracy: 5527/10000 (55.2700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.76ms
INFO:tornado.access:200 POST /update (::1) 21.09ms
___Train Local_ResNet_18,  epoch  96, local model 44, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4708/5075 (92.7685%)
___Train Local_ResNet_18,  epoch  96, local model 44, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4595/5075 (90.5419%)
___Test Local_ResNet_18 poisoned: False, epoch: 96: Average loss: 2.1667, Accuracy: 5217/10000 (52.1700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 21.42ms
___Train Local_ResNet_18,  epoch  96, local model 51, internal_epoch   1,  Average loss: 0.0045, Accuracy: 3757/4108 (91.4557%)
___Train Local_ResNet_18,  epoch  96, local model 51, internal_epoch   2,  Average loss: 0.0049, Accuracy: 3722/4108 (90.6037%)
___Test Local_ResNet_18 poisoned: False, epoch: 96: Average loss: 1.9825, Accuracy: 5496/10000 (54.9600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 21.32ms
___Train Local_ResNet_18,  epoch  96, local model 82, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4979/5298 (93.9789%)
___Train Local_ResNet_18,  epoch  96, local model 82, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4948/5298 (93.3937%)
___Test Local_ResNet_18 poisoned: False, epoch: 96: Average loss: 2.0905, Accuracy: 5419/10000 (54.1900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 21.75ms
___Train Local_ResNet_18,  epoch  96, local model 1, internal_epoch   1,  Average loss: 0.0040, Accuracy: 5020/5422 (92.5858%)
___Train Local_ResNet_18,  epoch  96, local model 1, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4970/5422 (91.6636%)
___Test Local_ResNet_18 poisoned: False, epoch: 96: Average loss: 1.9908, Accuracy: 5457/10000 (54.5700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 20.87ms
time spent on training: 248.59862899780273
___Test Target_ResNet_18 poisoned: False, epoch: 96: Average loss: 1.1660, Accuracy: 6898/10000 (68.9800%)
___Test Target_ResNet_18 poisoned: True, epoch: 96: Average loss: 0.4703, Accuracy: 8709/9900 (87.9697%)
Done in 275.4968750476837 sec.
Server Epoch:97 choose agents : [13, 36, 58, 71, 40, 64, 16, 91, 86, 42, 49, 66, 2, 8, 83, 26, 43, 81, 28, 35].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  97, local model 13, internal_epoch   1,  Average loss: 0.0024, Accuracy: 5107/5308 (96.2133%), train_poison_data_count: 415
Global model norm: 43.005015945635634.
Norm before scaling: 42.98278889976269. Distance: 1.4311298536487738
Total norm for 4 adversaries is: 42.98278889976269. distance: 1.4311298536487738
___Test Local_ResNet_18 poisoned: True, epoch: 97: Average loss: 0.0506, Accuracy: 9756/9900 (98.5455%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  97, local model 36, internal_epoch   1,  Average loss: 0.0023, Accuracy: 5567/5777 (96.3649%), train_poison_data_count: 455
Global model norm: 43.005015945635634.
Norm before scaling: 42.977919476168225. Distance: 1.4649287084737757
Total norm for 4 adversaries is: 42.977919476168225. distance: 1.4649287084737757
___Test Local_ResNet_18 poisoned: True, epoch: 97: Average loss: 0.0904, Accuracy: 9657/9900 (97.5455%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  97, local model 58, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4872/5123 (95.1005%), train_poison_data_count: 403
Global model norm: 43.005015945635634.
Norm before scaling: 42.98388511852799. Distance: 1.489149426127607
Total norm for 4 adversaries is: 42.98388511852799. distance: 1.489149426127607
___Test Local_ResNet_18 poisoned: True, epoch: 97: Average loss: 0.2274, Accuracy: 9343/9900 (94.3737%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  97, local model 71, internal_epoch   1,  Average loss: 0.0027, Accuracy: 5249/5503 (95.3843%), train_poison_data_count: 430
Global model norm: 43.005015945635634.
Norm before scaling: 42.98477116093341. Distance: 1.538171965600094
Total norm for 4 adversaries is: 42.98477116093341. distance: 1.538171965600094
___Test Local_ResNet_18 poisoned: True, epoch: 97: Average loss: 0.1067, Accuracy: 9604/9900 (97.0101%)
___Train Local_ResNet_18,  epoch  97, local model 40, internal_epoch   1,  Average loss: 0.0044, Accuracy: 5434/5939 (91.4969%)
___Train Local_ResNet_18,  epoch  97, local model 40, internal_epoch   2,  Average loss: 0.0040, Accuracy: 5477/5939 (92.2209%)
___Test Local_ResNet_18 poisoned: False, epoch: 97: Average loss: 2.1438, Accuracy: 5311/10000 (53.1100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 20.86ms
___Train Local_ResNet_18,  epoch  97, local model 64, internal_epoch   1,  Average loss: 0.0059, Accuracy: 4309/4894 (88.0466%)
___Train Local_ResNet_18,  epoch  97, local model 64, internal_epoch   2,  Average loss: 0.0061, Accuracy: 4313/4894 (88.1283%)
___Test Local_ResNet_18 poisoned: False, epoch: 97: Average loss: 2.0966, Accuracy: 5329/10000 (53.2900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 21.62ms
___Train Local_ResNet_18,  epoch  97, local model 16, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4829/5353 (90.2111%)
___Train Local_ResNet_18,  epoch  97, local model 16, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4864/5353 (90.8649%)
___Test Local_ResNet_18 poisoned: False, epoch: 97: Average loss: 2.0130, Accuracy: 5383/10000 (53.8300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 20.19ms
___Train Local_ResNet_18,  epoch  97, local model 91, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4075/4527 (90.0155%)
___Train Local_ResNet_18,  epoch  97, local model 91, internal_epoch   2,  Average loss: 0.0056, Accuracy: 4058/4527 (89.6399%)
___Test Local_ResNet_18 poisoned: False, epoch: 97: Average loss: 2.0363, Accuracy: 5358/10000 (53.5800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 20.57ms
___Train Local_ResNet_18,  epoch  97, local model 86, internal_epoch   1,  Average loss: 0.0047, Accuracy: 3597/3929 (91.5500%)
___Train Local_ResNet_18,  epoch  97, local model 86, internal_epoch   2,  Average loss: 0.0040, Accuracy: 3617/3929 (92.0590%)
___Test Local_ResNet_18 poisoned: False, epoch: 97: Average loss: 1.8331, Accuracy: 5840/10000 (58.4000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 20.99ms
___Train Local_ResNet_18,  epoch  97, local model 42, internal_epoch   1,  Average loss: 0.0046, Accuracy: 5396/5907 (91.3492%)
___Train Local_ResNet_18,  epoch  97, local model 42, internal_epoch   2,  Average loss: 0.0048, Accuracy: 5333/5907 (90.2827%)
___Test Local_ResNet_18 poisoned: False, epoch: 97: Average loss: 2.2522, Accuracy: 5121/10000 (51.2100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 20.61ms
___Train Local_ResNet_18,  epoch  97, local model 49, internal_epoch   1,  Average loss: 0.0053, Accuracy: 5092/5652 (90.0920%)
___Train Local_ResNet_18,  epoch  97, local model 49, internal_epoch   2,  Average loss: 0.0054, Accuracy: 5022/5652 (88.8535%)
___Test Local_ResNet_18 poisoned: False, epoch: 97: Average loss: 2.2175, Accuracy: 5080/10000 (50.8000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 20.98ms
___Train Local_ResNet_18,  epoch  97, local model 66, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4446/4843 (91.8026%)
___Train Local_ResNet_18,  epoch  97, local model 66, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4393/4843 (90.7082%)
___Test Local_ResNet_18 poisoned: False, epoch: 97: Average loss: 2.0502, Accuracy: 5384/10000 (53.8400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.77ms
INFO:tornado.access:200 POST /update (::1) 21.26ms
___Train Local_ResNet_18,  epoch  97, local model 2, internal_epoch   1,  Average loss: 0.0044, Accuracy: 3622/3968 (91.2802%)
___Train Local_ResNet_18,  epoch  97, local model 2, internal_epoch   2,  Average loss: 0.0039, Accuracy: 3670/3968 (92.4899%)
___Test Local_ResNet_18 poisoned: False, epoch: 97: Average loss: 1.8391, Accuracy: 5721/10000 (57.2100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.76ms
INFO:tornado.access:200 POST /update (::1) 21.59ms
___Train Local_ResNet_18,  epoch  97, local model 8, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4472/4889 (91.4706%)
___Train Local_ResNet_18,  epoch  97, local model 8, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4480/4889 (91.6343%)
___Test Local_ResNet_18 poisoned: False, epoch: 97: Average loss: 2.3093, Accuracy: 5178/10000 (51.7800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 21.66ms
___Train Local_ResNet_18,  epoch  97, local model 83, internal_epoch   1,  Average loss: 0.0049, Accuracy: 3224/3552 (90.7658%)
___Train Local_ResNet_18,  epoch  97, local model 83, internal_epoch   2,  Average loss: 0.0037, Accuracy: 3285/3552 (92.4831%)
___Test Local_ResNet_18 poisoned: False, epoch: 97: Average loss: 1.8721, Accuracy: 5698/10000 (56.9800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 22.16ms
___Train Local_ResNet_18,  epoch  97, local model 26, internal_epoch   1,  Average loss: 0.0034, Accuracy: 3831/4086 (93.7592%)
___Train Local_ResNet_18,  epoch  97, local model 26, internal_epoch   2,  Average loss: 0.0030, Accuracy: 3866/4086 (94.6158%)
___Test Local_ResNet_18 poisoned: False, epoch: 97: Average loss: 1.8520, Accuracy: 5820/10000 (58.2000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 21.35ms
___Train Local_ResNet_18,  epoch  97, local model 43, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4548/4979 (91.3436%)
___Train Local_ResNet_18,  epoch  97, local model 43, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4572/4979 (91.8257%)
___Test Local_ResNet_18 poisoned: False, epoch: 97: Average loss: 2.0503, Accuracy: 5351/10000 (53.5100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 20.48ms
___Train Local_ResNet_18,  epoch  97, local model 81, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4648/5035 (92.3138%)
___Train Local_ResNet_18,  epoch  97, local model 81, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4676/5035 (92.8699%)
___Test Local_ResNet_18 poisoned: False, epoch: 97: Average loss: 2.0213, Accuracy: 5428/10000 (54.2800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.66ms
INFO:tornado.access:200 POST /win_exists (::1) 0.56ms
INFO:tornado.access:200 POST /update (::1) 20.84ms
___Train Local_ResNet_18,  epoch  97, local model 28, internal_epoch   1,  Average loss: 0.0056, Accuracy: 4616/5122 (90.1210%)
___Train Local_ResNet_18,  epoch  97, local model 28, internal_epoch   2,  Average loss: 0.0132, Accuracy: 3885/5122 (75.8493%)
___Test Local_ResNet_18 poisoned: False, epoch: 97: Average loss: 2.6710, Accuracy: 4356/10000 (43.5600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 21.11ms
___Train Local_ResNet_18,  epoch  97, local model 35, internal_epoch   1,  Average loss: 0.0045, Accuracy: 5132/5615 (91.3980%)
___Train Local_ResNet_18,  epoch  97, local model 35, internal_epoch   2,  Average loss: 0.0041, Accuracy: 5160/5615 (91.8967%)
___Test Local_ResNet_18 poisoned: False, epoch: 97: Average loss: 2.2327, Accuracy: 5178/10000 (51.7800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.76ms
INFO:tornado.access:200 POST /update (::1) 21.03ms
time spent on training: 245.09257197380066
___Test Target_ResNet_18 poisoned: False, epoch: 97: Average loss: 1.1756, Accuracy: 6872/10000 (68.7200%)
___Test Target_ResNet_18 poisoned: True, epoch: 97: Average loss: 0.4205, Accuracy: 8836/9900 (89.2525%)
Done in 271.4386179447174 sec.
Server Epoch:98 choose agents : [13, 36, 58, 71, 48, 89, 35, 76, 39, 12, 31, 24, 1, 54, 37, 22, 21, 17, 10, 90].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  98, local model 13, internal_epoch   1,  Average loss: 0.0025, Accuracy: 5097/5308 (96.0249%), train_poison_data_count: 415
Global model norm: 43.02592928479654.
Norm before scaling: 43.00472357776527. Distance: 1.4913119798364167
Total norm for 4 adversaries is: 43.00472357776527. distance: 1.4913119798364167
___Test Local_ResNet_18 poisoned: True, epoch: 98: Average loss: 0.0696, Accuracy: 9709/9900 (98.0707%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  98, local model 36, internal_epoch   1,  Average loss: 0.0022, Accuracy: 5580/5777 (96.5899%), train_poison_data_count: 455
Global model norm: 43.02592928479654.
Norm before scaling: 42.99684734763628. Distance: 1.4506483404343662
Total norm for 4 adversaries is: 42.99684734763628. distance: 1.4506483404343662
___Test Local_ResNet_18 poisoned: True, epoch: 98: Average loss: 0.0535, Accuracy: 9752/9900 (98.5051%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  98, local model 58, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4871/5123 (95.0810%), train_poison_data_count: 403
Global model norm: 43.02592928479654.
Norm before scaling: 43.008098460675114. Distance: 1.5208019444958387
Total norm for 4 adversaries is: 43.008098460675114. distance: 1.5208019444958387
___Test Local_ResNet_18 poisoned: True, epoch: 98: Average loss: 0.1574, Accuracy: 9506/9900 (96.0202%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  98, local model 71, internal_epoch   1,  Average loss: 0.0027, Accuracy: 5266/5503 (95.6933%), train_poison_data_count: 430
Global model norm: 43.02592928479654.
Norm before scaling: 43.00652600823362. Distance: 1.5347809854633474
Total norm for 4 adversaries is: 43.00652600823362. distance: 1.5347809854633474
___Test Local_ResNet_18 poisoned: True, epoch: 98: Average loss: 0.0427, Accuracy: 9783/9900 (98.8182%)
___Train Local_ResNet_18,  epoch  98, local model 48, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4510/4830 (93.3747%)
___Train Local_ResNet_18,  epoch  98, local model 48, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4501/4830 (93.1884%)
___Test Local_ResNet_18 poisoned: False, epoch: 98: Average loss: 1.9460, Accuracy: 5668/10000 (56.6800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 21.32ms
___Train Local_ResNet_18,  epoch  98, local model 89, internal_epoch   1,  Average loss: 0.0054, Accuracy: 4319/4737 (91.1758%)
___Train Local_ResNet_18,  epoch  98, local model 89, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4283/4737 (90.4159%)
___Test Local_ResNet_18 poisoned: False, epoch: 98: Average loss: 2.2147, Accuracy: 5197/10000 (51.9700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 20.95ms
___Train Local_ResNet_18,  epoch  98, local model 35, internal_epoch   1,  Average loss: 0.0047, Accuracy: 5107/5615 (90.9528%)
___Train Local_ResNet_18,  epoch  98, local model 35, internal_epoch   2,  Average loss: 0.0046, Accuracy: 5102/5615 (90.8638%)
___Test Local_ResNet_18 poisoned: False, epoch: 98: Average loss: 2.1423, Accuracy: 5235/10000 (52.3500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 21.73ms
___Train Local_ResNet_18,  epoch  98, local model 76, internal_epoch   1,  Average loss: 0.0051, Accuracy: 3581/3959 (90.4521%)
___Train Local_ResNet_18,  epoch  98, local model 76, internal_epoch   2,  Average loss: 0.0046, Accuracy: 3618/3959 (91.3867%)
___Test Local_ResNet_18 poisoned: False, epoch: 98: Average loss: 2.0675, Accuracy: 5386/10000 (53.8600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.74ms
INFO:tornado.access:200 POST /update (::1) 22.12ms
___Train Local_ResNet_18,  epoch  98, local model 39, internal_epoch   1,  Average loss: 0.0044, Accuracy: 3832/4175 (91.7844%)
___Train Local_ResNet_18,  epoch  98, local model 39, internal_epoch   2,  Average loss: 0.0044, Accuracy: 3820/4175 (91.4970%)
___Test Local_ResNet_18 poisoned: False, epoch: 98: Average loss: 1.8498, Accuracy: 5730/10000 (57.3000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 20.77ms
___Train Local_ResNet_18,  epoch  98, local model 12, internal_epoch   1,  Average loss: 0.0043, Accuracy: 5098/5526 (92.2548%)
___Train Local_ResNet_18,  epoch  98, local model 12, internal_epoch   2,  Average loss: 0.0054, Accuracy: 4937/5526 (89.3413%)
___Test Local_ResNet_18 poisoned: False, epoch: 98: Average loss: 2.2323, Accuracy: 5229/10000 (52.2900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 22.37ms
___Train Local_ResNet_18,  epoch  98, local model 31, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4190/4537 (92.3518%)
___Train Local_ResNet_18,  epoch  98, local model 31, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4182/4537 (92.1754%)
___Test Local_ResNet_18 poisoned: False, epoch: 98: Average loss: 1.8575, Accuracy: 5708/10000 (57.0800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 20.87ms
___Train Local_ResNet_18,  epoch  98, local model 24, internal_epoch   1,  Average loss: 0.0048, Accuracy: 3914/4313 (90.7489%)
___Train Local_ResNet_18,  epoch  98, local model 24, internal_epoch   2,  Average loss: 0.0045, Accuracy: 3934/4313 (91.2126%)
___Test Local_ResNet_18 poisoned: False, epoch: 98: Average loss: 1.9957, Accuracy: 5526/10000 (55.2600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 22.72ms
___Train Local_ResNet_18,  epoch  98, local model 1, internal_epoch   1,  Average loss: 0.0035, Accuracy: 5057/5422 (93.2682%)
___Train Local_ResNet_18,  epoch  98, local model 1, internal_epoch   2,  Average loss: 0.0035, Accuracy: 5062/5422 (93.3604%)
___Test Local_ResNet_18 poisoned: False, epoch: 98: Average loss: 1.9560, Accuracy: 5641/10000 (56.4100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 21.21ms
___Train Local_ResNet_18,  epoch  98, local model 54, internal_epoch   1,  Average loss: 0.0061, Accuracy: 4966/5645 (87.9717%)
___Train Local_ResNet_18,  epoch  98, local model 54, internal_epoch   2,  Average loss: 0.0072, Accuracy: 4862/5645 (86.1293%)
___Test Local_ResNet_18 poisoned: False, epoch: 98: Average loss: 2.1185, Accuracy: 5194/10000 (51.9400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 20.70ms
___Train Local_ResNet_18,  epoch  98, local model 37, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4352/4741 (91.7950%)
___Train Local_ResNet_18,  epoch  98, local model 37, internal_epoch   2,  Average loss: 0.0099, Accuracy: 3849/4741 (81.1854%)
___Test Local_ResNet_18 poisoned: False, epoch: 98: Average loss: 2.4320, Accuracy: 4701/10000 (47.0100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 21.29ms
___Train Local_ResNet_18,  epoch  98, local model 22, internal_epoch   1,  Average loss: 0.0044, Accuracy: 5216/5696 (91.5730%)
___Train Local_ResNet_18,  epoch  98, local model 22, internal_epoch   2,  Average loss: 0.0047, Accuracy: 5162/5696 (90.6250%)
___Test Local_ResNet_18 poisoned: False, epoch: 98: Average loss: 2.0492, Accuracy: 5310/10000 (53.1000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 22.60ms
___Train Local_ResNet_18,  epoch  98, local model 21, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4564/5038 (90.5915%)
___Train Local_ResNet_18,  epoch  98, local model 21, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4603/5038 (91.3656%)
___Test Local_ResNet_18 poisoned: False, epoch: 98: Average loss: 1.9201, Accuracy: 5566/10000 (55.6600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.76ms
INFO:tornado.access:200 POST /update (::1) 22.00ms
___Train Local_ResNet_18,  epoch  98, local model 17, internal_epoch   1,  Average loss: 0.0054, Accuracy: 4398/4903 (89.7002%)
___Train Local_ResNet_18,  epoch  98, local model 17, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4453/4903 (90.8219%)
___Test Local_ResNet_18 poisoned: False, epoch: 98: Average loss: 2.0451, Accuracy: 5331/10000 (53.3100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 21.54ms
___Train Local_ResNet_18,  epoch  98, local model 10, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4681/5068 (92.3639%)
___Train Local_ResNet_18,  epoch  98, local model 10, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4615/5068 (91.0616%)
___Test Local_ResNet_18 poisoned: False, epoch: 98: Average loss: 2.2776, Accuracy: 5087/10000 (50.8700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 21.39ms
___Train Local_ResNet_18,  epoch  98, local model 90, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4418/4748 (93.0497%)
___Train Local_ResNet_18,  epoch  98, local model 90, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4407/4748 (92.8180%)
___Test Local_ResNet_18 poisoned: False, epoch: 98: Average loss: 2.0629, Accuracy: 5415/10000 (54.1500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 22.66ms
time spent on training: 243.61512756347656
___Test Target_ResNet_18 poisoned: False, epoch: 98: Average loss: 1.1775, Accuracy: 6883/10000 (68.8300%)
___Test Target_ResNet_18 poisoned: True, epoch: 98: Average loss: 0.3903, Accuracy: 8894/9900 (89.8384%)
Done in 270.2652425765991 sec.
Server Epoch:99 choose agents : [13, 36, 58, 71, 83, 63, 46, 35, 25, 8, 56, 22, 31, 87, 5, 7, 10, 30, 82, 80].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  99, local model 13, internal_epoch   1,  Average loss: 0.0025, Accuracy: 5097/5308 (96.0249%), train_poison_data_count: 415
Global model norm: 43.04750169689003.
Norm before scaling: 43.02472206748551. Distance: 1.4711950525541853
Total norm for 4 adversaries is: 43.02472206748551. distance: 1.4711950525541853
___Test Local_ResNet_18 poisoned: True, epoch: 99: Average loss: 0.0221, Accuracy: 9833/9900 (99.3232%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  99, local model 36, internal_epoch   1,  Average loss: 0.0024, Accuracy: 5554/5777 (96.1399%), train_poison_data_count: 455
Global model norm: 43.04750169689003.
Norm before scaling: 43.020876052995334. Distance: 1.505505630366079
Total norm for 4 adversaries is: 43.020876052995334. distance: 1.505505630366079
___Test Local_ResNet_18 poisoned: True, epoch: 99: Average loss: 0.0834, Accuracy: 9677/9900 (97.7475%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  99, local model 58, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4867/5123 (95.0029%), train_poison_data_count: 403
Global model norm: 43.04750169689003.
Norm before scaling: 43.02876348798194. Distance: 1.5423976179177739
Total norm for 4 adversaries is: 43.02876348798194. distance: 1.5423976179177739
___Test Local_ResNet_18 poisoned: True, epoch: 99: Average loss: 0.1153, Accuracy: 9604/9900 (97.0101%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch  99, local model 71, internal_epoch   1,  Average loss: 0.0027, Accuracy: 5235/5503 (95.1299%), train_poison_data_count: 430
Global model norm: 43.04750169689003.
Norm before scaling: 43.02937768257868. Distance: 1.5560246377185858
Total norm for 4 adversaries is: 43.02937768257868. distance: 1.5560246377185858
___Test Local_ResNet_18 poisoned: True, epoch: 99: Average loss: 0.1361, Accuracy: 9550/9900 (96.4646%)
___Train Local_ResNet_18,  epoch  99, local model 83, internal_epoch   1,  Average loss: 0.0046, Accuracy: 3229/3552 (90.9065%)
___Train Local_ResNet_18,  epoch  99, local model 83, internal_epoch   2,  Average loss: 0.0034, Accuracy: 3314/3552 (93.2995%)
___Test Local_ResNet_18 poisoned: False, epoch: 99: Average loss: 1.8491, Accuracy: 5784/10000 (57.8400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 21.70ms
___Train Local_ResNet_18,  epoch  99, local model 63, internal_epoch   1,  Average loss: 0.0041, Accuracy: 3649/3910 (93.3248%)
___Train Local_ResNet_18,  epoch  99, local model 63, internal_epoch   2,  Average loss: 0.0083, Accuracy: 3319/3910 (84.8849%)
___Test Local_ResNet_18 poisoned: False, epoch: 99: Average loss: 2.4642, Accuracy: 4897/10000 (48.9700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 21.48ms
___Train Local_ResNet_18,  epoch  99, local model 46, internal_epoch   1,  Average loss: 0.0059, Accuracy: 4796/5399 (88.8313%)
___Train Local_ResNet_18,  epoch  99, local model 46, internal_epoch   2,  Average loss: 0.0060, Accuracy: 4779/5399 (88.5164%)
___Test Local_ResNet_18 poisoned: False, epoch: 99: Average loss: 2.3193, Accuracy: 5004/10000 (50.0400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 20.69ms
___Train Local_ResNet_18,  epoch  99, local model 35, internal_epoch   1,  Average loss: 0.0045, Accuracy: 5107/5615 (90.9528%)
___Train Local_ResNet_18,  epoch  99, local model 35, internal_epoch   2,  Average loss: 0.0041, Accuracy: 5171/5615 (92.0926%)
___Test Local_ResNet_18 poisoned: False, epoch: 99: Average loss: 2.1094, Accuracy: 5307/10000 (53.0700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 22.08ms
___Train Local_ResNet_18,  epoch  99, local model 25, internal_epoch   1,  Average loss: 0.0059, Accuracy: 5686/6419 (88.5808%)
___Train Local_ResNet_18,  epoch  99, local model 25, internal_epoch   2,  Average loss: 0.0070, Accuracy: 5512/6419 (85.8701%)
___Test Local_ResNet_18 poisoned: False, epoch: 99: Average loss: 2.3341, Accuracy: 5009/10000 (50.0900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 21.76ms
___Train Local_ResNet_18,  epoch  99, local model 8, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4436/4889 (90.7343%)
___Train Local_ResNet_18,  epoch  99, local model 8, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4404/4889 (90.0798%)
___Test Local_ResNet_18 poisoned: False, epoch: 99: Average loss: 2.0437, Accuracy: 5474/10000 (54.7400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 21.72ms
___Train Local_ResNet_18,  epoch  99, local model 56, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4878/5427 (89.8839%)
___Train Local_ResNet_18,  epoch  99, local model 56, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4959/5427 (91.3765%)
___Test Local_ResNet_18 poisoned: False, epoch: 99: Average loss: 1.9846, Accuracy: 5609/10000 (56.0900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 22.61ms
___Train Local_ResNet_18,  epoch  99, local model 22, internal_epoch   1,  Average loss: 0.0041, Accuracy: 5269/5696 (92.5035%)
___Train Local_ResNet_18,  epoch  99, local model 22, internal_epoch   2,  Average loss: 0.0040, Accuracy: 5259/5696 (92.3279%)
___Test Local_ResNet_18 poisoned: False, epoch: 99: Average loss: 1.9836, Accuracy: 5430/10000 (54.3000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 20.83ms
___Train Local_ResNet_18,  epoch  99, local model 31, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4159/4537 (91.6685%)
___Train Local_ResNet_18,  epoch  99, local model 31, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4150/4537 (91.4701%)
___Test Local_ResNet_18 poisoned: False, epoch: 99: Average loss: 1.9342, Accuracy: 5593/10000 (55.9300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 21.93ms
___Train Local_ResNet_18,  epoch  99, local model 87, internal_epoch   1,  Average loss: 0.0052, Accuracy: 3606/3995 (90.2628%)
___Train Local_ResNet_18,  epoch  99, local model 87, internal_epoch   2,  Average loss: 0.0055, Accuracy: 3577/3995 (89.5369%)
___Test Local_ResNet_18 poisoned: False, epoch: 99: Average loss: 2.0628, Accuracy: 5428/10000 (54.2800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 38.79ms
___Train Local_ResNet_18,  epoch  99, local model 5, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4686/4993 (93.8514%)
___Train Local_ResNet_18,  epoch  99, local model 5, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4664/4993 (93.4108%)
___Test Local_ResNet_18 poisoned: False, epoch: 99: Average loss: 2.0389, Accuracy: 5537/10000 (55.3700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 20.85ms
___Train Local_ResNet_18,  epoch  99, local model 7, internal_epoch   1,  Average loss: 0.0053, Accuracy: 4386/4869 (90.0801%)
___Train Local_ResNet_18,  epoch  99, local model 7, internal_epoch   2,  Average loss: 0.0058, Accuracy: 4312/4869 (88.5603%)
___Test Local_ResNet_18 poisoned: False, epoch: 99: Average loss: 2.0648, Accuracy: 5455/10000 (54.5500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 21.55ms
___Train Local_ResNet_18,  epoch  99, local model 10, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4714/5068 (93.0150%)
___Train Local_ResNet_18,  epoch  99, local model 10, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4610/5068 (90.9629%)
___Test Local_ResNet_18 poisoned: False, epoch: 99: Average loss: 2.0392, Accuracy: 5412/10000 (54.1200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 22.21ms
___Train Local_ResNet_18,  epoch  99, local model 30, internal_epoch   1,  Average loss: 0.0039, Accuracy: 3485/3774 (92.3423%)
___Train Local_ResNet_18,  epoch  99, local model 30, internal_epoch   2,  Average loss: 0.0033, Accuracy: 3541/3774 (93.8262%)
___Test Local_ResNet_18 poisoned: False, epoch: 99: Average loss: 2.0761, Accuracy: 5339/10000 (53.3900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /win_exists (::1) 0.76ms
INFO:tornado.access:200 POST /update (::1) 21.91ms
___Train Local_ResNet_18,  epoch  99, local model 82, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4947/5298 (93.3749%)
___Train Local_ResNet_18,  epoch  99, local model 82, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4914/5298 (92.7520%)
___Test Local_ResNet_18 poisoned: False, epoch: 99: Average loss: 2.0104, Accuracy: 5439/10000 (54.3900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 21.38ms
___Train Local_ResNet_18,  epoch  99, local model 80, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4994/5461 (91.4485%)
___Train Local_ResNet_18,  epoch  99, local model 80, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4980/5461 (91.1921%)
___Test Local_ResNet_18 poisoned: False, epoch: 99: Average loss: 2.1282, Accuracy: 5349/10000 (53.4900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 21.50ms
time spent on training: 245.98886919021606
___Test Target_ResNet_18 poisoned: False, epoch: 99: Average loss: 1.1815, Accuracy: 6879/10000 (68.7900%)
___Test Target_ResNet_18 poisoned: True, epoch: 99: Average loss: 0.3520, Accuracy: 8976/9900 (90.6667%)
Done in 272.69398021698 sec.
Server Epoch:100 choose agents : [13, 36, 58, 71, 87, 99, 81, 52, 95, 3, 6, 0, 51, 78, 18, 89, 92, 40, 42, 66].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 100, local model 13, internal_epoch   1,  Average loss: 0.0023, Accuracy: 5120/5308 (96.4582%), train_poison_data_count: 415
Global model norm: 43.06874869621606.
Norm before scaling: 43.046210010743835. Distance: 1.4178839203652212
Total norm for 4 adversaries is: 43.046210010743835. distance: 1.4178839203652212
___Test Local_ResNet_18 poisoned: True, epoch: 100: Average loss: 0.0790, Accuracy: 9699/9900 (97.9697%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 100, local model 36, internal_epoch   1,  Average loss: 0.0021, Accuracy: 5592/5777 (96.7976%), train_poison_data_count: 455
Global model norm: 43.06874869621606.
Norm before scaling: 43.03913553383711. Distance: 1.4249444047221886
Total norm for 4 adversaries is: 43.03913553383711. distance: 1.4249444047221886
___Test Local_ResNet_18 poisoned: True, epoch: 100: Average loss: 0.0578, Accuracy: 9747/9900 (98.4545%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 100, local model 58, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4854/5123 (94.7492%), train_poison_data_count: 403
Global model norm: 43.06874869621606.
Norm before scaling: 43.047310285911735. Distance: 1.507456920381485
Total norm for 4 adversaries is: 43.047310285911735. distance: 1.507456920381485
___Test Local_ResNet_18 poisoned: True, epoch: 100: Average loss: 0.1235, Accuracy: 9582/9900 (96.7879%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 100, local model 71, internal_epoch   1,  Average loss: 0.0024, Accuracy: 5293/5503 (96.1839%), train_poison_data_count: 430
Global model norm: 43.06874869621606.
Norm before scaling: 43.04520329104263. Distance: 1.4819276410506474
Total norm for 4 adversaries is: 43.04520329104263. distance: 1.4819276410506474
___Test Local_ResNet_18 poisoned: True, epoch: 100: Average loss: 0.0566, Accuracy: 9728/9900 (98.2626%)
___Train Local_ResNet_18,  epoch 100, local model 87, internal_epoch   1,  Average loss: 0.0054, Accuracy: 3574/3995 (89.4618%)
___Train Local_ResNet_18,  epoch 100, local model 87, internal_epoch   2,  Average loss: 0.0058, Accuracy: 3529/3995 (88.3354%)
___Test Local_ResNet_18 poisoned: False, epoch: 100: Average loss: 2.2044, Accuracy: 5252/10000 (52.5200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 21.32ms
___Train Local_ResNet_18,  epoch 100, local model 99, internal_epoch   1,  Average loss: 0.0050, Accuracy: 4391/4851 (90.5174%)
___Train Local_ResNet_18,  epoch 100, local model 99, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4383/4851 (90.3525%)
___Test Local_ResNet_18 poisoned: False, epoch: 100: Average loss: 2.2156, Accuracy: 5255/10000 (52.5500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 21.66ms
___Train Local_ResNet_18,  epoch 100, local model 81, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4665/5035 (92.6514%)
___Train Local_ResNet_18,  epoch 100, local model 81, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4688/5035 (93.1082%)
___Test Local_ResNet_18 poisoned: False, epoch: 100: Average loss: 1.9207, Accuracy: 5632/10000 (56.3200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.76ms
INFO:tornado.access:200 POST /update (::1) 21.94ms
___Train Local_ResNet_18,  epoch 100, local model 52, internal_epoch   1,  Average loss: 0.0041, Accuracy: 3806/4130 (92.1550%)
___Train Local_ResNet_18,  epoch 100, local model 52, internal_epoch   2,  Average loss: 0.0038, Accuracy: 3845/4130 (93.0993%)
___Test Local_ResNet_18 poisoned: False, epoch: 100: Average loss: 1.9410, Accuracy: 5594/10000 (55.9400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.75ms
INFO:tornado.access:200 POST /update (::1) 22.08ms
___Train Local_ResNet_18,  epoch 100, local model 95, internal_epoch   1,  Average loss: 0.0054, Accuracy: 4503/5018 (89.7369%)
___Train Local_ResNet_18,  epoch 100, local model 95, internal_epoch   2,  Average loss: 0.0057, Accuracy: 4456/5018 (88.8003%)
___Test Local_ResNet_18 poisoned: False, epoch: 100: Average loss: 2.1630, Accuracy: 5255/10000 (52.5500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 21.04ms
___Train Local_ResNet_18,  epoch 100, local model 3, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4993/5346 (93.3969%)
___Train Local_ResNet_18,  epoch 100, local model 3, internal_epoch   2,  Average loss: 0.0036, Accuracy: 5008/5346 (93.6775%)
___Test Local_ResNet_18 poisoned: False, epoch: 100: Average loss: 2.0542, Accuracy: 5498/10000 (54.9800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 20.92ms
___Train Local_ResNet_18,  epoch 100, local model 6, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4564/4929 (92.5948%)
___Train Local_ResNet_18,  epoch 100, local model 6, internal_epoch   2,  Average loss: 0.0060, Accuracy: 4456/4929 (90.4037%)
___Test Local_ResNet_18 poisoned: False, epoch: 100: Average loss: 2.0463, Accuracy: 5513/10000 (55.1300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 21.65ms
___Train Local_ResNet_18,  epoch 100, local model 0, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4960/5454 (90.9424%)
___Train Local_ResNet_18,  epoch 100, local model 0, internal_epoch   2,  Average loss: 0.0057, Accuracy: 4850/5454 (88.9256%)
___Test Local_ResNet_18 poisoned: False, epoch: 100: Average loss: 2.0902, Accuracy: 5386/10000 (53.8600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 21.43ms
___Train Local_ResNet_18,  epoch 100, local model 51, internal_epoch   1,  Average loss: 0.0041, Accuracy: 3790/4108 (92.2590%)
___Train Local_ResNet_18,  epoch 100, local model 51, internal_epoch   2,  Average loss: 0.0042, Accuracy: 3808/4108 (92.6972%)
___Test Local_ResNet_18 poisoned: False, epoch: 100: Average loss: 1.9174, Accuracy: 5676/10000 (56.7600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.77ms
INFO:tornado.access:200 POST /update (::1) 22.39ms
___Train Local_ResNet_18,  epoch 100, local model 78, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4076/4368 (93.3150%)
___Train Local_ResNet_18,  epoch 100, local model 78, internal_epoch   2,  Average loss: 0.0048, Accuracy: 3967/4368 (90.8196%)
___Test Local_ResNet_18 poisoned: False, epoch: 100: Average loss: 2.1225, Accuracy: 5292/10000 (52.9200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 22.55ms
___Train Local_ResNet_18,  epoch 100, local model 18, internal_epoch   1,  Average loss: 0.0045, Accuracy: 3901/4249 (91.8098%)
___Train Local_ResNet_18,  epoch 100, local model 18, internal_epoch   2,  Average loss: 0.0047, Accuracy: 3865/4249 (90.9626%)
___Test Local_ResNet_18 poisoned: False, epoch: 100: Average loss: 1.9899, Accuracy: 5605/10000 (56.0500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 21.90ms
___Train Local_ResNet_18,  epoch 100, local model 89, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4319/4737 (91.1758%)
___Train Local_ResNet_18,  epoch 100, local model 89, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4339/4737 (91.5981%)
___Test Local_ResNet_18 poisoned: False, epoch: 100: Average loss: 2.1145, Accuracy: 5401/10000 (54.0100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.77ms
INFO:tornado.access:200 POST /update (::1) 21.56ms
___Train Local_ResNet_18,  epoch 100, local model 92, internal_epoch   1,  Average loss: 0.0040, Accuracy: 6290/6812 (92.3371%)
___Train Local_ResNet_18,  epoch 100, local model 92, internal_epoch   2,  Average loss: 0.0043, Accuracy: 6251/6812 (91.7645%)
___Test Local_ResNet_18 poisoned: False, epoch: 100: Average loss: 2.4952, Accuracy: 4899/10000 (48.9900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 21.69ms
___Train Local_ResNet_18,  epoch 100, local model 40, internal_epoch   1,  Average loss: 0.0040, Accuracy: 5472/5939 (92.1367%)
___Train Local_ResNet_18,  epoch 100, local model 40, internal_epoch   2,  Average loss: 0.0040, Accuracy: 5479/5939 (92.2546%)
___Test Local_ResNet_18 poisoned: False, epoch: 100: Average loss: 1.8891, Accuracy: 5619/10000 (56.1900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 22.00ms
___Train Local_ResNet_18,  epoch 100, local model 42, internal_epoch   1,  Average loss: 0.0049, Accuracy: 5361/5907 (90.7567%)
___Train Local_ResNet_18,  epoch 100, local model 42, internal_epoch   2,  Average loss: 0.0050, Accuracy: 5343/5907 (90.4520%)
___Test Local_ResNet_18 poisoned: False, epoch: 100: Average loss: 2.3824, Accuracy: 4996/10000 (49.9600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 21.72ms
___Train Local_ResNet_18,  epoch 100, local model 66, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4431/4843 (91.4929%)
___Train Local_ResNet_18,  epoch 100, local model 66, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4448/4843 (91.8439%)
___Test Local_ResNet_18 poisoned: False, epoch: 100: Average loss: 1.9951, Accuracy: 5450/10000 (54.5000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 21.11ms
time spent on training: 245.86732172966003
___Test Target_ResNet_18 poisoned: False, epoch: 100: Average loss: 1.1870, Accuracy: 6872/10000 (68.7200%)
___Test Target_ResNet_18 poisoned: True, epoch: 100: Average loss: 0.3052, Accuracy: 9077/9900 (91.6869%)
Done in 272.5072855949402 sec.
Server Epoch:101 choose agents : [13, 36, 58, 71, 92, 3, 12, 50, 95, 31, 5, 38, 72, 61, 32, 94, 7, 57, 22, 8].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 101, local model 13, internal_epoch   1,  Average loss: 0.0024, Accuracy: 5126/5308 (96.5712%), train_poison_data_count: 415
Global model norm: 43.08962827007359.
Norm before scaling: 43.06670085641864. Distance: 1.42888372788322
Total norm for 4 adversaries is: 43.06670085641864. distance: 1.42888372788322
___Test Local_ResNet_18 poisoned: True, epoch: 101: Average loss: 0.0480, Accuracy: 9766/9900 (98.6465%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 101, local model 36, internal_epoch   1,  Average loss: 0.0022, Accuracy: 5573/5777 (96.4688%), train_poison_data_count: 455
Global model norm: 43.08962827007359.
Norm before scaling: 43.059989778523665. Distance: 1.4587586827089196
Total norm for 4 adversaries is: 43.059989778523665. distance: 1.4587586827089196
___Test Local_ResNet_18 poisoned: True, epoch: 101: Average loss: 0.0495, Accuracy: 9751/9900 (98.4949%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 101, local model 58, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4876/5123 (95.1786%), train_poison_data_count: 403
Global model norm: 43.08962827007359.
Norm before scaling: 43.068409994485805. Distance: 1.4803619748867753
Total norm for 4 adversaries is: 43.068409994485805. distance: 1.4803619748867753
___Test Local_ResNet_18 poisoned: True, epoch: 101: Average loss: 0.0990, Accuracy: 9647/9900 (97.4444%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 101, local model 71, internal_epoch   1,  Average loss: 0.0025, Accuracy: 5271/5503 (95.7841%), train_poison_data_count: 430
Global model norm: 43.08962827007359.
Norm before scaling: 43.06931272080143. Distance: 1.5207253596328767
Total norm for 4 adversaries is: 43.06931272080143. distance: 1.5207253596328767
___Test Local_ResNet_18 poisoned: True, epoch: 101: Average loss: 0.0253, Accuracy: 9829/9900 (99.2828%)
___Train Local_ResNet_18,  epoch 101, local model 92, internal_epoch   1,  Average loss: 0.0039, Accuracy: 6302/6812 (92.5132%)
___Train Local_ResNet_18,  epoch 101, local model 92, internal_epoch   2,  Average loss: 0.0046, Accuracy: 6208/6812 (91.1333%)
___Test Local_ResNet_18 poisoned: False, epoch: 101: Average loss: 2.0855, Accuracy: 5356/10000 (53.5600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 21.82ms
___Train Local_ResNet_18,  epoch 101, local model 3, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4995/5346 (93.4343%)
___Train Local_ResNet_18,  epoch 101, local model 3, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4882/5346 (91.3206%)
___Test Local_ResNet_18 poisoned: False, epoch: 101: Average loss: 2.2191, Accuracy: 5096/10000 (50.9600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 21.21ms
___Train Local_ResNet_18,  epoch 101, local model 12, internal_epoch   1,  Average loss: 0.0046, Accuracy: 5048/5526 (91.3500%)
___Train Local_ResNet_18,  epoch 101, local model 12, internal_epoch   2,  Average loss: 0.0058, Accuracy: 4895/5526 (88.5813%)
___Test Local_ResNet_18 poisoned: False, epoch: 101: Average loss: 2.1550, Accuracy: 5283/10000 (52.8300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 22.68ms
___Train Local_ResNet_18,  epoch 101, local model 50, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4395/4757 (92.3902%)
___Train Local_ResNet_18,  epoch 101, local model 50, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4287/4757 (90.1198%)
___Test Local_ResNet_18 poisoned: False, epoch: 101: Average loss: 2.1428, Accuracy: 5332/10000 (53.3200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /win_exists (::1) 0.58ms
INFO:tornado.access:200 POST /update (::1) 16.62ms
___Train Local_ResNet_18,  epoch 101, local model 95, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4589/5018 (91.4508%)
___Train Local_ResNet_18,  epoch 101, local model 95, internal_epoch   2,  Average loss: 0.0054, Accuracy: 4468/5018 (89.0395%)
___Test Local_ResNet_18 poisoned: False, epoch: 101: Average loss: 2.1364, Accuracy: 5366/10000 (53.6600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 21.32ms
___Train Local_ResNet_18,  epoch 101, local model 31, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4205/4537 (92.6824%)
___Train Local_ResNet_18,  epoch 101, local model 31, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4248/4537 (93.6302%)
___Test Local_ResNet_18 poisoned: False, epoch: 101: Average loss: 1.8885, Accuracy: 5741/10000 (57.4100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 22.30ms
___Train Local_ResNet_18,  epoch 101, local model 5, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4678/4993 (93.6912%)
___Train Local_ResNet_18,  epoch 101, local model 5, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4648/4993 (93.0903%)
___Test Local_ResNet_18 poisoned: False, epoch: 101: Average loss: 1.9506, Accuracy: 5655/10000 (56.5500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 22.00ms
___Train Local_ResNet_18,  epoch 101, local model 38, internal_epoch   1,  Average loss: 0.0057, Accuracy: 5553/6235 (89.0617%)
___Train Local_ResNet_18,  epoch 101, local model 38, internal_epoch   2,  Average loss: 0.0059, Accuracy: 5540/6235 (88.8532%)
___Test Local_ResNet_18 poisoned: False, epoch: 101: Average loss: 2.3575, Accuracy: 4993/10000 (49.9300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 22.23ms
___Train Local_ResNet_18,  epoch 101, local model 72, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4737/5193 (91.2189%)
___Train Local_ResNet_18,  epoch 101, local model 72, internal_epoch   2,  Average loss: 0.0070, Accuracy: 4507/5193 (86.7899%)
___Test Local_ResNet_18 poisoned: False, epoch: 101: Average loss: 2.4169, Accuracy: 4830/10000 (48.3000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 21.21ms
___Train Local_ResNet_18,  epoch 101, local model 61, internal_epoch   1,  Average loss: 0.0050, Accuracy: 4083/4485 (91.0368%)
___Train Local_ResNet_18,  epoch 101, local model 61, internal_epoch   2,  Average loss: 0.0086, Accuracy: 3779/4485 (84.2586%)
___Test Local_ResNet_18 poisoned: False, epoch: 101: Average loss: 2.3026, Accuracy: 4926/10000 (49.2600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 21.03ms
___Train Local_ResNet_18,  epoch 101, local model 32, internal_epoch   1,  Average loss: 0.0058, Accuracy: 5373/6080 (88.3717%)
___Train Local_ResNet_18,  epoch 101, local model 32, internal_epoch   2,  Average loss: 0.0057, Accuracy: 5372/6080 (88.3553%)
___Test Local_ResNet_18 poisoned: False, epoch: 101: Average loss: 2.1558, Accuracy: 5251/10000 (52.5100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /win_exists (::1) 0.75ms
INFO:tornado.access:200 POST /update (::1) 21.48ms
___Train Local_ResNet_18,  epoch 101, local model 94, internal_epoch   1,  Average loss: 0.0055, Accuracy: 4646/5224 (88.9357%)
___Train Local_ResNet_18,  epoch 101, local model 94, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4673/5224 (89.4525%)
___Test Local_ResNet_18 poisoned: False, epoch: 101: Average loss: 2.0792, Accuracy: 5280/10000 (52.8000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 23.17ms
___Train Local_ResNet_18,  epoch 101, local model 7, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4417/4869 (90.7168%)
___Train Local_ResNet_18,  epoch 101, local model 7, internal_epoch   2,  Average loss: 0.0062, Accuracy: 4294/4869 (88.1906%)
___Test Local_ResNet_18 poisoned: False, epoch: 101: Average loss: 2.1861, Accuracy: 5252/10000 (52.5200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 22.18ms
___Train Local_ResNet_18,  epoch 101, local model 57, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4531/4956 (91.4245%)
___Train Local_ResNet_18,  epoch 101, local model 57, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4448/4956 (89.7498%)
___Test Local_ResNet_18 poisoned: False, epoch: 101: Average loss: 2.0644, Accuracy: 5367/10000 (53.6700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 21.91ms
___Train Local_ResNet_18,  epoch 101, local model 22, internal_epoch   1,  Average loss: 0.0045, Accuracy: 5196/5696 (91.2219%)
___Train Local_ResNet_18,  epoch 101, local model 22, internal_epoch   2,  Average loss: 0.0050, Accuracy: 5113/5696 (89.7647%)
___Test Local_ResNet_18 poisoned: False, epoch: 101: Average loss: 2.0548, Accuracy: 5414/10000 (54.1400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.78ms
INFO:tornado.access:200 POST /win_exists (::1) 0.52ms
INFO:tornado.access:200 POST /update (::1) 16.53ms
___Train Local_ResNet_18,  epoch 101, local model 8, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4493/4889 (91.9002%)
___Train Local_ResNet_18,  epoch 101, local model 8, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4456/4889 (91.1434%)
___Test Local_ResNet_18 poisoned: False, epoch: 101: Average loss: 2.0326, Accuracy: 5419/10000 (54.1900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 22.16ms
time spent on training: 251.74107360839844
___Test Target_ResNet_18 poisoned: False, epoch: 101: Average loss: 1.1897, Accuracy: 6863/10000 (68.6300%)
___Test Target_ResNet_18 poisoned: True, epoch: 101: Average loss: 0.2810, Accuracy: 9141/9900 (92.3333%)
Done in 278.5572040081024 sec.
Server Epoch:102 choose agents : [13, 36, 58, 71, 1, 65, 25, 70, 59, 5, 76, 49, 11, 2, 40, 47, 23, 83, 28, 92].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 102, local model 13, internal_epoch   1,  Average loss: 0.0020, Accuracy: 5141/5308 (96.8538%), train_poison_data_count: 415
Global model norm: 43.114385299184804.
Norm before scaling: 43.086966641154234. Distance: 1.335379099007507
Total norm for 4 adversaries is: 43.086966641154234. distance: 1.335379099007507
___Test Local_ResNet_18 poisoned: True, epoch: 102: Average loss: 0.1270, Accuracy: 9561/9900 (96.5758%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 102, local model 36, internal_epoch   1,  Average loss: 0.0023, Accuracy: 5563/5777 (96.2957%), train_poison_data_count: 455
Global model norm: 43.114385299184804.
Norm before scaling: 43.08592262579072. Distance: 1.472602418274858
Total norm for 4 adversaries is: 43.08592262579072. distance: 1.472602418274858
___Test Local_ResNet_18 poisoned: True, epoch: 102: Average loss: 0.0592, Accuracy: 9752/9900 (98.5051%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 102, local model 58, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4893/5123 (95.5104%), train_poison_data_count: 403
Global model norm: 43.114385299184804.
Norm before scaling: 43.09388596787832. Distance: 1.515130031028787
Total norm for 4 adversaries is: 43.09388596787832. distance: 1.515130031028787
___Test Local_ResNet_18 poisoned: True, epoch: 102: Average loss: 0.1188, Accuracy: 9606/9900 (97.0303%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 102, local model 71, internal_epoch   1,  Average loss: 0.0026, Accuracy: 5279/5503 (95.9295%), train_poison_data_count: 430
Global model norm: 43.114385299184804.
Norm before scaling: 43.0912897570923. Distance: 1.5140790625454636
Total norm for 4 adversaries is: 43.0912897570923. distance: 1.5140790625454636
___Test Local_ResNet_18 poisoned: True, epoch: 102: Average loss: 0.0406, Accuracy: 9786/9900 (98.8485%)
___Train Local_ResNet_18,  epoch 102, local model 1, internal_epoch   1,  Average loss: 0.0036, Accuracy: 5046/5422 (93.0653%)
___Train Local_ResNet_18,  epoch 102, local model 1, internal_epoch   2,  Average loss: 0.0036, Accuracy: 5045/5422 (93.0468%)
___Test Local_ResNet_18 poisoned: False, epoch: 102: Average loss: 1.9113, Accuracy: 5678/10000 (56.7800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 22.07ms
___Train Local_ResNet_18,  epoch 102, local model 65, internal_epoch   1,  Average loss: 0.0048, Accuracy: 5019/5497 (91.3043%)
___Train Local_ResNet_18,  epoch 102, local model 65, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4963/5497 (90.2856%)
___Test Local_ResNet_18 poisoned: False, epoch: 102: Average loss: 2.0224, Accuracy: 5439/10000 (54.3900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 21.37ms
___Train Local_ResNet_18,  epoch 102, local model 25, internal_epoch   1,  Average loss: 0.0058, Accuracy: 5698/6419 (88.7677%)
___Train Local_ResNet_18,  epoch 102, local model 25, internal_epoch   2,  Average loss: 0.0070, Accuracy: 5548/6419 (86.4309%)
___Test Local_ResNet_18 poisoned: False, epoch: 102: Average loss: 2.2971, Accuracy: 5054/10000 (50.5400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.76ms
INFO:tornado.access:200 POST /update (::1) 21.57ms
___Train Local_ResNet_18,  epoch 102, local model 70, internal_epoch   1,  Average loss: 0.0041, Accuracy: 5403/5871 (92.0286%)
___Train Local_ResNet_18,  epoch 102, local model 70, internal_epoch   2,  Average loss: 0.0045, Accuracy: 5340/5871 (90.9555%)
___Test Local_ResNet_18 poisoned: False, epoch: 102: Average loss: 2.0421, Accuracy: 5429/10000 (54.2900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 21.14ms
___Train Local_ResNet_18,  epoch 102, local model 59, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4147/4397 (94.3143%)
___Train Local_ResNet_18,  epoch 102, local model 59, internal_epoch   2,  Average loss: 0.0025, Accuracy: 4193/4397 (95.3605%)
___Test Local_ResNet_18 poisoned: False, epoch: 102: Average loss: 1.7824, Accuracy: 5885/10000 (58.8500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 21.60ms
___Train Local_ResNet_18,  epoch 102, local model 5, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4683/4993 (93.7913%)
___Train Local_ResNet_18,  epoch 102, local model 5, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4636/4993 (92.8500%)
___Test Local_ResNet_18 poisoned: False, epoch: 102: Average loss: 2.0158, Accuracy: 5513/10000 (55.1300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 21.66ms
___Train Local_ResNet_18,  epoch 102, local model 76, internal_epoch   1,  Average loss: 0.0050, Accuracy: 3579/3959 (90.4016%)
___Train Local_ResNet_18,  epoch 102, local model 76, internal_epoch   2,  Average loss: 0.0045, Accuracy: 3603/3959 (91.0078%)
___Test Local_ResNet_18 poisoned: False, epoch: 102: Average loss: 2.0253, Accuracy: 5351/10000 (53.5100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 22.20ms
___Train Local_ResNet_18,  epoch 102, local model 49, internal_epoch   1,  Average loss: 0.0053, Accuracy: 5057/5652 (89.4728%)
___Train Local_ResNet_18,  epoch 102, local model 49, internal_epoch   2,  Average loss: 0.0059, Accuracy: 4995/5652 (88.3758%)
___Test Local_ResNet_18 poisoned: False, epoch: 102: Average loss: 2.1263, Accuracy: 5277/10000 (52.7700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 22.76ms
___Train Local_ResNet_18,  epoch 102, local model 11, internal_epoch   1,  Average loss: 0.0069, Accuracy: 4958/5702 (86.9519%)
___Train Local_ResNet_18,  epoch 102, local model 11, internal_epoch   2,  Average loss: 0.0096, Accuracy: 4659/5702 (81.7082%)
___Test Local_ResNet_18 poisoned: False, epoch: 102: Average loss: 2.3606, Accuracy: 4983/10000 (49.8300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 21.69ms
___Train Local_ResNet_18,  epoch 102, local model 2, internal_epoch   1,  Average loss: 0.0042, Accuracy: 3619/3968 (91.2046%)
___Train Local_ResNet_18,  epoch 102, local model 2, internal_epoch   2,  Average loss: 0.0039, Accuracy: 3691/3968 (93.0192%)
___Test Local_ResNet_18 poisoned: False, epoch: 102: Average loss: 1.8990, Accuracy: 5599/10000 (55.9900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.76ms
INFO:tornado.access:200 POST /update (::1) 22.18ms
___Train Local_ResNet_18,  epoch 102, local model 40, internal_epoch   1,  Average loss: 0.0037, Accuracy: 5518/5939 (92.9113%)
___Train Local_ResNet_18,  epoch 102, local model 40, internal_epoch   2,  Average loss: 0.0040, Accuracy: 5464/5939 (92.0020%)
___Test Local_ResNet_18 poisoned: False, epoch: 102: Average loss: 2.1223, Accuracy: 5338/10000 (53.3800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 23.39ms
___Train Local_ResNet_18,  epoch 102, local model 47, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4619/5123 (90.1620%)
___Train Local_ResNet_18,  epoch 102, local model 47, internal_epoch   2,  Average loss: 0.0071, Accuracy: 4486/5123 (87.5659%)
___Test Local_ResNet_18 poisoned: False, epoch: 102: Average loss: 2.1578, Accuracy: 5135/10000 (51.3500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 21.69ms
___Train Local_ResNet_18,  epoch 102, local model 23, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4281/4549 (94.1086%)
___Train Local_ResNet_18,  epoch 102, local model 23, internal_epoch   2,  Average loss: 0.0063, Accuracy: 4014/4549 (88.2392%)
___Test Local_ResNet_18 poisoned: False, epoch: 102: Average loss: 1.9963, Accuracy: 5435/10000 (54.3500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 22.24ms
___Train Local_ResNet_18,  epoch 102, local model 83, internal_epoch   1,  Average loss: 0.0046, Accuracy: 3216/3552 (90.5405%)
___Train Local_ResNet_18,  epoch 102, local model 83, internal_epoch   2,  Average loss: 0.0039, Accuracy: 3293/3552 (92.7083%)
___Test Local_ResNet_18 poisoned: False, epoch: 102: Average loss: 1.8486, Accuracy: 5743/10000 (57.4300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 21.81ms
___Train Local_ResNet_18,  epoch 102, local model 28, internal_epoch   1,  Average loss: 0.0058, Accuracy: 4582/5122 (89.4572%)
___Train Local_ResNet_18,  epoch 102, local model 28, internal_epoch   2,  Average loss: 0.0117, Accuracy: 3986/5122 (77.8212%)
___Test Local_ResNet_18 poisoned: False, epoch: 102: Average loss: 2.4527, Accuracy: 4645/10000 (46.4500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 21.80ms
___Train Local_ResNet_18,  epoch 102, local model 92, internal_epoch   1,  Average loss: 0.0039, Accuracy: 6316/6812 (92.7187%)
___Train Local_ResNet_18,  epoch 102, local model 92, internal_epoch   2,  Average loss: 0.0043, Accuracy: 6223/6812 (91.3535%)
___Test Local_ResNet_18 poisoned: False, epoch: 102: Average loss: 2.1122, Accuracy: 5337/10000 (53.3700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 21.88ms
time spent on training: 247.3496551513672
___Test Target_ResNet_18 poisoned: False, epoch: 102: Average loss: 1.1865, Accuracy: 6874/10000 (68.7400%)
___Test Target_ResNet_18 poisoned: True, epoch: 102: Average loss: 0.2663, Accuracy: 9165/9900 (92.5758%)
Done in 273.91667437553406 sec.
Server Epoch:103 choose agents : [13, 36, 58, 71, 55, 74, 81, 88, 47, 3, 20, 49, 91, 24, 85, 5, 96, 21, 80, 9].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 103, local model 13, internal_epoch   1,  Average loss: 0.0022, Accuracy: 5129/5308 (96.6277%), train_poison_data_count: 415
Global model norm: 43.136329467420786.
Norm before scaling: 43.11104280481684. Distance: 1.388925006184922
Total norm for 4 adversaries is: 43.11104280481684. distance: 1.388925006184922
___Test Local_ResNet_18 poisoned: True, epoch: 103: Average loss: 0.1141, Accuracy: 9599/9900 (96.9596%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 103, local model 36, internal_epoch   1,  Average loss: 0.0023, Accuracy: 5557/5777 (96.1918%), train_poison_data_count: 455
Global model norm: 43.136329467420786.
Norm before scaling: 43.10741404338484. Distance: 1.479434092171058
Total norm for 4 adversaries is: 43.10741404338484. distance: 1.479434092171058
___Test Local_ResNet_18 poisoned: True, epoch: 103: Average loss: 0.0934, Accuracy: 9658/9900 (97.5556%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 103, local model 58, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4872/5123 (95.1005%), train_poison_data_count: 403
Global model norm: 43.136329467420786.
Norm before scaling: 43.11471089893144. Distance: 1.5016920559790548
Total norm for 4 adversaries is: 43.11471089893144. distance: 1.5016920559790548
___Test Local_ResNet_18 poisoned: True, epoch: 103: Average loss: 0.1683, Accuracy: 9473/9900 (95.6869%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 103, local model 71, internal_epoch   1,  Average loss: 0.0025, Accuracy: 5270/5503 (95.7659%), train_poison_data_count: 430
Global model norm: 43.136329467420786.
Norm before scaling: 43.11257888375285. Distance: 1.4978523774691355
Total norm for 4 adversaries is: 43.11257888375285. distance: 1.4978523774691355
___Test Local_ResNet_18 poisoned: True, epoch: 103: Average loss: 0.0335, Accuracy: 9811/9900 (99.1010%)
___Train Local_ResNet_18,  epoch 103, local model 55, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4350/4731 (91.9467%)
___Train Local_ResNet_18,  epoch 103, local model 55, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4395/4731 (92.8979%)
___Test Local_ResNet_18 poisoned: False, epoch: 103: Average loss: 1.9734, Accuracy: 5585/10000 (55.8500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.05ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 21.77ms
___Train Local_ResNet_18,  epoch 103, local model 74, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4353/4797 (90.7442%)
___Train Local_ResNet_18,  epoch 103, local model 74, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4330/4797 (90.2647%)
___Test Local_ResNet_18 poisoned: False, epoch: 103: Average loss: 1.9857, Accuracy: 5473/10000 (54.7300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 22.60ms
___Train Local_ResNet_18,  epoch 103, local model 81, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4667/5035 (92.6912%)
___Train Local_ResNet_18,  epoch 103, local model 81, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4652/5035 (92.3932%)
___Test Local_ResNet_18 poisoned: False, epoch: 103: Average loss: 2.0516, Accuracy: 5384/10000 (53.8400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 21.98ms
___Train Local_ResNet_18,  epoch 103, local model 88, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4834/5362 (90.1529%)
___Train Local_ResNet_18,  epoch 103, local model 88, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4863/5362 (90.6938%)
___Test Local_ResNet_18 poisoned: False, epoch: 103: Average loss: 2.1480, Accuracy: 5240/10000 (52.4000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 22.14ms
___Train Local_ResNet_18,  epoch 103, local model 47, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4656/5123 (90.8842%)
___Train Local_ResNet_18,  epoch 103, local model 47, internal_epoch   2,  Average loss: 0.0065, Accuracy: 4529/5123 (88.4052%)
___Test Local_ResNet_18 poisoned: False, epoch: 103: Average loss: 2.2269, Accuracy: 5205/10000 (52.0500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 23.07ms
___Train Local_ResNet_18,  epoch 103, local model 3, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4930/5346 (92.2185%)
___Train Local_ResNet_18,  epoch 103, local model 3, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4918/5346 (91.9940%)
___Test Local_ResNet_18 poisoned: False, epoch: 103: Average loss: 2.0384, Accuracy: 5351/10000 (53.5100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 22.09ms
___Train Local_ResNet_18,  epoch 103, local model 20, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4393/4714 (93.1905%)
___Train Local_ResNet_18,  epoch 103, local model 20, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4416/4714 (93.6784%)
___Test Local_ResNet_18 poisoned: False, epoch: 103: Average loss: 1.8817, Accuracy: 5640/10000 (56.4000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.81ms
INFO:tornado.access:200 POST /update (::1) 22.95ms
___Train Local_ResNet_18,  epoch 103, local model 49, internal_epoch   1,  Average loss: 0.0053, Accuracy: 5078/5652 (89.8443%)
___Train Local_ResNet_18,  epoch 103, local model 49, internal_epoch   2,  Average loss: 0.0058, Accuracy: 5016/5652 (88.7473%)
___Test Local_ResNet_18 poisoned: False, epoch: 103: Average loss: 2.1081, Accuracy: 5334/10000 (53.3400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 22.62ms
___Train Local_ResNet_18,  epoch 103, local model 91, internal_epoch   1,  Average loss: 0.0053, Accuracy: 4075/4527 (90.0155%)
___Train Local_ResNet_18,  epoch 103, local model 91, internal_epoch   2,  Average loss: 0.0061, Accuracy: 3992/4527 (88.1820%)
___Test Local_ResNet_18 poisoned: False, epoch: 103: Average loss: 2.0919, Accuracy: 5315/10000 (53.1500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 22.18ms
___Train Local_ResNet_18,  epoch 103, local model 24, internal_epoch   1,  Average loss: 0.0040, Accuracy: 3989/4313 (92.4878%)
___Train Local_ResNet_18,  epoch 103, local model 24, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4005/4313 (92.8588%)
___Test Local_ResNet_18 poisoned: False, epoch: 103: Average loss: 1.7748, Accuracy: 5885/10000 (58.8500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 21.82ms
___Train Local_ResNet_18,  epoch 103, local model 85, internal_epoch   1,  Average loss: 0.0050, Accuracy: 6267/6947 (90.2116%)
___Train Local_ResNet_18,  epoch 103, local model 85, internal_epoch   2,  Average loss: 0.0060, Accuracy: 6120/6947 (88.0956%)
___Test Local_ResNet_18 poisoned: False, epoch: 103: Average loss: 2.1620, Accuracy: 5151/10000 (51.5100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 21.85ms
___Train Local_ResNet_18,  epoch 103, local model 5, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4692/4993 (93.9716%)
___Train Local_ResNet_18,  epoch 103, local model 5, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4589/4993 (91.9087%)
___Test Local_ResNet_18 poisoned: False, epoch: 103: Average loss: 2.0655, Accuracy: 5585/10000 (55.8500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.80ms
INFO:tornado.access:200 POST /update (::1) 22.27ms
___Train Local_ResNet_18,  epoch 103, local model 96, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4668/5086 (91.7814%)
___Train Local_ResNet_18,  epoch 103, local model 96, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4718/5086 (92.7645%)
___Test Local_ResNet_18 poisoned: False, epoch: 103: Average loss: 2.1309, Accuracy: 5324/10000 (53.2400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.80ms
INFO:tornado.access:200 POST /update (::1) 23.04ms
___Train Local_ResNet_18,  epoch 103, local model 21, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4621/5038 (91.7229%)
___Train Local_ResNet_18,  epoch 103, local model 21, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4617/5038 (91.6435%)
___Test Local_ResNet_18 poisoned: False, epoch: 103: Average loss: 1.8836, Accuracy: 5715/10000 (57.1500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.81ms
INFO:tornado.access:200 POST /update (::1) 23.73ms
___Train Local_ResNet_18,  epoch 103, local model 80, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4998/5461 (91.5217%)
___Train Local_ResNet_18,  epoch 103, local model 80, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4912/5461 (89.9469%)
___Test Local_ResNet_18 poisoned: False, epoch: 103: Average loss: 2.0863, Accuracy: 5308/10000 (53.0800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 23.11ms
___Train Local_ResNet_18,  epoch 103, local model 9, internal_epoch   1,  Average loss: 0.0052, Accuracy: 5129/5727 (89.5582%)
___Train Local_ResNet_18,  epoch 103, local model 9, internal_epoch   2,  Average loss: 0.0055, Accuracy: 5091/5727 (88.8947%)
___Test Local_ResNet_18 poisoned: False, epoch: 103: Average loss: 2.0562, Accuracy: 5372/10000 (53.7200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 23.29ms
time spent on training: 259.1567099094391
___Test Target_ResNet_18 poisoned: False, epoch: 103: Average loss: 1.1831, Accuracy: 6862/10000 (68.6200%)
___Test Target_ResNet_18 poisoned: True, epoch: 103: Average loss: 0.2603, Accuracy: 9180/9900 (92.7273%)
Done in 286.072909116745 sec.
Server Epoch:104 choose agents : [13, 36, 58, 71, 24, 64, 59, 90, 22, 56, 73, 1, 70, 49, 88, 11, 44, 15, 92, 29].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 104, local model 13, internal_epoch   1,  Average loss: 0.0023, Accuracy: 5102/5308 (96.1191%), train_poison_data_count: 415
Global model norm: 43.15783113957275.
Norm before scaling: 43.136270040057354. Distance: 1.4702147626670934
Total norm for 4 adversaries is: 43.136270040057354. distance: 1.4702147626670934
___Test Local_ResNet_18 poisoned: True, epoch: 104: Average loss: 0.0773, Accuracy: 9701/9900 (97.9899%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 104, local model 36, internal_epoch   1,  Average loss: 0.0020, Accuracy: 5596/5777 (96.8669%), train_poison_data_count: 455
Global model norm: 43.15783113957275.
Norm before scaling: 43.126989877098715. Distance: 1.4149344269349144
Total norm for 4 adversaries is: 43.126989877098715. distance: 1.4149344269349144
___Test Local_ResNet_18 poisoned: True, epoch: 104: Average loss: 0.0722, Accuracy: 9710/9900 (98.0808%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 104, local model 58, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4881/5123 (95.2762%), train_poison_data_count: 403
Global model norm: 43.15783113957275.
Norm before scaling: 43.137092111317756. Distance: 1.4619738325133371
Total norm for 4 adversaries is: 43.137092111317756. distance: 1.4619738325133371
___Test Local_ResNet_18 poisoned: True, epoch: 104: Average loss: 0.2488, Accuracy: 9216/9900 (93.0909%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 104, local model 71, internal_epoch   1,  Average loss: 0.0024, Accuracy: 5298/5503 (96.2748%), train_poison_data_count: 430
Global model norm: 43.15783113957275.
Norm before scaling: 43.13321932542249. Distance: 1.4640968961960152
Total norm for 4 adversaries is: 43.13321932542249. distance: 1.4640968961960152
___Test Local_ResNet_18 poisoned: True, epoch: 104: Average loss: 0.0616, Accuracy: 9731/9900 (98.2929%)
___Train Local_ResNet_18,  epoch 104, local model 24, internal_epoch   1,  Average loss: 0.0043, Accuracy: 3951/4313 (91.6068%)
___Train Local_ResNet_18,  epoch 104, local model 24, internal_epoch   2,  Average loss: 0.0042, Accuracy: 3974/4313 (92.1400%)
___Test Local_ResNet_18 poisoned: False, epoch: 104: Average loss: 2.0217, Accuracy: 5509/10000 (55.0900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 22.24ms
___Train Local_ResNet_18,  epoch 104, local model 64, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4411/4894 (90.1308%)
___Train Local_ResNet_18,  epoch 104, local model 64, internal_epoch   2,  Average loss: 0.0059, Accuracy: 4320/4894 (88.2714%)
___Test Local_ResNet_18 poisoned: False, epoch: 104: Average loss: 2.0750, Accuracy: 5328/10000 (53.2800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 23.01ms
___Train Local_ResNet_18,  epoch 104, local model 59, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4194/4397 (95.3832%)
___Train Local_ResNet_18,  epoch 104, local model 59, internal_epoch   2,  Average loss: 0.0023, Accuracy: 4217/4397 (95.9063%)
___Test Local_ResNet_18 poisoned: False, epoch: 104: Average loss: 1.7884, Accuracy: 5898/10000 (58.9800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 22.30ms
___Train Local_ResNet_18,  epoch 104, local model 90, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4423/4748 (93.1550%)
___Train Local_ResNet_18,  epoch 104, local model 90, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4429/4748 (93.2814%)
___Test Local_ResNet_18 poisoned: False, epoch: 104: Average loss: 1.9825, Accuracy: 5487/10000 (54.8700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 22.84ms
___Train Local_ResNet_18,  epoch 104, local model 22, internal_epoch   1,  Average loss: 0.0040, Accuracy: 5266/5696 (92.4508%)
___Train Local_ResNet_18,  epoch 104, local model 22, internal_epoch   2,  Average loss: 0.0046, Accuracy: 5173/5696 (90.8181%)
___Test Local_ResNet_18 poisoned: False, epoch: 104: Average loss: 1.9824, Accuracy: 5378/10000 (53.7800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 22.53ms
___Train Local_ResNet_18,  epoch 104, local model 56, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4920/5427 (90.6578%)
___Train Local_ResNet_18,  epoch 104, local model 56, internal_epoch   2,  Average loss: 0.0054, Accuracy: 4854/5427 (89.4417%)
___Test Local_ResNet_18 poisoned: False, epoch: 104: Average loss: 1.9784, Accuracy: 5587/10000 (55.8700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 22.92ms
___Train Local_ResNet_18,  epoch 104, local model 73, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4280/4605 (92.9425%)
___Train Local_ResNet_18,  epoch 104, local model 73, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4287/4605 (93.0945%)
___Test Local_ResNet_18 poisoned: False, epoch: 104: Average loss: 2.0637, Accuracy: 5463/10000 (54.6300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 21.51ms
___Train Local_ResNet_18,  epoch 104, local model 1, internal_epoch   1,  Average loss: 0.0033, Accuracy: 5085/5422 (93.7846%)
___Train Local_ResNet_18,  epoch 104, local model 1, internal_epoch   2,  Average loss: 0.0033, Accuracy: 5091/5422 (93.8952%)
___Test Local_ResNet_18 poisoned: False, epoch: 104: Average loss: 1.9826, Accuracy: 5602/10000 (56.0200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 22.65ms
___Train Local_ResNet_18,  epoch 104, local model 70, internal_epoch   1,  Average loss: 0.0037, Accuracy: 5471/5871 (93.1869%)
___Train Local_ResNet_18,  epoch 104, local model 70, internal_epoch   2,  Average loss: 0.0044, Accuracy: 5371/5871 (91.4836%)
___Test Local_ResNet_18 poisoned: False, epoch: 104: Average loss: 1.9917, Accuracy: 5413/10000 (54.1300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 22.38ms
___Train Local_ResNet_18,  epoch 104, local model 49, internal_epoch   1,  Average loss: 0.0054, Accuracy: 5068/5652 (89.6674%)
___Train Local_ResNet_18,  epoch 104, local model 49, internal_epoch   2,  Average loss: 0.0052, Accuracy: 5066/5652 (89.6320%)
___Test Local_ResNet_18 poisoned: False, epoch: 104: Average loss: 2.1574, Accuracy: 5242/10000 (52.4200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 22.19ms
___Train Local_ResNet_18,  epoch 104, local model 88, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4913/5362 (91.6263%)
___Train Local_ResNet_18,  epoch 104, local model 88, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4810/5362 (89.7053%)
___Test Local_ResNet_18 poisoned: False, epoch: 104: Average loss: 2.1267, Accuracy: 5291/10000 (52.9100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 18.48ms
___Train Local_ResNet_18,  epoch 104, local model 11, internal_epoch   1,  Average loss: 0.0066, Accuracy: 4930/5702 (86.4609%)
___Train Local_ResNet_18,  epoch 104, local model 11, internal_epoch   2,  Average loss: 0.0094, Accuracy: 4703/5702 (82.4798%)
___Test Local_ResNet_18 poisoned: False, epoch: 104: Average loss: 2.3236, Accuracy: 4810/10000 (48.1000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 22.82ms
___Train Local_ResNet_18,  epoch 104, local model 44, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4688/5075 (92.3744%)
___Train Local_ResNet_18,  epoch 104, local model 44, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4622/5075 (91.0739%)
___Test Local_ResNet_18 poisoned: False, epoch: 104: Average loss: 2.0905, Accuracy: 5274/10000 (52.7400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 23.28ms
___Train Local_ResNet_18,  epoch 104, local model 15, internal_epoch   1,  Average loss: 0.0043, Accuracy: 5562/6068 (91.6612%)
___Train Local_ResNet_18,  epoch 104, local model 15, internal_epoch   2,  Average loss: 0.0044, Accuracy: 5536/6068 (91.2327%)
___Test Local_ResNet_18 poisoned: False, epoch: 104: Average loss: 2.1470, Accuracy: 5277/10000 (52.7700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 22.53ms
___Train Local_ResNet_18,  epoch 104, local model 92, internal_epoch   1,  Average loss: 0.0038, Accuracy: 6320/6812 (92.7775%)
___Train Local_ResNet_18,  epoch 104, local model 92, internal_epoch   2,  Average loss: 0.0039, Accuracy: 6286/6812 (92.2783%)
___Test Local_ResNet_18 poisoned: False, epoch: 104: Average loss: 2.1238, Accuracy: 5329/10000 (53.2900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 22.58ms
___Train Local_ResNet_18,  epoch 104, local model 29, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4405/4732 (93.0896%)
___Train Local_ResNet_18,  epoch 104, local model 29, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4408/4732 (93.1530%)
___Test Local_ResNet_18 poisoned: False, epoch: 104: Average loss: 1.9099, Accuracy: 5616/10000 (56.1600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 22.16ms
time spent on training: 275.2919194698334
___Test Target_ResNet_18 poisoned: False, epoch: 104: Average loss: 1.1854, Accuracy: 6860/10000 (68.6000%)
___Test Target_ResNet_18 poisoned: True, epoch: 104: Average loss: 0.2611, Accuracy: 9181/9900 (92.7374%)
Done in 302.0579047203064 sec.
Server Epoch:105 choose agents : [13, 36, 58, 71, 38, 1, 27, 46, 63, 42, 19, 95, 85, 68, 67, 92, 3, 17, 59, 81].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 105, local model 13, internal_epoch   1,  Average loss: 0.0022, Accuracy: 5128/5308 (96.6089%), train_poison_data_count: 415
Global model norm: 43.179898820045594.
Norm before scaling: 43.154690017515044. Distance: 1.3804689797021819
Total norm for 4 adversaries is: 43.154690017515044. distance: 1.3804689797021819
___Test Local_ResNet_18 poisoned: True, epoch: 105: Average loss: 0.1088, Accuracy: 9620/9900 (97.1717%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 105, local model 36, internal_epoch   1,  Average loss: 0.0020, Accuracy: 5598/5777 (96.9015%), train_poison_data_count: 455
Global model norm: 43.179898820045594.
Norm before scaling: 43.14888237028495. Distance: 1.4062051553993304
Total norm for 4 adversaries is: 43.14888237028495. distance: 1.4062051553993304
___Test Local_ResNet_18 poisoned: True, epoch: 105: Average loss: 0.0722, Accuracy: 9695/9900 (97.9293%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 105, local model 58, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4899/5123 (95.6276%), train_poison_data_count: 403
Global model norm: 43.179898820045594.
Norm before scaling: 43.15690339385896. Distance: 1.4479852655567353
Total norm for 4 adversaries is: 43.15690339385896. distance: 1.4479852655567353
___Test Local_ResNet_18 poisoned: True, epoch: 105: Average loss: 0.1615, Accuracy: 9470/9900 (95.6566%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 105, local model 71, internal_epoch   1,  Average loss: 0.0024, Accuracy: 5303/5503 (96.3656%), train_poison_data_count: 430
Global model norm: 43.179898820045594.
Norm before scaling: 43.15391636974418. Distance: 1.4600341778504136
Total norm for 4 adversaries is: 43.15391636974418. distance: 1.4600341778504136
___Test Local_ResNet_18 poisoned: True, epoch: 105: Average loss: 0.0461, Accuracy: 9772/9900 (98.7071%)
___Train Local_ResNet_18,  epoch 105, local model 38, internal_epoch   1,  Average loss: 0.0054, Accuracy: 5586/6235 (89.5910%)
___Train Local_ResNet_18,  epoch 105, local model 38, internal_epoch   2,  Average loss: 0.0050, Accuracy: 5623/6235 (90.1844%)
___Test Local_ResNet_18 poisoned: False, epoch: 105: Average loss: 2.1466, Accuracy: 5259/10000 (52.5900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 22.40ms
___Train Local_ResNet_18,  epoch 105, local model 1, internal_epoch   1,  Average loss: 0.0033, Accuracy: 5092/5422 (93.9137%)
___Train Local_ResNet_18,  epoch 105, local model 1, internal_epoch   2,  Average loss: 0.0037, Accuracy: 5016/5422 (92.5120%)
___Test Local_ResNet_18 poisoned: False, epoch: 105: Average loss: 1.8763, Accuracy: 5664/10000 (56.6400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 22.88ms
___Train Local_ResNet_18,  epoch 105, local model 27, internal_epoch   1,  Average loss: 0.0053, Accuracy: 4126/4587 (89.9499%)
___Train Local_ResNet_18,  epoch 105, local model 27, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4123/4587 (89.8845%)
___Test Local_ResNet_18 poisoned: False, epoch: 105: Average loss: 1.9385, Accuracy: 5560/10000 (55.6000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 22.40ms
___Train Local_ResNet_18,  epoch 105, local model 46, internal_epoch   1,  Average loss: 0.0055, Accuracy: 4850/5399 (89.8315%)
___Train Local_ResNet_18,  epoch 105, local model 46, internal_epoch   2,  Average loss: 0.0062, Accuracy: 4740/5399 (87.7940%)
___Test Local_ResNet_18 poisoned: False, epoch: 105: Average loss: 2.2419, Accuracy: 5119/10000 (51.1900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 22.76ms
___Train Local_ResNet_18,  epoch 105, local model 63, internal_epoch   1,  Average loss: 0.0039, Accuracy: 3615/3910 (92.4552%)
___Train Local_ResNet_18,  epoch 105, local model 63, internal_epoch   2,  Average loss: 0.0042, Accuracy: 3603/3910 (92.1483%)
___Test Local_ResNet_18 poisoned: False, epoch: 105: Average loss: 2.0801, Accuracy: 5474/10000 (54.7400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.82ms
INFO:tornado.access:200 POST /update (::1) 22.85ms
___Train Local_ResNet_18,  epoch 105, local model 42, internal_epoch   1,  Average loss: 0.0048, Accuracy: 5384/5907 (91.1461%)
___Train Local_ResNet_18,  epoch 105, local model 42, internal_epoch   2,  Average loss: 0.0057, Accuracy: 5231/5907 (88.5560%)
___Test Local_ResNet_18 poisoned: False, epoch: 105: Average loss: 2.4503, Accuracy: 4924/10000 (49.2400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 23.78ms
___Train Local_ResNet_18,  epoch 105, local model 19, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4850/5361 (90.4682%)
___Train Local_ResNet_18,  epoch 105, local model 19, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4784/5361 (89.2371%)
___Test Local_ResNet_18 poisoned: False, epoch: 105: Average loss: 2.1425, Accuracy: 5216/10000 (52.1600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 22.24ms
___Train Local_ResNet_18,  epoch 105, local model 95, internal_epoch   1,  Average loss: 0.0050, Accuracy: 4552/5018 (90.7134%)
___Train Local_ResNet_18,  epoch 105, local model 95, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4518/5018 (90.0359%)
___Test Local_ResNet_18 poisoned: False, epoch: 105: Average loss: 2.0652, Accuracy: 5438/10000 (54.3800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 23.08ms
___Train Local_ResNet_18,  epoch 105, local model 85, internal_epoch   1,  Average loss: 0.0051, Accuracy: 6275/6947 (90.3268%)
___Train Local_ResNet_18,  epoch 105, local model 85, internal_epoch   2,  Average loss: 0.0068, Accuracy: 6025/6947 (86.7281%)
___Test Local_ResNet_18 poisoned: False, epoch: 105: Average loss: 2.1842, Accuracy: 5190/10000 (51.9000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 23.19ms
___Train Local_ResNet_18,  epoch 105, local model 68, internal_epoch   1,  Average loss: 0.0045, Accuracy: 3292/3589 (91.7247%)
___Train Local_ResNet_18,  epoch 105, local model 68, internal_epoch   2,  Average loss: 0.0064, Accuracy: 3215/3589 (89.5793%)
___Test Local_ResNet_18 poisoned: False, epoch: 105: Average loss: 2.1247, Accuracy: 5352/10000 (53.5200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 22.53ms
___Train Local_ResNet_18,  epoch 105, local model 67, internal_epoch   1,  Average loss: 0.0051, Accuracy: 5030/5559 (90.4839%)
___Train Local_ResNet_18,  epoch 105, local model 67, internal_epoch   2,  Average loss: 0.0057, Accuracy: 4949/5559 (89.0268%)
___Test Local_ResNet_18 poisoned: False, epoch: 105: Average loss: 2.1756, Accuracy: 5134/10000 (51.3400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 23.06ms
___Train Local_ResNet_18,  epoch 105, local model 92, internal_epoch   1,  Average loss: 0.0036, Accuracy: 6351/6812 (93.2325%)
___Train Local_ResNet_18,  epoch 105, local model 92, internal_epoch   2,  Average loss: 0.0047, Accuracy: 6217/6812 (91.2654%)
___Test Local_ResNet_18 poisoned: False, epoch: 105: Average loss: 2.2190, Accuracy: 5176/10000 (51.7600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.03ms
INFO:tornado.access:200 POST /win_exists (::1) 0.80ms
INFO:tornado.access:200 POST /update (::1) 22.63ms
___Train Local_ResNet_18,  epoch 105, local model 3, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4993/5346 (93.3969%)
___Train Local_ResNet_18,  epoch 105, local model 3, internal_epoch   2,  Average loss: 0.0036, Accuracy: 5003/5346 (93.5840%)
___Test Local_ResNet_18 poisoned: False, epoch: 105: Average loss: 1.9719, Accuracy: 5519/10000 (55.1900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.73ms
INFO:tornado.access:200 POST /win_exists (::1) 0.65ms
INFO:tornado.access:200 POST /update (::1) 22.01ms
___Train Local_ResNet_18,  epoch 105, local model 17, internal_epoch   1,  Average loss: 0.0055, Accuracy: 4397/4903 (89.6798%)
___Train Local_ResNet_18,  epoch 105, local model 17, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4428/4903 (90.3121%)
___Test Local_ResNet_18 poisoned: False, epoch: 105: Average loss: 1.9248, Accuracy: 5450/10000 (54.5000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 22.43ms
___Train Local_ResNet_18,  epoch 105, local model 59, internal_epoch   1,  Average loss: 0.0024, Accuracy: 4213/4397 (95.8153%)
___Train Local_ResNet_18,  epoch 105, local model 59, internal_epoch   2,  Average loss: 0.0020, Accuracy: 4244/4397 (96.5204%)
___Test Local_ResNet_18 poisoned: False, epoch: 105: Average loss: 1.7416, Accuracy: 5954/10000 (59.5400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 22.97ms
___Train Local_ResNet_18,  epoch 105, local model 81, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4695/5035 (93.2473%)
___Train Local_ResNet_18,  epoch 105, local model 81, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4702/5035 (93.3863%)
___Test Local_ResNet_18 poisoned: False, epoch: 105: Average loss: 1.9621, Accuracy: 5584/10000 (55.8400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /update (::1) 22.52ms
time spent on training: 275.68243408203125
___Test Target_ResNet_18 poisoned: False, epoch: 105: Average loss: 1.1851, Accuracy: 6873/10000 (68.7300%)
___Test Target_ResNet_18 poisoned: True, epoch: 105: Average loss: 0.2591, Accuracy: 9181/9900 (92.7374%)
Done in 302.3685519695282 sec.
Server Epoch:106 choose agents : [13, 36, 58, 71, 70, 72, 67, 66, 75, 44, 99, 84, 22, 28, 37, 74, 14, 79, 7, 54].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 106, local model 13, internal_epoch   1,  Average loss: 0.0022, Accuracy: 5116/5308 (96.3828%), train_poison_data_count: 415
Global model norm: 43.20288624481948.
Norm before scaling: 43.17922881179387. Distance: 1.4185408181740586
Total norm for 4 adversaries is: 43.17922881179387. distance: 1.4185408181740586
___Test Local_ResNet_18 poisoned: True, epoch: 106: Average loss: 0.0308, Accuracy: 9817/9900 (99.1616%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 106, local model 36, internal_epoch   1,  Average loss: 0.0023, Accuracy: 5582/5777 (96.6245%), train_poison_data_count: 455
Global model norm: 43.20288624481948.
Norm before scaling: 43.172692152056605. Distance: 1.434424219554413
Total norm for 4 adversaries is: 43.172692152056605. distance: 1.434424219554413
___Test Local_ResNet_18 poisoned: True, epoch: 106: Average loss: 0.0729, Accuracy: 9711/9900 (98.0909%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 106, local model 58, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4914/5123 (95.9204%), train_poison_data_count: 403
Global model norm: 43.20288624481948.
Norm before scaling: 43.179603395747655. Distance: 1.4156673029290454
Total norm for 4 adversaries is: 43.179603395747655. distance: 1.4156673029290454
___Test Local_ResNet_18 poisoned: True, epoch: 106: Average loss: 0.0875, Accuracy: 9656/9900 (97.5354%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 106, local model 71, internal_epoch   1,  Average loss: 0.0024, Accuracy: 5276/5503 (95.8750%), train_poison_data_count: 430
Global model norm: 43.20288624481948.
Norm before scaling: 43.18025360923454. Distance: 1.5019615381449187
Total norm for 4 adversaries is: 43.18025360923454. distance: 1.5019615381449187
___Test Local_ResNet_18 poisoned: True, epoch: 106: Average loss: 0.0292, Accuracy: 9833/9900 (99.3232%)
___Train Local_ResNet_18,  epoch 106, local model 70, internal_epoch   1,  Average loss: 0.0042, Accuracy: 5399/5871 (91.9605%)
___Train Local_ResNet_18,  epoch 106, local model 70, internal_epoch   2,  Average loss: 0.0046, Accuracy: 5322/5871 (90.6490%)
___Test Local_ResNet_18 poisoned: False, epoch: 106: Average loss: 2.1000, Accuracy: 5320/10000 (53.2000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 22.27ms
___Train Local_ResNet_18,  epoch 106, local model 72, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4703/5193 (90.5642%)
___Train Local_ResNet_18,  epoch 106, local model 72, internal_epoch   2,  Average loss: 0.0071, Accuracy: 4450/5193 (85.6923%)
___Test Local_ResNet_18 poisoned: False, epoch: 106: Average loss: 2.4135, Accuracy: 4963/10000 (49.6300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 23.21ms
___Train Local_ResNet_18,  epoch 106, local model 67, internal_epoch   1,  Average loss: 0.0050, Accuracy: 5028/5559 (90.4479%)
___Train Local_ResNet_18,  epoch 106, local model 67, internal_epoch   2,  Average loss: 0.0057, Accuracy: 4945/5559 (88.9548%)
___Test Local_ResNet_18 poisoned: False, epoch: 106: Average loss: 2.0643, Accuracy: 5266/10000 (52.6600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 22.53ms
___Train Local_ResNet_18,  epoch 106, local model 66, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4433/4843 (91.5342%)
___Train Local_ResNet_18,  epoch 106, local model 66, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4419/4843 (91.2451%)
___Test Local_ResNet_18 poisoned: False, epoch: 106: Average loss: 1.9951, Accuracy: 5460/10000 (54.6000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 22.63ms
___Train Local_ResNet_18,  epoch 106, local model 75, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4331/4672 (92.7012%)
___Train Local_ResNet_18,  epoch 106, local model 75, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4329/4672 (92.6584%)
___Test Local_ResNet_18 poisoned: False, epoch: 106: Average loss: 1.8761, Accuracy: 5722/10000 (57.2200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 22.51ms
___Train Local_ResNet_18,  epoch 106, local model 44, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4730/5075 (93.2020%)
___Train Local_ResNet_18,  epoch 106, local model 44, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4696/5075 (92.5320%)
___Test Local_ResNet_18 poisoned: False, epoch: 106: Average loss: 2.2773, Accuracy: 5155/10000 (51.5500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.82ms
INFO:tornado.access:200 POST /update (::1) 22.65ms
___Train Local_ResNet_18,  epoch 106, local model 99, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4428/4851 (91.2801%)
___Train Local_ResNet_18,  epoch 106, local model 99, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4400/4851 (90.7029%)
___Test Local_ResNet_18 poisoned: False, epoch: 106: Average loss: 2.0166, Accuracy: 5460/10000 (54.6000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 22.80ms
___Train Local_ResNet_18,  epoch 106, local model 84, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4735/5209 (90.9004%)
___Train Local_ResNet_18,  epoch 106, local model 84, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4708/5209 (90.3820%)
___Test Local_ResNet_18 poisoned: False, epoch: 106: Average loss: 2.1688, Accuracy: 5317/10000 (53.1700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 23.33ms
___Train Local_ResNet_18,  epoch 106, local model 22, internal_epoch   1,  Average loss: 0.0041, Accuracy: 5236/5696 (91.9242%)
___Train Local_ResNet_18,  epoch 106, local model 22, internal_epoch   2,  Average loss: 0.0049, Accuracy: 5137/5696 (90.1861%)
___Test Local_ResNet_18 poisoned: False, epoch: 106: Average loss: 2.2490, Accuracy: 5144/10000 (51.4400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 23.24ms
___Train Local_ResNet_18,  epoch 106, local model 28, internal_epoch   1,  Average loss: 0.0059, Accuracy: 4637/5122 (90.5310%)
___Train Local_ResNet_18,  epoch 106, local model 28, internal_epoch   2,  Average loss: 0.0075, Accuracy: 4389/5122 (85.6892%)
___Test Local_ResNet_18 poisoned: False, epoch: 106: Average loss: 2.3768, Accuracy: 4955/10000 (49.5500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 23.15ms
___Train Local_ResNet_18,  epoch 106, local model 37, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4311/4741 (90.9302%)
___Train Local_ResNet_18,  epoch 106, local model 37, internal_epoch   2,  Average loss: 0.0070, Accuracy: 4146/4741 (87.4499%)
___Test Local_ResNet_18 poisoned: False, epoch: 106: Average loss: 2.3478, Accuracy: 4972/10000 (49.7200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 22.35ms
___Train Local_ResNet_18,  epoch 106, local model 74, internal_epoch   1,  Average loss: 0.0050, Accuracy: 4318/4797 (90.0146%)
___Train Local_ResNet_18,  epoch 106, local model 74, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4259/4797 (88.7847%)
___Test Local_ResNet_18 poisoned: False, epoch: 106: Average loss: 2.1294, Accuracy: 5223/10000 (52.2300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 22.23ms
___Train Local_ResNet_18,  epoch 106, local model 14, internal_epoch   1,  Average loss: 0.0031, Accuracy: 3981/4196 (94.8761%)
___Train Local_ResNet_18,  epoch 106, local model 14, internal_epoch   2,  Average loss: 0.0031, Accuracy: 3955/4196 (94.2564%)
___Test Local_ResNet_18 poisoned: False, epoch: 106: Average loss: 1.7844, Accuracy: 5859/10000 (58.5900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 22.20ms
___Train Local_ResNet_18,  epoch 106, local model 79, internal_epoch   1,  Average loss: 0.0043, Accuracy: 3767/4111 (91.6322%)
___Train Local_ResNet_18,  epoch 106, local model 79, internal_epoch   2,  Average loss: 0.0042, Accuracy: 3788/4111 (92.1430%)
___Test Local_ResNet_18 poisoned: False, epoch: 106: Average loss: 2.0263, Accuracy: 5419/10000 (54.1900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.03ms
INFO:tornado.access:200 POST /win_exists (::1) 0.79ms
INFO:tornado.access:200 POST /update (::1) 23.10ms
___Train Local_ResNet_18,  epoch 106, local model 7, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4470/4869 (91.8053%)
___Train Local_ResNet_18,  epoch 106, local model 7, internal_epoch   2,  Average loss: 0.0084, Accuracy: 4101/4869 (84.2267%)
___Test Local_ResNet_18 poisoned: False, epoch: 106: Average loss: 2.2764, Accuracy: 5057/10000 (50.5700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 22.71ms
___Train Local_ResNet_18,  epoch 106, local model 54, internal_epoch   1,  Average loss: 0.0056, Accuracy: 5045/5645 (89.3711%)
___Train Local_ResNet_18,  epoch 106, local model 54, internal_epoch   2,  Average loss: 0.0062, Accuracy: 4965/5645 (87.9539%)
___Test Local_ResNet_18 poisoned: False, epoch: 106: Average loss: 2.0393, Accuracy: 5398/10000 (53.9800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 22.12ms
time spent on training: 271.89635181427
___Test Target_ResNet_18 poisoned: False, epoch: 106: Average loss: 1.1854, Accuracy: 6880/10000 (68.8000%)
___Test Target_ResNet_18 poisoned: True, epoch: 106: Average loss: 0.2276, Accuracy: 9267/9900 (93.6061%)
Done in 298.5208842754364 sec.
Server Epoch:107 choose agents : [13, 36, 58, 71, 16, 83, 76, 93, 11, 51, 92, 61, 72, 59, 60, 3, 30, 80, 49, 40].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 107, local model 13, internal_epoch   1,  Average loss: 0.0022, Accuracy: 5129/5308 (96.6277%), train_poison_data_count: 415
Global model norm: 43.225996997249815.
Norm before scaling: 43.201080704346246. Distance: 1.4233041644327389
Total norm for 4 adversaries is: 43.201080704346246. distance: 1.4233041644327389
___Test Local_ResNet_18 poisoned: True, epoch: 107: Average loss: 0.0605, Accuracy: 9737/9900 (98.3535%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 107, local model 36, internal_epoch   1,  Average loss: 0.0020, Accuracy: 5605/5777 (97.0227%), train_poison_data_count: 455
Global model norm: 43.225996997249815.
Norm before scaling: 43.19186957815383. Distance: 1.3752966474101818
Total norm for 4 adversaries is: 43.19186957815383. distance: 1.3752966474101818
___Test Local_ResNet_18 poisoned: True, epoch: 107: Average loss: 0.0353, Accuracy: 9801/9900 (99.0000%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 107, local model 58, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4915/5123 (95.9399%), train_poison_data_count: 403
Global model norm: 43.225996997249815.
Norm before scaling: 43.202041408201275. Distance: 1.4354446478535463
Total norm for 4 adversaries is: 43.202041408201275. distance: 1.4354446478535463
___Test Local_ResNet_18 poisoned: True, epoch: 107: Average loss: 0.1168, Accuracy: 9600/9900 (96.9697%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 107, local model 71, internal_epoch   1,  Average loss: 0.0022, Accuracy: 5309/5503 (96.4747%), train_poison_data_count: 430
Global model norm: 43.225996997249815.
Norm before scaling: 43.19963395705382. Distance: 1.4161261574586146
Total norm for 4 adversaries is: 43.19963395705382. distance: 1.4161261574586146
___Test Local_ResNet_18 poisoned: True, epoch: 107: Average loss: 0.1099, Accuracy: 9606/9900 (97.0303%)
___Train Local_ResNet_18,  epoch 107, local model 16, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4880/5353 (91.1638%)
___Train Local_ResNet_18,  epoch 107, local model 16, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4814/5353 (89.9309%)
___Test Local_ResNet_18 poisoned: False, epoch: 107: Average loss: 1.9934, Accuracy: 5508/10000 (55.0800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 22.33ms
___Train Local_ResNet_18,  epoch 107, local model 83, internal_epoch   1,  Average loss: 0.0044, Accuracy: 3219/3552 (90.6250%)
___Train Local_ResNet_18,  epoch 107, local model 83, internal_epoch   2,  Average loss: 0.0036, Accuracy: 3303/3552 (92.9899%)
___Test Local_ResNet_18 poisoned: False, epoch: 107: Average loss: 1.8165, Accuracy: 5878/10000 (58.7800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 22.88ms
___Train Local_ResNet_18,  epoch 107, local model 76, internal_epoch   1,  Average loss: 0.0046, Accuracy: 3589/3959 (90.6542%)
___Train Local_ResNet_18,  epoch 107, local model 76, internal_epoch   2,  Average loss: 0.0040, Accuracy: 3642/3959 (91.9929%)
___Test Local_ResNet_18 poisoned: False, epoch: 107: Average loss: 1.9243, Accuracy: 5594/10000 (55.9400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 23.36ms
___Train Local_ResNet_18,  epoch 107, local model 93, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4587/5055 (90.7418%)
___Train Local_ResNet_18,  epoch 107, local model 93, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4546/5055 (89.9308%)
___Test Local_ResNet_18 poisoned: False, epoch: 107: Average loss: 2.2571, Accuracy: 5171/10000 (51.7100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 22.62ms
___Train Local_ResNet_18,  epoch 107, local model 11, internal_epoch   1,  Average loss: 0.0070, Accuracy: 4946/5702 (86.7415%)
___Train Local_ResNet_18,  epoch 107, local model 11, internal_epoch   2,  Average loss: 0.0114, Accuracy: 4509/5702 (79.0775%)
___Test Local_ResNet_18 poisoned: False, epoch: 107: Average loss: 2.3998, Accuracy: 4773/10000 (47.7300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 22.71ms
___Train Local_ResNet_18,  epoch 107, local model 51, internal_epoch   1,  Average loss: 0.0039, Accuracy: 3802/4108 (92.5511%)
___Train Local_ResNet_18,  epoch 107, local model 51, internal_epoch   2,  Average loss: 0.0040, Accuracy: 3811/4108 (92.7702%)
___Test Local_ResNet_18 poisoned: False, epoch: 107: Average loss: 1.8947, Accuracy: 5660/10000 (56.6000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.80ms
INFO:tornado.access:200 POST /update (::1) 22.64ms
___Train Local_ResNet_18,  epoch 107, local model 92, internal_epoch   1,  Average loss: 0.0041, Accuracy: 6299/6812 (92.4692%)
___Train Local_ResNet_18,  epoch 107, local model 92, internal_epoch   2,  Average loss: 0.0042, Accuracy: 6255/6812 (91.8233%)
___Test Local_ResNet_18 poisoned: False, epoch: 107: Average loss: 2.1670, Accuracy: 5210/10000 (52.1000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 22.38ms
___Train Local_ResNet_18,  epoch 107, local model 61, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4127/4485 (92.0178%)
___Train Local_ResNet_18,  epoch 107, local model 61, internal_epoch   2,  Average loss: 0.0062, Accuracy: 3973/4485 (88.5842%)
___Test Local_ResNet_18 poisoned: False, epoch: 107: Average loss: 1.9368, Accuracy: 5483/10000 (54.8300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 23.14ms
___Train Local_ResNet_18,  epoch 107, local model 72, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4714/5193 (90.7760%)
___Train Local_ResNet_18,  epoch 107, local model 72, internal_epoch   2,  Average loss: 0.0071, Accuracy: 4470/5193 (86.0774%)
___Test Local_ResNet_18 poisoned: False, epoch: 107: Average loss: 2.4633, Accuracy: 4932/10000 (49.3200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 22.60ms
___Train Local_ResNet_18,  epoch 107, local model 59, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4150/4397 (94.3825%)
___Train Local_ResNet_18,  epoch 107, local model 59, internal_epoch   2,  Average loss: 0.0024, Accuracy: 4202/4397 (95.5652%)
___Test Local_ResNet_18 poisoned: False, epoch: 107: Average loss: 1.6994, Accuracy: 5961/10000 (59.6100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 22.89ms
___Train Local_ResNet_18,  epoch 107, local model 60, internal_epoch   1,  Average loss: 0.0043, Accuracy: 3803/4145 (91.7491%)
___Train Local_ResNet_18,  epoch 107, local model 60, internal_epoch   2,  Average loss: 0.0041, Accuracy: 3818/4145 (92.1110%)
___Test Local_ResNet_18 poisoned: False, epoch: 107: Average loss: 2.0402, Accuracy: 5533/10000 (55.3300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 23.72ms
___Train Local_ResNet_18,  epoch 107, local model 3, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4994/5346 (93.4156%)
___Train Local_ResNet_18,  epoch 107, local model 3, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4957/5346 (92.7235%)
___Test Local_ResNet_18 poisoned: False, epoch: 107: Average loss: 2.0144, Accuracy: 5440/10000 (54.4000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 22.64ms
___Train Local_ResNet_18,  epoch 107, local model 30, internal_epoch   1,  Average loss: 0.0040, Accuracy: 3486/3774 (92.3688%)
___Train Local_ResNet_18,  epoch 107, local model 30, internal_epoch   2,  Average loss: 0.0034, Accuracy: 3530/3774 (93.5347%)
___Test Local_ResNet_18 poisoned: False, epoch: 107: Average loss: 1.9458, Accuracy: 5693/10000 (56.9300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 23.39ms
___Train Local_ResNet_18,  epoch 107, local model 80, internal_epoch   1,  Average loss: 0.0040, Accuracy: 5034/5461 (92.1809%)
___Train Local_ResNet_18,  epoch 107, local model 80, internal_epoch   2,  Average loss: 0.0039, Accuracy: 5041/5461 (92.3091%)
___Test Local_ResNet_18 poisoned: False, epoch: 107: Average loss: 2.2693, Accuracy: 5229/10000 (52.2900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 22.35ms
___Train Local_ResNet_18,  epoch 107, local model 49, internal_epoch   1,  Average loss: 0.0053, Accuracy: 5060/5652 (89.5258%)
___Train Local_ResNet_18,  epoch 107, local model 49, internal_epoch   2,  Average loss: 0.0059, Accuracy: 4991/5652 (88.3050%)
___Test Local_ResNet_18 poisoned: False, epoch: 107: Average loss: 2.1281, Accuracy: 5311/10000 (53.1100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.81ms
INFO:tornado.access:200 POST /update (::1) 23.10ms
___Train Local_ResNet_18,  epoch 107, local model 40, internal_epoch   1,  Average loss: 0.0035, Accuracy: 5537/5939 (93.2312%)
___Train Local_ResNet_18,  epoch 107, local model 40, internal_epoch   2,  Average loss: 0.0036, Accuracy: 5526/5939 (93.0460%)
___Test Local_ResNet_18 poisoned: False, epoch: 107: Average loss: 2.0234, Accuracy: 5430/10000 (54.3000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 22.74ms
time spent on training: 271.3702404499054
___Test Target_ResNet_18 poisoned: False, epoch: 107: Average loss: 1.1936, Accuracy: 6862/10000 (68.6200%)
___Test Target_ResNet_18 poisoned: True, epoch: 107: Average loss: 0.2081, Accuracy: 9313/9900 (94.0707%)
Done in 297.9419481754303 sec.
Server Epoch:108 choose agents : [13, 36, 58, 71, 61, 73, 22, 98, 14, 33, 5, 2, 32, 21, 53, 79, 12, 10, 76, 78].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 108, local model 13, internal_epoch   1,  Average loss: 0.0022, Accuracy: 5141/5308 (96.8538%), train_poison_data_count: 415
Global model norm: 43.24607663743903.
Norm before scaling: 43.21989672195261. Distance: 1.3802488453035753
Total norm for 4 adversaries is: 43.21989672195261. distance: 1.3802488453035753
___Test Local_ResNet_18 poisoned: True, epoch: 108: Average loss: 0.0445, Accuracy: 9781/9900 (98.7980%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 108, local model 36, internal_epoch   1,  Average loss: 0.0021, Accuracy: 5586/5777 (96.6938%), train_poison_data_count: 455
Global model norm: 43.24607663743903.
Norm before scaling: 43.213217910130666. Distance: 1.3849827605596483
Total norm for 4 adversaries is: 43.213217910130666. distance: 1.3849827605596483
___Test Local_ResNet_18 poisoned: True, epoch: 108: Average loss: 0.0862, Accuracy: 9671/9900 (97.6869%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 108, local model 58, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4915/5123 (95.9399%), train_poison_data_count: 403
Global model norm: 43.24607663743903.
Norm before scaling: 43.22159697781307. Distance: 1.4201143703608508
Total norm for 4 adversaries is: 43.22159697781307. distance: 1.4201143703608508
___Test Local_ResNet_18 poisoned: True, epoch: 108: Average loss: 0.0835, Accuracy: 9699/9900 (97.9697%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 108, local model 71, internal_epoch   1,  Average loss: 0.0022, Accuracy: 5325/5503 (96.7654%), train_poison_data_count: 430
Global model norm: 43.24607663743903.
Norm before scaling: 43.21977527254596. Distance: 1.4327096317683468
Total norm for 4 adversaries is: 43.21977527254596. distance: 1.4327096317683468
___Test Local_ResNet_18 poisoned: True, epoch: 108: Average loss: 0.1146, Accuracy: 9596/9900 (96.9293%)
___Train Local_ResNet_18,  epoch 108, local model 61, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4119/4485 (91.8395%)
___Train Local_ResNet_18,  epoch 108, local model 61, internal_epoch   2,  Average loss: 0.0066, Accuracy: 3902/4485 (87.0011%)
___Test Local_ResNet_18 poisoned: False, epoch: 108: Average loss: 2.0947, Accuracy: 5251/10000 (52.5100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 23.40ms
___Train Local_ResNet_18,  epoch 108, local model 73, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4303/4605 (93.4419%)
___Train Local_ResNet_18,  epoch 108, local model 73, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4301/4605 (93.3985%)
___Test Local_ResNet_18 poisoned: False, epoch: 108: Average loss: 1.8879, Accuracy: 5691/10000 (56.9100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 22.60ms
___Train Local_ResNet_18,  epoch 108, local model 22, internal_epoch   1,  Average loss: 0.0037, Accuracy: 5295/5696 (92.9600%)
___Train Local_ResNet_18,  epoch 108, local model 22, internal_epoch   2,  Average loss: 0.0042, Accuracy: 5227/5696 (91.7662%)
___Test Local_ResNet_18 poisoned: False, epoch: 108: Average loss: 1.9755, Accuracy: 5538/10000 (55.3800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 22.24ms
___Train Local_ResNet_18,  epoch 108, local model 98, internal_epoch   1,  Average loss: 0.0048, Accuracy: 3854/4161 (92.6220%)
___Train Local_ResNet_18,  epoch 108, local model 98, internal_epoch   2,  Average loss: 0.0060, Accuracy: 3796/4161 (91.2281%)
___Test Local_ResNet_18 poisoned: False, epoch: 108: Average loss: 2.1646, Accuracy: 5309/10000 (53.0900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 23.17ms
___Train Local_ResNet_18,  epoch 108, local model 14, internal_epoch   1,  Average loss: 0.0031, Accuracy: 3975/4196 (94.7331%)
___Train Local_ResNet_18,  epoch 108, local model 14, internal_epoch   2,  Average loss: 0.0028, Accuracy: 3976/4196 (94.7569%)
___Test Local_ResNet_18 poisoned: False, epoch: 108: Average loss: 1.7750, Accuracy: 5823/10000 (58.2300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 22.36ms
___Train Local_ResNet_18,  epoch 108, local model 33, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4382/4818 (90.9506%)
___Train Local_ResNet_18,  epoch 108, local model 33, internal_epoch   2,  Average loss: 0.0062, Accuracy: 4226/4818 (87.7127%)
___Test Local_ResNet_18 poisoned: False, epoch: 108: Average loss: 1.9219, Accuracy: 5562/10000 (55.6200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 23.20ms
___Train Local_ResNet_18,  epoch 108, local model 5, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4659/4993 (93.3106%)
___Train Local_ResNet_18,  epoch 108, local model 5, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4660/4993 (93.3307%)
___Test Local_ResNet_18 poisoned: False, epoch: 108: Average loss: 2.0525, Accuracy: 5549/10000 (55.4900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 23.23ms
___Train Local_ResNet_18,  epoch 108, local model 2, internal_epoch   1,  Average loss: 0.0040, Accuracy: 3659/3968 (92.2127%)
___Train Local_ResNet_18,  epoch 108, local model 2, internal_epoch   2,  Average loss: 0.0039, Accuracy: 3661/3968 (92.2631%)
___Test Local_ResNet_18 poisoned: False, epoch: 108: Average loss: 1.8641, Accuracy: 5675/10000 (56.7500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 22.75ms
___Train Local_ResNet_18,  epoch 108, local model 32, internal_epoch   1,  Average loss: 0.0058, Accuracy: 5390/6080 (88.6513%)
___Train Local_ResNet_18,  epoch 108, local model 32, internal_epoch   2,  Average loss: 0.0056, Accuracy: 5370/6080 (88.3224%)
___Test Local_ResNet_18 poisoned: False, epoch: 108: Average loss: 2.2124, Accuracy: 5175/10000 (51.7500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 23.82ms
___Train Local_ResNet_18,  epoch 108, local model 21, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4603/5038 (91.3656%)
___Train Local_ResNet_18,  epoch 108, local model 21, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4580/5038 (90.9091%)
___Test Local_ResNet_18 poisoned: False, epoch: 108: Average loss: 1.9695, Accuracy: 5546/10000 (55.4600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 22.68ms
___Train Local_ResNet_18,  epoch 108, local model 53, internal_epoch   1,  Average loss: 0.0063, Accuracy: 5845/6664 (87.7101%)
___Train Local_ResNet_18,  epoch 108, local model 53, internal_epoch   2,  Average loss: 0.0087, Accuracy: 5523/6664 (82.8782%)
___Test Local_ResNet_18 poisoned: False, epoch: 108: Average loss: 2.6990, Accuracy: 4541/10000 (45.4100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 22.90ms
___Train Local_ResNet_18,  epoch 108, local model 79, internal_epoch   1,  Average loss: 0.0041, Accuracy: 3800/4111 (92.4349%)
___Train Local_ResNet_18,  epoch 108, local model 79, internal_epoch   2,  Average loss: 0.0037, Accuracy: 3822/4111 (92.9701%)
___Test Local_ResNet_18 poisoned: False, epoch: 108: Average loss: 2.0165, Accuracy: 5537/10000 (55.3700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 22.56ms
___Train Local_ResNet_18,  epoch 108, local model 12, internal_epoch   1,  Average loss: 0.0049, Accuracy: 5022/5526 (90.8795%)
___Train Local_ResNet_18,  epoch 108, local model 12, internal_epoch   2,  Average loss: 0.0062, Accuracy: 4843/5526 (87.6402%)
___Test Local_ResNet_18 poisoned: False, epoch: 108: Average loss: 2.1182, Accuracy: 5230/10000 (52.3000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 23.20ms
___Train Local_ResNet_18,  epoch 108, local model 10, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4759/5068 (93.9029%)
___Train Local_ResNet_18,  epoch 108, local model 10, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4623/5068 (91.2194%)
___Test Local_ResNet_18 poisoned: False, epoch: 108: Average loss: 2.0929, Accuracy: 5317/10000 (53.1700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 22.66ms
___Train Local_ResNet_18,  epoch 108, local model 76, internal_epoch   1,  Average loss: 0.0045, Accuracy: 3599/3959 (90.9068%)
___Train Local_ResNet_18,  epoch 108, local model 76, internal_epoch   2,  Average loss: 0.0036, Accuracy: 3672/3959 (92.7507%)
___Test Local_ResNet_18 poisoned: False, epoch: 108: Average loss: 1.8657, Accuracy: 5624/10000 (56.2400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 22.69ms
___Train Local_ResNet_18,  epoch 108, local model 78, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4093/4368 (93.7042%)
___Train Local_ResNet_18,  epoch 108, local model 78, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4045/4368 (92.6053%)
___Test Local_ResNet_18 poisoned: False, epoch: 108: Average loss: 2.0659, Accuracy: 5404/10000 (54.0400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.81ms
INFO:tornado.access:200 POST /win_exists (::1) 0.70ms
INFO:tornado.access:200 POST /update (::1) 19.17ms
time spent on training: 266.06218671798706
___Test Target_ResNet_18 poisoned: False, epoch: 108: Average loss: 1.1960, Accuracy: 6841/10000 (68.4100%)
___Test Target_ResNet_18 poisoned: True, epoch: 108: Average loss: 0.1913, Accuracy: 9360/9900 (94.5455%)
Done in 292.5170934200287 sec.
Server Epoch:109 choose agents : [13, 36, 58, 71, 73, 72, 84, 40, 22, 51, 8, 54, 34, 27, 68, 82, 65, 7, 14, 2].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 109, local model 13, internal_epoch   1,  Average loss: 0.0022, Accuracy: 5132/5308 (96.6843%), train_poison_data_count: 415
Global model norm: 43.26580133812024.
Norm before scaling: 43.23953737927173. Distance: 1.392700874729009
Total norm for 4 adversaries is: 43.23953737927173. distance: 1.392700874729009
___Test Local_ResNet_18 poisoned: True, epoch: 109: Average loss: 0.1189, Accuracy: 9595/9900 (96.9192%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 109, local model 36, internal_epoch   1,  Average loss: 0.0020, Accuracy: 5608/5777 (97.0746%), train_poison_data_count: 455
Global model norm: 43.26580133812024.
Norm before scaling: 43.232959014127026. Distance: 1.3814890072164658
Total norm for 4 adversaries is: 43.232959014127026. distance: 1.3814890072164658
___Test Local_ResNet_18 poisoned: True, epoch: 109: Average loss: 0.0968, Accuracy: 9648/9900 (97.4545%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 109, local model 58, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4913/5123 (95.9008%), train_poison_data_count: 403
Global model norm: 43.26580133812024.
Norm before scaling: 43.24128485394846. Distance: 1.42662186598327
Total norm for 4 adversaries is: 43.24128485394846. distance: 1.42662186598327
___Test Local_ResNet_18 poisoned: True, epoch: 109: Average loss: 0.0951, Accuracy: 9638/9900 (97.3535%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 109, local model 71, internal_epoch   1,  Average loss: 0.0023, Accuracy: 5305/5503 (96.4020%), train_poison_data_count: 430
Global model norm: 43.26580133812024.
Norm before scaling: 43.24020504150333. Distance: 1.4603155923749824
Total norm for 4 adversaries is: 43.24020504150333. distance: 1.4603155923749824
___Test Local_ResNet_18 poisoned: True, epoch: 109: Average loss: 0.1291, Accuracy: 9543/9900 (96.3939%)
___Train Local_ResNet_18,  epoch 109, local model 73, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4301/4605 (93.3985%)
___Train Local_ResNet_18,  epoch 109, local model 73, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4291/4605 (93.1813%)
___Test Local_ResNet_18 poisoned: False, epoch: 109: Average loss: 1.9860, Accuracy: 5574/10000 (55.7400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.79ms
INFO:tornado.access:200 POST /update (::1) 24.14ms
___Train Local_ResNet_18,  epoch 109, local model 72, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4762/5193 (91.7004%)
___Train Local_ResNet_18,  epoch 109, local model 72, internal_epoch   2,  Average loss: 0.0067, Accuracy: 4550/5193 (87.6179%)
___Test Local_ResNet_18 poisoned: False, epoch: 109: Average loss: 2.3661, Accuracy: 4894/10000 (48.9400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 22.61ms
___Train Local_ResNet_18,  epoch 109, local model 84, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4762/5209 (91.4187%)
___Train Local_ResNet_18,  epoch 109, local model 84, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4708/5209 (90.3820%)
___Test Local_ResNet_18 poisoned: False, epoch: 109: Average loss: 2.0899, Accuracy: 5347/10000 (53.4700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 23.11ms
___Train Local_ResNet_18,  epoch 109, local model 40, internal_epoch   1,  Average loss: 0.0037, Accuracy: 5519/5939 (92.9281%)
___Train Local_ResNet_18,  epoch 109, local model 40, internal_epoch   2,  Average loss: 0.0040, Accuracy: 5472/5939 (92.1367%)
___Test Local_ResNet_18 poisoned: False, epoch: 109: Average loss: 2.0661, Accuracy: 5328/10000 (53.2800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 22.00ms
___Train Local_ResNet_18,  epoch 109, local model 22, internal_epoch   1,  Average loss: 0.0037, Accuracy: 5307/5696 (93.1706%)
___Train Local_ResNet_18,  epoch 109, local model 22, internal_epoch   2,  Average loss: 0.0045, Accuracy: 5181/5696 (90.9586%)
___Test Local_ResNet_18 poisoned: False, epoch: 109: Average loss: 2.2244, Accuracy: 5214/10000 (52.1400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 22.80ms
___Train Local_ResNet_18,  epoch 109, local model 51, internal_epoch   1,  Average loss: 0.0041, Accuracy: 3803/4108 (92.5755%)
___Train Local_ResNet_18,  epoch 109, local model 51, internal_epoch   2,  Average loss: 0.0054, Accuracy: 3694/4108 (89.9221%)
___Test Local_ResNet_18 poisoned: False, epoch: 109: Average loss: 2.1042, Accuracy: 5416/10000 (54.1600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 22.56ms
___Train Local_ResNet_18,  epoch 109, local model 8, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4469/4889 (91.4093%)
___Train Local_ResNet_18,  epoch 109, local model 8, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4508/4889 (92.2070%)
___Test Local_ResNet_18 poisoned: False, epoch: 109: Average loss: 1.9846, Accuracy: 5454/10000 (54.5400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.80ms
INFO:tornado.access:200 POST /update (::1) 23.13ms
___Train Local_ResNet_18,  epoch 109, local model 54, internal_epoch   1,  Average loss: 0.0053, Accuracy: 5060/5645 (89.6368%)
___Train Local_ResNet_18,  epoch 109, local model 54, internal_epoch   2,  Average loss: 0.0069, Accuracy: 4892/5645 (86.6608%)
___Test Local_ResNet_18 poisoned: False, epoch: 109: Average loss: 2.2731, Accuracy: 5045/10000 (50.4500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.80ms
INFO:tornado.access:200 POST /update (::1) 22.98ms
___Train Local_ResNet_18,  epoch 109, local model 34, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4534/4911 (92.3234%)
___Train Local_ResNet_18,  epoch 109, local model 34, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4507/4911 (91.7736%)
___Test Local_ResNet_18 poisoned: False, epoch: 109: Average loss: 1.9879, Accuracy: 5456/10000 (54.5600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 22.88ms
___Train Local_ResNet_18,  epoch 109, local model 27, internal_epoch   1,  Average loss: 0.0050, Accuracy: 4157/4587 (90.6257%)
___Train Local_ResNet_18,  epoch 109, local model 27, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4191/4587 (91.3669%)
___Test Local_ResNet_18 poisoned: False, epoch: 109: Average loss: 2.0792, Accuracy: 5432/10000 (54.3200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 22.57ms
___Train Local_ResNet_18,  epoch 109, local model 68, internal_epoch   1,  Average loss: 0.0042, Accuracy: 3339/3589 (93.0343%)
___Train Local_ResNet_18,  epoch 109, local model 68, internal_epoch   2,  Average loss: 0.0066, Accuracy: 3142/3589 (87.5453%)
___Test Local_ResNet_18 poisoned: False, epoch: 109: Average loss: 2.1477, Accuracy: 5341/10000 (53.4100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.04ms
INFO:tornado.access:200 POST /win_exists (::1) 0.65ms
INFO:tornado.access:200 POST /update (::1) 18.14ms
___Train Local_ResNet_18,  epoch 109, local model 82, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4962/5298 (93.6580%)
___Train Local_ResNet_18,  epoch 109, local model 82, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4948/5298 (93.3937%)
___Test Local_ResNet_18 poisoned: False, epoch: 109: Average loss: 1.9703, Accuracy: 5490/10000 (54.9000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 22.74ms
___Train Local_ResNet_18,  epoch 109, local model 65, internal_epoch   1,  Average loss: 0.0044, Accuracy: 5034/5497 (91.5772%)
___Train Local_ResNet_18,  epoch 109, local model 65, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4976/5497 (90.5221%)
___Test Local_ResNet_18 poisoned: False, epoch: 109: Average loss: 2.1217, Accuracy: 5311/10000 (53.1100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 24.14ms
___Train Local_ResNet_18,  epoch 109, local model 7, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4437/4869 (91.1275%)
___Train Local_ResNet_18,  epoch 109, local model 7, internal_epoch   2,  Average loss: 0.0068, Accuracy: 4249/4869 (87.2664%)
___Test Local_ResNet_18 poisoned: False, epoch: 109: Average loss: 2.4347, Accuracy: 4976/10000 (49.7600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 24.47ms
___Train Local_ResNet_18,  epoch 109, local model 14, internal_epoch   1,  Average loss: 0.0030, Accuracy: 3979/4196 (94.8284%)
___Train Local_ResNet_18,  epoch 109, local model 14, internal_epoch   2,  Average loss: 0.0029, Accuracy: 3983/4196 (94.9237%)
___Test Local_ResNet_18 poisoned: False, epoch: 109: Average loss: 1.7475, Accuracy: 5949/10000 (59.4900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 23.86ms
___Train Local_ResNet_18,  epoch 109, local model 2, internal_epoch   1,  Average loss: 0.0041, Accuracy: 3672/3968 (92.5403%)
___Train Local_ResNet_18,  epoch 109, local model 2, internal_epoch   2,  Average loss: 0.0037, Accuracy: 3672/3968 (92.5403%)
___Test Local_ResNet_18 poisoned: False, epoch: 109: Average loss: 1.7631, Accuracy: 5833/10000 (58.3300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.03ms
INFO:tornado.access:200 POST /win_exists (::1) 0.79ms
INFO:tornado.access:200 POST /update (::1) 22.82ms
time spent on training: 268.8668212890625
___Test Target_ResNet_18 poisoned: False, epoch: 109: Average loss: 1.1948, Accuracy: 6851/10000 (68.5100%)
___Test Target_ResNet_18 poisoned: True, epoch: 109: Average loss: 0.1997, Accuracy: 9342/9900 (94.3636%)
Done in 295.3779413700104 sec.
Server Epoch:110 choose agents : [13, 36, 58, 71, 98, 90, 19, 60, 20, 39, 86, 78, 25, 23, 28, 34, 4, 9, 5, 41].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 110, local model 13, internal_epoch   1,  Average loss: 0.0022, Accuracy: 5132/5308 (96.6843%), train_poison_data_count: 415
Global model norm: 43.286917216965655.
Norm before scaling: 43.26128544506479. Distance: 1.4022537245052316
Total norm for 4 adversaries is: 43.26128544506479. distance: 1.4022537245052316
___Test Local_ResNet_18 poisoned: True, epoch: 110: Average loss: 0.0324, Accuracy: 9817/9900 (99.1616%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 110, local model 36, internal_epoch   1,  Average loss: 0.0020, Accuracy: 5618/5777 (97.2477%), train_poison_data_count: 455
Global model norm: 43.286917216965655.
Norm before scaling: 43.254663822330336. Distance: 1.3712420261119918
Total norm for 4 adversaries is: 43.254663822330336. distance: 1.3712420261119918
___Test Local_ResNet_18 poisoned: True, epoch: 110: Average loss: 0.0403, Accuracy: 9791/9900 (98.8990%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 110, local model 58, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4889/5123 (95.4324%), train_poison_data_count: 403
Global model norm: 43.286917216965655.
Norm before scaling: 43.26314772611761. Distance: 1.4474987918143756
Total norm for 4 adversaries is: 43.26314772611761. distance: 1.4474987918143756
___Test Local_ResNet_18 poisoned: True, epoch: 110: Average loss: 0.2153, Accuracy: 9349/9900 (94.4343%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 110, local model 71, internal_epoch   1,  Average loss: 0.0022, Accuracy: 5323/5503 (96.7291%), train_poison_data_count: 430
Global model norm: 43.286917216965655.
Norm before scaling: 43.2587782931287. Distance: 1.4003447414739538
Total norm for 4 adversaries is: 43.2587782931287. distance: 1.4003447414739538
___Test Local_ResNet_18 poisoned: True, epoch: 110: Average loss: 0.0275, Accuracy: 9827/9900 (99.2626%)
___Train Local_ResNet_18,  epoch 110, local model 98, internal_epoch   1,  Average loss: 0.0044, Accuracy: 3870/4161 (93.0065%)
___Train Local_ResNet_18,  epoch 110, local model 98, internal_epoch   2,  Average loss: 0.0059, Accuracy: 3735/4161 (89.7621%)
___Test Local_ResNet_18 poisoned: False, epoch: 110: Average loss: 1.9834, Accuracy: 5622/10000 (56.2200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 22.64ms
___Train Local_ResNet_18,  epoch 110, local model 90, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4414/4748 (92.9655%)
___Train Local_ResNet_18,  epoch 110, local model 90, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4435/4748 (93.4078%)
___Test Local_ResNet_18 poisoned: False, epoch: 110: Average loss: 1.9695, Accuracy: 5577/10000 (55.7700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.03ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 23.37ms
___Train Local_ResNet_18,  epoch 110, local model 19, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4907/5361 (91.5314%)
___Train Local_ResNet_18,  epoch 110, local model 19, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4836/5361 (90.2071%)
___Test Local_ResNet_18 poisoned: False, epoch: 110: Average loss: 1.9164, Accuracy: 5595/10000 (55.9500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 22.95ms
___Train Local_ResNet_18,  epoch 110, local model 60, internal_epoch   1,  Average loss: 0.0043, Accuracy: 3804/4145 (91.7732%)
___Train Local_ResNet_18,  epoch 110, local model 60, internal_epoch   2,  Average loss: 0.0038, Accuracy: 3832/4145 (92.4487%)
___Test Local_ResNet_18 poisoned: False, epoch: 110: Average loss: 1.8885, Accuracy: 5698/10000 (56.9800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 22.84ms
___Train Local_ResNet_18,  epoch 110, local model 20, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4424/4714 (93.8481%)
___Train Local_ResNet_18,  epoch 110, local model 20, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4377/4714 (92.8511%)
___Test Local_ResNet_18 poisoned: False, epoch: 110: Average loss: 2.0484, Accuracy: 5475/10000 (54.7500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 23.82ms
___Train Local_ResNet_18,  epoch 110, local model 39, internal_epoch   1,  Average loss: 0.0044, Accuracy: 3824/4175 (91.5928%)
___Train Local_ResNet_18,  epoch 110, local model 39, internal_epoch   2,  Average loss: 0.0049, Accuracy: 3786/4175 (90.6826%)
___Test Local_ResNet_18 poisoned: False, epoch: 110: Average loss: 2.2809, Accuracy: 5175/10000 (51.7500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 23.27ms
___Train Local_ResNet_18,  epoch 110, local model 86, internal_epoch   1,  Average loss: 0.0048, Accuracy: 3569/3929 (90.8374%)
___Train Local_ResNet_18,  epoch 110, local model 86, internal_epoch   2,  Average loss: 0.0047, Accuracy: 3539/3929 (90.0738%)
___Test Local_ResNet_18 poisoned: False, epoch: 110: Average loss: 1.8576, Accuracy: 5749/10000 (57.4900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 23.53ms
___Train Local_ResNet_18,  epoch 110, local model 78, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4077/4368 (93.3379%)
___Train Local_ResNet_18,  epoch 110, local model 78, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4045/4368 (92.6053%)
___Test Local_ResNet_18 poisoned: False, epoch: 110: Average loss: 1.9419, Accuracy: 5489/10000 (54.8900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.81ms
INFO:tornado.access:200 POST /update (::1) 23.39ms
___Train Local_ResNet_18,  epoch 110, local model 25, internal_epoch   1,  Average loss: 0.0055, Accuracy: 5737/6419 (89.3753%)
___Train Local_ResNet_18,  epoch 110, local model 25, internal_epoch   2,  Average loss: 0.0070, Accuracy: 5515/6419 (85.9168%)
___Test Local_ResNet_18 poisoned: False, epoch: 110: Average loss: 2.1956, Accuracy: 5217/10000 (52.1700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 23.17ms
___Train Local_ResNet_18,  epoch 110, local model 23, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4310/4549 (94.7461%)
___Train Local_ResNet_18,  epoch 110, local model 23, internal_epoch   2,  Average loss: 0.0065, Accuracy: 3985/4549 (87.6017%)
___Test Local_ResNet_18 poisoned: False, epoch: 110: Average loss: 2.1332, Accuracy: 5213/10000 (52.1300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 23.19ms
___Train Local_ResNet_18,  epoch 110, local model 28, internal_epoch   1,  Average loss: 0.0060, Accuracy: 4580/5122 (89.4182%)
___Train Local_ResNet_18,  epoch 110, local model 28, internal_epoch   2,  Average loss: 0.0144, Accuracy: 3837/5122 (74.9121%)
___Test Local_ResNet_18 poisoned: False, epoch: 110: Average loss: 2.5022, Accuracy: 4527/10000 (45.2700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.82ms
INFO:tornado.access:200 POST /update (::1) 23.18ms
___Train Local_ResNet_18,  epoch 110, local model 34, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4555/4911 (92.7510%)
___Train Local_ResNet_18,  epoch 110, local model 34, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4560/4911 (92.8528%)
___Test Local_ResNet_18 poisoned: False, epoch: 110: Average loss: 2.0627, Accuracy: 5389/10000 (53.8900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 23.60ms
___Train Local_ResNet_18,  epoch 110, local model 4, internal_epoch   1,  Average loss: 0.0042, Accuracy: 3714/4028 (92.2046%)
___Train Local_ResNet_18,  epoch 110, local model 4, internal_epoch   2,  Average loss: 0.0041, Accuracy: 3731/4028 (92.6266%)
___Test Local_ResNet_18 poisoned: False, epoch: 110: Average loss: 1.8203, Accuracy: 5829/10000 (58.2900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 23.41ms
___Train Local_ResNet_18,  epoch 110, local model 9, internal_epoch   1,  Average loss: 0.0051, Accuracy: 5171/5727 (90.2916%)
___Train Local_ResNet_18,  epoch 110, local model 9, internal_epoch   2,  Average loss: 0.0056, Accuracy: 5095/5727 (88.9646%)
___Test Local_ResNet_18 poisoned: False, epoch: 110: Average loss: 2.0596, Accuracy: 5359/10000 (53.5900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.75ms
INFO:tornado.access:200 POST /update (::1) 23.26ms
___Train Local_ResNet_18,  epoch 110, local model 5, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4706/4993 (94.2520%)
___Train Local_ResNet_18,  epoch 110, local model 5, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4643/4993 (92.9902%)
___Test Local_ResNet_18 poisoned: False, epoch: 110: Average loss: 2.1163, Accuracy: 5479/10000 (54.7900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 23.20ms
___Train Local_ResNet_18,  epoch 110, local model 41, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4412/4714 (93.5936%)
___Train Local_ResNet_18,  epoch 110, local model 41, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4402/4714 (93.3814%)
___Test Local_ResNet_18 poisoned: False, epoch: 110: Average loss: 1.9820, Accuracy: 5603/10000 (56.0300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 22.67ms
time spent on training: 264.7356719970703
___Test Target_ResNet_18 poisoned: False, epoch: 110: Average loss: 1.1927, Accuracy: 6859/10000 (68.5900%)
___Test Target_ResNet_18 poisoned: True, epoch: 110: Average loss: 0.1913, Accuracy: 9364/9900 (94.5859%)
Done in 291.6331353187561 sec.
Server Epoch:111 choose agents : [13, 36, 58, 71, 80, 69, 20, 50, 3, 73, 15, 77, 35, 56, 55, 18, 47, 21, 5, 43].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 111, local model 13, internal_epoch   1,  Average loss: 0.0020, Accuracy: 5151/5308 (97.0422%), train_poison_data_count: 415
Global model norm: 43.30593694638978.
Norm before scaling: 43.276653918874814. Distance: 1.3042966976891117
Total norm for 4 adversaries is: 43.276653918874814. distance: 1.3042966976891117
___Test Local_ResNet_18 poisoned: True, epoch: 111: Average loss: 0.0342, Accuracy: 9811/9900 (99.1010%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 111, local model 36, internal_epoch   1,  Average loss: 0.0020, Accuracy: 5615/5777 (97.1958%), train_poison_data_count: 455
Global model norm: 43.30593694638978.
Norm before scaling: 43.27296287991209. Distance: 1.3779592747421459
Total norm for 4 adversaries is: 43.27296287991209. distance: 1.3779592747421459
___Test Local_ResNet_18 poisoned: True, epoch: 111: Average loss: 0.0769, Accuracy: 9702/9900 (98.0000%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 111, local model 58, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4923/5123 (96.0960%), train_poison_data_count: 403
Global model norm: 43.30593694638978.
Norm before scaling: 43.28004708391544. Distance: 1.3794682467858335
Total norm for 4 adversaries is: 43.28004708391544. distance: 1.3794682467858335
___Test Local_ResNet_18 poisoned: True, epoch: 111: Average loss: 0.1081, Accuracy: 9623/9900 (97.2020%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 111, local model 71, internal_epoch   1,  Average loss: 0.0023, Accuracy: 5306/5503 (96.4201%), train_poison_data_count: 430
Global model norm: 43.30593694638978.
Norm before scaling: 43.28169844081763. Distance: 1.4809037427562428
Total norm for 4 adversaries is: 43.28169844081763. distance: 1.4809037427562428
___Test Local_ResNet_18 poisoned: True, epoch: 111: Average loss: 0.1578, Accuracy: 9476/9900 (95.7172%)
___Train Local_ResNet_18,  epoch 111, local model 80, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4988/5461 (91.3386%)
___Train Local_ResNet_18,  epoch 111, local model 80, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4956/5461 (90.7526%)
___Test Local_ResNet_18 poisoned: False, epoch: 111: Average loss: 2.2035, Accuracy: 5140/10000 (51.4000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.82ms
INFO:tornado.access:200 POST /update (::1) 24.32ms
___Train Local_ResNet_18,  epoch 111, local model 69, internal_epoch   1,  Average loss: 0.0046, Accuracy: 3999/4364 (91.6361%)
___Train Local_ResNet_18,  epoch 111, local model 69, internal_epoch   2,  Average loss: 0.0053, Accuracy: 3898/4364 (89.3217%)
___Test Local_ResNet_18 poisoned: False, epoch: 111: Average loss: 2.0956, Accuracy: 5384/10000 (53.8400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 22.93ms
___Train Local_ResNet_18,  epoch 111, local model 20, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4434/4714 (94.0602%)
___Train Local_ResNet_18,  epoch 111, local model 20, internal_epoch   2,  Average loss: 0.0030, Accuracy: 4455/4714 (94.5057%)
___Test Local_ResNet_18 poisoned: False, epoch: 111: Average loss: 1.8555, Accuracy: 5785/10000 (57.8500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 23.48ms
___Train Local_ResNet_18,  epoch 111, local model 50, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4359/4757 (91.6334%)
___Train Local_ResNet_18,  epoch 111, local model 50, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4300/4757 (90.3931%)
___Test Local_ResNet_18 poisoned: False, epoch: 111: Average loss: 2.1492, Accuracy: 5209/10000 (52.0900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 22.99ms
___Train Local_ResNet_18,  epoch 111, local model 3, internal_epoch   1,  Average loss: 0.0035, Accuracy: 5003/5346 (93.5840%)
___Train Local_ResNet_18,  epoch 111, local model 3, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4894/5346 (91.5451%)
___Test Local_ResNet_18 poisoned: False, epoch: 111: Average loss: 2.1538, Accuracy: 5200/10000 (52.0000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 23.76ms
___Train Local_ResNet_18,  epoch 111, local model 73, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4292/4605 (93.2030%)
___Train Local_ResNet_18,  epoch 111, local model 73, internal_epoch   2,  Average loss: 0.0033, Accuracy: 4313/4605 (93.6591%)
___Test Local_ResNet_18 poisoned: False, epoch: 111: Average loss: 1.9353, Accuracy: 5768/10000 (57.6800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 23.86ms
___Train Local_ResNet_18,  epoch 111, local model 15, internal_epoch   1,  Average loss: 0.0044, Accuracy: 5542/6068 (91.3316%)
___Train Local_ResNet_18,  epoch 111, local model 15, internal_epoch   2,  Average loss: 0.0049, Accuracy: 5459/6068 (89.9637%)
___Test Local_ResNet_18 poisoned: False, epoch: 111: Average loss: 2.3177, Accuracy: 5024/10000 (50.2400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 24.20ms
___Train Local_ResNet_18,  epoch 111, local model 77, internal_epoch   1,  Average loss: 0.0055, Accuracy: 4527/5050 (89.6436%)
___Train Local_ResNet_18,  epoch 111, local model 77, internal_epoch   2,  Average loss: 0.0056, Accuracy: 4494/5050 (88.9901%)
___Test Local_ResNet_18 poisoned: False, epoch: 111: Average loss: 2.0745, Accuracy: 5341/10000 (53.4100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 23.40ms
___Train Local_ResNet_18,  epoch 111, local model 35, internal_epoch   1,  Average loss: 0.0047, Accuracy: 5114/5615 (91.0775%)
___Train Local_ResNet_18,  epoch 111, local model 35, internal_epoch   2,  Average loss: 0.0046, Accuracy: 5102/5615 (90.8638%)
___Test Local_ResNet_18 poisoned: False, epoch: 111: Average loss: 2.0348, Accuracy: 5425/10000 (54.2500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 23.69ms
___Train Local_ResNet_18,  epoch 111, local model 56, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4915/5427 (90.5657%)
___Train Local_ResNet_18,  epoch 111, local model 56, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4902/5427 (90.3261%)
___Test Local_ResNet_18 poisoned: False, epoch: 111: Average loss: 2.1593, Accuracy: 5369/10000 (53.6900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 22.84ms
___Train Local_ResNet_18,  epoch 111, local model 55, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4405/4731 (93.1093%)
___Train Local_ResNet_18,  epoch 111, local model 55, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4358/4731 (92.1158%)
___Test Local_ResNet_18 poisoned: False, epoch: 111: Average loss: 2.0062, Accuracy: 5518/10000 (55.1800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 23.12ms
___Train Local_ResNet_18,  epoch 111, local model 18, internal_epoch   1,  Average loss: 0.0041, Accuracy: 3937/4249 (92.6571%)
___Train Local_ResNet_18,  epoch 111, local model 18, internal_epoch   2,  Average loss: 0.0042, Accuracy: 3908/4249 (91.9746%)
___Test Local_ResNet_18 poisoned: False, epoch: 111: Average loss: 1.9655, Accuracy: 5628/10000 (56.2800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 23.21ms
___Train Local_ResNet_18,  epoch 111, local model 47, internal_epoch   1,  Average loss: 0.0056, Accuracy: 4618/5123 (90.1425%)
___Train Local_ResNet_18,  epoch 111, local model 47, internal_epoch   2,  Average loss: 0.0104, Accuracy: 4117/5123 (80.3631%)
___Test Local_ResNet_18 poisoned: False, epoch: 111: Average loss: 2.3001, Accuracy: 4979/10000 (49.7900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 24.16ms
___Train Local_ResNet_18,  epoch 111, local model 21, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4657/5038 (92.4375%)
___Train Local_ResNet_18,  epoch 111, local model 21, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4611/5038 (91.5244%)
___Test Local_ResNet_18 poisoned: False, epoch: 111: Average loss: 1.9087, Accuracy: 5673/10000 (56.7300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 24.18ms
___Train Local_ResNet_18,  epoch 111, local model 5, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4735/4993 (94.8328%)
___Train Local_ResNet_18,  epoch 111, local model 5, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4635/4993 (92.8300%)
___Test Local_ResNet_18 poisoned: False, epoch: 111: Average loss: 2.0708, Accuracy: 5602/10000 (56.0200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 24.51ms
___Train Local_ResNet_18,  epoch 111, local model 43, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4599/4979 (92.3679%)
___Train Local_ResNet_18,  epoch 111, local model 43, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4591/4979 (92.2073%)
___Test Local_ResNet_18 poisoned: False, epoch: 111: Average loss: 2.0420, Accuracy: 5485/10000 (54.8500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 22.63ms
time spent on training: 266.74537205696106
___Test Target_ResNet_18 poisoned: False, epoch: 111: Average loss: 1.1882, Accuracy: 6859/10000 (68.5900%)
___Test Target_ResNet_18 poisoned: True, epoch: 111: Average loss: 0.1927, Accuracy: 9357/9900 (94.5152%)
Done in 293.5056986808777 sec.
Server Epoch:112 choose agents : [13, 36, 58, 71, 56, 14, 4, 30, 82, 85, 39, 70, 91, 59, 1, 88, 49, 34, 53, 93].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 112, local model 13, internal_epoch   1,  Average loss: 0.0020, Accuracy: 5146/5308 (96.9480%), train_poison_data_count: 415
Global model norm: 43.32711919586277.
Norm before scaling: 43.2979308446684. Distance: 1.3446350731404537
Total norm for 4 adversaries is: 43.2979308446684. distance: 1.3446350731404537
___Test Local_ResNet_18 poisoned: True, epoch: 112: Average loss: 0.0331, Accuracy: 9813/9900 (99.1212%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 112, local model 36, internal_epoch   1,  Average loss: 0.0020, Accuracy: 5607/5777 (97.0573%), train_poison_data_count: 455
Global model norm: 43.32711919586277.
Norm before scaling: 43.29275992037742. Distance: 1.3682530637623496
Total norm for 4 adversaries is: 43.29275992037742. distance: 1.3682530637623496
___Test Local_ResNet_18 poisoned: True, epoch: 112: Average loss: 0.0619, Accuracy: 9736/9900 (98.3434%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 112, local model 58, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4928/5123 (96.1936%), train_poison_data_count: 403
Global model norm: 43.32711919586277.
Norm before scaling: 43.301326571047454. Distance: 1.3956722005198843
Total norm for 4 adversaries is: 43.301326571047454. distance: 1.3956722005198843
___Test Local_ResNet_18 poisoned: True, epoch: 112: Average loss: 0.0657, Accuracy: 9713/9900 (98.1111%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 112, local model 71, internal_epoch   1,  Average loss: 0.0022, Accuracy: 5300/5503 (96.3111%), train_poison_data_count: 430
Global model norm: 43.32711919586277.
Norm before scaling: 43.29952231621615. Distance: 1.4266521145770688
Total norm for 4 adversaries is: 43.29952231621615. distance: 1.4266521145770688
___Test Local_ResNet_18 poisoned: True, epoch: 112: Average loss: 0.0766, Accuracy: 9689/9900 (97.8687%)
___Train Local_ResNet_18,  epoch 112, local model 56, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4863/5427 (89.6075%)
___Train Local_ResNet_18,  epoch 112, local model 56, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4868/5427 (89.6996%)
___Test Local_ResNet_18 poisoned: False, epoch: 112: Average loss: 2.1095, Accuracy: 5280/10000 (52.8000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 23.15ms
___Train Local_ResNet_18,  epoch 112, local model 14, internal_epoch   1,  Average loss: 0.0031, Accuracy: 3957/4196 (94.3041%)
___Train Local_ResNet_18,  epoch 112, local model 14, internal_epoch   2,  Average loss: 0.0029, Accuracy: 3972/4196 (94.6616%)
___Test Local_ResNet_18 poisoned: False, epoch: 112: Average loss: 1.9356, Accuracy: 5690/10000 (56.9000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 22.39ms
___Train Local_ResNet_18,  epoch 112, local model 4, internal_epoch   1,  Average loss: 0.0041, Accuracy: 3707/4028 (92.0308%)
___Train Local_ResNet_18,  epoch 112, local model 4, internal_epoch   2,  Average loss: 0.0038, Accuracy: 3742/4028 (92.8997%)
___Test Local_ResNet_18 poisoned: False, epoch: 112: Average loss: 1.8565, Accuracy: 5834/10000 (58.3400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.80ms
INFO:tornado.access:200 POST /update (::1) 23.30ms
___Train Local_ResNet_18,  epoch 112, local model 30, internal_epoch   1,  Average loss: 0.0037, Accuracy: 3525/3774 (93.4022%)
___Train Local_ResNet_18,  epoch 112, local model 30, internal_epoch   2,  Average loss: 0.0030, Accuracy: 3566/3774 (94.4886%)
___Test Local_ResNet_18 poisoned: False, epoch: 112: Average loss: 1.8188, Accuracy: 5837/10000 (58.3700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.80ms
INFO:tornado.access:200 POST /update (::1) 23.32ms
___Train Local_ResNet_18,  epoch 112, local model 82, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4939/5298 (93.2239%)
___Train Local_ResNet_18,  epoch 112, local model 82, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4893/5298 (92.3556%)
___Test Local_ResNet_18 poisoned: False, epoch: 112: Average loss: 2.0617, Accuracy: 5406/10000 (54.0600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.80ms
INFO:tornado.access:200 POST /update (::1) 24.35ms
___Train Local_ResNet_18,  epoch 112, local model 85, internal_epoch   1,  Average loss: 0.0048, Accuracy: 6314/6947 (90.8882%)
___Train Local_ResNet_18,  epoch 112, local model 85, internal_epoch   2,  Average loss: 0.0065, Accuracy: 6057/6947 (87.1887%)
___Test Local_ResNet_18 poisoned: False, epoch: 112: Average loss: 2.2114, Accuracy: 5089/10000 (50.8900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 24.50ms
___Train Local_ResNet_18,  epoch 112, local model 39, internal_epoch   1,  Average loss: 0.0045, Accuracy: 3807/4175 (91.1856%)
___Train Local_ResNet_18,  epoch 112, local model 39, internal_epoch   2,  Average loss: 0.0045, Accuracy: 3824/4175 (91.5928%)
___Test Local_ResNet_18 poisoned: False, epoch: 112: Average loss: 2.0859, Accuracy: 5447/10000 (54.4700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 23.30ms
___Train Local_ResNet_18,  epoch 112, local model 70, internal_epoch   1,  Average loss: 0.0041, Accuracy: 5416/5871 (92.2500%)
___Train Local_ResNet_18,  epoch 112, local model 70, internal_epoch   2,  Average loss: 0.0047, Accuracy: 5324/5871 (90.6830%)
___Test Local_ResNet_18 poisoned: False, epoch: 112: Average loss: 2.2557, Accuracy: 5204/10000 (52.0400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 23.79ms
___Train Local_ResNet_18,  epoch 112, local model 91, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4119/4527 (90.9874%)
___Train Local_ResNet_18,  epoch 112, local model 91, internal_epoch   2,  Average loss: 0.0054, Accuracy: 4035/4527 (89.1319%)
___Test Local_ResNet_18 poisoned: False, epoch: 112: Average loss: 2.0166, Accuracy: 5401/10000 (54.0100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /update (::1) 24.58ms
___Train Local_ResNet_18,  epoch 112, local model 59, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4164/4397 (94.7009%)
___Train Local_ResNet_18,  epoch 112, local model 59, internal_epoch   2,  Average loss: 0.0026, Accuracy: 4183/4397 (95.1330%)
___Test Local_ResNet_18 poisoned: False, epoch: 112: Average loss: 1.8195, Accuracy: 5764/10000 (57.6400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 22.91ms
___Train Local_ResNet_18,  epoch 112, local model 1, internal_epoch   1,  Average loss: 0.0033, Accuracy: 5084/5422 (93.7661%)
___Train Local_ResNet_18,  epoch 112, local model 1, internal_epoch   2,  Average loss: 0.0040, Accuracy: 5007/5422 (92.3460%)
___Test Local_ResNet_18 poisoned: False, epoch: 112: Average loss: 2.0436, Accuracy: 5569/10000 (55.6900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /update (::1) 23.43ms
___Train Local_ResNet_18,  epoch 112, local model 88, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4929/5362 (91.9247%)
___Train Local_ResNet_18,  epoch 112, local model 88, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4817/5362 (89.8359%)
___Test Local_ResNet_18 poisoned: False, epoch: 112: Average loss: 2.0765, Accuracy: 5365/10000 (53.6500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.82ms
INFO:tornado.access:200 POST /update (::1) 22.85ms
___Train Local_ResNet_18,  epoch 112, local model 49, internal_epoch   1,  Average loss: 0.0053, Accuracy: 5073/5652 (89.7558%)
___Train Local_ResNet_18,  epoch 112, local model 49, internal_epoch   2,  Average loss: 0.0054, Accuracy: 5067/5652 (89.6497%)
___Test Local_ResNet_18 poisoned: False, epoch: 112: Average loss: 2.2149, Accuracy: 5164/10000 (51.6400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 23.61ms
___Train Local_ResNet_18,  epoch 112, local model 34, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4528/4911 (92.2012%)
___Train Local_ResNet_18,  epoch 112, local model 34, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4557/4911 (92.7917%)
___Test Local_ResNet_18 poisoned: False, epoch: 112: Average loss: 1.9031, Accuracy: 5585/10000 (55.8500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 23.03ms
___Train Local_ResNet_18,  epoch 112, local model 53, internal_epoch   1,  Average loss: 0.0063, Accuracy: 5855/6664 (87.8601%)
___Train Local_ResNet_18,  epoch 112, local model 53, internal_epoch   2,  Average loss: 0.0075, Accuracy: 5644/6664 (84.6939%)
___Test Local_ResNet_18 poisoned: False, epoch: 112: Average loss: 2.2197, Accuracy: 5015/10000 (50.1500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 23.51ms
___Train Local_ResNet_18,  epoch 112, local model 93, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4586/5055 (90.7221%)
___Train Local_ResNet_18,  epoch 112, local model 93, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4554/5055 (90.0890%)
___Test Local_ResNet_18 poisoned: False, epoch: 112: Average loss: 2.0839, Accuracy: 5401/10000 (54.0100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 23.51ms
time spent on training: 271.23019456863403
___Test Target_ResNet_18 poisoned: False, epoch: 112: Average loss: 1.1913, Accuracy: 6848/10000 (68.4800%)
___Test Target_ResNet_18 poisoned: True, epoch: 112: Average loss: 0.1832, Accuracy: 9384/9900 (94.7879%)
Done in 297.8917188644409 sec.
Server Epoch:113 choose agents : [13, 36, 58, 71, 98, 78, 33, 79, 16, 3, 62, 30, 39, 1, 15, 6, 50, 93, 66, 81].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 113, local model 13, internal_epoch   1,  Average loss: 0.0020, Accuracy: 5149/5308 (97.0045%), train_poison_data_count: 415
Global model norm: 43.34738432176805.
Norm before scaling: 43.3197003169098. Distance: 1.3836279582140962
Total norm for 4 adversaries is: 43.3197003169098. distance: 1.3836279582140962
___Test Local_ResNet_18 poisoned: True, epoch: 113: Average loss: 0.0358, Accuracy: 9813/9900 (99.1212%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 113, local model 36, internal_epoch   1,  Average loss: 0.0020, Accuracy: 5594/5777 (96.8323%), train_poison_data_count: 455
Global model norm: 43.34738432176805.
Norm before scaling: 43.315195679551216. Distance: 1.4284116127674444
Total norm for 4 adversaries is: 43.315195679551216. distance: 1.4284116127674444
___Test Local_ResNet_18 poisoned: True, epoch: 113: Average loss: 0.0603, Accuracy: 9757/9900 (98.5556%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 113, local model 58, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4912/5123 (95.8813%), train_poison_data_count: 403
Global model norm: 43.34738432176805.
Norm before scaling: 43.322030652356894. Distance: 1.4264540665562109
Total norm for 4 adversaries is: 43.322030652356894. distance: 1.4264540665562109
___Test Local_ResNet_18 poisoned: True, epoch: 113: Average loss: 0.0896, Accuracy: 9664/9900 (97.6162%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 113, local model 71, internal_epoch   1,  Average loss: 0.0023, Accuracy: 5302/5503 (96.3474%), train_poison_data_count: 430
Global model norm: 43.34738432176805.
Norm before scaling: 43.321154325679906. Distance: 1.4568436325408032
Total norm for 4 adversaries is: 43.321154325679906. distance: 1.4568436325408032
___Test Local_ResNet_18 poisoned: True, epoch: 113: Average loss: 0.0435, Accuracy: 9776/9900 (98.7475%)
___Train Local_ResNet_18,  epoch 113, local model 98, internal_epoch   1,  Average loss: 0.0046, Accuracy: 3887/4161 (93.4150%)
___Train Local_ResNet_18,  epoch 113, local model 98, internal_epoch   2,  Average loss: 0.0052, Accuracy: 3826/4161 (91.9491%)
___Test Local_ResNet_18 poisoned: False, epoch: 113: Average loss: 2.1067, Accuracy: 5438/10000 (54.3800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 23.77ms
___Train Local_ResNet_18,  epoch 113, local model 78, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4115/4368 (94.2079%)
___Train Local_ResNet_18,  epoch 113, local model 78, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4058/4368 (92.9029%)
___Test Local_ResNet_18 poisoned: False, epoch: 113: Average loss: 1.9684, Accuracy: 5531/10000 (55.3100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 24.58ms
___Train Local_ResNet_18,  epoch 113, local model 33, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4306/4818 (89.3732%)
___Train Local_ResNet_18,  epoch 113, local model 33, internal_epoch   2,  Average loss: 0.0054, Accuracy: 4315/4818 (89.5600%)
___Test Local_ResNet_18 poisoned: False, epoch: 113: Average loss: 1.9558, Accuracy: 5542/10000 (55.4200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 22.96ms
___Train Local_ResNet_18,  epoch 113, local model 79, internal_epoch   1,  Average loss: 0.0039, Accuracy: 3808/4111 (92.6295%)
___Train Local_ResNet_18,  epoch 113, local model 79, internal_epoch   2,  Average loss: 0.0039, Accuracy: 3803/4111 (92.5079%)
___Test Local_ResNet_18 poisoned: False, epoch: 113: Average loss: 2.1453, Accuracy: 5272/10000 (52.7200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 23.51ms
___Train Local_ResNet_18,  epoch 113, local model 16, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4889/5353 (91.3320%)
___Train Local_ResNet_18,  epoch 113, local model 16, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4794/5353 (89.5573%)
___Test Local_ResNet_18 poisoned: False, epoch: 113: Average loss: 1.9264, Accuracy: 5570/10000 (55.7000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.80ms
INFO:tornado.access:200 POST /update (::1) 24.32ms
___Train Local_ResNet_18,  epoch 113, local model 3, internal_epoch   1,  Average loss: 0.0033, Accuracy: 5015/5346 (93.8085%)
___Train Local_ResNet_18,  epoch 113, local model 3, internal_epoch   2,  Average loss: 0.0031, Accuracy: 5047/5346 (94.4070%)
___Test Local_ResNet_18 poisoned: False, epoch: 113: Average loss: 2.0754, Accuracy: 5358/10000 (53.5800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 23.10ms
___Train Local_ResNet_18,  epoch 113, local model 62, internal_epoch   1,  Average loss: 0.0057, Accuracy: 4862/5504 (88.3358%)
___Train Local_ResNet_18,  epoch 113, local model 62, internal_epoch   2,  Average loss: 0.0067, Accuracy: 4761/5504 (86.5007%)
___Test Local_ResNet_18 poisoned: False, epoch: 113: Average loss: 2.3239, Accuracy: 4958/10000 (49.5800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 24.10ms
___Train Local_ResNet_18,  epoch 113, local model 30, internal_epoch   1,  Average loss: 0.0038, Accuracy: 3505/3774 (92.8723%)
___Train Local_ResNet_18,  epoch 113, local model 30, internal_epoch   2,  Average loss: 0.0034, Accuracy: 3519/3774 (93.2432%)
___Test Local_ResNet_18 poisoned: False, epoch: 113: Average loss: 1.8816, Accuracy: 5707/10000 (57.0700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 24.58ms
___Train Local_ResNet_18,  epoch 113, local model 39, internal_epoch   1,  Average loss: 0.0044, Accuracy: 3839/4175 (91.9521%)
___Train Local_ResNet_18,  epoch 113, local model 39, internal_epoch   2,  Average loss: 0.0046, Accuracy: 3809/4175 (91.2335%)
___Test Local_ResNet_18 poisoned: False, epoch: 113: Average loss: 2.0323, Accuracy: 5434/10000 (54.3400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 23.54ms
___Train Local_ResNet_18,  epoch 113, local model 1, internal_epoch   1,  Average loss: 0.0034, Accuracy: 5082/5422 (93.7293%)
___Train Local_ResNet_18,  epoch 113, local model 1, internal_epoch   2,  Average loss: 0.0038, Accuracy: 5038/5422 (92.9177%)
___Test Local_ResNet_18 poisoned: False, epoch: 113: Average loss: 1.9238, Accuracy: 5668/10000 (56.6800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 23.62ms
___Train Local_ResNet_18,  epoch 113, local model 15, internal_epoch   1,  Average loss: 0.0040, Accuracy: 5604/6068 (92.3533%)
___Train Local_ResNet_18,  epoch 113, local model 15, internal_epoch   2,  Average loss: 0.0045, Accuracy: 5521/6068 (90.9855%)
___Test Local_ResNet_18 poisoned: False, epoch: 113: Average loss: 2.1937, Accuracy: 5208/10000 (52.0800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 24.30ms
___Train Local_ResNet_18,  epoch 113, local model 6, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4563/4929 (92.5746%)
___Train Local_ResNet_18,  epoch 113, local model 6, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4467/4929 (90.6269%)
___Test Local_ResNet_18 poisoned: False, epoch: 113: Average loss: 1.9821, Accuracy: 5603/10000 (56.0300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 23.83ms
___Train Local_ResNet_18,  epoch 113, local model 50, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4423/4757 (92.9788%)
___Train Local_ResNet_18,  epoch 113, local model 50, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4255/4757 (89.4471%)
___Test Local_ResNet_18 poisoned: False, epoch: 113: Average loss: 2.1328, Accuracy: 5299/10000 (52.9900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.81ms
INFO:tornado.access:200 POST /update (::1) 20.18ms
___Train Local_ResNet_18,  epoch 113, local model 93, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4631/5055 (91.6123%)
___Train Local_ResNet_18,  epoch 113, local model 93, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4560/5055 (90.2077%)
___Test Local_ResNet_18 poisoned: False, epoch: 113: Average loss: 2.1904, Accuracy: 5274/10000 (52.7400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 23.59ms
___Train Local_ResNet_18,  epoch 113, local model 66, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4478/4843 (92.4633%)
___Train Local_ResNet_18,  epoch 113, local model 66, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4447/4843 (91.8233%)
___Test Local_ResNet_18 poisoned: False, epoch: 113: Average loss: 1.9223, Accuracy: 5624/10000 (56.2400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 23.63ms
___Train Local_ResNet_18,  epoch 113, local model 81, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4707/5035 (93.4856%)
___Train Local_ResNet_18,  epoch 113, local model 81, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4666/5035 (92.6713%)
___Test Local_ResNet_18 poisoned: False, epoch: 113: Average loss: 2.0207, Accuracy: 5539/10000 (55.3900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 24.25ms
time spent on training: 267.0707116127014
___Test Target_ResNet_18 poisoned: False, epoch: 113: Average loss: 1.1944, Accuracy: 6850/10000 (68.5000%)
___Test Target_ResNet_18 poisoned: True, epoch: 113: Average loss: 0.1769, Accuracy: 9408/9900 (95.0303%)
Done in 294.2147705554962 sec.
Server Epoch:114 choose agents : [13, 36, 58, 71, 33, 91, 10, 81, 5, 93, 90, 24, 64, 16, 9, 18, 27, 2, 67, 82].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 114, local model 13, internal_epoch   1,  Average loss: 0.0020, Accuracy: 5142/5308 (96.8726%), train_poison_data_count: 415
Global model norm: 43.36767375538057.
Norm before scaling: 43.338649325868765. Distance: 1.348555687667882
Total norm for 4 adversaries is: 43.338649325868765. distance: 1.348555687667882
___Test Local_ResNet_18 poisoned: True, epoch: 114: Average loss: 0.0512, Accuracy: 9760/9900 (98.5859%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 114, local model 36, internal_epoch   1,  Average loss: 0.0019, Accuracy: 5598/5777 (96.9015%), train_poison_data_count: 455
Global model norm: 43.36767375538057.
Norm before scaling: 43.33191275591164. Distance: 1.3426261016468983
Total norm for 4 adversaries is: 43.33191275591164. distance: 1.3426261016468983
___Test Local_ResNet_18 poisoned: True, epoch: 114: Average loss: 0.0429, Accuracy: 9786/9900 (98.8485%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 114, local model 58, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4924/5123 (96.1156%), train_poison_data_count: 403
Global model norm: 43.36767375538057.
Norm before scaling: 43.341243393634315. Distance: 1.417114589039513
Total norm for 4 adversaries is: 43.341243393634315. distance: 1.417114589039513
___Test Local_ResNet_18 poisoned: True, epoch: 114: Average loss: 0.0822, Accuracy: 9686/9900 (97.8384%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 114, local model 71, internal_epoch   1,  Average loss: 0.0023, Accuracy: 5316/5503 (96.6019%), train_poison_data_count: 430
Global model norm: 43.36767375538057.
Norm before scaling: 43.339502765952446. Distance: 1.4307468012817823
Total norm for 4 adversaries is: 43.339502765952446. distance: 1.4307468012817823
___Test Local_ResNet_18 poisoned: True, epoch: 114: Average loss: 0.0575, Accuracy: 9755/9900 (98.5354%)
___Train Local_ResNet_18,  epoch 114, local model 33, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4410/4818 (91.5318%)
___Train Local_ResNet_18,  epoch 114, local model 33, internal_epoch   2,  Average loss: 0.0058, Accuracy: 4260/4818 (88.4184%)
___Test Local_ResNet_18 poisoned: False, epoch: 114: Average loss: 2.1128, Accuracy: 5278/10000 (52.7800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 23.36ms
___Train Local_ResNet_18,  epoch 114, local model 91, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4068/4527 (89.8608%)
___Train Local_ResNet_18,  epoch 114, local model 91, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4014/4527 (88.6680%)
___Test Local_ResNet_18 poisoned: False, epoch: 114: Average loss: 2.1642, Accuracy: 5182/10000 (51.8200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 23.53ms
___Train Local_ResNet_18,  epoch 114, local model 10, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4702/5068 (92.7782%)
___Train Local_ResNet_18,  epoch 114, local model 10, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4588/5068 (90.5288%)
___Test Local_ResNet_18 poisoned: False, epoch: 114: Average loss: 2.3545, Accuracy: 4970/10000 (49.7000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 23.57ms
___Train Local_ResNet_18,  epoch 114, local model 81, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4697/5035 (93.2870%)
___Train Local_ResNet_18,  epoch 114, local model 81, internal_epoch   2,  Average loss: 0.0031, Accuracy: 4733/5035 (94.0020%)
___Test Local_ResNet_18 poisoned: False, epoch: 114: Average loss: 1.9919, Accuracy: 5602/10000 (56.0200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 23.02ms
___Train Local_ResNet_18,  epoch 114, local model 5, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4749/4993 (95.1132%)
___Train Local_ResNet_18,  epoch 114, local model 5, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4644/4993 (93.0102%)
___Test Local_ResNet_18 poisoned: False, epoch: 114: Average loss: 2.0531, Accuracy: 5537/10000 (55.3700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 23.78ms
___Train Local_ResNet_18,  epoch 114, local model 93, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4559/5055 (90.1879%)
___Train Local_ResNet_18,  epoch 114, local model 93, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4600/5055 (90.9990%)
___Test Local_ResNet_18 poisoned: False, epoch: 114: Average loss: 2.0670, Accuracy: 5434/10000 (54.3400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 23.31ms
___Train Local_ResNet_18,  epoch 114, local model 90, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4429/4748 (93.2814%)
___Train Local_ResNet_18,  epoch 114, local model 90, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4391/4748 (92.4810%)
___Test Local_ResNet_18 poisoned: False, epoch: 114: Average loss: 2.0280, Accuracy: 5545/10000 (55.4500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 24.94ms
___Train Local_ResNet_18,  epoch 114, local model 24, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4000/4313 (92.7429%)
___Train Local_ResNet_18,  epoch 114, local model 24, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4004/4313 (92.8356%)
___Test Local_ResNet_18 poisoned: False, epoch: 114: Average loss: 1.9119, Accuracy: 5713/10000 (57.1300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 24.41ms
___Train Local_ResNet_18,  epoch 114, local model 64, internal_epoch   1,  Average loss: 0.0056, Accuracy: 4343/4894 (88.7413%)
___Train Local_ResNet_18,  epoch 114, local model 64, internal_epoch   2,  Average loss: 0.0060, Accuracy: 4319/4894 (88.2509%)
___Test Local_ResNet_18 poisoned: False, epoch: 114: Average loss: 2.1228, Accuracy: 5290/10000 (52.9000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 23.40ms
___Train Local_ResNet_18,  epoch 114, local model 16, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4946/5353 (92.3968%)
___Train Local_ResNet_18,  epoch 114, local model 16, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4828/5353 (90.1924%)
___Test Local_ResNet_18 poisoned: False, epoch: 114: Average loss: 1.9222, Accuracy: 5642/10000 (56.4200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 23.29ms
___Train Local_ResNet_18,  epoch 114, local model 9, internal_epoch   1,  Average loss: 0.0055, Accuracy: 5110/5727 (89.2265%)
___Train Local_ResNet_18,  epoch 114, local model 9, internal_epoch   2,  Average loss: 0.0064, Accuracy: 5019/5727 (87.6375%)
___Test Local_ResNet_18 poisoned: False, epoch: 114: Average loss: 2.2214, Accuracy: 5078/10000 (50.7800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 23.77ms
___Train Local_ResNet_18,  epoch 114, local model 18, internal_epoch   1,  Average loss: 0.0040, Accuracy: 3931/4249 (92.5159%)
___Train Local_ResNet_18,  epoch 114, local model 18, internal_epoch   2,  Average loss: 0.0037, Accuracy: 3947/4249 (92.8924%)
___Test Local_ResNet_18 poisoned: False, epoch: 114: Average loss: 1.9139, Accuracy: 5682/10000 (56.8200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 23.23ms
___Train Local_ResNet_18,  epoch 114, local model 27, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4160/4587 (90.6911%)
___Train Local_ResNet_18,  epoch 114, local model 27, internal_epoch   2,  Average loss: 0.0054, Accuracy: 4100/4587 (89.3830%)
___Test Local_ResNet_18 poisoned: False, epoch: 114: Average loss: 2.1628, Accuracy: 5205/10000 (52.0500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 23.42ms
___Train Local_ResNet_18,  epoch 114, local model 2, internal_epoch   1,  Average loss: 0.0042, Accuracy: 3665/3968 (92.3639%)
___Train Local_ResNet_18,  epoch 114, local model 2, internal_epoch   2,  Average loss: 0.0039, Accuracy: 3664/3968 (92.3387%)
___Test Local_ResNet_18 poisoned: False, epoch: 114: Average loss: 1.8624, Accuracy: 5651/10000 (56.5100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.79ms
INFO:tornado.access:200 POST /update (::1) 24.44ms
___Train Local_ResNet_18,  epoch 114, local model 67, internal_epoch   1,  Average loss: 0.0053, Accuracy: 4990/5559 (89.7643%)
___Train Local_ResNet_18,  epoch 114, local model 67, internal_epoch   2,  Average loss: 0.0058, Accuracy: 4942/5559 (88.9009%)
___Test Local_ResNet_18 poisoned: False, epoch: 114: Average loss: 2.1380, Accuracy: 5295/10000 (52.9500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 23.60ms
___Train Local_ResNet_18,  epoch 114, local model 82, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4937/5298 (93.1861%)
___Train Local_ResNet_18,  epoch 114, local model 82, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4934/5298 (93.1295%)
___Test Local_ResNet_18 poisoned: False, epoch: 114: Average loss: 2.0582, Accuracy: 5472/10000 (54.7200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 23.74ms
time spent on training: 264.5019950866699
___Test Target_ResNet_18 poisoned: False, epoch: 114: Average loss: 1.1999, Accuracy: 6845/10000 (68.4500%)
___Test Target_ResNet_18 poisoned: True, epoch: 114: Average loss: 0.1635, Accuracy: 9450/9900 (95.4545%)
Done in 291.6334984302521 sec.
Server Epoch:115 choose agents : [13, 36, 58, 71, 33, 82, 16, 30, 63, 31, 53, 84, 47, 60, 12, 92, 42, 39, 44, 79].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 115, local model 13, internal_epoch   1,  Average loss: 0.0019, Accuracy: 5152/5308 (97.0610%), train_poison_data_count: 415
Global model norm: 43.38866690756499.
Norm before scaling: 43.35904560685694. Distance: 1.3316811467856735
Total norm for 4 adversaries is: 43.35904560685694. distance: 1.3316811467856735
___Test Local_ResNet_18 poisoned: True, epoch: 115: Average loss: 0.0759, Accuracy: 9705/9900 (98.0303%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 115, local model 36, internal_epoch   1,  Average loss: 0.0019, Accuracy: 5615/5777 (97.1958%), train_poison_data_count: 455
Global model norm: 43.38866690756499.
Norm before scaling: 43.35205033853286. Distance: 1.346275706067913
Total norm for 4 adversaries is: 43.35205033853286. distance: 1.346275706067913
___Test Local_ResNet_18 poisoned: True, epoch: 115: Average loss: 0.0460, Accuracy: 9778/9900 (98.7677%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 115, local model 58, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4930/5123 (96.2327%), train_poison_data_count: 403
Global model norm: 43.38866690756499.
Norm before scaling: 43.36214518177837. Distance: 1.4035695278774691
Total norm for 4 adversaries is: 43.36214518177837. distance: 1.4035695278774691
___Test Local_ResNet_18 poisoned: True, epoch: 115: Average loss: 0.0813, Accuracy: 9689/9900 (97.8687%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 115, local model 71, internal_epoch   1,  Average loss: 0.0022, Accuracy: 5312/5503 (96.5292%), train_poison_data_count: 430
Global model norm: 43.38866690756499.
Norm before scaling: 43.358399482269434. Distance: 1.3876177385568202
Total norm for 4 adversaries is: 43.358399482269434. distance: 1.3876177385568202
___Test Local_ResNet_18 poisoned: True, epoch: 115: Average loss: 0.0502, Accuracy: 9772/9900 (98.7071%)
___Train Local_ResNet_18,  epoch 115, local model 33, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4380/4818 (90.9091%)
___Train Local_ResNet_18,  epoch 115, local model 33, internal_epoch   2,  Average loss: 0.0057, Accuracy: 4288/4818 (88.9996%)
___Test Local_ResNet_18 poisoned: False, epoch: 115: Average loss: 2.0440, Accuracy: 5318/10000 (53.1800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 23.37ms
___Train Local_ResNet_18,  epoch 115, local model 82, internal_epoch   1,  Average loss: 0.0030, Accuracy: 5018/5298 (94.7150%)
___Train Local_ResNet_18,  epoch 115, local model 82, internal_epoch   2,  Average loss: 0.0031, Accuracy: 4981/5298 (94.0166%)
___Test Local_ResNet_18 poisoned: False, epoch: 115: Average loss: 2.0156, Accuracy: 5522/10000 (55.2200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 23.57ms
___Train Local_ResNet_18,  epoch 115, local model 16, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4957/5353 (92.6023%)
___Train Local_ResNet_18,  epoch 115, local model 16, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4847/5353 (90.5474%)
___Test Local_ResNet_18 poisoned: False, epoch: 115: Average loss: 1.9825, Accuracy: 5534/10000 (55.3400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 24.55ms
___Train Local_ResNet_18,  epoch 115, local model 30, internal_epoch   1,  Average loss: 0.0035, Accuracy: 3533/3774 (93.6142%)
___Train Local_ResNet_18,  epoch 115, local model 30, internal_epoch   2,  Average loss: 0.0039, Accuracy: 3477/3774 (92.1304%)
___Test Local_ResNet_18 poisoned: False, epoch: 115: Average loss: 1.9406, Accuracy: 5639/10000 (56.3900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 23.30ms
___Train Local_ResNet_18,  epoch 115, local model 63, internal_epoch   1,  Average loss: 0.0038, Accuracy: 3630/3910 (92.8389%)
___Train Local_ResNet_18,  epoch 115, local model 63, internal_epoch   2,  Average loss: 0.0047, Accuracy: 3582/3910 (91.6113%)
___Test Local_ResNet_18 poisoned: False, epoch: 115: Average loss: 2.0493, Accuracy: 5505/10000 (55.0500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 23.74ms
___Train Local_ResNet_18,  epoch 115, local model 31, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4168/4537 (91.8669%)
___Train Local_ResNet_18,  epoch 115, local model 31, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4139/4537 (91.2277%)
___Test Local_ResNet_18 poisoned: False, epoch: 115: Average loss: 1.9255, Accuracy: 5583/10000 (55.8300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 23.53ms
___Train Local_ResNet_18,  epoch 115, local model 53, internal_epoch   1,  Average loss: 0.0058, Accuracy: 5921/6664 (88.8505%)
___Train Local_ResNet_18,  epoch 115, local model 53, internal_epoch   2,  Average loss: 0.0080, Accuracy: 5627/6664 (84.4388%)
___Test Local_ResNet_18 poisoned: False, epoch: 115: Average loss: 2.3335, Accuracy: 5051/10000 (50.5100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 24.07ms
___Train Local_ResNet_18,  epoch 115, local model 84, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4720/5209 (90.6124%)
___Train Local_ResNet_18,  epoch 115, local model 84, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4690/5209 (90.0365%)
___Test Local_ResNet_18 poisoned: False, epoch: 115: Average loss: 2.1626, Accuracy: 5277/10000 (52.7700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 24.73ms
___Train Local_ResNet_18,  epoch 115, local model 47, internal_epoch   1,  Average loss: 0.0061, Accuracy: 4617/5123 (90.1230%)
___Train Local_ResNet_18,  epoch 115, local model 47, internal_epoch   2,  Average loss: 0.0129, Accuracy: 3935/5123 (76.8105%)
___Test Local_ResNet_18 poisoned: False, epoch: 115: Average loss: 2.2959, Accuracy: 4826/10000 (48.2600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 23.48ms
___Train Local_ResNet_18,  epoch 115, local model 60, internal_epoch   1,  Average loss: 0.0040, Accuracy: 3853/4145 (92.9554%)
___Train Local_ResNet_18,  epoch 115, local model 60, internal_epoch   2,  Average loss: 0.0041, Accuracy: 3812/4145 (91.9662%)
___Test Local_ResNet_18 poisoned: False, epoch: 115: Average loss: 2.0731, Accuracy: 5497/10000 (54.9700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 24.67ms
___Train Local_ResNet_18,  epoch 115, local model 12, internal_epoch   1,  Average loss: 0.0043, Accuracy: 5078/5526 (91.8929%)
___Train Local_ResNet_18,  epoch 115, local model 12, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4929/5526 (89.1965%)
___Test Local_ResNet_18 poisoned: False, epoch: 115: Average loss: 2.2024, Accuracy: 5250/10000 (52.5000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 24.81ms
___Train Local_ResNet_18,  epoch 115, local model 92, internal_epoch   1,  Average loss: 0.0037, Accuracy: 6338/6812 (93.0417%)
___Train Local_ResNet_18,  epoch 115, local model 92, internal_epoch   2,  Average loss: 0.0044, Accuracy: 6227/6812 (91.4122%)
___Test Local_ResNet_18 poisoned: False, epoch: 115: Average loss: 2.1589, Accuracy: 5257/10000 (52.5700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.80ms
INFO:tornado.access:200 POST /update (::1) 24.67ms
___Train Local_ResNet_18,  epoch 115, local model 42, internal_epoch   1,  Average loss: 0.0042, Accuracy: 5425/5907 (91.8402%)
___Train Local_ResNet_18,  epoch 115, local model 42, internal_epoch   2,  Average loss: 0.0046, Accuracy: 5392/5907 (91.2815%)
___Test Local_ResNet_18 poisoned: False, epoch: 115: Average loss: 2.2696, Accuracy: 5176/10000 (51.7600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /update (::1) 24.29ms
___Train Local_ResNet_18,  epoch 115, local model 39, internal_epoch   1,  Average loss: 0.0041, Accuracy: 3864/4175 (92.5509%)
___Train Local_ResNet_18,  epoch 115, local model 39, internal_epoch   2,  Average loss: 0.0042, Accuracy: 3836/4175 (91.8802%)
___Test Local_ResNet_18 poisoned: False, epoch: 115: Average loss: 2.0593, Accuracy: 5477/10000 (54.7700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 23.50ms
___Train Local_ResNet_18,  epoch 115, local model 44, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4718/5075 (92.9655%)
___Train Local_ResNet_18,  epoch 115, local model 44, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4639/5075 (91.4089%)
___Test Local_ResNet_18 poisoned: False, epoch: 115: Average loss: 2.2798, Accuracy: 5246/10000 (52.4600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 24.96ms
___Train Local_ResNet_18,  epoch 115, local model 79, internal_epoch   1,  Average loss: 0.0039, Accuracy: 3818/4111 (92.8728%)
___Train Local_ResNet_18,  epoch 115, local model 79, internal_epoch   2,  Average loss: 0.0039, Accuracy: 3801/4111 (92.4593%)
___Test Local_ResNet_18 poisoned: False, epoch: 115: Average loss: 1.9601, Accuracy: 5520/10000 (55.2000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 24.99ms
time spent on training: 270.62716269493103
___Test Target_ResNet_18 poisoned: False, epoch: 115: Average loss: 1.2051, Accuracy: 6832/10000 (68.3200%)
___Test Target_ResNet_18 poisoned: True, epoch: 115: Average loss: 0.1575, Accuracy: 9471/9900 (95.6667%)
Done in 297.24752497673035 sec.
Server Epoch:116 choose agents : [13, 36, 58, 71, 41, 49, 96, 89, 92, 44, 42, 48, 23, 22, 76, 75, 29, 6, 15, 87].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 116, local model 13, internal_epoch   1,  Average loss: 0.0020, Accuracy: 5141/5308 (96.8538%), train_poison_data_count: 415
Global model norm: 43.40905234159475.
Norm before scaling: 43.37959832434194. Distance: 1.3484534517938183
Total norm for 4 adversaries is: 43.37959832434194. distance: 1.3484534517938183
___Test Local_ResNet_18 poisoned: True, epoch: 116: Average loss: 0.0497, Accuracy: 9772/9900 (98.7071%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 116, local model 36, internal_epoch   1,  Average loss: 0.0019, Accuracy: 5606/5777 (97.0400%), train_poison_data_count: 455
Global model norm: 43.40905234159475.
Norm before scaling: 43.375191372056214. Distance: 1.395114595020144
Total norm for 4 adversaries is: 43.375191372056214. distance: 1.395114595020144
___Test Local_ResNet_18 poisoned: True, epoch: 116: Average loss: 0.0580, Accuracy: 9741/9900 (98.3939%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 116, local model 58, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4929/5123 (96.2132%), train_poison_data_count: 403
Global model norm: 43.40905234159475.
Norm before scaling: 43.3812135318965. Distance: 1.3592264379241605
Total norm for 4 adversaries is: 43.3812135318965. distance: 1.3592264379241605
___Test Local_ResNet_18 poisoned: True, epoch: 116: Average loss: 0.0901, Accuracy: 9655/9900 (97.5253%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 116, local model 71, internal_epoch   1,  Average loss: 0.0023, Accuracy: 5293/5503 (96.1839%), train_poison_data_count: 430
Global model norm: 43.40905234159475.
Norm before scaling: 43.38352790131368. Distance: 1.4738424770082084
Total norm for 4 adversaries is: 43.38352790131368. distance: 1.4738424770082084
___Test Local_ResNet_18 poisoned: True, epoch: 116: Average loss: 0.0368, Accuracy: 9806/9900 (99.0505%)
___Train Local_ResNet_18,  epoch 116, local model 41, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4387/4714 (93.0632%)
___Train Local_ResNet_18,  epoch 116, local model 41, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4394/4714 (93.2117%)
___Test Local_ResNet_18 poisoned: False, epoch: 116: Average loss: 2.0594, Accuracy: 5442/10000 (54.4200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.81ms
INFO:tornado.access:200 POST /update (::1) 18.59ms
___Train Local_ResNet_18,  epoch 116, local model 49, internal_epoch   1,  Average loss: 0.0055, Accuracy: 5043/5652 (89.2251%)
___Train Local_ResNet_18,  epoch 116, local model 49, internal_epoch   2,  Average loss: 0.0060, Accuracy: 4968/5652 (87.8981%)
___Test Local_ResNet_18 poisoned: False, epoch: 116: Average loss: 2.2216, Accuracy: 5127/10000 (51.2700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 24.14ms
___Train Local_ResNet_18,  epoch 116, local model 96, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4674/5086 (91.8993%)
___Train Local_ResNet_18,  epoch 116, local model 96, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4664/5086 (91.7027%)
___Test Local_ResNet_18 poisoned: False, epoch: 116: Average loss: 2.0250, Accuracy: 5484/10000 (54.8400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 22.94ms
___Train Local_ResNet_18,  epoch 116, local model 89, internal_epoch   1,  Average loss: 0.0056, Accuracy: 4297/4737 (90.7114%)
___Train Local_ResNet_18,  epoch 116, local model 89, internal_epoch   2,  Average loss: 0.0054, Accuracy: 4301/4737 (90.7959%)
___Test Local_ResNet_18 poisoned: False, epoch: 116: Average loss: 2.3083, Accuracy: 5111/10000 (51.1100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 24.61ms
___Train Local_ResNet_18,  epoch 116, local model 92, internal_epoch   1,  Average loss: 0.0034, Accuracy: 6375/6812 (93.5849%)
___Train Local_ResNet_18,  epoch 116, local model 92, internal_epoch   2,  Average loss: 0.0040, Accuracy: 6271/6812 (92.0581%)
___Test Local_ResNet_18 poisoned: False, epoch: 116: Average loss: 2.1351, Accuracy: 5324/10000 (53.2400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 23.72ms
___Train Local_ResNet_18,  epoch 116, local model 44, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4694/5075 (92.4926%)
___Train Local_ResNet_18,  epoch 116, local model 44, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4731/5075 (93.2217%)
___Test Local_ResNet_18 poisoned: False, epoch: 116: Average loss: 2.0791, Accuracy: 5487/10000 (54.8700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.81ms
INFO:tornado.access:200 POST /update (::1) 24.74ms
___Train Local_ResNet_18,  epoch 116, local model 42, internal_epoch   1,  Average loss: 0.0045, Accuracy: 5422/5907 (91.7894%)
___Train Local_ResNet_18,  epoch 116, local model 42, internal_epoch   2,  Average loss: 0.0050, Accuracy: 5303/5907 (89.7748%)
___Test Local_ResNet_18 poisoned: False, epoch: 116: Average loss: 2.3857, Accuracy: 4902/10000 (49.0200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 23.96ms
___Train Local_ResNet_18,  epoch 116, local model 48, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4487/4830 (92.8986%)
___Train Local_ResNet_18,  epoch 116, local model 48, internal_epoch   2,  Average loss: 0.0033, Accuracy: 4516/4830 (93.4990%)
___Test Local_ResNet_18 poisoned: False, epoch: 116: Average loss: 2.1427, Accuracy: 5504/10000 (55.0400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 22.98ms
___Train Local_ResNet_18,  epoch 116, local model 23, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4297/4549 (94.4603%)
___Train Local_ResNet_18,  epoch 116, local model 23, internal_epoch   2,  Average loss: 0.0076, Accuracy: 3881/4549 (85.3155%)
___Test Local_ResNet_18 poisoned: False, epoch: 116: Average loss: 2.3468, Accuracy: 4955/10000 (49.5500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 24.86ms
___Train Local_ResNet_18,  epoch 116, local model 22, internal_epoch   1,  Average loss: 0.0040, Accuracy: 5238/5696 (91.9593%)
___Train Local_ResNet_18,  epoch 116, local model 22, internal_epoch   2,  Average loss: 0.0043, Accuracy: 5190/5696 (91.1166%)
___Test Local_ResNet_18 poisoned: False, epoch: 116: Average loss: 2.0604, Accuracy: 5405/10000 (54.0500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 23.78ms
___Train Local_ResNet_18,  epoch 116, local model 76, internal_epoch   1,  Average loss: 0.0044, Accuracy: 3611/3959 (91.2099%)
___Train Local_ResNet_18,  epoch 116, local model 76, internal_epoch   2,  Average loss: 0.0043, Accuracy: 3614/3959 (91.2857%)
___Test Local_ResNet_18 poisoned: False, epoch: 116: Average loss: 1.9235, Accuracy: 5581/10000 (55.8100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 24.16ms
___Train Local_ResNet_18,  epoch 116, local model 75, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4351/4672 (93.1293%)
___Train Local_ResNet_18,  epoch 116, local model 75, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4334/4672 (92.7654%)
___Test Local_ResNet_18 poisoned: False, epoch: 116: Average loss: 2.0119, Accuracy: 5580/10000 (55.8000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 23.07ms
___Train Local_ResNet_18,  epoch 116, local model 29, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4411/4732 (93.2164%)
___Train Local_ResNet_18,  epoch 116, local model 29, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4414/4732 (93.2798%)
___Test Local_ResNet_18 poisoned: False, epoch: 116: Average loss: 1.8493, Accuracy: 5728/10000 (57.2800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 24.88ms
___Train Local_ResNet_18,  epoch 116, local model 6, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4553/4929 (92.3717%)
___Train Local_ResNet_18,  epoch 116, local model 6, internal_epoch   2,  Average loss: 0.0059, Accuracy: 4460/4929 (90.4849%)
___Test Local_ResNet_18 poisoned: False, epoch: 116: Average loss: 2.2528, Accuracy: 5212/10000 (52.1200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 23.84ms
___Train Local_ResNet_18,  epoch 116, local model 15, internal_epoch   1,  Average loss: 0.0039, Accuracy: 5631/6068 (92.7983%)
___Train Local_ResNet_18,  epoch 116, local model 15, internal_epoch   2,  Average loss: 0.0043, Accuracy: 5535/6068 (91.2162%)
___Test Local_ResNet_18 poisoned: False, epoch: 116: Average loss: 2.1921, Accuracy: 5230/10000 (52.3000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 24.40ms
___Train Local_ResNet_18,  epoch 116, local model 87, internal_epoch   1,  Average loss: 0.0052, Accuracy: 3589/3995 (89.8373%)
___Train Local_ResNet_18,  epoch 116, local model 87, internal_epoch   2,  Average loss: 0.0054, Accuracy: 3588/3995 (89.8123%)
___Test Local_ResNet_18 poisoned: False, epoch: 116: Average loss: 2.2673, Accuracy: 5159/10000 (51.5900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 24.08ms
time spent on training: 270.74064922332764
___Test Target_ResNet_18 poisoned: False, epoch: 116: Average loss: 1.2092, Accuracy: 6845/10000 (68.4500%)
___Test Target_ResNet_18 poisoned: True, epoch: 116: Average loss: 0.1521, Accuracy: 9482/9900 (95.7778%)
Done in 297.40824723243713 sec.
Server Epoch:117 choose agents : [13, 36, 58, 71, 5, 39, 78, 34, 63, 68, 55, 14, 81, 75, 43, 73, 11, 3, 70, 54].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 117, local model 13, internal_epoch   1,  Average loss: 0.0022, Accuracy: 5109/5308 (96.2509%), train_poison_data_count: 415
Global model norm: 43.43047239689188.
Norm before scaling: 43.40327872974791. Distance: 1.3949131375960255
Total norm for 4 adversaries is: 43.40327872974791. distance: 1.3949131375960255
___Test Local_ResNet_18 poisoned: True, epoch: 117: Average loss: 0.0648, Accuracy: 9719/9900 (98.1717%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 117, local model 36, internal_epoch   1,  Average loss: 0.0020, Accuracy: 5586/5777 (96.6938%), train_poison_data_count: 455
Global model norm: 43.43047239689188.
Norm before scaling: 43.397879862528995. Distance: 1.408188225909393
Total norm for 4 adversaries is: 43.397879862528995. distance: 1.408188225909393
___Test Local_ResNet_18 poisoned: True, epoch: 117: Average loss: 0.0544, Accuracy: 9762/9900 (98.6061%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 117, local model 58, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4908/5123 (95.8032%), train_poison_data_count: 403
Global model norm: 43.43047239689188.
Norm before scaling: 43.40571003983808. Distance: 1.4572356134431927
Total norm for 4 adversaries is: 43.40571003983808. distance: 1.4572356134431927
___Test Local_ResNet_18 poisoned: True, epoch: 117: Average loss: 0.0169, Accuracy: 9852/9900 (99.5152%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 117, local model 71, internal_epoch   1,  Average loss: 0.0020, Accuracy: 5332/5503 (96.8926%), train_poison_data_count: 430
Global model norm: 43.43047239689188.
Norm before scaling: 43.399664558485505. Distance: 1.3406073615774492
Total norm for 4 adversaries is: 43.399664558485505. distance: 1.3406073615774492
___Test Local_ResNet_18 poisoned: True, epoch: 117: Average loss: 0.0503, Accuracy: 9763/9900 (98.6162%)
___Train Local_ResNet_18,  epoch 117, local model 5, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4687/4993 (93.8714%)
___Train Local_ResNet_18,  epoch 117, local model 5, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4642/4993 (92.9702%)
___Test Local_ResNet_18 poisoned: False, epoch: 117: Average loss: 2.0718, Accuracy: 5484/10000 (54.8400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 24.70ms
___Train Local_ResNet_18,  epoch 117, local model 39, internal_epoch   1,  Average loss: 0.0043, Accuracy: 3836/4175 (91.8802%)
___Train Local_ResNet_18,  epoch 117, local model 39, internal_epoch   2,  Average loss: 0.0047, Accuracy: 3791/4175 (90.8024%)
___Test Local_ResNet_18 poisoned: False, epoch: 117: Average loss: 2.1560, Accuracy: 5361/10000 (53.6100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.76ms
INFO:tornado.access:200 POST /update (::1) 24.00ms
___Train Local_ResNet_18,  epoch 117, local model 78, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4138/4368 (94.7344%)
___Train Local_ResNet_18,  epoch 117, local model 78, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4087/4368 (93.5668%)
___Test Local_ResNet_18 poisoned: False, epoch: 117: Average loss: 2.0019, Accuracy: 5492/10000 (54.9200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 25.02ms
___Train Local_ResNet_18,  epoch 117, local model 34, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4513/4911 (91.8957%)
___Train Local_ResNet_18,  epoch 117, local model 34, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4482/4911 (91.2645%)
___Test Local_ResNet_18 poisoned: False, epoch: 117: Average loss: 2.1516, Accuracy: 5304/10000 (53.0400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 24.59ms
___Train Local_ResNet_18,  epoch 117, local model 63, internal_epoch   1,  Average loss: 0.0039, Accuracy: 3639/3910 (93.0691%)
___Train Local_ResNet_18,  epoch 117, local model 63, internal_epoch   2,  Average loss: 0.0059, Accuracy: 3484/3910 (89.1049%)
___Test Local_ResNet_18 poisoned: False, epoch: 117: Average loss: 2.0795, Accuracy: 5389/10000 (53.8900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 23.27ms
___Train Local_ResNet_18,  epoch 117, local model 68, internal_epoch   1,  Average loss: 0.0040, Accuracy: 3315/3589 (92.3656%)
___Train Local_ResNet_18,  epoch 117, local model 68, internal_epoch   2,  Average loss: 0.0059, Accuracy: 3215/3589 (89.5793%)
___Test Local_ResNet_18 poisoned: False, epoch: 117: Average loss: 2.2175, Accuracy: 5206/10000 (52.0600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.03ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 24.11ms
___Train Local_ResNet_18,  epoch 117, local model 55, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4393/4731 (92.8556%)
___Train Local_ResNet_18,  epoch 117, local model 55, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4375/4731 (92.4752%)
___Test Local_ResNet_18 poisoned: False, epoch: 117: Average loss: 1.9532, Accuracy: 5552/10000 (55.5200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 23.72ms
___Train Local_ResNet_18,  epoch 117, local model 14, internal_epoch   1,  Average loss: 0.0028, Accuracy: 3995/4196 (95.2097%)
___Train Local_ResNet_18,  epoch 117, local model 14, internal_epoch   2,  Average loss: 0.0031, Accuracy: 3963/4196 (94.4471%)
___Test Local_ResNet_18 poisoned: False, epoch: 117: Average loss: 1.8241, Accuracy: 5816/10000 (58.1600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.80ms
INFO:tornado.access:200 POST /update (::1) 24.03ms
___Train Local_ResNet_18,  epoch 117, local model 81, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4669/5035 (92.7309%)
___Train Local_ResNet_18,  epoch 117, local model 81, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4607/5035 (91.4995%)
___Test Local_ResNet_18 poisoned: False, epoch: 117: Average loss: 2.0457, Accuracy: 5392/10000 (53.9200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 23.81ms
___Train Local_ResNet_18,  epoch 117, local model 75, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4336/4672 (92.8082%)
___Train Local_ResNet_18,  epoch 117, local model 75, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4364/4672 (93.4075%)
___Test Local_ResNet_18 poisoned: False, epoch: 117: Average loss: 1.8150, Accuracy: 5795/10000 (57.9500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 23.37ms
___Train Local_ResNet_18,  epoch 117, local model 43, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4553/4979 (91.4441%)
___Train Local_ResNet_18,  epoch 117, local model 43, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4553/4979 (91.4441%)
___Test Local_ResNet_18 poisoned: False, epoch: 117: Average loss: 2.1204, Accuracy: 5296/10000 (52.9600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.76ms
INFO:tornado.access:200 POST /update (::1) 24.19ms
___Train Local_ResNet_18,  epoch 117, local model 73, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4298/4605 (93.3333%)
___Train Local_ResNet_18,  epoch 117, local model 73, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4281/4605 (92.9642%)
___Test Local_ResNet_18 poisoned: False, epoch: 117: Average loss: 1.9310, Accuracy: 5641/10000 (56.4100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 24.81ms
___Train Local_ResNet_18,  epoch 117, local model 11, internal_epoch   1,  Average loss: 0.0066, Accuracy: 4957/5702 (86.9344%)
___Train Local_ResNet_18,  epoch 117, local model 11, internal_epoch   2,  Average loss: 0.0095, Accuracy: 4743/5702 (83.1813%)
___Test Local_ResNet_18 poisoned: False, epoch: 117: Average loss: 2.1892, Accuracy: 5088/10000 (50.8800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 23.84ms
___Train Local_ResNet_18,  epoch 117, local model 3, internal_epoch   1,  Average loss: 0.0032, Accuracy: 5048/5346 (94.4257%)
___Train Local_ResNet_18,  epoch 117, local model 3, internal_epoch   2,  Average loss: 0.0031, Accuracy: 5036/5346 (94.2013%)
___Test Local_ResNet_18 poisoned: False, epoch: 117: Average loss: 1.9944, Accuracy: 5506/10000 (55.0600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.79ms
INFO:tornado.access:200 POST /update (::1) 23.42ms
___Train Local_ResNet_18,  epoch 117, local model 70, internal_epoch   1,  Average loss: 0.0040, Accuracy: 5437/5871 (92.6077%)
___Train Local_ResNet_18,  epoch 117, local model 70, internal_epoch   2,  Average loss: 0.0049, Accuracy: 5312/5871 (90.4786%)
___Test Local_ResNet_18 poisoned: False, epoch: 117: Average loss: 2.1130, Accuracy: 5366/10000 (53.6600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /win_exists (::1) 0.67ms
INFO:tornado.access:200 POST /update (::1) 20.32ms
___Train Local_ResNet_18,  epoch 117, local model 54, internal_epoch   1,  Average loss: 0.0053, Accuracy: 5093/5645 (90.2214%)
___Train Local_ResNet_18,  epoch 117, local model 54, internal_epoch   2,  Average loss: 0.0055, Accuracy: 5034/5645 (89.1763%)
___Test Local_ResNet_18 poisoned: False, epoch: 117: Average loss: 2.0438, Accuracy: 5372/10000 (53.7200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 24.21ms
time spent on training: 265.6382164955139
___Test Target_ResNet_18 poisoned: False, epoch: 117: Average loss: 1.2073, Accuracy: 6855/10000 (68.5500%)
___Test Target_ResNet_18 poisoned: True, epoch: 117: Average loss: 0.1460, Accuracy: 9501/9900 (95.9697%)
Done in 292.2172031402588 sec.
Server Epoch:118 choose agents : [13, 36, 58, 71, 53, 62, 44, 64, 3, 63, 32, 24, 73, 6, 54, 16, 25, 82, 84, 41].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 118, local model 13, internal_epoch   1,  Average loss: 0.0019, Accuracy: 5161/5308 (97.2306%), train_poison_data_count: 415
Global model norm: 43.45039011754886.
Norm before scaling: 43.41968637656268. Distance: 1.283534548619553
Total norm for 4 adversaries is: 43.41968637656268. distance: 1.283534548619553
___Test Local_ResNet_18 poisoned: True, epoch: 118: Average loss: 0.0430, Accuracy: 9786/9900 (98.8485%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 118, local model 36, internal_epoch   1,  Average loss: 0.0019, Accuracy: 5614/5777 (97.1785%), train_poison_data_count: 455
Global model norm: 43.45039011754886.
Norm before scaling: 43.415121821024236. Distance: 1.3616244241301252
Total norm for 4 adversaries is: 43.415121821024236. distance: 1.3616244241301252
___Test Local_ResNet_18 poisoned: True, epoch: 118: Average loss: 0.0754, Accuracy: 9679/9900 (97.7677%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 118, local model 58, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4940/5123 (96.4279%), train_poison_data_count: 403
Global model norm: 43.45039011754886.
Norm before scaling: 43.42268885302432. Distance: 1.3701303689421835
Total norm for 4 adversaries is: 43.42268885302432. distance: 1.3701303689421835
___Test Local_ResNet_18 poisoned: True, epoch: 118: Average loss: 0.0669, Accuracy: 9730/9900 (98.2828%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 118, local model 71, internal_epoch   1,  Average loss: 0.0020, Accuracy: 5338/5503 (97.0016%), train_poison_data_count: 430
Global model norm: 43.45039011754886.
Norm before scaling: 43.42000406413716. Distance: 1.357937019354029
Total norm for 4 adversaries is: 43.42000406413716. distance: 1.357937019354029
___Test Local_ResNet_18 poisoned: True, epoch: 118: Average loss: 0.0989, Accuracy: 9618/9900 (97.1515%)
___Train Local_ResNet_18,  epoch 118, local model 53, internal_epoch   1,  Average loss: 0.0058, Accuracy: 5922/6664 (88.8655%)
___Train Local_ResNet_18,  epoch 118, local model 53, internal_epoch   2,  Average loss: 0.0087, Accuracy: 5582/6664 (83.7635%)
___Test Local_ResNet_18 poisoned: False, epoch: 118: Average loss: 2.1959, Accuracy: 4998/10000 (49.9800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.81ms
INFO:tornado.access:200 POST /update (::1) 24.78ms
___Train Local_ResNet_18,  epoch 118, local model 62, internal_epoch   1,  Average loss: 0.0058, Accuracy: 4858/5504 (88.2631%)
___Train Local_ResNet_18,  epoch 118, local model 62, internal_epoch   2,  Average loss: 0.0062, Accuracy: 4808/5504 (87.3547%)
___Test Local_ResNet_18 poisoned: False, epoch: 118: Average loss: 2.1283, Accuracy: 5173/10000 (51.7300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 23.85ms
___Train Local_ResNet_18,  epoch 118, local model 44, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4729/5075 (93.1823%)
___Train Local_ResNet_18,  epoch 118, local model 44, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4708/5075 (92.7685%)
___Test Local_ResNet_18 poisoned: False, epoch: 118: Average loss: 2.0308, Accuracy: 5530/10000 (55.3000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 24.79ms
___Train Local_ResNet_18,  epoch 118, local model 64, internal_epoch   1,  Average loss: 0.0054, Accuracy: 4369/4894 (89.2726%)
___Train Local_ResNet_18,  epoch 118, local model 64, internal_epoch   2,  Average loss: 0.0059, Accuracy: 4319/4894 (88.2509%)
___Test Local_ResNet_18 poisoned: False, epoch: 118: Average loss: 2.0886, Accuracy: 5310/10000 (53.1000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 23.45ms
___Train Local_ResNet_18,  epoch 118, local model 3, internal_epoch   1,  Average loss: 0.0032, Accuracy: 5020/5346 (93.9020%)
___Train Local_ResNet_18,  epoch 118, local model 3, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4945/5346 (92.4991%)
___Test Local_ResNet_18 poisoned: False, epoch: 118: Average loss: 2.0327, Accuracy: 5465/10000 (54.6500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 25.05ms
___Train Local_ResNet_18,  epoch 118, local model 63, internal_epoch   1,  Average loss: 0.0042, Accuracy: 3619/3910 (92.5575%)
___Train Local_ResNet_18,  epoch 118, local model 63, internal_epoch   2,  Average loss: 0.0065, Accuracy: 3434/3910 (87.8261%)
___Test Local_ResNet_18 poisoned: False, epoch: 118: Average loss: 2.1507, Accuracy: 5378/10000 (53.7800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 23.87ms
___Train Local_ResNet_18,  epoch 118, local model 32, internal_epoch   1,  Average loss: 0.0057, Accuracy: 5384/6080 (88.5526%)
___Train Local_ResNet_18,  epoch 118, local model 32, internal_epoch   2,  Average loss: 0.0058, Accuracy: 5360/6080 (88.1579%)
___Test Local_ResNet_18 poisoned: False, epoch: 118: Average loss: 2.3597, Accuracy: 5076/10000 (50.7600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 24.25ms
___Train Local_ResNet_18,  epoch 118, local model 24, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4040/4313 (93.6703%)
___Train Local_ResNet_18,  epoch 118, local model 24, internal_epoch   2,  Average loss: 0.0038, Accuracy: 3984/4313 (92.3719%)
___Test Local_ResNet_18 poisoned: False, epoch: 118: Average loss: 1.9210, Accuracy: 5721/10000 (57.2100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 24.82ms
___Train Local_ResNet_18,  epoch 118, local model 73, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4307/4605 (93.5288%)
___Train Local_ResNet_18,  epoch 118, local model 73, internal_epoch   2,  Average loss: 0.0032, Accuracy: 4319/4605 (93.7894%)
___Test Local_ResNet_18 poisoned: False, epoch: 118: Average loss: 1.7730, Accuracy: 5912/10000 (59.1200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 25.35ms
___Train Local_ResNet_18,  epoch 118, local model 6, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4570/4929 (92.7166%)
___Train Local_ResNet_18,  epoch 118, local model 6, internal_epoch   2,  Average loss: 0.0054, Accuracy: 4464/4929 (90.5660%)
___Test Local_ResNet_18 poisoned: False, epoch: 118: Average loss: 2.0123, Accuracy: 5523/10000 (55.2300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 24.47ms
___Train Local_ResNet_18,  epoch 118, local model 54, internal_epoch   1,  Average loss: 0.0055, Accuracy: 5057/5645 (89.5837%)
___Train Local_ResNet_18,  epoch 118, local model 54, internal_epoch   2,  Average loss: 0.0074, Accuracy: 4835/5645 (85.6510%)
___Test Local_ResNet_18 poisoned: False, epoch: 118: Average loss: 2.2573, Accuracy: 5081/10000 (50.8100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 23.78ms
___Train Local_ResNet_18,  epoch 118, local model 16, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4938/5353 (92.2473%)
___Train Local_ResNet_18,  epoch 118, local model 16, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4831/5353 (90.2485%)
___Test Local_ResNet_18 poisoned: False, epoch: 118: Average loss: 2.0004, Accuracy: 5404/10000 (54.0400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.82ms
INFO:tornado.access:200 POST /update (::1) 23.16ms
___Train Local_ResNet_18,  epoch 118, local model 25, internal_epoch   1,  Average loss: 0.0054, Accuracy: 5744/6419 (89.4843%)
___Train Local_ResNet_18,  epoch 118, local model 25, internal_epoch   2,  Average loss: 0.0073, Accuracy: 5488/6419 (85.4962%)
___Test Local_ResNet_18 poisoned: False, epoch: 118: Average loss: 2.2506, Accuracy: 5182/10000 (51.8200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 23.25ms
___Train Local_ResNet_18,  epoch 118, local model 82, internal_epoch   1,  Average loss: 0.0028, Accuracy: 5023/5298 (94.8094%)
___Train Local_ResNet_18,  epoch 118, local model 82, internal_epoch   2,  Average loss: 0.0031, Accuracy: 4976/5298 (93.9222%)
___Test Local_ResNet_18 poisoned: False, epoch: 118: Average loss: 1.9839, Accuracy: 5534/10000 (55.3400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 23.88ms
___Train Local_ResNet_18,  epoch 118, local model 84, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4754/5209 (91.2651%)
___Train Local_ResNet_18,  epoch 118, local model 84, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4724/5209 (90.6892%)
___Test Local_ResNet_18 poisoned: False, epoch: 118: Average loss: 2.1068, Accuracy: 5347/10000 (53.4700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.80ms
INFO:tornado.access:200 POST /update (::1) 24.79ms
___Train Local_ResNet_18,  epoch 118, local model 41, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4373/4714 (92.7662%)
___Train Local_ResNet_18,  epoch 118, local model 41, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4365/4714 (92.5965%)
___Test Local_ResNet_18 poisoned: False, epoch: 118: Average loss: 2.1521, Accuracy: 5293/10000 (52.9300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.80ms
INFO:tornado.access:200 POST /update (::1) 23.68ms
time spent on training: 265.02245473861694
___Test Target_ResNet_18 poisoned: False, epoch: 118: Average loss: 1.2093, Accuracy: 6851/10000 (68.5100%)
___Test Target_ResNet_18 poisoned: True, epoch: 118: Average loss: 0.1418, Accuracy: 9511/9900 (96.0707%)
Done in 291.73489141464233 sec.
Server Epoch:119 choose agents : [13, 36, 58, 71, 20, 31, 38, 91, 81, 60, 39, 47, 52, 84, 79, 21, 4, 77, 8, 69].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 119, local model 13, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5165/5308 (97.3060%), train_poison_data_count: 415
Global model norm: 43.47216186735915.
Norm before scaling: 43.43923810596317. Distance: 1.2749415215937894
Total norm for 4 adversaries is: 43.43923810596317. distance: 1.2749415215937894
___Test Local_ResNet_18 poisoned: True, epoch: 119: Average loss: 0.0765, Accuracy: 9695/9900 (97.9293%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 119, local model 36, internal_epoch   1,  Average loss: 0.0020, Accuracy: 5600/5777 (96.9361%), train_poison_data_count: 455
Global model norm: 43.47216186735915.
Norm before scaling: 43.436662536891. Distance: 1.3637916462078645
Total norm for 4 adversaries is: 43.436662536891. distance: 1.3637916462078645
___Test Local_ResNet_18 poisoned: True, epoch: 119: Average loss: 0.0639, Accuracy: 9732/9900 (98.3030%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 119, local model 58, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4907/5123 (95.7837%), train_poison_data_count: 403
Global model norm: 43.47216186735915.
Norm before scaling: 43.44719288211768. Distance: 1.455655673315211
Total norm for 4 adversaries is: 43.44719288211768. distance: 1.455655673315211
___Test Local_ResNet_18 poisoned: True, epoch: 119: Average loss: 0.0945, Accuracy: 9657/9900 (97.5455%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 119, local model 71, internal_epoch   1,  Average loss: 0.0021, Accuracy: 5316/5503 (96.6019%), train_poison_data_count: 430
Global model norm: 43.47216186735915.
Norm before scaling: 43.442424687111014. Distance: 1.3828808180317593
Total norm for 4 adversaries is: 43.442424687111014. distance: 1.3828808180317593
___Test Local_ResNet_18 poisoned: True, epoch: 119: Average loss: 0.0290, Accuracy: 9826/9900 (99.2525%)
___Train Local_ResNet_18,  epoch 119, local model 20, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4376/4714 (92.8299%)
___Train Local_ResNet_18,  epoch 119, local model 20, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4380/4714 (92.9147%)
___Test Local_ResNet_18 poisoned: False, epoch: 119: Average loss: 1.8792, Accuracy: 5661/10000 (56.6100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.81ms
INFO:tornado.access:200 POST /update (::1) 24.44ms
___Train Local_ResNet_18,  epoch 119, local model 31, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4212/4537 (92.8367%)
___Train Local_ResNet_18,  epoch 119, local model 31, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4170/4537 (91.9110%)
___Test Local_ResNet_18 poisoned: False, epoch: 119: Average loss: 1.8486, Accuracy: 5771/10000 (57.7100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 24.93ms
___Train Local_ResNet_18,  epoch 119, local model 38, internal_epoch   1,  Average loss: 0.0052, Accuracy: 5611/6235 (89.9920%)
___Train Local_ResNet_18,  epoch 119, local model 38, internal_epoch   2,  Average loss: 0.0059, Accuracy: 5504/6235 (88.2759%)
___Test Local_ResNet_18 poisoned: False, epoch: 119: Average loss: 2.5056, Accuracy: 4846/10000 (48.4600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 25.09ms
___Train Local_ResNet_18,  epoch 119, local model 91, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4072/4527 (89.9492%)
___Train Local_ResNet_18,  epoch 119, local model 91, internal_epoch   2,  Average loss: 0.0056, Accuracy: 4009/4527 (88.5575%)
___Test Local_ResNet_18 poisoned: False, epoch: 119: Average loss: 2.0417, Accuracy: 5434/10000 (54.3400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 24.01ms
___Train Local_ResNet_18,  epoch 119, local model 81, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4706/5035 (93.4657%)
___Train Local_ResNet_18,  epoch 119, local model 81, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4695/5035 (93.2473%)
___Test Local_ResNet_18 poisoned: False, epoch: 119: Average loss: 1.9185, Accuracy: 5599/10000 (55.9900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 23.30ms
___Train Local_ResNet_18,  epoch 119, local model 60, internal_epoch   1,  Average loss: 0.0046, Accuracy: 3772/4145 (91.0012%)
___Train Local_ResNet_18,  epoch 119, local model 60, internal_epoch   2,  Average loss: 0.0041, Accuracy: 3819/4145 (92.1351%)
___Test Local_ResNet_18 poisoned: False, epoch: 119: Average loss: 2.0388, Accuracy: 5451/10000 (54.5100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 23.90ms
___Train Local_ResNet_18,  epoch 119, local model 39, internal_epoch   1,  Average loss: 0.0042, Accuracy: 3865/4175 (92.5749%)
___Train Local_ResNet_18,  epoch 119, local model 39, internal_epoch   2,  Average loss: 0.0049, Accuracy: 3770/4175 (90.2994%)
___Test Local_ResNet_18 poisoned: False, epoch: 119: Average loss: 2.0757, Accuracy: 5314/10000 (53.1400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 23.56ms
___Train Local_ResNet_18,  epoch 119, local model 47, internal_epoch   1,  Average loss: 0.0059, Accuracy: 4616/5123 (90.1035%)
___Train Local_ResNet_18,  epoch 119, local model 47, internal_epoch   2,  Average loss: 0.0159, Accuracy: 3671/5123 (71.6572%)
___Test Local_ResNet_18 poisoned: False, epoch: 119: Average loss: 2.5105, Accuracy: 4482/10000 (44.8200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.79ms
INFO:tornado.access:200 POST /update (::1) 24.72ms
___Train Local_ResNet_18,  epoch 119, local model 52, internal_epoch   1,  Average loss: 0.0034, Accuracy: 3891/4130 (94.2131%)
___Train Local_ResNet_18,  epoch 119, local model 52, internal_epoch   2,  Average loss: 0.0038, Accuracy: 3840/4130 (92.9782%)
___Test Local_ResNet_18 poisoned: False, epoch: 119: Average loss: 1.9099, Accuracy: 5596/10000 (55.9600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.81ms
INFO:tornado.access:200 POST /update (::1) 25.09ms
___Train Local_ResNet_18,  epoch 119, local model 84, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4785/5209 (91.8602%)
___Train Local_ResNet_18,  epoch 119, local model 84, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4697/5209 (90.1709%)
___Test Local_ResNet_18 poisoned: False, epoch: 119: Average loss: 2.0969, Accuracy: 5363/10000 (53.6300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.80ms
INFO:tornado.access:200 POST /update (::1) 24.21ms
___Train Local_ResNet_18,  epoch 119, local model 79, internal_epoch   1,  Average loss: 0.0038, Accuracy: 3832/4111 (93.2133%)
___Train Local_ResNet_18,  epoch 119, local model 79, internal_epoch   2,  Average loss: 0.0039, Accuracy: 3805/4111 (92.5566%)
___Test Local_ResNet_18 poisoned: False, epoch: 119: Average loss: 1.9428, Accuracy: 5594/10000 (55.9400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 24.89ms
___Train Local_ResNet_18,  epoch 119, local model 21, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4653/5038 (92.3581%)
___Train Local_ResNet_18,  epoch 119, local model 21, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4628/5038 (91.8618%)
___Test Local_ResNet_18 poisoned: False, epoch: 119: Average loss: 1.9282, Accuracy: 5648/10000 (56.4800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.69ms
INFO:tornado.access:200 POST /update (::1) 20.20ms
___Train Local_ResNet_18,  epoch 119, local model 4, internal_epoch   1,  Average loss: 0.0037, Accuracy: 3757/4028 (93.2721%)
___Train Local_ResNet_18,  epoch 119, local model 4, internal_epoch   2,  Average loss: 0.0035, Accuracy: 3740/4028 (92.8500%)
___Test Local_ResNet_18 poisoned: False, epoch: 119: Average loss: 1.8554, Accuracy: 5830/10000 (58.3000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /update (::1) 18.32ms
___Train Local_ResNet_18,  epoch 119, local model 77, internal_epoch   1,  Average loss: 0.0053, Accuracy: 4545/5050 (90.0000%)
___Train Local_ResNet_18,  epoch 119, local model 77, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4545/5050 (90.0000%)
___Test Local_ResNet_18 poisoned: False, epoch: 119: Average loss: 2.4395, Accuracy: 4823/10000 (48.2300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 25.01ms
___Train Local_ResNet_18,  epoch 119, local model 8, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4486/4889 (91.7570%)
___Train Local_ResNet_18,  epoch 119, local model 8, internal_epoch   2,  Average loss: 0.0054, Accuracy: 4371/4889 (89.4048%)
___Test Local_ResNet_18 poisoned: False, epoch: 119: Average loss: 2.1254, Accuracy: 5276/10000 (52.7600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /update (::1) 24.75ms
___Train Local_ResNet_18,  epoch 119, local model 69, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4046/4364 (92.7131%)
___Train Local_ResNet_18,  epoch 119, local model 69, internal_epoch   2,  Average loss: 0.0046, Accuracy: 3989/4364 (91.4070%)
___Test Local_ResNet_18 poisoned: False, epoch: 119: Average loss: 1.9356, Accuracy: 5550/10000 (55.5000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 24.04ms
time spent on training: 265.4082238674164
___Test Target_ResNet_18 poisoned: False, epoch: 119: Average loss: 1.2065, Accuracy: 6857/10000 (68.5700%)
___Test Target_ResNet_18 poisoned: True, epoch: 119: Average loss: 0.1340, Accuracy: 9541/9900 (96.3737%)
Done in 291.87034583091736 sec.
Server Epoch:120 choose agents : [13, 36, 58, 71, 72, 30, 96, 38, 62, 1, 31, 88, 21, 34, 43, 37, 10, 83, 93, 76].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 120, local model 13, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5162/5308 (97.2494%), train_poison_data_count: 415
Global model norm: 43.491385472890634.
Norm before scaling: 43.46083849193288. Distance: 1.3127821210375996
Total norm for 4 adversaries is: 43.46083849193288. distance: 1.3127821210375996
___Test Local_ResNet_18 poisoned: True, epoch: 120: Average loss: 0.0398, Accuracy: 9790/9900 (98.8889%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 120, local model 36, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5626/5777 (97.3862%), train_poison_data_count: 455
Global model norm: 43.491385472890634.
Norm before scaling: 43.452967682203536. Distance: 1.3070949340555207
Total norm for 4 adversaries is: 43.452967682203536. distance: 1.3070949340555207
___Test Local_ResNet_18 poisoned: True, epoch: 120: Average loss: 0.0542, Accuracy: 9755/9900 (98.5354%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 120, local model 58, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4943/5123 (96.4864%), train_poison_data_count: 403
Global model norm: 43.491385472890634.
Norm before scaling: 43.46297870116733. Distance: 1.3609499522361044
Total norm for 4 adversaries is: 43.46297870116733. distance: 1.3609499522361044
___Test Local_ResNet_18 poisoned: True, epoch: 120: Average loss: 0.1431, Accuracy: 9530/9900 (96.2626%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 120, local model 71, internal_epoch   1,  Average loss: 0.0021, Accuracy: 5309/5503 (96.4747%), train_poison_data_count: 430
Global model norm: 43.491385472890634.
Norm before scaling: 43.464625916424126. Distance: 1.4310988667081443
Total norm for 4 adversaries is: 43.464625916424126. distance: 1.4310988667081443
___Test Local_ResNet_18 poisoned: True, epoch: 120: Average loss: 0.1094, Accuracy: 9608/9900 (97.0505%)
___Train Local_ResNet_18,  epoch 120, local model 72, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4773/5193 (91.9122%)
___Train Local_ResNet_18,  epoch 120, local model 72, internal_epoch   2,  Average loss: 0.0069, Accuracy: 4507/5193 (86.7899%)
___Test Local_ResNet_18 poisoned: False, epoch: 120: Average loss: 2.3427, Accuracy: 4967/10000 (49.6700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 24.23ms
___Train Local_ResNet_18,  epoch 120, local model 30, internal_epoch   1,  Average loss: 0.0036, Accuracy: 3504/3774 (92.8458%)
___Train Local_ResNet_18,  epoch 120, local model 30, internal_epoch   2,  Average loss: 0.0040, Accuracy: 3485/3774 (92.3423%)
___Test Local_ResNet_18 poisoned: False, epoch: 120: Average loss: 1.9255, Accuracy: 5678/10000 (56.7800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.80ms
INFO:tornado.access:200 POST /update (::1) 25.26ms
___Train Local_ResNet_18,  epoch 120, local model 96, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4658/5086 (91.5847%)
___Train Local_ResNet_18,  epoch 120, local model 96, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4619/5086 (90.8179%)
___Test Local_ResNet_18 poisoned: False, epoch: 120: Average loss: 2.0541, Accuracy: 5332/10000 (53.3200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 24.33ms
___Train Local_ResNet_18,  epoch 120, local model 38, internal_epoch   1,  Average loss: 0.0052, Accuracy: 5614/6235 (90.0401%)
___Train Local_ResNet_18,  epoch 120, local model 38, internal_epoch   2,  Average loss: 0.0057, Accuracy: 5538/6235 (88.8212%)
___Test Local_ResNet_18 poisoned: False, epoch: 120: Average loss: 2.3855, Accuracy: 4900/10000 (49.0000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 23.72ms
___Train Local_ResNet_18,  epoch 120, local model 62, internal_epoch   1,  Average loss: 0.0058, Accuracy: 4903/5504 (89.0807%)
___Train Local_ResNet_18,  epoch 120, local model 62, internal_epoch   2,  Average loss: 0.0059, Accuracy: 4851/5504 (88.1359%)
___Test Local_ResNet_18 poisoned: False, epoch: 120: Average loss: 2.0892, Accuracy: 5206/10000 (52.0600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 24.55ms
___Train Local_ResNet_18,  epoch 120, local model 1, internal_epoch   1,  Average loss: 0.0031, Accuracy: 5107/5422 (94.1903%)
___Train Local_ResNet_18,  epoch 120, local model 1, internal_epoch   2,  Average loss: 0.0036, Accuracy: 5038/5422 (92.9177%)
___Test Local_ResNet_18 poisoned: False, epoch: 120: Average loss: 1.8758, Accuracy: 5774/10000 (57.7400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 24.29ms
___Train Local_ResNet_18,  epoch 120, local model 31, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4234/4537 (93.3216%)
___Train Local_ResNet_18,  epoch 120, local model 31, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4173/4537 (91.9771%)
___Test Local_ResNet_18 poisoned: False, epoch: 120: Average loss: 1.9435, Accuracy: 5661/10000 (56.6100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 23.60ms
___Train Local_ResNet_18,  epoch 120, local model 88, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4950/5362 (92.3163%)
___Train Local_ResNet_18,  epoch 120, local model 88, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4926/5362 (91.8687%)
___Test Local_ResNet_18 poisoned: False, epoch: 120: Average loss: 2.0620, Accuracy: 5388/10000 (53.8800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 25.12ms
___Train Local_ResNet_18,  epoch 120, local model 21, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4597/5038 (91.2465%)
___Train Local_ResNet_18,  epoch 120, local model 21, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4613/5038 (91.5641%)
___Test Local_ResNet_18 poisoned: False, epoch: 120: Average loss: 1.9713, Accuracy: 5672/10000 (56.7200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.82ms
INFO:tornado.access:200 POST /update (::1) 24.52ms
___Train Local_ResNet_18,  epoch 120, local model 34, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4558/4911 (92.8121%)
___Train Local_ResNet_18,  epoch 120, local model 34, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4571/4911 (93.0768%)
___Test Local_ResNet_18 poisoned: False, epoch: 120: Average loss: 2.0772, Accuracy: 5338/10000 (53.3800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 23.64ms
___Train Local_ResNet_18,  epoch 120, local model 43, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4610/4979 (92.5889%)
___Train Local_ResNet_18,  epoch 120, local model 43, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4576/4979 (91.9060%)
___Test Local_ResNet_18 poisoned: False, epoch: 120: Average loss: 2.0389, Accuracy: 5468/10000 (54.6800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.79ms
INFO:tornado.access:200 POST /update (::1) 25.64ms
___Train Local_ResNet_18,  epoch 120, local model 37, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4330/4741 (91.3309%)
___Train Local_ResNet_18,  epoch 120, local model 37, internal_epoch   2,  Average loss: 0.0114, Accuracy: 3750/4741 (79.0972%)
___Test Local_ResNet_18 poisoned: False, epoch: 120: Average loss: 2.8070, Accuracy: 4260/10000 (42.6000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 23.58ms
___Train Local_ResNet_18,  epoch 120, local model 10, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4746/5068 (93.6464%)
___Train Local_ResNet_18,  epoch 120, local model 10, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4669/5068 (92.1271%)
___Test Local_ResNet_18 poisoned: False, epoch: 120: Average loss: 1.9874, Accuracy: 5539/10000 (55.3900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 24.87ms
___Train Local_ResNet_18,  epoch 120, local model 83, internal_epoch   1,  Average loss: 0.0041, Accuracy: 3264/3552 (91.8919%)
___Train Local_ResNet_18,  epoch 120, local model 83, internal_epoch   2,  Average loss: 0.0039, Accuracy: 3266/3552 (91.9482%)
___Test Local_ResNet_18 poisoned: False, epoch: 120: Average loss: 1.8325, Accuracy: 5844/10000 (58.4400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 23.79ms
___Train Local_ResNet_18,  epoch 120, local model 93, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4662/5055 (92.2255%)
___Train Local_ResNet_18,  epoch 120, local model 93, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4599/5055 (90.9792%)
___Test Local_ResNet_18 poisoned: False, epoch: 120: Average loss: 2.1186, Accuracy: 5335/10000 (53.3500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 23.89ms
___Train Local_ResNet_18,  epoch 120, local model 76, internal_epoch   1,  Average loss: 0.0040, Accuracy: 3658/3959 (92.3971%)
___Train Local_ResNet_18,  epoch 120, local model 76, internal_epoch   2,  Average loss: 0.0043, Accuracy: 3629/3959 (91.6646%)
___Test Local_ResNet_18 poisoned: False, epoch: 120: Average loss: 2.0282, Accuracy: 5566/10000 (55.6600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 23.67ms
time spent on training: 268.5135660171509
___Test Target_ResNet_18 poisoned: False, epoch: 120: Average loss: 1.2087, Accuracy: 6849/10000 (68.4900%)
___Test Target_ResNet_18 poisoned: True, epoch: 120: Average loss: 0.1288, Accuracy: 9549/9900 (96.4545%)
Done in 295.6506316661835 sec.
Server Epoch:121 choose agents : [13, 36, 58, 71, 86, 74, 94, 24, 51, 84, 63, 26, 28, 88, 55, 2, 33, 98, 34, 10].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 121, local model 13, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5163/5308 (97.2683%), train_poison_data_count: 415
Global model norm: 43.511028426441065.
Norm before scaling: 43.47799933048035. Distance: 1.2674406708896313
Total norm for 4 adversaries is: 43.47799933048035. distance: 1.2674406708896313
___Test Local_ResNet_18 poisoned: True, epoch: 121: Average loss: 0.0558, Accuracy: 9753/9900 (98.5152%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 121, local model 36, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5620/5777 (97.2823%), train_poison_data_count: 455
Global model norm: 43.511028426441065.
Norm before scaling: 43.475486425362455. Distance: 1.3427686434573511
Total norm for 4 adversaries is: 43.475486425362455. distance: 1.3427686434573511
___Test Local_ResNet_18 poisoned: True, epoch: 121: Average loss: 0.1324, Accuracy: 9573/9900 (96.6970%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 121, local model 58, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4922/5123 (96.0765%), train_poison_data_count: 403
Global model norm: 43.511028426441065.
Norm before scaling: 43.48315384109977. Distance: 1.39566353101965
Total norm for 4 adversaries is: 43.48315384109977. distance: 1.39566353101965
___Test Local_ResNet_18 poisoned: True, epoch: 121: Average loss: 0.0554, Accuracy: 9742/9900 (98.4040%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 121, local model 71, internal_epoch   1,  Average loss: 0.0020, Accuracy: 5334/5503 (96.9289%), train_poison_data_count: 430
Global model norm: 43.511028426441065.
Norm before scaling: 43.48085881175546. Distance: 1.3562010620007268
Total norm for 4 adversaries is: 43.48085881175546. distance: 1.3562010620007268
___Test Local_ResNet_18 poisoned: True, epoch: 121: Average loss: 0.0212, Accuracy: 9855/9900 (99.5455%)
___Train Local_ResNet_18,  epoch 121, local model 86, internal_epoch   1,  Average loss: 0.0048, Accuracy: 3561/3929 (90.6337%)
___Train Local_ResNet_18,  epoch 121, local model 86, internal_epoch   2,  Average loss: 0.0047, Accuracy: 3550/3929 (90.3538%)
___Test Local_ResNet_18 poisoned: False, epoch: 121: Average loss: 1.9098, Accuracy: 5654/10000 (56.5400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 24.78ms
___Train Local_ResNet_18,  epoch 121, local model 74, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4379/4797 (91.2862%)
___Train Local_ResNet_18,  epoch 121, local model 74, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4283/4797 (89.2850%)
___Test Local_ResNet_18 poisoned: False, epoch: 121: Average loss: 2.2156, Accuracy: 5244/10000 (52.4400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 24.12ms
___Train Local_ResNet_18,  epoch 121, local model 94, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4714/5224 (90.2374%)
___Train Local_ResNet_18,  epoch 121, local model 94, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4714/5224 (90.2374%)
___Test Local_ResNet_18 poisoned: False, epoch: 121: Average loss: 2.1496, Accuracy: 5295/10000 (52.9500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 24.86ms
___Train Local_ResNet_18,  epoch 121, local model 24, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4034/4313 (93.5312%)
___Train Local_ResNet_18,  epoch 121, local model 24, internal_epoch   2,  Average loss: 0.0033, Accuracy: 4064/4313 (94.2268%)
___Test Local_ResNet_18 poisoned: False, epoch: 121: Average loss: 1.7872, Accuracy: 5842/10000 (58.4200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.80ms
INFO:tornado.access:200 POST /update (::1) 23.74ms
___Train Local_ResNet_18,  epoch 121, local model 51, internal_epoch   1,  Average loss: 0.0035, Accuracy: 3840/4108 (93.4761%)
___Train Local_ResNet_18,  epoch 121, local model 51, internal_epoch   2,  Average loss: 0.0037, Accuracy: 3835/4108 (93.3544%)
___Test Local_ResNet_18 poisoned: False, epoch: 121: Average loss: 1.9150, Accuracy: 5654/10000 (56.5400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 25.67ms
___Train Local_ResNet_18,  epoch 121, local model 84, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4736/5209 (90.9196%)
___Train Local_ResNet_18,  epoch 121, local model 84, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4675/5209 (89.7485%)
___Test Local_ResNet_18 poisoned: False, epoch: 121: Average loss: 2.1928, Accuracy: 5249/10000 (52.4900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 23.76ms
___Train Local_ResNet_18,  epoch 121, local model 63, internal_epoch   1,  Average loss: 0.0036, Accuracy: 3656/3910 (93.5038%)
___Train Local_ResNet_18,  epoch 121, local model 63, internal_epoch   2,  Average loss: 0.0037, Accuracy: 3641/3910 (93.1202%)
___Test Local_ResNet_18 poisoned: False, epoch: 121: Average loss: 1.9638, Accuracy: 5618/10000 (56.1800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 23.94ms
___Train Local_ResNet_18,  epoch 121, local model 26, internal_epoch   1,  Average loss: 0.0035, Accuracy: 3827/4086 (93.6613%)
___Train Local_ResNet_18,  epoch 121, local model 26, internal_epoch   2,  Average loss: 0.0036, Accuracy: 3800/4086 (93.0005%)
___Test Local_ResNet_18 poisoned: False, epoch: 121: Average loss: 2.0317, Accuracy: 5512/10000 (55.1200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 24.43ms
___Train Local_ResNet_18,  epoch 121, local model 28, internal_epoch   1,  Average loss: 0.0056, Accuracy: 4570/5122 (89.2230%)
___Train Local_ResNet_18,  epoch 121, local model 28, internal_epoch   2,  Average loss: 0.0089, Accuracy: 4289/5122 (83.7368%)
___Test Local_ResNet_18 poisoned: False, epoch: 121: Average loss: 2.3094, Accuracy: 4947/10000 (49.4700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 24.11ms
___Train Local_ResNet_18,  epoch 121, local model 88, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4895/5362 (91.2906%)
___Train Local_ResNet_18,  epoch 121, local model 88, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4875/5362 (90.9176%)
___Test Local_ResNet_18 poisoned: False, epoch: 121: Average loss: 2.2046, Accuracy: 5303/10000 (53.0300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 25.40ms
___Train Local_ResNet_18,  epoch 121, local model 55, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4404/4731 (93.0881%)
___Train Local_ResNet_18,  epoch 121, local model 55, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4370/4731 (92.3695%)
___Test Local_ResNet_18 poisoned: False, epoch: 121: Average loss: 1.9873, Accuracy: 5518/10000 (55.1800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 23.57ms
___Train Local_ResNet_18,  epoch 121, local model 2, internal_epoch   1,  Average loss: 0.0043, Accuracy: 3644/3968 (91.8347%)
___Train Local_ResNet_18,  epoch 121, local model 2, internal_epoch   2,  Average loss: 0.0042, Accuracy: 3639/3968 (91.7087%)
___Test Local_ResNet_18 poisoned: False, epoch: 121: Average loss: 1.8124, Accuracy: 5761/10000 (57.6100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 24.50ms
___Train Local_ResNet_18,  epoch 121, local model 33, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4445/4818 (92.2582%)
___Train Local_ResNet_18,  epoch 121, local model 33, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4343/4818 (90.1411%)
___Test Local_ResNet_18 poisoned: False, epoch: 121: Average loss: 2.1652, Accuracy: 5235/10000 (52.3500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 24.50ms
___Train Local_ResNet_18,  epoch 121, local model 98, internal_epoch   1,  Average loss: 0.0050, Accuracy: 3881/4161 (93.2708%)
___Train Local_ResNet_18,  epoch 121, local model 98, internal_epoch   2,  Average loss: 0.0052, Accuracy: 3799/4161 (91.3002%)
___Test Local_ResNet_18 poisoned: False, epoch: 121: Average loss: 1.8869, Accuracy: 5772/10000 (57.7200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 24.12ms
___Train Local_ResNet_18,  epoch 121, local model 34, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4530/4911 (92.2419%)
___Train Local_ResNet_18,  epoch 121, local model 34, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4509/4911 (91.8143%)
___Test Local_ResNet_18 poisoned: False, epoch: 121: Average loss: 2.0688, Accuracy: 5271/10000 (52.7100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 24.03ms
___Train Local_ResNet_18,  epoch 121, local model 10, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4749/5068 (93.7056%)
___Train Local_ResNet_18,  epoch 121, local model 10, internal_epoch   2,  Average loss: 0.0032, Accuracy: 4763/5068 (93.9818%)
___Test Local_ResNet_18 poisoned: False, epoch: 121: Average loss: 1.9860, Accuracy: 5566/10000 (55.6600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 25.85ms
time spent on training: 261.4961156845093
___Test Target_ResNet_18 poisoned: False, epoch: 121: Average loss: 1.2201, Accuracy: 6821/10000 (68.2100%)
___Test Target_ResNet_18 poisoned: True, epoch: 121: Average loss: 0.1174, Accuracy: 9580/9900 (96.7677%)
Done in 288.4007349014282 sec.
Server Epoch:122 choose agents : [13, 36, 58, 71, 33, 32, 46, 38, 22, 73, 61, 35, 83, 24, 87, 23, 3, 19, 98, 20].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 122, local model 13, internal_epoch   1,  Average loss: 0.0017, Accuracy: 5168/5308 (97.3625%), train_poison_data_count: 415
Global model norm: 43.52957726281853.
Norm before scaling: 43.495398968687624. Distance: 1.2291867313794782
Total norm for 4 adversaries is: 43.495398968687624. distance: 1.2291867313794782
___Test Local_ResNet_18 poisoned: True, epoch: 122: Average loss: 0.0644, Accuracy: 9728/9900 (98.2626%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 122, local model 36, internal_epoch   1,  Average loss: 0.0019, Accuracy: 5615/5777 (97.1958%), train_poison_data_count: 455
Global model norm: 43.52957726281853.
Norm before scaling: 43.49402656319241. Distance: 1.358418314368077
Total norm for 4 adversaries is: 43.49402656319241. distance: 1.358418314368077
___Test Local_ResNet_18 poisoned: True, epoch: 122: Average loss: 0.0967, Accuracy: 9657/9900 (97.5455%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 122, local model 58, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4932/5123 (96.2717%), train_poison_data_count: 403
Global model norm: 43.52957726281853.
Norm before scaling: 43.49982601437907. Distance: 1.3417831042608954
Total norm for 4 adversaries is: 43.49982601437907. distance: 1.3417831042608954
___Test Local_ResNet_18 poisoned: True, epoch: 122: Average loss: 0.1452, Accuracy: 9527/9900 (96.2323%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 122, local model 71, internal_epoch   1,  Average loss: 0.0021, Accuracy: 5321/5503 (96.6927%), train_poison_data_count: 430
Global model norm: 43.52957726281853.
Norm before scaling: 43.49935316284528. Distance: 1.4126330574628807
Total norm for 4 adversaries is: 43.49935316284528. distance: 1.4126330574628807
___Test Local_ResNet_18 poisoned: True, epoch: 122: Average loss: 0.0850, Accuracy: 9676/9900 (97.7374%)
___Train Local_ResNet_18,  epoch 122, local model 33, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4465/4818 (92.6733%)
___Train Local_ResNet_18,  epoch 122, local model 33, internal_epoch   2,  Average loss: 0.0058, Accuracy: 4276/4818 (88.7505%)
___Test Local_ResNet_18 poisoned: False, epoch: 122: Average loss: 2.0504, Accuracy: 5354/10000 (53.5400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 24.17ms
___Train Local_ResNet_18,  epoch 122, local model 32, internal_epoch   1,  Average loss: 0.0052, Accuracy: 5457/6080 (89.7533%)
___Train Local_ResNet_18,  epoch 122, local model 32, internal_epoch   2,  Average loss: 0.0060, Accuracy: 5371/6080 (88.3388%)
___Test Local_ResNet_18 poisoned: False, epoch: 122: Average loss: 2.2323, Accuracy: 5125/10000 (51.2500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 24.14ms
___Train Local_ResNet_18,  epoch 122, local model 46, internal_epoch   1,  Average loss: 0.0057, Accuracy: 4831/5399 (89.4795%)
___Train Local_ResNet_18,  epoch 122, local model 46, internal_epoch   2,  Average loss: 0.0063, Accuracy: 4717/5399 (87.3680%)
___Test Local_ResNet_18 poisoned: False, epoch: 122: Average loss: 2.2737, Accuracy: 5100/10000 (51.0000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 23.72ms
___Train Local_ResNet_18,  epoch 122, local model 38, internal_epoch   1,  Average loss: 0.0053, Accuracy: 5594/6235 (89.7193%)
___Train Local_ResNet_18,  epoch 122, local model 38, internal_epoch   2,  Average loss: 0.0063, Accuracy: 5451/6235 (87.4258%)
___Test Local_ResNet_18 poisoned: False, epoch: 122: Average loss: 2.3649, Accuracy: 4918/10000 (49.1800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 24.17ms
___Train Local_ResNet_18,  epoch 122, local model 22, internal_epoch   1,  Average loss: 0.0035, Accuracy: 5344/5696 (93.8202%)
___Train Local_ResNet_18,  epoch 122, local model 22, internal_epoch   2,  Average loss: 0.0038, Accuracy: 5268/5696 (92.4860%)
___Test Local_ResNet_18 poisoned: False, epoch: 122: Average loss: 1.9431, Accuracy: 5580/10000 (55.8000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.81ms
INFO:tornado.access:200 POST /update (::1) 24.26ms
___Train Local_ResNet_18,  epoch 122, local model 73, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4338/4605 (94.2020%)
___Train Local_ResNet_18,  epoch 122, local model 73, internal_epoch   2,  Average loss: 0.0030, Accuracy: 4360/4605 (94.6797%)
___Test Local_ResNet_18 poisoned: False, epoch: 122: Average loss: 1.8619, Accuracy: 5780/10000 (57.8000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 25.61ms
___Train Local_ResNet_18,  epoch 122, local model 61, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4144/4485 (92.3969%)
___Train Local_ResNet_18,  epoch 122, local model 61, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4064/4485 (90.6132%)
___Test Local_ResNet_18 poisoned: False, epoch: 122: Average loss: 2.1184, Accuracy: 5273/10000 (52.7300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 24.67ms
___Train Local_ResNet_18,  epoch 122, local model 35, internal_epoch   1,  Average loss: 0.0043, Accuracy: 5141/5615 (91.5583%)
___Train Local_ResNet_18,  epoch 122, local model 35, internal_epoch   2,  Average loss: 0.0046, Accuracy: 5124/5615 (91.2556%)
___Test Local_ResNet_18 poisoned: False, epoch: 122: Average loss: 2.2415, Accuracy: 5218/10000 (52.1800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 25.36ms
___Train Local_ResNet_18,  epoch 122, local model 83, internal_epoch   1,  Average loss: 0.0040, Accuracy: 3259/3552 (91.7511%)
___Train Local_ResNet_18,  epoch 122, local model 83, internal_epoch   2,  Average loss: 0.0033, Accuracy: 3310/3552 (93.1869%)
___Test Local_ResNet_18 poisoned: False, epoch: 122: Average loss: 1.7795, Accuracy: 5920/10000 (59.2000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 24.81ms
___Train Local_ResNet_18,  epoch 122, local model 24, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4018/4313 (93.1602%)
___Train Local_ResNet_18,  epoch 122, local model 24, internal_epoch   2,  Average loss: 0.0032, Accuracy: 4054/4313 (93.9949%)
___Test Local_ResNet_18 poisoned: False, epoch: 122: Average loss: 1.7168, Accuracy: 5969/10000 (59.6900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 25.06ms
___Train Local_ResNet_18,  epoch 122, local model 87, internal_epoch   1,  Average loss: 0.0048, Accuracy: 3610/3995 (90.3630%)
___Train Local_ResNet_18,  epoch 122, local model 87, internal_epoch   2,  Average loss: 0.0051, Accuracy: 3589/3995 (89.8373%)
___Test Local_ResNet_18 poisoned: False, epoch: 122: Average loss: 2.3186, Accuracy: 5045/10000 (50.4500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 25.39ms
___Train Local_ResNet_18,  epoch 122, local model 23, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4328/4549 (95.1418%)
___Train Local_ResNet_18,  epoch 122, local model 23, internal_epoch   2,  Average loss: 0.0064, Accuracy: 3996/4549 (87.8435%)
___Test Local_ResNet_18 poisoned: False, epoch: 122: Average loss: 2.2282, Accuracy: 5090/10000 (50.9000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 24.87ms
___Train Local_ResNet_18,  epoch 122, local model 3, internal_epoch   1,  Average loss: 0.0035, Accuracy: 5005/5346 (93.6214%)
___Train Local_ResNet_18,  epoch 122, local model 3, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4941/5346 (92.4242%)
___Test Local_ResNet_18 poisoned: False, epoch: 122: Average loss: 2.0739, Accuracy: 5399/10000 (53.9900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.82ms
INFO:tornado.access:200 POST /win_exists (::1) 0.66ms
INFO:tornado.access:200 POST /update (::1) 22.33ms
___Train Local_ResNet_18,  epoch 122, local model 19, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4847/5361 (90.4122%)
___Train Local_ResNet_18,  epoch 122, local model 19, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4818/5361 (89.8713%)
___Test Local_ResNet_18 poisoned: False, epoch: 122: Average loss: 2.1306, Accuracy: 5329/10000 (53.2900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 24.51ms
___Train Local_ResNet_18,  epoch 122, local model 98, internal_epoch   1,  Average loss: 0.0049, Accuracy: 3863/4161 (92.8383%)
___Train Local_ResNet_18,  epoch 122, local model 98, internal_epoch   2,  Average loss: 0.0051, Accuracy: 3825/4161 (91.9250%)
___Test Local_ResNet_18 poisoned: False, epoch: 122: Average loss: 2.0975, Accuracy: 5462/10000 (54.6200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 24.72ms
___Train Local_ResNet_18,  epoch 122, local model 20, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4395/4714 (93.2329%)
___Train Local_ResNet_18,  epoch 122, local model 20, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4392/4714 (93.1693%)
___Test Local_ResNet_18 poisoned: False, epoch: 122: Average loss: 2.1005, Accuracy: 5399/10000 (53.9900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 25.04ms
time spent on training: 271.0466718673706
___Test Target_ResNet_18 poisoned: False, epoch: 122: Average loss: 1.2283, Accuracy: 6816/10000 (68.1600%)
___Test Target_ResNet_18 poisoned: True, epoch: 122: Average loss: 0.1161, Accuracy: 9585/9900 (96.8182%)
Done in 297.8414463996887 sec.
Server Epoch:123 choose agents : [13, 36, 58, 71, 9, 53, 69, 0, 77, 5, 33, 81, 92, 66, 83, 47, 17, 1, 84, 22].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 123, local model 13, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5179/5308 (97.5697%), train_poison_data_count: 415
Global model norm: 43.5496388609811.
Norm before scaling: 43.51525330855621. Distance: 1.2490874297188344
Total norm for 4 adversaries is: 43.51525330855621. distance: 1.2490874297188344
___Test Local_ResNet_18 poisoned: True, epoch: 123: Average loss: 0.1025, Accuracy: 9629/9900 (97.2626%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 123, local model 36, internal_epoch   1,  Average loss: 0.0019, Accuracy: 5619/5777 (97.2650%), train_poison_data_count: 455
Global model norm: 43.5496388609811.
Norm before scaling: 43.51271730635553. Distance: 1.3798952527305473
Total norm for 4 adversaries is: 43.51271730635553. distance: 1.3798952527305473
___Test Local_ResNet_18 poisoned: True, epoch: 123: Average loss: 0.0409, Accuracy: 9788/9900 (98.8687%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 123, local model 58, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4947/5123 (96.5645%), train_poison_data_count: 403
Global model norm: 43.5496388609811.
Norm before scaling: 43.51906264473722. Distance: 1.3424371471645216
Total norm for 4 adversaries is: 43.51906264473722. distance: 1.3424371471645216
___Test Local_ResNet_18 poisoned: True, epoch: 123: Average loss: 0.0825, Accuracy: 9687/9900 (97.8485%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 123, local model 71, internal_epoch   1,  Average loss: 0.0019, Accuracy: 5342/5503 (97.0743%), train_poison_data_count: 430
Global model norm: 43.5496388609811.
Norm before scaling: 43.517947648965766. Distance: 1.3605453451773941
Total norm for 4 adversaries is: 43.517947648965766. distance: 1.3605453451773941
___Test Local_ResNet_18 poisoned: True, epoch: 123: Average loss: 0.0459, Accuracy: 9773/9900 (98.7172%)
___Train Local_ResNet_18,  epoch 123, local model 9, internal_epoch   1,  Average loss: 0.0051, Accuracy: 5170/5727 (90.2741%)
___Train Local_ResNet_18,  epoch 123, local model 9, internal_epoch   2,  Average loss: 0.0059, Accuracy: 5065/5727 (88.4407%)
___Test Local_ResNet_18 poisoned: False, epoch: 123: Average loss: 2.0743, Accuracy: 5361/10000 (53.6100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 24.98ms
___Train Local_ResNet_18,  epoch 123, local model 53, internal_epoch   1,  Average loss: 0.0064, Accuracy: 5840/6664 (87.6351%)
___Train Local_ResNet_18,  epoch 123, local model 53, internal_epoch   2,  Average loss: 0.0070, Accuracy: 5731/6664 (85.9994%)
___Test Local_ResNet_18 poisoned: False, epoch: 123: Average loss: 2.1074, Accuracy: 5304/10000 (53.0400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.63ms
INFO:tornado.access:200 POST /update (::1) 18.56ms
___Train Local_ResNet_18,  epoch 123, local model 69, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4056/4364 (92.9423%)
___Train Local_ResNet_18,  epoch 123, local model 69, internal_epoch   2,  Average loss: 0.0052, Accuracy: 3923/4364 (89.8946%)
___Test Local_ResNet_18 poisoned: False, epoch: 123: Average loss: 1.9836, Accuracy: 5482/10000 (54.8200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 24.46ms
___Train Local_ResNet_18,  epoch 123, local model 0, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4975/5454 (91.2175%)
___Train Local_ResNet_18,  epoch 123, local model 0, internal_epoch   2,  Average loss: 0.0060, Accuracy: 4846/5454 (88.8522%)
___Test Local_ResNet_18 poisoned: False, epoch: 123: Average loss: 2.1112, Accuracy: 5313/10000 (53.1300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 25.65ms
___Train Local_ResNet_18,  epoch 123, local model 77, internal_epoch   1,  Average loss: 0.0057, Accuracy: 4482/5050 (88.7525%)
___Train Local_ResNet_18,  epoch 123, local model 77, internal_epoch   2,  Average loss: 0.0063, Accuracy: 4424/5050 (87.6040%)
___Test Local_ResNet_18 poisoned: False, epoch: 123: Average loss: 2.0621, Accuracy: 5380/10000 (53.8000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 25.53ms
___Train Local_ResNet_18,  epoch 123, local model 5, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4729/4993 (94.7126%)
___Train Local_ResNet_18,  epoch 123, local model 5, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4659/4993 (93.3106%)
___Test Local_ResNet_18 poisoned: False, epoch: 123: Average loss: 2.0315, Accuracy: 5554/10000 (55.5400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.82ms
INFO:tornado.access:200 POST /update (::1) 23.71ms
___Train Local_ResNet_18,  epoch 123, local model 33, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4422/4818 (91.7808%)
___Train Local_ResNet_18,  epoch 123, local model 33, internal_epoch   2,  Average loss: 0.0058, Accuracy: 4289/4818 (89.0203%)
___Test Local_ResNet_18 poisoned: False, epoch: 123: Average loss: 2.0664, Accuracy: 5391/10000 (53.9100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 25.72ms
___Train Local_ResNet_18,  epoch 123, local model 81, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4704/5035 (93.4260%)
___Train Local_ResNet_18,  epoch 123, local model 81, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4683/5035 (93.0089%)
___Test Local_ResNet_18 poisoned: False, epoch: 123: Average loss: 1.9969, Accuracy: 5515/10000 (55.1500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 23.94ms
___Train Local_ResNet_18,  epoch 123, local model 92, internal_epoch   1,  Average loss: 0.0034, Accuracy: 6364/6812 (93.4234%)
___Train Local_ResNet_18,  epoch 123, local model 92, internal_epoch   2,  Average loss: 0.0039, Accuracy: 6287/6812 (92.2930%)
___Test Local_ResNet_18 poisoned: False, epoch: 123: Average loss: 2.2215, Accuracy: 5274/10000 (52.7400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 25.43ms
___Train Local_ResNet_18,  epoch 123, local model 66, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4476/4843 (92.4221%)
___Train Local_ResNet_18,  epoch 123, local model 66, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4464/4843 (92.1743%)
___Test Local_ResNet_18 poisoned: False, epoch: 123: Average loss: 2.0625, Accuracy: 5480/10000 (54.8000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 27.54ms
___Train Local_ResNet_18,  epoch 123, local model 83, internal_epoch   1,  Average loss: 0.0035, Accuracy: 3331/3552 (93.7782%)
___Train Local_ResNet_18,  epoch 123, local model 83, internal_epoch   2,  Average loss: 0.0032, Accuracy: 3335/3552 (93.8908%)
___Test Local_ResNet_18 poisoned: False, epoch: 123: Average loss: 1.8043, Accuracy: 5843/10000 (58.4300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 24.99ms
___Train Local_ResNet_18,  epoch 123, local model 47, internal_epoch   1,  Average loss: 0.0050, Accuracy: 4634/5123 (90.4548%)
___Train Local_ResNet_18,  epoch 123, local model 47, internal_epoch   2,  Average loss: 0.0075, Accuracy: 4421/5123 (86.2971%)
___Test Local_ResNet_18 poisoned: False, epoch: 123: Average loss: 2.4006, Accuracy: 4999/10000 (49.9900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 24.57ms
___Train Local_ResNet_18,  epoch 123, local model 17, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4473/4903 (91.2299%)
___Train Local_ResNet_18,  epoch 123, local model 17, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4421/4903 (90.1693%)
___Test Local_ResNet_18 poisoned: False, epoch: 123: Average loss: 2.1450, Accuracy: 5342/10000 (53.4200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.74ms
INFO:tornado.access:200 POST /win_exists (::1) 0.64ms
INFO:tornado.access:200 POST /update (::1) 19.58ms
___Train Local_ResNet_18,  epoch 123, local model 1, internal_epoch   1,  Average loss: 0.0030, Accuracy: 5124/5422 (94.5039%)
___Train Local_ResNet_18,  epoch 123, local model 1, internal_epoch   2,  Average loss: 0.0032, Accuracy: 5095/5422 (93.9690%)
___Test Local_ResNet_18 poisoned: False, epoch: 123: Average loss: 1.8286, Accuracy: 5822/10000 (58.2200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 24.43ms
___Train Local_ResNet_18,  epoch 123, local model 84, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4754/5209 (91.2651%)
___Train Local_ResNet_18,  epoch 123, local model 84, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4749/5209 (91.1691%)
___Test Local_ResNet_18 poisoned: False, epoch: 123: Average loss: 1.9681, Accuracy: 5663/10000 (56.6300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 25.49ms
___Train Local_ResNet_18,  epoch 123, local model 22, internal_epoch   1,  Average loss: 0.0036, Accuracy: 5289/5696 (92.8546%)
___Train Local_ResNet_18,  epoch 123, local model 22, internal_epoch   2,  Average loss: 0.0042, Accuracy: 5217/5696 (91.5906%)
___Test Local_ResNet_18 poisoned: False, epoch: 123: Average loss: 2.0565, Accuracy: 5397/10000 (53.9700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 20.84ms
time spent on training: 300.8522996902466
___Test Target_ResNet_18 poisoned: False, epoch: 123: Average loss: 1.2284, Accuracy: 6817/10000 (68.1700%)
___Test Target_ResNet_18 poisoned: True, epoch: 123: Average loss: 0.1158, Accuracy: 9586/9900 (96.8283%)
Done in 327.76867413520813 sec.
Server Epoch:124 choose agents : [13, 36, 58, 71, 33, 99, 27, 61, 22, 75, 85, 54, 11, 37, 60, 21, 32, 64, 29, 18].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 124, local model 13, internal_epoch   1,  Average loss: 0.0019, Accuracy: 5139/5308 (96.8161%), train_poison_data_count: 415
Global model norm: 43.57104303336822.
Norm before scaling: 43.53950057535757. Distance: 1.3235111652936602
Total norm for 4 adversaries is: 43.53950057535757. distance: 1.3235111652936602
___Test Local_ResNet_18 poisoned: True, epoch: 124: Average loss: 0.0987, Accuracy: 9652/9900 (97.4949%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 124, local model 36, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5620/5777 (97.2823%), train_poison_data_count: 455
Global model norm: 43.57104303336822.
Norm before scaling: 43.534637341288374. Distance: 1.3567499267763674
Total norm for 4 adversaries is: 43.534637341288374. distance: 1.3567499267763674
___Test Local_ResNet_18 poisoned: True, epoch: 124: Average loss: 0.0921, Accuracy: 9666/9900 (97.6364%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 124, local model 58, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4949/5123 (96.6036%), train_poison_data_count: 403
Global model norm: 43.57104303336822.
Norm before scaling: 43.54037250743197. Distance: 1.34134005525989
Total norm for 4 adversaries is: 43.54037250743197. distance: 1.34134005525989
___Test Local_ResNet_18 poisoned: True, epoch: 124: Average loss: 0.1396, Accuracy: 9527/9900 (96.2323%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 124, local model 71, internal_epoch   1,  Average loss: 0.0021, Accuracy: 5322/5503 (96.7109%), train_poison_data_count: 430
Global model norm: 43.57104303336822.
Norm before scaling: 43.54256067164344. Distance: 1.4381667539660117
Total norm for 4 adversaries is: 43.54256067164344. distance: 1.4381667539660117
___Test Local_ResNet_18 poisoned: True, epoch: 124: Average loss: 0.0279, Accuracy: 9829/9900 (99.2828%)
___Train Local_ResNet_18,  epoch 124, local model 33, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4431/4818 (91.9676%)
___Train Local_ResNet_18,  epoch 124, local model 33, internal_epoch   2,  Average loss: 0.0060, Accuracy: 4273/4818 (88.6883%)
___Test Local_ResNet_18 poisoned: False, epoch: 124: Average loss: 1.9866, Accuracy: 5527/10000 (55.2700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.81ms
INFO:tornado.access:200 POST /update (::1) 25.68ms
___Train Local_ResNet_18,  epoch 124, local model 99, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4447/4851 (91.6718%)
___Train Local_ResNet_18,  epoch 124, local model 99, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4406/4851 (90.8266%)
___Test Local_ResNet_18 poisoned: False, epoch: 124: Average loss: 2.0945, Accuracy: 5335/10000 (53.3500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 24.46ms
___Train Local_ResNet_18,  epoch 124, local model 27, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4235/4587 (92.3261%)
___Train Local_ResNet_18,  epoch 124, local model 27, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4188/4587 (91.3015%)
___Test Local_ResNet_18 poisoned: False, epoch: 124: Average loss: 1.9958, Accuracy: 5552/10000 (55.5200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 24.77ms
___Train Local_ResNet_18,  epoch 124, local model 61, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4142/4485 (92.3523%)
___Train Local_ResNet_18,  epoch 124, local model 61, internal_epoch   2,  Average loss: 0.0063, Accuracy: 3919/4485 (87.3802%)
___Test Local_ResNet_18 poisoned: False, epoch: 124: Average loss: 2.1814, Accuracy: 5109/10000 (51.0900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 25.44ms
___Train Local_ResNet_18,  epoch 124, local model 22, internal_epoch   1,  Average loss: 0.0035, Accuracy: 5325/5696 (93.4867%)
___Train Local_ResNet_18,  epoch 124, local model 22, internal_epoch   2,  Average loss: 0.0040, Accuracy: 5233/5696 (91.8715%)
___Test Local_ResNet_18 poisoned: False, epoch: 124: Average loss: 2.0601, Accuracy: 5388/10000 (53.8800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.76ms
INFO:tornado.access:200 POST /update (::1) 24.79ms
___Train Local_ResNet_18,  epoch 124, local model 75, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4339/4672 (92.8724%)
___Train Local_ResNet_18,  epoch 124, local model 75, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4335/4672 (92.7868%)
___Test Local_ResNet_18 poisoned: False, epoch: 124: Average loss: 1.9041, Accuracy: 5721/10000 (57.2100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 24.73ms
___Train Local_ResNet_18,  epoch 124, local model 85, internal_epoch   1,  Average loss: 0.0051, Accuracy: 6251/6947 (89.9813%)
___Train Local_ResNet_18,  epoch 124, local model 85, internal_epoch   2,  Average loss: 0.0061, Accuracy: 6142/6947 (88.4123%)
___Test Local_ResNet_18 poisoned: False, epoch: 124: Average loss: 2.3469, Accuracy: 4981/10000 (49.8100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 25.35ms
___Train Local_ResNet_18,  epoch 124, local model 54, internal_epoch   1,  Average loss: 0.0055, Accuracy: 5067/5645 (89.7609%)
___Train Local_ResNet_18,  epoch 124, local model 54, internal_epoch   2,  Average loss: 0.0068, Accuracy: 4910/5645 (86.9796%)
___Test Local_ResNet_18 poisoned: False, epoch: 124: Average loss: 2.3754, Accuracy: 4867/10000 (48.6700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 25.41ms
___Train Local_ResNet_18,  epoch 124, local model 11, internal_epoch   1,  Average loss: 0.0074, Accuracy: 4911/5702 (86.1277%)
___Train Local_ResNet_18,  epoch 124, local model 11, internal_epoch   2,  Average loss: 0.0111, Accuracy: 4460/5702 (78.2182%)
___Test Local_ResNet_18 poisoned: False, epoch: 124: Average loss: 2.1652, Accuracy: 5157/10000 (51.5700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 25.52ms
___Train Local_ResNet_18,  epoch 124, local model 37, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4340/4741 (91.5419%)
___Train Local_ResNet_18,  epoch 124, local model 37, internal_epoch   2,  Average loss: 0.0061, Accuracy: 4165/4741 (87.8507%)
___Test Local_ResNet_18 poisoned: False, epoch: 124: Average loss: 2.2812, Accuracy: 5068/10000 (50.6800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 24.58ms
___Train Local_ResNet_18,  epoch 124, local model 60, internal_epoch   1,  Average loss: 0.0042, Accuracy: 3825/4145 (92.2799%)
___Train Local_ResNet_18,  epoch 124, local model 60, internal_epoch   2,  Average loss: 0.0046, Accuracy: 3778/4145 (91.1460%)
___Test Local_ResNet_18 poisoned: False, epoch: 124: Average loss: 2.1172, Accuracy: 5411/10000 (54.1100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 23.82ms
___Train Local_ResNet_18,  epoch 124, local model 21, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4680/5038 (92.8940%)
___Train Local_ResNet_18,  epoch 124, local model 21, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4623/5038 (91.7626%)
___Test Local_ResNet_18 poisoned: False, epoch: 124: Average loss: 2.0030, Accuracy: 5567/10000 (55.6700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 23.57ms
___Train Local_ResNet_18,  epoch 124, local model 32, internal_epoch   1,  Average loss: 0.0059, Accuracy: 5404/6080 (88.8816%)
___Train Local_ResNet_18,  epoch 124, local model 32, internal_epoch   2,  Average loss: 0.0063, Accuracy: 5284/6080 (86.9079%)
___Test Local_ResNet_18 poisoned: False, epoch: 124: Average loss: 2.1691, Accuracy: 5173/10000 (51.7300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.80ms
INFO:tornado.access:200 POST /update (::1) 24.38ms
___Train Local_ResNet_18,  epoch 124, local model 64, internal_epoch   1,  Average loss: 0.0055, Accuracy: 4402/4894 (89.9469%)
___Train Local_ResNet_18,  epoch 124, local model 64, internal_epoch   2,  Average loss: 0.0067, Accuracy: 4252/4894 (86.8819%)
___Test Local_ResNet_18 poisoned: False, epoch: 124: Average loss: 2.1257, Accuracy: 5331/10000 (53.3100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 24.60ms
___Train Local_ResNet_18,  epoch 124, local model 29, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4438/4732 (93.7870%)
___Train Local_ResNet_18,  epoch 124, local model 29, internal_epoch   2,  Average loss: 0.0028, Accuracy: 4488/4732 (94.8436%)
___Test Local_ResNet_18 poisoned: False, epoch: 124: Average loss: 1.8919, Accuracy: 5673/10000 (56.7300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 25.37ms
___Train Local_ResNet_18,  epoch 124, local model 18, internal_epoch   1,  Average loss: 0.0039, Accuracy: 3939/4249 (92.7042%)
___Train Local_ResNet_18,  epoch 124, local model 18, internal_epoch   2,  Average loss: 0.0044, Accuracy: 3913/4249 (92.0923%)
___Test Local_ResNet_18 poisoned: False, epoch: 124: Average loss: 2.0453, Accuracy: 5463/10000 (54.6300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 25.79ms
time spent on training: 306.7097268104553
___Test Target_ResNet_18 poisoned: False, epoch: 124: Average loss: 1.2338, Accuracy: 6815/10000 (68.1500%)
___Test Target_ResNet_18 poisoned: True, epoch: 124: Average loss: 0.1179, Accuracy: 9580/9900 (96.7677%)
Done in 333.2281141281128 sec.
Server Epoch:125 choose agents : [13, 36, 58, 71, 53, 50, 93, 1, 7, 79, 52, 24, 16, 28, 10, 62, 86, 47, 98, 0].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 125, local model 13, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5168/5308 (97.3625%), train_poison_data_count: 415
Global model norm: 43.59222107533923.
Norm before scaling: 43.561610296240914. Distance: 1.3129788842083074
Total norm for 4 adversaries is: 43.561610296240914. distance: 1.3129788842083074
___Test Local_ResNet_18 poisoned: True, epoch: 125: Average loss: 0.0742, Accuracy: 9690/9900 (97.8788%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 125, local model 36, internal_epoch   1,  Average loss: 0.0019, Accuracy: 5602/5777 (96.9707%), train_poison_data_count: 455
Global model norm: 43.59222107533923.
Norm before scaling: 43.55593818271583. Distance: 1.3998253185422622
Total norm for 4 adversaries is: 43.55593818271583. distance: 1.3998253185422622
___Test Local_ResNet_18 poisoned: True, epoch: 125: Average loss: 0.0690, Accuracy: 9730/9900 (98.2828%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 125, local model 58, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4946/5123 (96.5450%), train_poison_data_count: 403
Global model norm: 43.59222107533923.
Norm before scaling: 43.56216373614837. Distance: 1.3310879586330344
Total norm for 4 adversaries is: 43.56216373614837. distance: 1.3310879586330344
___Test Local_ResNet_18 poisoned: True, epoch: 125: Average loss: 0.0351, Accuracy: 9798/9900 (98.9697%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 125, local model 71, internal_epoch   1,  Average loss: 0.0020, Accuracy: 5337/5503 (96.9835%), train_poison_data_count: 430
Global model norm: 43.59222107533923.
Norm before scaling: 43.56177282615817. Distance: 1.3693477022348208
Total norm for 4 adversaries is: 43.56177282615817. distance: 1.3693477022348208
___Test Local_ResNet_18 poisoned: True, epoch: 125: Average loss: 0.0619, Accuracy: 9743/9900 (98.4141%)
___Train Local_ResNet_18,  epoch 125, local model 53, internal_epoch   1,  Average loss: 0.0062, Accuracy: 5886/6664 (88.3253%)
___Train Local_ResNet_18,  epoch 125, local model 53, internal_epoch   2,  Average loss: 0.0070, Accuracy: 5712/6664 (85.7143%)
___Test Local_ResNet_18 poisoned: False, epoch: 125: Average loss: 2.1333, Accuracy: 5107/10000 (51.0700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 24.86ms
___Train Local_ResNet_18,  epoch 125, local model 50, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4437/4757 (93.2731%)
___Train Local_ResNet_18,  epoch 125, local model 50, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4348/4757 (91.4021%)
___Test Local_ResNet_18 poisoned: False, epoch: 125: Average loss: 2.0775, Accuracy: 5310/10000 (53.1000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 24.57ms
___Train Local_ResNet_18,  epoch 125, local model 93, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4626/5055 (91.5134%)
___Train Local_ResNet_18,  epoch 125, local model 93, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4583/5055 (90.6627%)
___Test Local_ResNet_18 poisoned: False, epoch: 125: Average loss: 2.1922, Accuracy: 5322/10000 (53.2200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 24.45ms
___Train Local_ResNet_18,  epoch 125, local model 1, internal_epoch   1,  Average loss: 0.0029, Accuracy: 5134/5422 (94.6883%)
___Train Local_ResNet_18,  epoch 125, local model 1, internal_epoch   2,  Average loss: 0.0035, Accuracy: 5048/5422 (93.1022%)
___Test Local_ResNet_18 poisoned: False, epoch: 125: Average loss: 1.8911, Accuracy: 5673/10000 (56.7300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.77ms
INFO:tornado.access:200 POST /update (::1) 25.61ms
___Train Local_ResNet_18,  epoch 125, local model 7, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4410/4869 (90.5730%)
___Train Local_ResNet_18,  epoch 125, local model 7, internal_epoch   2,  Average loss: 0.0069, Accuracy: 4209/4869 (86.4449%)
___Test Local_ResNet_18 poisoned: False, epoch: 125: Average loss: 2.2634, Accuracy: 5092/10000 (50.9200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.76ms
INFO:tornado.access:200 POST /update (::1) 24.44ms
___Train Local_ResNet_18,  epoch 125, local model 79, internal_epoch   1,  Average loss: 0.0038, Accuracy: 3818/4111 (92.8728%)
___Train Local_ResNet_18,  epoch 125, local model 79, internal_epoch   2,  Average loss: 0.0041, Accuracy: 3789/4111 (92.1674%)
___Test Local_ResNet_18 poisoned: False, epoch: 125: Average loss: 2.1893, Accuracy: 5331/10000 (53.3100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 25.80ms
___Train Local_ResNet_18,  epoch 125, local model 52, internal_epoch   1,  Average loss: 0.0037, Accuracy: 3887/4130 (94.1162%)
___Train Local_ResNet_18,  epoch 125, local model 52, internal_epoch   2,  Average loss: 0.0041, Accuracy: 3789/4130 (91.7433%)
___Test Local_ResNet_18 poisoned: False, epoch: 125: Average loss: 2.1426, Accuracy: 5378/10000 (53.7800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 25.45ms
___Train Local_ResNet_18,  epoch 125, local model 24, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4033/4313 (93.5080%)
___Train Local_ResNet_18,  epoch 125, local model 24, internal_epoch   2,  Average loss: 0.0033, Accuracy: 4046/4313 (93.8094%)
___Test Local_ResNet_18 poisoned: False, epoch: 125: Average loss: 1.7733, Accuracy: 5917/10000 (59.1700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 25.32ms
___Train Local_ResNet_18,  epoch 125, local model 16, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4943/5353 (92.3407%)
___Train Local_ResNet_18,  epoch 125, local model 16, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4802/5353 (89.7067%)
___Test Local_ResNet_18 poisoned: False, epoch: 125: Average loss: 2.2128, Accuracy: 5251/10000 (52.5100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 24.29ms
___Train Local_ResNet_18,  epoch 125, local model 28, internal_epoch   1,  Average loss: 0.0054, Accuracy: 4645/5122 (90.6872%)
___Train Local_ResNet_18,  epoch 125, local model 28, internal_epoch   2,  Average loss: 0.0092, Accuracy: 4259/5122 (83.1511%)
___Test Local_ResNet_18 poisoned: False, epoch: 125: Average loss: 2.4558, Accuracy: 4731/10000 (47.3100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 26.14ms
___Train Local_ResNet_18,  epoch 125, local model 10, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4712/5068 (92.9755%)
___Train Local_ResNet_18,  epoch 125, local model 10, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4716/5068 (93.0545%)
___Test Local_ResNet_18 poisoned: False, epoch: 125: Average loss: 2.0092, Accuracy: 5443/10000 (54.4300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.04ms
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /update (::1) 25.49ms
___Train Local_ResNet_18,  epoch 125, local model 62, internal_epoch   1,  Average loss: 0.0056, Accuracy: 4891/5504 (88.8626%)
___Train Local_ResNet_18,  epoch 125, local model 62, internal_epoch   2,  Average loss: 0.0062, Accuracy: 4812/5504 (87.4273%)
___Test Local_ResNet_18 poisoned: False, epoch: 125: Average loss: 2.3829, Accuracy: 4891/10000 (48.9100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 25.00ms
___Train Local_ResNet_18,  epoch 125, local model 86, internal_epoch   1,  Average loss: 0.0043, Accuracy: 3584/3929 (91.2191%)
___Train Local_ResNet_18,  epoch 125, local model 86, internal_epoch   2,  Average loss: 0.0042, Accuracy: 3610/3929 (91.8809%)
___Test Local_ResNet_18 poisoned: False, epoch: 125: Average loss: 1.9333, Accuracy: 5746/10000 (57.4600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 24.62ms
___Train Local_ResNet_18,  epoch 125, local model 47, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4693/5123 (91.6065%)
___Train Local_ResNet_18,  epoch 125, local model 47, internal_epoch   2,  Average loss: 0.0097, Accuracy: 4230/5123 (82.5688%)
___Test Local_ResNet_18 poisoned: False, epoch: 125: Average loss: 2.3116, Accuracy: 4848/10000 (48.4800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 24.12ms
___Train Local_ResNet_18,  epoch 125, local model 98, internal_epoch   1,  Average loss: 0.0044, Accuracy: 3911/4161 (93.9918%)
___Train Local_ResNet_18,  epoch 125, local model 98, internal_epoch   2,  Average loss: 0.0056, Accuracy: 3793/4161 (91.1560%)
___Test Local_ResNet_18 poisoned: False, epoch: 125: Average loss: 1.9951, Accuracy: 5684/10000 (56.8400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 24.29ms
___Train Local_ResNet_18,  epoch 125, local model 0, internal_epoch   1,  Average loss: 0.0044, Accuracy: 5000/5454 (91.6758%)
___Train Local_ResNet_18,  epoch 125, local model 0, internal_epoch   2,  Average loss: 0.0054, Accuracy: 4874/5454 (89.3656%)
___Test Local_ResNet_18 poisoned: False, epoch: 125: Average loss: 2.1519, Accuracy: 5259/10000 (52.5900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.76ms
INFO:tornado.access:200 POST /update (::1) 24.60ms
time spent on training: 297.5340266227722
___Test Target_ResNet_18 poisoned: False, epoch: 125: Average loss: 1.2361, Accuracy: 6797/10000 (67.9700%)
___Test Target_ResNet_18 poisoned: True, epoch: 125: Average loss: 0.1117, Accuracy: 9602/9900 (96.9899%)
Done in 324.13032364845276 sec.
Server Epoch:126 choose agents : [13, 36, 58, 71, 2, 78, 57, 41, 70, 21, 35, 39, 46, 53, 29, 48, 56, 65, 45, 93].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 126, local model 13, internal_epoch   1,  Average loss: 0.0016, Accuracy: 5176/5308 (97.5132%), train_poison_data_count: 415
Global model norm: 43.61306135888365.
Norm before scaling: 43.578315480042654. Distance: 1.2199020320611174
Total norm for 4 adversaries is: 43.578315480042654. distance: 1.2199020320611174
___Test Local_ResNet_18 poisoned: True, epoch: 126: Average loss: 0.1121, Accuracy: 9596/9900 (96.9293%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 126, local model 36, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5623/5777 (97.3343%), train_poison_data_count: 455
Global model norm: 43.61306135888365.
Norm before scaling: 43.57570891249576. Distance: 1.3395586961741954
Total norm for 4 adversaries is: 43.57570891249576. distance: 1.3395586961741954
___Test Local_ResNet_18 poisoned: True, epoch: 126: Average loss: 0.0740, Accuracy: 9715/9900 (98.1313%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 126, local model 58, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4945/5123 (96.5255%), train_poison_data_count: 403
Global model norm: 43.61306135888365.
Norm before scaling: 43.58362757703215. Distance: 1.3470189896018852
Total norm for 4 adversaries is: 43.58362757703215. distance: 1.3470189896018852
___Test Local_ResNet_18 poisoned: True, epoch: 126: Average loss: 0.1860, Accuracy: 9423/9900 (95.1818%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 126, local model 71, internal_epoch   1,  Average loss: 0.0020, Accuracy: 5325/5503 (96.7654%), train_poison_data_count: 430
Global model norm: 43.61306135888365.
Norm before scaling: 43.581828006886944. Distance: 1.372893063000315
Total norm for 4 adversaries is: 43.581828006886944. distance: 1.372893063000315
___Test Local_ResNet_18 poisoned: True, epoch: 126: Average loss: 0.0804, Accuracy: 9681/9900 (97.7879%)
___Train Local_ResNet_18,  epoch 126, local model 2, internal_epoch   1,  Average loss: 0.0037, Accuracy: 3703/3968 (93.3216%)
___Train Local_ResNet_18,  epoch 126, local model 2, internal_epoch   2,  Average loss: 0.0035, Accuracy: 3717/3968 (93.6744%)
___Test Local_ResNet_18 poisoned: False, epoch: 126: Average loss: 1.8863, Accuracy: 5693/10000 (56.9300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.77ms
INFO:tornado.access:200 POST /update (::1) 25.70ms
___Train Local_ResNet_18,  epoch 126, local model 78, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4108/4368 (94.0476%)
___Train Local_ResNet_18,  epoch 126, local model 78, internal_epoch   2,  Average loss: 0.0047, Accuracy: 3980/4368 (91.1172%)
___Test Local_ResNet_18 poisoned: False, epoch: 126: Average loss: 2.1660, Accuracy: 5232/10000 (52.3200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 25.87ms
___Train Local_ResNet_18,  epoch 126, local model 57, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4592/4956 (92.6554%)
___Train Local_ResNet_18,  epoch 126, local model 57, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4552/4956 (91.8483%)
___Test Local_ResNet_18 poisoned: False, epoch: 126: Average loss: 2.0300, Accuracy: 5405/10000 (54.0500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 24.28ms
___Train Local_ResNet_18,  epoch 126, local model 41, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4411/4714 (93.5723%)
___Train Local_ResNet_18,  epoch 126, local model 41, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4358/4714 (92.4480%)
___Test Local_ResNet_18 poisoned: False, epoch: 126: Average loss: 1.9778, Accuracy: 5581/10000 (55.8100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 24.78ms
___Train Local_ResNet_18,  epoch 126, local model 70, internal_epoch   1,  Average loss: 0.0038, Accuracy: 5435/5871 (92.5737%)
___Train Local_ResNet_18,  epoch 126, local model 70, internal_epoch   2,  Average loss: 0.0042, Accuracy: 5407/5871 (92.0967%)
___Test Local_ResNet_18 poisoned: False, epoch: 126: Average loss: 2.1227, Accuracy: 5401/10000 (54.0100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 25.12ms
___Train Local_ResNet_18,  epoch 126, local model 21, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4656/5038 (92.4176%)
___Train Local_ResNet_18,  epoch 126, local model 21, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4659/5038 (92.4772%)
___Test Local_ResNet_18 poisoned: False, epoch: 126: Average loss: 1.9580, Accuracy: 5546/10000 (55.4600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 25.22ms
___Train Local_ResNet_18,  epoch 126, local model 35, internal_epoch   1,  Average loss: 0.0044, Accuracy: 5118/5615 (91.1487%)
___Train Local_ResNet_18,  epoch 126, local model 35, internal_epoch   2,  Average loss: 0.0047, Accuracy: 5096/5615 (90.7569%)
___Test Local_ResNet_18 poisoned: False, epoch: 126: Average loss: 2.2540, Accuracy: 5243/10000 (52.4300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 25.82ms
___Train Local_ResNet_18,  epoch 126, local model 39, internal_epoch   1,  Average loss: 0.0045, Accuracy: 3817/4175 (91.4251%)
___Train Local_ResNet_18,  epoch 126, local model 39, internal_epoch   2,  Average loss: 0.0056, Accuracy: 3718/4175 (89.0539%)
___Test Local_ResNet_18 poisoned: False, epoch: 126: Average loss: 2.0350, Accuracy: 5373/10000 (53.7300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 24.76ms
___Train Local_ResNet_18,  epoch 126, local model 46, internal_epoch   1,  Average loss: 0.0053, Accuracy: 4854/5399 (89.9055%)
___Train Local_ResNet_18,  epoch 126, local model 46, internal_epoch   2,  Average loss: 0.0060, Accuracy: 4797/5399 (88.8498%)
___Test Local_ResNet_18 poisoned: False, epoch: 126: Average loss: 2.2467, Accuracy: 5262/10000 (52.6200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 24.86ms
___Train Local_ResNet_18,  epoch 126, local model 53, internal_epoch   1,  Average loss: 0.0061, Accuracy: 5860/6664 (87.9352%)
___Train Local_ResNet_18,  epoch 126, local model 53, internal_epoch   2,  Average loss: 0.0073, Accuracy: 5705/6664 (85.6092%)
___Test Local_ResNet_18 poisoned: False, epoch: 126: Average loss: 2.3514, Accuracy: 4933/10000 (49.3300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 25.61ms
___Train Local_ResNet_18,  epoch 126, local model 29, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4443/4732 (93.8926%)
___Train Local_ResNet_18,  epoch 126, local model 29, internal_epoch   2,  Average loss: 0.0032, Accuracy: 4434/4732 (93.7025%)
___Test Local_ResNet_18 poisoned: False, epoch: 126: Average loss: 1.8579, Accuracy: 5724/10000 (57.2400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 24.99ms
___Train Local_ResNet_18,  epoch 126, local model 48, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4528/4830 (93.7474%)
___Train Local_ResNet_18,  epoch 126, local model 48, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4486/4830 (92.8778%)
___Test Local_ResNet_18 poisoned: False, epoch: 126: Average loss: 2.0116, Accuracy: 5512/10000 (55.1200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /update (::1) 25.79ms
___Train Local_ResNet_18,  epoch 126, local model 56, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4912/5427 (90.5104%)
___Train Local_ResNet_18,  epoch 126, local model 56, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4833/5427 (89.0547%)
___Test Local_ResNet_18 poisoned: False, epoch: 126: Average loss: 2.1151, Accuracy: 5317/10000 (53.1700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 25.47ms
___Train Local_ResNet_18,  epoch 126, local model 65, internal_epoch   1,  Average loss: 0.0041, Accuracy: 5077/5497 (92.3595%)
___Train Local_ResNet_18,  epoch 126, local model 65, internal_epoch   2,  Average loss: 0.0045, Accuracy: 5006/5497 (91.0679%)
___Test Local_ResNet_18 poisoned: False, epoch: 126: Average loss: 2.1508, Accuracy: 5189/10000 (51.8900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 24.78ms
___Train Local_ResNet_18,  epoch 126, local model 45, internal_epoch   1,  Average loss: 0.0045, Accuracy: 5003/5489 (91.1459%)
___Train Local_ResNet_18,  epoch 126, local model 45, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4977/5489 (90.6723%)
___Test Local_ResNet_18 poisoned: False, epoch: 126: Average loss: 2.0844, Accuracy: 5253/10000 (52.5300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 25.50ms
___Train Local_ResNet_18,  epoch 126, local model 93, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4648/5055 (91.9486%)
___Train Local_ResNet_18,  epoch 126, local model 93, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4614/5055 (91.2760%)
___Test Local_ResNet_18 poisoned: False, epoch: 126: Average loss: 2.1976, Accuracy: 5285/10000 (52.8500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 24.99ms
time spent on training: 299.2355308532715
___Test Target_ResNet_18 poisoned: False, epoch: 126: Average loss: 1.2359, Accuracy: 6792/10000 (67.9200%)
___Test Target_ResNet_18 poisoned: True, epoch: 126: Average loss: 0.1154, Accuracy: 9584/9900 (96.8081%)
Done in 325.9177680015564 sec.
Server Epoch:127 choose agents : [13, 36, 58, 71, 55, 61, 17, 94, 19, 54, 21, 96, 8, 84, 97, 57, 90, 95, 73, 16].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 127, local model 13, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5170/5308 (97.4002%), train_poison_data_count: 415
Global model norm: 43.63372103463244.
Norm before scaling: 43.59990435948512. Distance: 1.2840212648092557
Total norm for 4 adversaries is: 43.59990435948512. distance: 1.2840212648092557
___Test Local_ResNet_18 poisoned: True, epoch: 127: Average loss: 0.0649, Accuracy: 9715/9900 (98.1313%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 127, local model 36, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5617/5777 (97.2304%), train_poison_data_count: 455
Global model norm: 43.63372103463244.
Norm before scaling: 43.59631768871799. Distance: 1.3550906134849452
Total norm for 4 adversaries is: 43.59631768871799. distance: 1.3550906134849452
___Test Local_ResNet_18 poisoned: True, epoch: 127: Average loss: 0.0490, Accuracy: 9782/9900 (98.8081%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 127, local model 58, internal_epoch   1,  Average loss: 0.0028, Accuracy: 4941/5123 (96.4474%), train_poison_data_count: 403
Global model norm: 43.63372103463244.
Norm before scaling: 43.604352989230044. Distance: 1.36920818864144
Total norm for 4 adversaries is: 43.604352989230044. distance: 1.36920818864144
___Test Local_ResNet_18 poisoned: True, epoch: 127: Average loss: 0.0198, Accuracy: 9842/9900 (99.4141%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 127, local model 71, internal_epoch   1,  Average loss: 0.0021, Accuracy: 5317/5503 (96.6200%), train_poison_data_count: 430
Global model norm: 43.63372103463244.
Norm before scaling: 43.602368099751764. Distance: 1.399820719888327
Total norm for 4 adversaries is: 43.602368099751764. distance: 1.399820719888327
___Test Local_ResNet_18 poisoned: True, epoch: 127: Average loss: 0.0310, Accuracy: 9826/9900 (99.2525%)
___Train Local_ResNet_18,  epoch 127, local model 55, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4449/4731 (94.0393%)
___Train Local_ResNet_18,  epoch 127, local model 55, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4337/4731 (91.6720%)
___Test Local_ResNet_18 poisoned: False, epoch: 127: Average loss: 1.9737, Accuracy: 5631/10000 (56.3100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 25.53ms
___Train Local_ResNet_18,  epoch 127, local model 61, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4118/4485 (91.8172%)
___Train Local_ResNet_18,  epoch 127, local model 61, internal_epoch   2,  Average loss: 0.0073, Accuracy: 3857/4485 (85.9978%)
___Test Local_ResNet_18 poisoned: False, epoch: 127: Average loss: 2.2292, Accuracy: 5058/10000 (50.5800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 26.32ms
___Train Local_ResNet_18,  epoch 127, local model 17, internal_epoch   1,  Average loss: 0.0050, Accuracy: 4405/4903 (89.8430%)
___Train Local_ResNet_18,  epoch 127, local model 17, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4387/4903 (89.4758%)
___Test Local_ResNet_18 poisoned: False, epoch: 127: Average loss: 2.1297, Accuracy: 5258/10000 (52.5800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 26.28ms
___Train Local_ResNet_18,  epoch 127, local model 94, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4763/5224 (91.1753%)
___Train Local_ResNet_18,  epoch 127, local model 94, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4753/5224 (90.9839%)
___Test Local_ResNet_18 poisoned: False, epoch: 127: Average loss: 2.1489, Accuracy: 5310/10000 (53.1000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 26.22ms
___Train Local_ResNet_18,  epoch 127, local model 19, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4872/5361 (90.8786%)
___Train Local_ResNet_18,  epoch 127, local model 19, internal_epoch   2,  Average loss: 0.0058, Accuracy: 4728/5361 (88.1925%)
___Test Local_ResNet_18 poisoned: False, epoch: 127: Average loss: 2.2019, Accuracy: 5183/10000 (51.8300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 26.01ms
___Train Local_ResNet_18,  epoch 127, local model 54, internal_epoch   1,  Average loss: 0.0054, Accuracy: 5078/5645 (89.9557%)
___Train Local_ResNet_18,  epoch 127, local model 54, internal_epoch   2,  Average loss: 0.0062, Accuracy: 4954/5645 (87.7591%)
___Test Local_ResNet_18 poisoned: False, epoch: 127: Average loss: 2.3346, Accuracy: 4952/10000 (49.5200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.03ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 25.97ms
___Train Local_ResNet_18,  epoch 127, local model 21, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4661/5038 (92.5169%)
___Train Local_ResNet_18,  epoch 127, local model 21, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4644/5038 (92.1794%)
___Test Local_ResNet_18 poisoned: False, epoch: 127: Average loss: 1.9599, Accuracy: 5599/10000 (55.9900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.97ms
INFO:tornado.access:200 POST /win_exists (::1) 0.75ms
INFO:tornado.access:200 POST /update (::1) 25.95ms
___Train Local_ResNet_18,  epoch 127, local model 96, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4656/5086 (91.5454%)
___Train Local_ResNet_18,  epoch 127, local model 96, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4599/5086 (90.4247%)
___Test Local_ResNet_18 poisoned: False, epoch: 127: Average loss: 2.2150, Accuracy: 5159/10000 (51.5900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 25.07ms
___Train Local_ResNet_18,  epoch 127, local model 8, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4489/4889 (91.8184%)
___Train Local_ResNet_18,  epoch 127, local model 8, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4476/4889 (91.5525%)
___Test Local_ResNet_18 poisoned: False, epoch: 127: Average loss: 2.1016, Accuracy: 5467/10000 (54.6700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 25.70ms
___Train Local_ResNet_18,  epoch 127, local model 84, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4803/5209 (92.2058%)
___Train Local_ResNet_18,  epoch 127, local model 84, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4664/5209 (89.5373%)
___Test Local_ResNet_18 poisoned: False, epoch: 127: Average loss: 2.1491, Accuracy: 5236/10000 (52.3600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.04ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 21.84ms
___Train Local_ResNet_18,  epoch 127, local model 97, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4255/4736 (89.8438%)
___Train Local_ResNet_18,  epoch 127, local model 97, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4264/4736 (90.0338%)
___Test Local_ResNet_18 poisoned: False, epoch: 127: Average loss: 2.0071, Accuracy: 5539/10000 (55.3900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 25.65ms
___Train Local_ResNet_18,  epoch 127, local model 57, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4586/4956 (92.5343%)
___Train Local_ResNet_18,  epoch 127, local model 57, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4453/4956 (89.8507%)
___Test Local_ResNet_18 poisoned: False, epoch: 127: Average loss: 2.1361, Accuracy: 5341/10000 (53.4100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 25.25ms
___Train Local_ResNet_18,  epoch 127, local model 90, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4438/4748 (93.4709%)
___Train Local_ResNet_18,  epoch 127, local model 90, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4403/4748 (92.7338%)
___Test Local_ResNet_18 poisoned: False, epoch: 127: Average loss: 1.9180, Accuracy: 5602/10000 (56.0200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 25.15ms
___Train Local_ResNet_18,  epoch 127, local model 95, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4537/5018 (90.4145%)
___Train Local_ResNet_18,  epoch 127, local model 95, internal_epoch   2,  Average loss: 0.0064, Accuracy: 4360/5018 (86.8872%)
___Test Local_ResNet_18 poisoned: False, epoch: 127: Average loss: 2.3092, Accuracy: 5084/10000 (50.8400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 24.31ms
___Train Local_ResNet_18,  epoch 127, local model 73, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4348/4605 (94.4191%)
___Train Local_ResNet_18,  epoch 127, local model 73, internal_epoch   2,  Average loss: 0.0031, Accuracy: 4338/4605 (94.2020%)
___Test Local_ResNet_18 poisoned: False, epoch: 127: Average loss: 1.9863, Accuracy: 5545/10000 (55.4500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.81ms
INFO:tornado.access:200 POST /update (::1) 21.49ms
___Train Local_ResNet_18,  epoch 127, local model 16, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4955/5353 (92.5649%)
___Train Local_ResNet_18,  epoch 127, local model 16, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4853/5353 (90.6594%)
___Test Local_ResNet_18 poisoned: False, epoch: 127: Average loss: 1.9624, Accuracy: 5591/10000 (55.9100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 25.38ms
time spent on training: 287.56912064552307
___Test Target_ResNet_18 poisoned: False, epoch: 127: Average loss: 1.2437, Accuracy: 6797/10000 (67.9700%)
___Test Target_ResNet_18 poisoned: True, epoch: 127: Average loss: 0.1002, Accuracy: 9625/9900 (97.2222%)
Done in 313.7951340675354 sec.
Server Epoch:128 choose agents : [13, 36, 58, 71, 10, 72, 34, 67, 60, 23, 86, 20, 99, 97, 64, 73, 68, 40, 30, 83].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 128, local model 13, internal_epoch   1,  Average loss: 0.0017, Accuracy: 5179/5308 (97.5697%), train_poison_data_count: 415
Global model norm: 43.65494696516364.
Norm before scaling: 43.62167144581421. Distance: 1.2598194672663021
Total norm for 4 adversaries is: 43.62167144581421. distance: 1.2598194672663021
___Test Local_ResNet_18 poisoned: True, epoch: 128: Average loss: 0.0962, Accuracy: 9668/9900 (97.6566%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 128, local model 36, internal_epoch   1,  Average loss: 0.0019, Accuracy: 5619/5777 (97.2650%), train_poison_data_count: 455
Global model norm: 43.65494696516364.
Norm before scaling: 43.61812714485802. Distance: 1.3964411802213923
Total norm for 4 adversaries is: 43.61812714485802. distance: 1.3964411802213923
___Test Local_ResNet_18 poisoned: True, epoch: 128: Average loss: 0.0855, Accuracy: 9682/9900 (97.7980%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 128, local model 58, internal_epoch   1,  Average loss: 0.0028, Accuracy: 4946/5123 (96.5450%), train_poison_data_count: 403
Global model norm: 43.65494696516364.
Norm before scaling: 43.62475515914459. Distance: 1.3337162133668266
Total norm for 4 adversaries is: 43.62475515914459. distance: 1.3337162133668266
___Test Local_ResNet_18 poisoned: True, epoch: 128: Average loss: 0.0986, Accuracy: 9651/9900 (97.4848%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 128, local model 71, internal_epoch   1,  Average loss: 0.0019, Accuracy: 5341/5503 (97.0562%), train_poison_data_count: 430
Global model norm: 43.65494696516364.
Norm before scaling: 43.6212139071619. Distance: 1.3474699029763837
Total norm for 4 adversaries is: 43.6212139071619. distance: 1.3474699029763837
___Test Local_ResNet_18 poisoned: True, epoch: 128: Average loss: 0.0730, Accuracy: 9697/9900 (97.9495%)
___Train Local_ResNet_18,  epoch 128, local model 10, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4738/5068 (93.4886%)
___Train Local_ResNet_18,  epoch 128, local model 10, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4635/5068 (91.4562%)
___Test Local_ResNet_18 poisoned: False, epoch: 128: Average loss: 2.1468, Accuracy: 5369/10000 (53.6900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 27.03ms
___Train Local_ResNet_18,  epoch 128, local model 72, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4736/5193 (91.1997%)
___Train Local_ResNet_18,  epoch 128, local model 72, internal_epoch   2,  Average loss: 0.0059, Accuracy: 4602/5193 (88.6193%)
___Test Local_ResNet_18 poisoned: False, epoch: 128: Average loss: 2.2331, Accuracy: 5184/10000 (51.8400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.76ms
INFO:tornado.access:200 POST /update (::1) 24.49ms
___Train Local_ResNet_18,  epoch 128, local model 34, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4549/4911 (92.6288%)
___Train Local_ResNet_18,  epoch 128, local model 34, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4459/4911 (90.7962%)
___Test Local_ResNet_18 poisoned: False, epoch: 128: Average loss: 2.0441, Accuracy: 5250/10000 (52.5000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 24.77ms
___Train Local_ResNet_18,  epoch 128, local model 67, internal_epoch   1,  Average loss: 0.0048, Accuracy: 5048/5559 (90.8077%)
___Train Local_ResNet_18,  epoch 128, local model 67, internal_epoch   2,  Average loss: 0.0061, Accuracy: 4916/5559 (88.4332%)
___Test Local_ResNet_18 poisoned: False, epoch: 128: Average loss: 2.2932, Accuracy: 4947/10000 (49.4700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 25.00ms
___Train Local_ResNet_18,  epoch 128, local model 60, internal_epoch   1,  Average loss: 0.0043, Accuracy: 3781/4145 (91.2183%)
___Train Local_ResNet_18,  epoch 128, local model 60, internal_epoch   2,  Average loss: 0.0043, Accuracy: 3809/4145 (91.8938%)
___Test Local_ResNet_18 poisoned: False, epoch: 128: Average loss: 2.0092, Accuracy: 5534/10000 (55.3400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 26.04ms
___Train Local_ResNet_18,  epoch 128, local model 23, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4278/4549 (94.0426%)
___Train Local_ResNet_18,  epoch 128, local model 23, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4089/4549 (89.8879%)
___Test Local_ResNet_18 poisoned: False, epoch: 128: Average loss: 2.1076, Accuracy: 5353/10000 (53.5300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 24.86ms
___Train Local_ResNet_18,  epoch 128, local model 86, internal_epoch   1,  Average loss: 0.0047, Accuracy: 3580/3929 (91.1173%)
___Train Local_ResNet_18,  epoch 128, local model 86, internal_epoch   2,  Average loss: 0.0048, Accuracy: 3565/3929 (90.7356%)
___Test Local_ResNet_18 poisoned: False, epoch: 128: Average loss: 1.9692, Accuracy: 5613/10000 (56.1300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /update (::1) 25.91ms
___Train Local_ResNet_18,  epoch 128, local model 20, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4412/4714 (93.5936%)
___Train Local_ResNet_18,  epoch 128, local model 20, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4405/4714 (93.4451%)
___Test Local_ResNet_18 poisoned: False, epoch: 128: Average loss: 1.9148, Accuracy: 5676/10000 (56.7600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 25.35ms
___Train Local_ResNet_18,  epoch 128, local model 99, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4447/4851 (91.6718%)
___Train Local_ResNet_18,  epoch 128, local model 99, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4414/4851 (90.9915%)
___Test Local_ResNet_18 poisoned: False, epoch: 128: Average loss: 2.0409, Accuracy: 5526/10000 (55.2600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 25.74ms
___Train Local_ResNet_18,  epoch 128, local model 97, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4291/4736 (90.6039%)
___Train Local_ResNet_18,  epoch 128, local model 97, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4238/4736 (89.4848%)
___Test Local_ResNet_18 poisoned: False, epoch: 128: Average loss: 1.9686, Accuracy: 5424/10000 (54.2400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 25.99ms
___Train Local_ResNet_18,  epoch 128, local model 64, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4461/4894 (91.1524%)
___Train Local_ResNet_18,  epoch 128, local model 64, internal_epoch   2,  Average loss: 0.0059, Accuracy: 4328/4894 (88.4348%)
___Test Local_ResNet_18 poisoned: False, epoch: 128: Average loss: 2.2372, Accuracy: 5170/10000 (51.7000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 25.65ms
___Train Local_ResNet_18,  epoch 128, local model 73, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4347/4605 (94.3974%)
___Train Local_ResNet_18,  epoch 128, local model 73, internal_epoch   2,  Average loss: 0.0033, Accuracy: 4327/4605 (93.9631%)
___Test Local_ResNet_18 poisoned: False, epoch: 128: Average loss: 2.1309, Accuracy: 5423/10000 (54.2300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 24.98ms
___Train Local_ResNet_18,  epoch 128, local model 68, internal_epoch   1,  Average loss: 0.0040, Accuracy: 3338/3589 (93.0064%)
___Train Local_ResNet_18,  epoch 128, local model 68, internal_epoch   2,  Average loss: 0.0087, Accuracy: 3042/3589 (84.7590%)
___Test Local_ResNet_18 poisoned: False, epoch: 128: Average loss: 2.3026, Accuracy: 5136/10000 (51.3600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 25.20ms
___Train Local_ResNet_18,  epoch 128, local model 40, internal_epoch   1,  Average loss: 0.0039, Accuracy: 5504/5939 (92.6755%)
___Train Local_ResNet_18,  epoch 128, local model 40, internal_epoch   2,  Average loss: 0.0041, Accuracy: 5469/5939 (92.0862%)
___Test Local_ResNet_18 poisoned: False, epoch: 128: Average loss: 2.0547, Accuracy: 5410/10000 (54.1000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 25.07ms
___Train Local_ResNet_18,  epoch 128, local model 30, internal_epoch   1,  Average loss: 0.0035, Accuracy: 3522/3774 (93.3227%)
___Train Local_ResNet_18,  epoch 128, local model 30, internal_epoch   2,  Average loss: 0.0031, Accuracy: 3545/3774 (93.9322%)
___Test Local_ResNet_18 poisoned: False, epoch: 128: Average loss: 1.9859, Accuracy: 5630/10000 (56.3000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.03ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 26.04ms
___Train Local_ResNet_18,  epoch 128, local model 83, internal_epoch   1,  Average loss: 0.0041, Accuracy: 3262/3552 (91.8356%)
___Train Local_ResNet_18,  epoch 128, local model 83, internal_epoch   2,  Average loss: 0.0033, Accuracy: 3304/3552 (93.0180%)
___Test Local_ResNet_18 poisoned: False, epoch: 128: Average loss: 1.8812, Accuracy: 5773/10000 (57.7300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /win_exists (::1) 0.74ms
INFO:tornado.access:200 POST /update (::1) 24.53ms
time spent on training: 298.81946563720703
___Test Target_ResNet_18 poisoned: False, epoch: 128: Average loss: 1.2443, Accuracy: 6795/10000 (67.9500%)
___Test Target_ResNet_18 poisoned: True, epoch: 128: Average loss: 0.0995, Accuracy: 9631/9900 (97.2828%)
Done in 326.28567266464233 sec.
Server Epoch:129 choose agents : [13, 36, 58, 71, 37, 33, 25, 48, 65, 95, 38, 74, 43, 26, 15, 14, 49, 79, 8, 78].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 129, local model 13, internal_epoch   1,  Average loss: 0.0017, Accuracy: 5171/5308 (97.4190%), train_poison_data_count: 415
Global model norm: 43.67379104696617.
Norm before scaling: 43.639466955634035. Distance: 1.2505046302712737
Total norm for 4 adversaries is: 43.639466955634035. distance: 1.2505046302712737
___Test Local_ResNet_18 poisoned: True, epoch: 129: Average loss: 0.0865, Accuracy: 9670/9900 (97.6768%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 129, local model 36, internal_epoch   1,  Average loss: 0.0019, Accuracy: 5622/5777 (97.3169%), train_poison_data_count: 455
Global model norm: 43.67379104696617.
Norm before scaling: 43.63784312427761. Distance: 1.3727340233296335
Total norm for 4 adversaries is: 43.63784312427761. distance: 1.3727340233296335
___Test Local_ResNet_18 poisoned: True, epoch: 129: Average loss: 0.0329, Accuracy: 9822/9900 (99.2121%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 129, local model 58, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4924/5123 (96.1156%), train_poison_data_count: 403
Global model norm: 43.67379104696617.
Norm before scaling: 43.64406398685923. Distance: 1.3471319975687595
Total norm for 4 adversaries is: 43.64406398685923. distance: 1.3471319975687595
___Test Local_ResNet_18 poisoned: True, epoch: 129: Average loss: 0.1190, Accuracy: 9589/9900 (96.8586%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 129, local model 71, internal_epoch   1,  Average loss: 0.0019, Accuracy: 5346/5503 (97.1470%), train_poison_data_count: 430
Global model norm: 43.67379104696617.
Norm before scaling: 43.6408124100881. Distance: 1.340805287009538
Total norm for 4 adversaries is: 43.6408124100881. distance: 1.340805287009538
___Test Local_ResNet_18 poisoned: True, epoch: 129: Average loss: 0.0805, Accuracy: 9685/9900 (97.8283%)
___Train Local_ResNet_18,  epoch 129, local model 37, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4379/4741 (92.3645%)
___Train Local_ResNet_18,  epoch 129, local model 37, internal_epoch   2,  Average loss: 0.0061, Accuracy: 4226/4741 (89.1373%)
___Test Local_ResNet_18 poisoned: False, epoch: 129: Average loss: 2.3221, Accuracy: 5193/10000 (51.9300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.82ms
INFO:tornado.access:200 POST /update (::1) 25.72ms
___Train Local_ResNet_18,  epoch 129, local model 33, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4446/4818 (92.2790%)
___Train Local_ResNet_18,  epoch 129, local model 33, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4409/4818 (91.5110%)
___Test Local_ResNet_18 poisoned: False, epoch: 129: Average loss: 2.0480, Accuracy: 5446/10000 (54.4600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 25.02ms
___Train Local_ResNet_18,  epoch 129, local model 25, internal_epoch   1,  Average loss: 0.0056, Accuracy: 5716/6419 (89.0481%)
___Train Local_ResNet_18,  epoch 129, local model 25, internal_epoch   2,  Average loss: 0.0072, Accuracy: 5505/6419 (85.7610%)
___Test Local_ResNet_18 poisoned: False, epoch: 129: Average loss: 2.4150, Accuracy: 4960/10000 (49.6000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 26.68ms
___Train Local_ResNet_18,  epoch 129, local model 48, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4517/4830 (93.5197%)
___Train Local_ResNet_18,  epoch 129, local model 48, internal_epoch   2,  Average loss: 0.0031, Accuracy: 4558/4830 (94.3685%)
___Test Local_ResNet_18 poisoned: False, epoch: 129: Average loss: 2.1069, Accuracy: 5417/10000 (54.1700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 24.67ms
___Train Local_ResNet_18,  epoch 129, local model 65, internal_epoch   1,  Average loss: 0.0043, Accuracy: 5046/5497 (91.7955%)
___Train Local_ResNet_18,  epoch 129, local model 65, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4974/5497 (90.4857%)
___Test Local_ResNet_18 poisoned: False, epoch: 129: Average loss: 2.1576, Accuracy: 5334/10000 (53.3400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 25.29ms
___Train Local_ResNet_18,  epoch 129, local model 95, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4519/5018 (90.0558%)
___Train Local_ResNet_18,  epoch 129, local model 95, internal_epoch   2,  Average loss: 0.0056, Accuracy: 4442/5018 (88.5213%)
___Test Local_ResNet_18 poisoned: False, epoch: 129: Average loss: 2.1332, Accuracy: 5347/10000 (53.4700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 25.19ms
___Train Local_ResNet_18,  epoch 129, local model 38, internal_epoch   1,  Average loss: 0.0047, Accuracy: 5650/6235 (90.6175%)
___Train Local_ResNet_18,  epoch 129, local model 38, internal_epoch   2,  Average loss: 0.0062, Accuracy: 5443/6235 (87.2975%)
___Test Local_ResNet_18 poisoned: False, epoch: 129: Average loss: 2.4887, Accuracy: 4816/10000 (48.1600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 25.14ms
___Train Local_ResNet_18,  epoch 129, local model 74, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4341/4797 (90.4941%)
___Train Local_ResNet_18,  epoch 129, local model 74, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4312/4797 (89.8895%)
___Test Local_ResNet_18 poisoned: False, epoch: 129: Average loss: 2.0707, Accuracy: 5392/10000 (53.9200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 26.48ms
___Train Local_ResNet_18,  epoch 129, local model 43, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4627/4979 (92.9303%)
___Train Local_ResNet_18,  epoch 129, local model 43, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4617/4979 (92.7295%)
___Test Local_ResNet_18 poisoned: False, epoch: 129: Average loss: 2.0275, Accuracy: 5572/10000 (55.7200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /win_exists (::1) 0.73ms
INFO:tornado.access:200 POST /update (::1) 21.27ms
___Train Local_ResNet_18,  epoch 129, local model 26, internal_epoch   1,  Average loss: 0.0035, Accuracy: 3814/4086 (93.3431%)
___Train Local_ResNet_18,  epoch 129, local model 26, internal_epoch   2,  Average loss: 0.0034, Accuracy: 3821/4086 (93.5144%)
___Test Local_ResNet_18 poisoned: False, epoch: 129: Average loss: 1.9383, Accuracy: 5606/10000 (56.0600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 25.68ms
___Train Local_ResNet_18,  epoch 129, local model 15, internal_epoch   1,  Average loss: 0.0041, Accuracy: 5600/6068 (92.2874%)
___Train Local_ResNet_18,  epoch 129, local model 15, internal_epoch   2,  Average loss: 0.0041, Accuracy: 5577/6068 (91.9084%)
___Test Local_ResNet_18 poisoned: False, epoch: 129: Average loss: 2.2053, Accuracy: 5205/10000 (52.0500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /update (::1) 26.31ms
___Train Local_ResNet_18,  epoch 129, local model 14, internal_epoch   1,  Average loss: 0.0030, Accuracy: 3962/4196 (94.4233%)
___Train Local_ResNet_18,  epoch 129, local model 14, internal_epoch   2,  Average loss: 0.0029, Accuracy: 3971/4196 (94.6378%)
___Test Local_ResNet_18 poisoned: False, epoch: 129: Average loss: 1.8668, Accuracy: 5809/10000 (58.0900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 25.76ms
___Train Local_ResNet_18,  epoch 129, local model 49, internal_epoch   1,  Average loss: 0.0050, Accuracy: 5113/5652 (90.4636%)
___Train Local_ResNet_18,  epoch 129, local model 49, internal_epoch   2,  Average loss: 0.0055, Accuracy: 5027/5652 (88.9420%)
___Test Local_ResNet_18 poisoned: False, epoch: 129: Average loss: 2.0258, Accuracy: 5427/10000 (54.2700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 26.18ms
___Train Local_ResNet_18,  epoch 129, local model 79, internal_epoch   1,  Average loss: 0.0037, Accuracy: 3822/4111 (92.9701%)
___Train Local_ResNet_18,  epoch 129, local model 79, internal_epoch   2,  Average loss: 0.0044, Accuracy: 3763/4111 (91.5349%)
___Test Local_ResNet_18 poisoned: False, epoch: 129: Average loss: 1.9045, Accuracy: 5646/10000 (56.4600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 25.03ms
___Train Local_ResNet_18,  epoch 129, local model 8, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4522/4889 (92.4934%)
___Train Local_ResNet_18,  epoch 129, local model 8, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4511/4889 (92.2684%)
___Test Local_ResNet_18 poisoned: False, epoch: 129: Average loss: 2.0608, Accuracy: 5476/10000 (54.7600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 26.31ms
___Train Local_ResNet_18,  epoch 129, local model 78, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4084/4368 (93.4982%)
___Train Local_ResNet_18,  epoch 129, local model 78, internal_epoch   2,  Average loss: 0.0046, Accuracy: 3987/4368 (91.2775%)
___Test Local_ResNet_18 poisoned: False, epoch: 129: Average loss: 2.0683, Accuracy: 5431/10000 (54.3100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 24.92ms
time spent on training: 298.91098737716675
___Test Target_ResNet_18 poisoned: False, epoch: 129: Average loss: 1.2488, Accuracy: 6788/10000 (67.8800%)
___Test Target_ResNet_18 poisoned: True, epoch: 129: Average loss: 0.0976, Accuracy: 9642/9900 (97.3939%)
Done in 325.28087425231934 sec.
Server Epoch:130 choose agents : [13, 36, 58, 71, 55, 3, 46, 33, 49, 20, 1, 52, 29, 54, 11, 97, 91, 79, 88, 40].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 130, local model 13, internal_epoch   1,  Average loss: 0.0017, Accuracy: 5179/5308 (97.5697%), train_poison_data_count: 415
Global model norm: 43.69416638158062.
Norm before scaling: 43.66140163993894. Distance: 1.2928638242806336
Total norm for 4 adversaries is: 43.66140163993894. distance: 1.2928638242806336
___Test Local_ResNet_18 poisoned: True, epoch: 130: Average loss: 0.0266, Accuracy: 9828/9900 (99.2727%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 130, local model 36, internal_epoch   1,  Average loss: 0.0019, Accuracy: 5611/5777 (97.1265%), train_poison_data_count: 455
Global model norm: 43.69416638158062.
Norm before scaling: 43.65706927022959. Distance: 1.3535282635339543
Total norm for 4 adversaries is: 43.65706927022959. distance: 1.3535282635339543
___Test Local_ResNet_18 poisoned: True, epoch: 130: Average loss: 0.0637, Accuracy: 9740/9900 (98.3838%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 130, local model 58, internal_epoch   1,  Average loss: 0.0026, Accuracy: 4938/5123 (96.3888%), train_poison_data_count: 403
Global model norm: 43.69416638158062.
Norm before scaling: 43.661971987664074. Distance: 1.298768694672399
Total norm for 4 adversaries is: 43.661971987664074. distance: 1.298768694672399
___Test Local_ResNet_18 poisoned: True, epoch: 130: Average loss: 0.0945, Accuracy: 9657/9900 (97.5455%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 130, local model 71, internal_epoch   1,  Average loss: 0.0019, Accuracy: 5330/5503 (96.8563%), train_poison_data_count: 430
Global model norm: 43.69416638158062.
Norm before scaling: 43.6625618983064. Distance: 1.3570267575661237
Total norm for 4 adversaries is: 43.6625618983064. distance: 1.3570267575661237
___Test Local_ResNet_18 poisoned: True, epoch: 130: Average loss: 0.0446, Accuracy: 9780/9900 (98.7879%)
___Train Local_ResNet_18,  epoch 130, local model 55, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4417/4731 (93.3629%)
___Train Local_ResNet_18,  epoch 130, local model 55, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4420/4731 (93.4263%)
___Test Local_ResNet_18 poisoned: False, epoch: 130: Average loss: 2.0371, Accuracy: 5586/10000 (55.8600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /update (::1) 25.88ms
___Train Local_ResNet_18,  epoch 130, local model 3, internal_epoch   1,  Average loss: 0.0033, Accuracy: 5021/5346 (93.9207%)
___Train Local_ResNet_18,  epoch 130, local model 3, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4950/5346 (92.5926%)
___Test Local_ResNet_18 poisoned: False, epoch: 130: Average loss: 2.0930, Accuracy: 5400/10000 (54.0000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 25.06ms
___Train Local_ResNet_18,  epoch 130, local model 46, internal_epoch   1,  Average loss: 0.0053, Accuracy: 4868/5399 (90.1648%)
___Train Local_ResNet_18,  epoch 130, local model 46, internal_epoch   2,  Average loss: 0.0063, Accuracy: 4731/5399 (87.6273%)
___Test Local_ResNet_18 poisoned: False, epoch: 130: Average loss: 2.3038, Accuracy: 5116/10000 (51.1600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /update (::1) 26.23ms
___Train Local_ResNet_18,  epoch 130, local model 33, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4495/4818 (93.2960%)
___Train Local_ResNet_18,  epoch 130, local model 33, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4388/4818 (91.0751%)
___Test Local_ResNet_18 poisoned: False, epoch: 130: Average loss: 2.1151, Accuracy: 5437/10000 (54.3700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 26.30ms
___Train Local_ResNet_18,  epoch 130, local model 49, internal_epoch   1,  Average loss: 0.0044, Accuracy: 5178/5652 (91.6136%)
___Train Local_ResNet_18,  epoch 130, local model 49, internal_epoch   2,  Average loss: 0.0058, Accuracy: 5012/5652 (88.6766%)
___Test Local_ResNet_18 poisoned: False, epoch: 130: Average loss: 2.2013, Accuracy: 5208/10000 (52.0800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 25.13ms
___Train Local_ResNet_18,  epoch 130, local model 20, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4433/4714 (94.0390%)
___Train Local_ResNet_18,  epoch 130, local model 20, internal_epoch   2,  Average loss: 0.0033, Accuracy: 4419/4714 (93.7420%)
___Test Local_ResNet_18 poisoned: False, epoch: 130: Average loss: 1.9683, Accuracy: 5647/10000 (56.4700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.76ms
INFO:tornado.access:200 POST /update (::1) 25.41ms
___Train Local_ResNet_18,  epoch 130, local model 1, internal_epoch   1,  Average loss: 0.0030, Accuracy: 5114/5422 (94.3194%)
___Train Local_ResNet_18,  epoch 130, local model 1, internal_epoch   2,  Average loss: 0.0039, Accuracy: 5030/5422 (92.7702%)
___Test Local_ResNet_18 poisoned: False, epoch: 130: Average loss: 1.9466, Accuracy: 5625/10000 (56.2500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 24.87ms
___Train Local_ResNet_18,  epoch 130, local model 52, internal_epoch   1,  Average loss: 0.0037, Accuracy: 3858/4130 (93.4140%)
___Train Local_ResNet_18,  epoch 130, local model 52, internal_epoch   2,  Average loss: 0.0039, Accuracy: 3835/4130 (92.8571%)
___Test Local_ResNet_18 poisoned: False, epoch: 130: Average loss: 1.9954, Accuracy: 5507/10000 (55.0700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 26.04ms
___Train Local_ResNet_18,  epoch 130, local model 29, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4420/4732 (93.4066%)
___Train Local_ResNet_18,  epoch 130, local model 29, internal_epoch   2,  Average loss: 0.0033, Accuracy: 4439/4732 (93.8081%)
___Test Local_ResNet_18 poisoned: False, epoch: 130: Average loss: 1.8298, Accuracy: 5753/10000 (57.5300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 26.22ms
___Train Local_ResNet_18,  epoch 130, local model 54, internal_epoch   1,  Average loss: 0.0050, Accuracy: 5121/5645 (90.7174%)
___Train Local_ResNet_18,  epoch 130, local model 54, internal_epoch   2,  Average loss: 0.0068, Accuracy: 4910/5645 (86.9796%)
___Test Local_ResNet_18 poisoned: False, epoch: 130: Average loss: 2.1891, Accuracy: 5095/10000 (50.9500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 25.58ms
___Train Local_ResNet_18,  epoch 130, local model 11, internal_epoch   1,  Average loss: 0.0067, Accuracy: 5006/5702 (87.7938%)
___Train Local_ResNet_18,  epoch 130, local model 11, internal_epoch   2,  Average loss: 0.0123, Accuracy: 4353/5702 (76.3416%)
___Test Local_ResNet_18 poisoned: False, epoch: 130: Average loss: 2.5159, Accuracy: 4658/10000 (46.5800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 25.38ms
___Train Local_ResNet_18,  epoch 130, local model 97, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4346/4736 (91.7652%)
___Train Local_ResNet_18,  epoch 130, local model 97, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4310/4736 (91.0051%)
___Test Local_ResNet_18 poisoned: False, epoch: 130: Average loss: 1.9429, Accuracy: 5639/10000 (56.3900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.76ms
INFO:tornado.access:200 POST /update (::1) 25.29ms
___Train Local_ResNet_18,  epoch 130, local model 91, internal_epoch   1,  Average loss: 0.0050, Accuracy: 4086/4527 (90.2584%)
___Train Local_ResNet_18,  epoch 130, local model 91, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4079/4527 (90.1038%)
___Test Local_ResNet_18 poisoned: False, epoch: 130: Average loss: 2.0777, Accuracy: 5387/10000 (53.8700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 26.24ms
___Train Local_ResNet_18,  epoch 130, local model 79, internal_epoch   1,  Average loss: 0.0037, Accuracy: 3832/4111 (93.2133%)
___Train Local_ResNet_18,  epoch 130, local model 79, internal_epoch   2,  Average loss: 0.0048, Accuracy: 3739/4111 (90.9511%)
___Test Local_ResNet_18 poisoned: False, epoch: 130: Average loss: 2.0016, Accuracy: 5400/10000 (54.0000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 24.98ms
___Train Local_ResNet_18,  epoch 130, local model 88, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4924/5362 (91.8314%)
___Train Local_ResNet_18,  epoch 130, local model 88, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4857/5362 (90.5819%)
___Test Local_ResNet_18 poisoned: False, epoch: 130: Average loss: 2.3815, Accuracy: 5114/10000 (51.1400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 26.89ms
___Train Local_ResNet_18,  epoch 130, local model 40, internal_epoch   1,  Average loss: 0.0037, Accuracy: 5513/5939 (92.8271%)
___Train Local_ResNet_18,  epoch 130, local model 40, internal_epoch   2,  Average loss: 0.0047, Accuracy: 5402/5939 (90.9581%)
___Test Local_ResNet_18 poisoned: False, epoch: 130: Average loss: 2.2748, Accuracy: 5063/10000 (50.6300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 25.82ms
time spent on training: 298.9550669193268
___Test Target_ResNet_18 poisoned: False, epoch: 130: Average loss: 1.2475, Accuracy: 6796/10000 (67.9600%)
___Test Target_ResNet_18 poisoned: True, epoch: 130: Average loss: 0.0954, Accuracy: 9647/9900 (97.4444%)
Done in 325.7179386615753 sec.
Server Epoch:131 choose agents : [13, 36, 58, 71, 44, 96, 65, 90, 49, 43, 69, 8, 56, 63, 2, 72, 42, 7, 64, 9].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 131, local model 13, internal_epoch   1,  Average loss: 0.0017, Accuracy: 5167/5308 (97.3436%), train_poison_data_count: 415
Global model norm: 43.714613200010845.
Norm before scaling: 43.681325844565. Distance: 1.2684359006643726
Total norm for 4 adversaries is: 43.681325844565. distance: 1.2684359006643726
___Test Local_ResNet_18 poisoned: True, epoch: 131: Average loss: 0.1097, Accuracy: 9631/9900 (97.2828%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 131, local model 36, internal_epoch   1,  Average loss: 0.0017, Accuracy: 5629/5777 (97.4381%), train_poison_data_count: 455
Global model norm: 43.714613200010845.
Norm before scaling: 43.673964339556036. Distance: 1.2962393984089786
Total norm for 4 adversaries is: 43.673964339556036. distance: 1.2962393984089786
___Test Local_ResNet_18 poisoned: True, epoch: 131: Average loss: 0.0672, Accuracy: 9727/9900 (98.2525%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 131, local model 58, internal_epoch   1,  Average loss: 0.0026, Accuracy: 4971/5123 (97.0330%), train_poison_data_count: 403
Global model norm: 43.714613200010845.
Norm before scaling: 43.682551244211055. Distance: 1.2972092255252823
Total norm for 4 adversaries is: 43.682551244211055. distance: 1.2972092255252823
___Test Local_ResNet_18 poisoned: True, epoch: 131: Average loss: 0.0747, Accuracy: 9693/9900 (97.9091%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 131, local model 71, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5362/5503 (97.4378%), train_poison_data_count: 430
Global model norm: 43.714613200010845.
Norm before scaling: 43.67983631592428. Distance: 1.3133907020612665
Total norm for 4 adversaries is: 43.67983631592428. distance: 1.3133907020612665
___Test Local_ResNet_18 poisoned: True, epoch: 131: Average loss: 0.0540, Accuracy: 9755/9900 (98.5354%)
___Train Local_ResNet_18,  epoch 131, local model 44, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4732/5075 (93.2414%)
___Train Local_ResNet_18,  epoch 131, local model 44, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4605/5075 (90.7389%)
___Test Local_ResNet_18 poisoned: False, epoch: 131: Average loss: 2.0657, Accuracy: 5406/10000 (54.0600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /update (::1) 27.03ms
___Train Local_ResNet_18,  epoch 131, local model 96, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4675/5086 (91.9190%)
___Train Local_ResNet_18,  epoch 131, local model 96, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4617/5086 (90.7786%)
___Test Local_ResNet_18 poisoned: False, epoch: 131: Average loss: 2.1506, Accuracy: 5306/10000 (53.0600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 25.46ms
___Train Local_ResNet_18,  epoch 131, local model 65, internal_epoch   1,  Average loss: 0.0044, Accuracy: 5033/5497 (91.5590%)
___Train Local_ResNet_18,  epoch 131, local model 65, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4948/5497 (90.0127%)
___Test Local_ResNet_18 poisoned: False, epoch: 131: Average loss: 2.0961, Accuracy: 5285/10000 (52.8500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 25.60ms
___Train Local_ResNet_18,  epoch 131, local model 90, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4432/4748 (93.3446%)
___Train Local_ResNet_18,  epoch 131, local model 90, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4319/4748 (90.9646%)
___Test Local_ResNet_18 poisoned: False, epoch: 131: Average loss: 2.1677, Accuracy: 5262/10000 (52.6200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 24.84ms
___Train Local_ResNet_18,  epoch 131, local model 49, internal_epoch   1,  Average loss: 0.0048, Accuracy: 5101/5652 (90.2512%)
___Train Local_ResNet_18,  epoch 131, local model 49, internal_epoch   2,  Average loss: 0.0063, Accuracy: 4945/5652 (87.4912%)
___Test Local_ResNet_18 poisoned: False, epoch: 131: Average loss: 2.2929, Accuracy: 5111/10000 (51.1100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.65ms
INFO:tornado.access:200 POST /update (::1) 20.76ms
___Train Local_ResNet_18,  epoch 131, local model 43, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4613/4979 (92.6491%)
___Train Local_ResNet_18,  epoch 131, local model 43, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4567/4979 (91.7252%)
___Test Local_ResNet_18 poisoned: False, epoch: 131: Average loss: 2.0151, Accuracy: 5517/10000 (55.1700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 25.28ms
___Train Local_ResNet_18,  epoch 131, local model 69, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4023/4364 (92.1861%)
___Train Local_ResNet_18,  epoch 131, local model 69, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4006/4364 (91.7965%)
___Test Local_ResNet_18 poisoned: False, epoch: 131: Average loss: 2.1990, Accuracy: 5292/10000 (52.9200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.82ms
INFO:tornado.access:200 POST /update (::1) 21.97ms
___Train Local_ResNet_18,  epoch 131, local model 8, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4504/4889 (92.1252%)
___Train Local_ResNet_18,  epoch 131, local model 8, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4509/4889 (92.2274%)
___Test Local_ResNet_18 poisoned: False, epoch: 131: Average loss: 1.9542, Accuracy: 5643/10000 (56.4300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 25.35ms
___Train Local_ResNet_18,  epoch 131, local model 56, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4970/5427 (91.5791%)
___Train Local_ResNet_18,  epoch 131, local model 56, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4815/5427 (88.7231%)
___Test Local_ResNet_18 poisoned: False, epoch: 131: Average loss: 2.2195, Accuracy: 5258/10000 (52.5800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 25.14ms
___Train Local_ResNet_18,  epoch 131, local model 63, internal_epoch   1,  Average loss: 0.0035, Accuracy: 3660/3910 (93.6061%)
___Train Local_ResNet_18,  epoch 131, local model 63, internal_epoch   2,  Average loss: 0.0048, Accuracy: 3571/3910 (91.3299%)
___Test Local_ResNet_18 poisoned: False, epoch: 131: Average loss: 2.0360, Accuracy: 5592/10000 (55.9200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.82ms
INFO:tornado.access:200 POST /update (::1) 25.43ms
___Train Local_ResNet_18,  epoch 131, local model 2, internal_epoch   1,  Average loss: 0.0036, Accuracy: 3695/3968 (93.1200%)
___Train Local_ResNet_18,  epoch 131, local model 2, internal_epoch   2,  Average loss: 0.0038, Accuracy: 3673/3968 (92.5655%)
___Test Local_ResNet_18 poisoned: False, epoch: 131: Average loss: 1.8508, Accuracy: 5698/10000 (56.9800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.75ms
INFO:tornado.access:200 POST /update (::1) 27.34ms
___Train Local_ResNet_18,  epoch 131, local model 72, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4798/5193 (92.3936%)
___Train Local_ResNet_18,  epoch 131, local model 72, internal_epoch   2,  Average loss: 0.0065, Accuracy: 4535/5193 (87.3291%)
___Test Local_ResNet_18 poisoned: False, epoch: 131: Average loss: 2.3861, Accuracy: 5008/10000 (50.0800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 25.78ms
___Train Local_ResNet_18,  epoch 131, local model 42, internal_epoch   1,  Average loss: 0.0044, Accuracy: 5407/5907 (91.5355%)
___Train Local_ResNet_18,  epoch 131, local model 42, internal_epoch   2,  Average loss: 0.0048, Accuracy: 5357/5907 (90.6890%)
___Test Local_ResNet_18 poisoned: False, epoch: 131: Average loss: 2.3550, Accuracy: 5009/10000 (50.0900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 25.74ms
___Train Local_ResNet_18,  epoch 131, local model 7, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4473/4869 (91.8669%)
___Train Local_ResNet_18,  epoch 131, local model 7, internal_epoch   2,  Average loss: 0.0106, Accuracy: 3918/4869 (80.4683%)
___Test Local_ResNet_18 poisoned: False, epoch: 131: Average loss: 2.3669, Accuracy: 4971/10000 (49.7100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 25.95ms
___Train Local_ResNet_18,  epoch 131, local model 64, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4450/4894 (90.9277%)
___Train Local_ResNet_18,  epoch 131, local model 64, internal_epoch   2,  Average loss: 0.0063, Accuracy: 4293/4894 (87.7197%)
___Test Local_ResNet_18 poisoned: False, epoch: 131: Average loss: 2.2459, Accuracy: 5244/10000 (52.4400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 25.07ms
___Train Local_ResNet_18,  epoch 131, local model 9, internal_epoch   1,  Average loss: 0.0048, Accuracy: 5180/5727 (90.4488%)
___Train Local_ResNet_18,  epoch 131, local model 9, internal_epoch   2,  Average loss: 0.0063, Accuracy: 4995/5727 (87.2184%)
___Test Local_ResNet_18 poisoned: False, epoch: 131: Average loss: 2.1848, Accuracy: 5176/10000 (51.7600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.82ms
INFO:tornado.access:200 POST /update (::1) 25.58ms
time spent on training: 287.71059823036194
___Test Target_ResNet_18 poisoned: False, epoch: 131: Average loss: 1.2480, Accuracy: 6796/10000 (67.9600%)
___Test Target_ResNet_18 poisoned: True, epoch: 131: Average loss: 0.0970, Accuracy: 9641/9900 (97.3838%)
Done in 314.48072481155396 sec.
Server Epoch:132 choose agents : [13, 36, 58, 71, 66, 50, 48, 43, 31, 92, 4, 61, 56, 47, 18, 87, 89, 21, 97, 70].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 132, local model 13, internal_epoch   1,  Average loss: 0.0017, Accuracy: 5166/5308 (97.3248%), train_poison_data_count: 415
Global model norm: 43.73600920267603.
Norm before scaling: 43.7026180364768. Distance: 1.273680821674969
Total norm for 4 adversaries is: 43.7026180364768. distance: 1.273680821674969
___Test Local_ResNet_18 poisoned: True, epoch: 132: Average loss: 0.0415, Accuracy: 9787/9900 (98.8586%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 132, local model 36, internal_epoch   1,  Average loss: 0.0017, Accuracy: 5628/5777 (97.4208%), train_poison_data_count: 455
Global model norm: 43.73600920267603.
Norm before scaling: 43.69572526289042. Distance: 1.2929172102230075
Total norm for 4 adversaries is: 43.69572526289042. distance: 1.2929172102230075
___Test Local_ResNet_18 poisoned: True, epoch: 132: Average loss: 0.0866, Accuracy: 9684/9900 (97.8182%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 132, local model 58, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4952/5123 (96.6621%), train_poison_data_count: 403
Global model norm: 43.73600920267603.
Norm before scaling: 43.7030886887586. Distance: 1.2956174705422758
Total norm for 4 adversaries is: 43.7030886887586. distance: 1.2956174705422758
___Test Local_ResNet_18 poisoned: True, epoch: 132: Average loss: 0.0481, Accuracy: 9769/9900 (98.6768%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 132, local model 71, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5367/5503 (97.5286%), train_poison_data_count: 430
Global model norm: 43.73600920267603.
Norm before scaling: 43.702319162663585. Distance: 1.3169745511816404
Total norm for 4 adversaries is: 43.702319162663585. distance: 1.3169745511816404
___Test Local_ResNet_18 poisoned: True, epoch: 132: Average loss: 0.0423, Accuracy: 9793/9900 (98.9192%)
___Train Local_ResNet_18,  epoch 132, local model 66, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4519/4843 (93.3099%)
___Train Local_ResNet_18,  epoch 132, local model 66, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4413/4843 (91.1212%)
___Test Local_ResNet_18 poisoned: False, epoch: 132: Average loss: 2.1304, Accuracy: 5401/10000 (54.0100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 25.67ms
___Train Local_ResNet_18,  epoch 132, local model 50, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4443/4757 (93.3992%)
___Train Local_ResNet_18,  epoch 132, local model 50, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4380/4757 (92.0748%)
___Test Local_ResNet_18 poisoned: False, epoch: 132: Average loss: 1.9992, Accuracy: 5548/10000 (55.4800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 25.89ms
___Train Local_ResNet_18,  epoch 132, local model 48, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4517/4830 (93.5197%)
___Train Local_ResNet_18,  epoch 132, local model 48, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4510/4830 (93.3747%)
___Test Local_ResNet_18 poisoned: False, epoch: 132: Average loss: 2.0425, Accuracy: 5445/10000 (54.4500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.79ms
INFO:tornado.access:200 POST /update (::1) 24.90ms
___Train Local_ResNet_18,  epoch 132, local model 43, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4588/4979 (92.1470%)
___Train Local_ResNet_18,  epoch 132, local model 43, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4571/4979 (91.8056%)
___Test Local_ResNet_18 poisoned: False, epoch: 132: Average loss: 2.0064, Accuracy: 5445/10000 (54.4500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.04ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 26.89ms
___Train Local_ResNet_18,  epoch 132, local model 31, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4208/4537 (92.7485%)
___Train Local_ResNet_18,  epoch 132, local model 31, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4188/4537 (92.3077%)
___Test Local_ResNet_18 poisoned: False, epoch: 132: Average loss: 2.0163, Accuracy: 5485/10000 (54.8500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 25.07ms
___Train Local_ResNet_18,  epoch 132, local model 92, internal_epoch   1,  Average loss: 0.0038, Accuracy: 6324/6812 (92.8362%)
___Train Local_ResNet_18,  epoch 132, local model 92, internal_epoch   2,  Average loss: 0.0044, Accuracy: 6241/6812 (91.6177%)
___Test Local_ResNet_18 poisoned: False, epoch: 132: Average loss: 2.1583, Accuracy: 5434/10000 (54.3400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 26.62ms
___Train Local_ResNet_18,  epoch 132, local model 4, internal_epoch   1,  Average loss: 0.0036, Accuracy: 3758/4028 (93.2969%)
___Train Local_ResNet_18,  epoch 132, local model 4, internal_epoch   2,  Average loss: 0.0038, Accuracy: 3728/4028 (92.5521%)
___Test Local_ResNet_18 poisoned: False, epoch: 132: Average loss: 1.9629, Accuracy: 5634/10000 (56.3400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 26.42ms
___Train Local_ResNet_18,  epoch 132, local model 61, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4161/4485 (92.7759%)
___Train Local_ResNet_18,  epoch 132, local model 61, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4003/4485 (89.2531%)
___Test Local_ResNet_18 poisoned: False, epoch: 132: Average loss: 2.1581, Accuracy: 5246/10000 (52.4600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 26.31ms
___Train Local_ResNet_18,  epoch 132, local model 56, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4976/5427 (91.6897%)
___Train Local_ResNet_18,  epoch 132, local model 56, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4908/5427 (90.4367%)
___Test Local_ResNet_18 poisoned: False, epoch: 132: Average loss: 2.0881, Accuracy: 5462/10000 (54.6200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 25.38ms
___Train Local_ResNet_18,  epoch 132, local model 47, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4649/5123 (90.7476%)
___Train Local_ResNet_18,  epoch 132, local model 47, internal_epoch   2,  Average loss: 0.0089, Accuracy: 4252/5123 (82.9982%)
___Test Local_ResNet_18 poisoned: False, epoch: 132: Average loss: 2.3531, Accuracy: 4919/10000 (49.1900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.80ms
INFO:tornado.access:200 POST /update (::1) 25.39ms
___Train Local_ResNet_18,  epoch 132, local model 18, internal_epoch   1,  Average loss: 0.0036, Accuracy: 3985/4249 (93.7868%)
___Train Local_ResNet_18,  epoch 132, local model 18, internal_epoch   2,  Average loss: 0.0042, Accuracy: 3913/4249 (92.0923%)
___Test Local_ResNet_18 poisoned: False, epoch: 132: Average loss: 2.0289, Accuracy: 5585/10000 (55.8500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 25.31ms
___Train Local_ResNet_18,  epoch 132, local model 87, internal_epoch   1,  Average loss: 0.0047, Accuracy: 3636/3995 (91.0138%)
___Train Local_ResNet_18,  epoch 132, local model 87, internal_epoch   2,  Average loss: 0.0056, Accuracy: 3560/3995 (89.1114%)
___Test Local_ResNet_18 poisoned: False, epoch: 132: Average loss: 2.0635, Accuracy: 5492/10000 (54.9200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 25.34ms
___Train Local_ResNet_18,  epoch 132, local model 89, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4388/4737 (92.6325%)
___Train Local_ResNet_18,  epoch 132, local model 89, internal_epoch   2,  Average loss: 0.0054, Accuracy: 4306/4737 (90.9014%)
___Test Local_ResNet_18 poisoned: False, epoch: 132: Average loss: 2.1907, Accuracy: 5362/10000 (53.6200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 26.21ms
___Train Local_ResNet_18,  epoch 132, local model 21, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4692/5038 (93.1322%)
___Train Local_ResNet_18,  epoch 132, local model 21, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4634/5038 (91.9809%)
___Test Local_ResNet_18 poisoned: False, epoch: 132: Average loss: 1.9291, Accuracy: 5696/10000 (56.9600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 25.95ms
___Train Local_ResNet_18,  epoch 132, local model 97, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4332/4736 (91.4696%)
___Train Local_ResNet_18,  epoch 132, local model 97, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4264/4736 (90.0338%)
___Test Local_ResNet_18 poisoned: False, epoch: 132: Average loss: 1.9303, Accuracy: 5563/10000 (55.6300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 24.77ms
___Train Local_ResNet_18,  epoch 132, local model 70, internal_epoch   1,  Average loss: 0.0035, Accuracy: 5488/5871 (93.4764%)
___Train Local_ResNet_18,  epoch 132, local model 70, internal_epoch   2,  Average loss: 0.0044, Accuracy: 5357/5871 (91.2451%)
___Test Local_ResNet_18 poisoned: False, epoch: 132: Average loss: 2.1045, Accuracy: 5358/10000 (53.5800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 26.18ms
time spent on training: 279.4531219005585
___Test Target_ResNet_18 poisoned: False, epoch: 132: Average loss: 1.2477, Accuracy: 6801/10000 (68.0100%)
___Test Target_ResNet_18 poisoned: True, epoch: 132: Average loss: 0.0893, Accuracy: 9661/9900 (97.5859%)
Done in 305.87731862068176 sec.
Server Epoch:133 choose agents : [13, 36, 58, 71, 14, 60, 82, 89, 72, 33, 79, 92, 81, 56, 75, 19, 78, 66, 16, 20].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 133, local model 13, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5203/5308 (98.0219%), train_poison_data_count: 415
Global model norm: 43.756112854198726.
Norm before scaling: 43.71902502817352. Distance: 1.1783029376367193
Total norm for 4 adversaries is: 43.71902502817352. distance: 1.1783029376367193
___Test Local_ResNet_18 poisoned: True, epoch: 133: Average loss: 0.0750, Accuracy: 9695/9900 (97.9293%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 133, local model 36, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5619/5777 (97.2650%), train_poison_data_count: 455
Global model norm: 43.756112854198726.
Norm before scaling: 43.71882538860548. Distance: 1.3846727778591155
Total norm for 4 adversaries is: 43.71882538860548. distance: 1.3846727778591155
___Test Local_ResNet_18 poisoned: True, epoch: 133: Average loss: 0.0482, Accuracy: 9785/9900 (98.8384%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 133, local model 58, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4952/5123 (96.6621%), train_poison_data_count: 403
Global model norm: 43.756112854198726.
Norm before scaling: 43.724600607005975. Distance: 1.3180826984706344
Total norm for 4 adversaries is: 43.724600607005975. distance: 1.3180826984706344
___Test Local_ResNet_18 poisoned: True, epoch: 133: Average loss: 0.0483, Accuracy: 9777/9900 (98.7576%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 133, local model 71, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5349/5503 (97.2015%), train_poison_data_count: 430
Global model norm: 43.756112854198726.
Norm before scaling: 43.7206304880595. Distance: 1.2757128181488744
Total norm for 4 adversaries is: 43.7206304880595. distance: 1.2757128181488744
___Test Local_ResNet_18 poisoned: True, epoch: 133: Average loss: 0.0156, Accuracy: 9862/9900 (99.6162%)
___Train Local_ResNet_18,  epoch 133, local model 14, internal_epoch   1,  Average loss: 0.0029, Accuracy: 3978/4196 (94.8046%)
___Train Local_ResNet_18,  epoch 133, local model 14, internal_epoch   2,  Average loss: 0.0029, Accuracy: 3981/4196 (94.8761%)
___Test Local_ResNet_18 poisoned: False, epoch: 133: Average loss: 1.9670, Accuracy: 5603/10000 (56.0300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 26.50ms
___Train Local_ResNet_18,  epoch 133, local model 60, internal_epoch   1,  Average loss: 0.0042, Accuracy: 3825/4145 (92.2799%)
___Train Local_ResNet_18,  epoch 133, local model 60, internal_epoch   2,  Average loss: 0.0040, Accuracy: 3796/4145 (91.5802%)
___Test Local_ResNet_18 poisoned: False, epoch: 133: Average loss: 2.0087, Accuracy: 5539/10000 (55.3900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 25.82ms
___Train Local_ResNet_18,  epoch 133, local model 82, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4992/5298 (94.2242%)
___Train Local_ResNet_18,  epoch 133, local model 82, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4953/5298 (93.4881%)
___Test Local_ResNet_18 poisoned: False, epoch: 133: Average loss: 2.0287, Accuracy: 5556/10000 (55.5600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.03ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 26.25ms
___Train Local_ResNet_18,  epoch 133, local model 89, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4339/4737 (91.5981%)
___Train Local_ResNet_18,  epoch 133, local model 89, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4373/4737 (92.3158%)
___Test Local_ResNet_18 poisoned: False, epoch: 133: Average loss: 2.1789, Accuracy: 5410/10000 (54.1000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 26.08ms
___Train Local_ResNet_18,  epoch 133, local model 72, internal_epoch   1,  Average loss: 0.0050, Accuracy: 4701/5193 (90.5257%)
___Train Local_ResNet_18,  epoch 133, local model 72, internal_epoch   2,  Average loss: 0.0076, Accuracy: 4428/5193 (85.2686%)
___Test Local_ResNet_18 poisoned: False, epoch: 133: Average loss: 2.4841, Accuracy: 4902/10000 (49.0200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 25.03ms
___Train Local_ResNet_18,  epoch 133, local model 33, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4499/4818 (93.3790%)
___Train Local_ResNet_18,  epoch 133, local model 33, internal_epoch   2,  Average loss: 0.0056, Accuracy: 4270/4818 (88.6260%)
___Test Local_ResNet_18 poisoned: False, epoch: 133: Average loss: 2.0427, Accuracy: 5479/10000 (54.7900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 25.94ms
___Train Local_ResNet_18,  epoch 133, local model 79, internal_epoch   1,  Average loss: 0.0034, Accuracy: 3860/4111 (93.8944%)
___Train Local_ResNet_18,  epoch 133, local model 79, internal_epoch   2,  Average loss: 0.0032, Accuracy: 3867/4111 (94.0647%)
___Test Local_ResNet_18 poisoned: False, epoch: 133: Average loss: 1.9712, Accuracy: 5642/10000 (56.4200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 25.85ms
___Train Local_ResNet_18,  epoch 133, local model 92, internal_epoch   1,  Average loss: 0.0037, Accuracy: 6334/6812 (92.9830%)
___Train Local_ResNet_18,  epoch 133, local model 92, internal_epoch   2,  Average loss: 0.0039, Accuracy: 6300/6812 (92.4839%)
___Test Local_ResNet_18 poisoned: False, epoch: 133: Average loss: 2.1442, Accuracy: 5394/10000 (53.9400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.80ms
INFO:tornado.access:200 POST /update (::1) 26.47ms
___Train Local_ResNet_18,  epoch 133, local model 81, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4695/5035 (93.2473%)
___Train Local_ResNet_18,  epoch 133, local model 81, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4674/5035 (92.8302%)
___Test Local_ResNet_18 poisoned: False, epoch: 133: Average loss: 2.0119, Accuracy: 5609/10000 (56.0900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 25.39ms
___Train Local_ResNet_18,  epoch 133, local model 56, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4969/5427 (91.5607%)
___Train Local_ResNet_18,  epoch 133, local model 56, internal_epoch   2,  Average loss: 0.0060, Accuracy: 4753/5427 (87.5806%)
___Test Local_ResNet_18 poisoned: False, epoch: 133: Average loss: 2.2125, Accuracy: 5184/10000 (51.8400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 25.37ms
___Train Local_ResNet_18,  epoch 133, local model 75, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4341/4672 (92.9152%)
___Train Local_ResNet_18,  epoch 133, local model 75, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4348/4672 (93.0651%)
___Test Local_ResNet_18 poisoned: False, epoch: 133: Average loss: 1.9132, Accuracy: 5591/10000 (55.9100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 26.22ms
___Train Local_ResNet_18,  epoch 133, local model 19, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4901/5361 (91.4195%)
___Train Local_ResNet_18,  epoch 133, local model 19, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4827/5361 (90.0392%)
___Test Local_ResNet_18 poisoned: False, epoch: 133: Average loss: 2.1218, Accuracy: 5341/10000 (53.4100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 25.67ms
___Train Local_ResNet_18,  epoch 133, local model 78, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4128/4368 (94.5055%)
___Train Local_ResNet_18,  epoch 133, local model 78, internal_epoch   2,  Average loss: 0.0033, Accuracy: 4101/4368 (93.8874%)
___Test Local_ResNet_18 poisoned: False, epoch: 133: Average loss: 2.0038, Accuracy: 5552/10000 (55.5200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 25.46ms
___Train Local_ResNet_18,  epoch 133, local model 66, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4483/4843 (92.5666%)
___Train Local_ResNet_18,  epoch 133, local model 66, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4439/4843 (91.6581%)
___Test Local_ResNet_18 poisoned: False, epoch: 133: Average loss: 2.0352, Accuracy: 5521/10000 (55.2100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 26.34ms
___Train Local_ResNet_18,  epoch 133, local model 16, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4968/5353 (92.8078%)
___Train Local_ResNet_18,  epoch 133, local model 16, internal_epoch   2,  Average loss: 0.0059, Accuracy: 4745/5353 (88.6419%)
___Test Local_ResNet_18 poisoned: False, epoch: 133: Average loss: 2.0470, Accuracy: 5361/10000 (53.6100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 26.96ms
___Train Local_ResNet_18,  epoch 133, local model 20, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4442/4714 (94.2300%)
___Train Local_ResNet_18,  epoch 133, local model 20, internal_epoch   2,  Average loss: 0.0033, Accuracy: 4416/4714 (93.6784%)
___Test Local_ResNet_18 poisoned: False, epoch: 133: Average loss: 1.7985, Accuracy: 5786/10000 (57.8600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 25.54ms
time spent on training: 287.69907689094543
___Test Target_ResNet_18 poisoned: False, epoch: 133: Average loss: 1.2600, Accuracy: 6777/10000 (67.7700%)
___Test Target_ResNet_18 poisoned: True, epoch: 133: Average loss: 0.0775, Accuracy: 9691/9900 (97.8889%)
Done in 314.60698533058167 sec.
Server Epoch:134 choose agents : [13, 36, 58, 71, 23, 49, 30, 9, 15, 85, 92, 17, 70, 56, 51, 53, 43, 46, 64, 2].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 134, local model 13, internal_epoch   1,  Average loss: 0.0016, Accuracy: 5189/5308 (97.7581%), train_poison_data_count: 415
Global model norm: 43.77526195889995.
Norm before scaling: 43.73795593146186. Distance: 1.2008184145535223
Total norm for 4 adversaries is: 43.73795593146186. distance: 1.2008184145535223
___Test Local_ResNet_18 poisoned: True, epoch: 134: Average loss: 0.0401, Accuracy: 9788/9900 (98.8687%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 134, local model 36, internal_epoch   1,  Average loss: 0.0017, Accuracy: 5639/5777 (97.6112%), train_poison_data_count: 455
Global model norm: 43.77526195889995.
Norm before scaling: 43.735476104841794. Distance: 1.2901764651407197
Total norm for 4 adversaries is: 43.735476104841794. distance: 1.2901764651407197
___Test Local_ResNet_18 poisoned: True, epoch: 134: Average loss: 0.0817, Accuracy: 9692/9900 (97.8990%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 134, local model 58, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4971/5123 (97.0330%), train_poison_data_count: 403
Global model norm: 43.77526195889995.
Norm before scaling: 43.74159377945878. Distance: 1.2723056935649575
Total norm for 4 adversaries is: 43.74159377945878. distance: 1.2723056935649575
___Test Local_ResNet_18 poisoned: True, epoch: 134: Average loss: 0.1497, Accuracy: 9492/9900 (95.8788%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 134, local model 71, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5350/5503 (97.2197%), train_poison_data_count: 430
Global model norm: 43.77526195889995.
Norm before scaling: 43.74036724311423. Distance: 1.3376604090963378
Total norm for 4 adversaries is: 43.74036724311423. distance: 1.3376604090963378
___Test Local_ResNet_18 poisoned: True, epoch: 134: Average loss: 0.0349, Accuracy: 9817/9900 (99.1616%)
___Train Local_ResNet_18,  epoch 134, local model 23, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4283/4549 (94.1526%)
___Train Local_ResNet_18,  epoch 134, local model 23, internal_epoch   2,  Average loss: 0.0064, Accuracy: 4013/4549 (88.2172%)
___Test Local_ResNet_18 poisoned: False, epoch: 134: Average loss: 2.2375, Accuracy: 5117/10000 (51.1700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 26.32ms
___Train Local_ResNet_18,  epoch 134, local model 49, internal_epoch   1,  Average loss: 0.0052, Accuracy: 5090/5652 (90.0566%)
___Train Local_ResNet_18,  epoch 134, local model 49, internal_epoch   2,  Average loss: 0.0061, Accuracy: 4955/5652 (87.6681%)
___Test Local_ResNet_18 poisoned: False, epoch: 134: Average loss: 2.2233, Accuracy: 5198/10000 (51.9800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 25.37ms
___Train Local_ResNet_18,  epoch 134, local model 30, internal_epoch   1,  Average loss: 0.0032, Accuracy: 3549/3774 (94.0382%)
___Train Local_ResNet_18,  epoch 134, local model 30, internal_epoch   2,  Average loss: 0.0028, Accuracy: 3573/3774 (94.6741%)
___Test Local_ResNet_18 poisoned: False, epoch: 134: Average loss: 1.7914, Accuracy: 5913/10000 (59.1300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 25.71ms
___Train Local_ResNet_18,  epoch 134, local model 9, internal_epoch   1,  Average loss: 0.0046, Accuracy: 5229/5727 (91.3043%)
___Train Local_ResNet_18,  epoch 134, local model 9, internal_epoch   2,  Average loss: 0.0054, Accuracy: 5117/5727 (89.3487%)
___Test Local_ResNet_18 poisoned: False, epoch: 134: Average loss: 2.2704, Accuracy: 5132/10000 (51.3200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 25.83ms
___Train Local_ResNet_18,  epoch 134, local model 15, internal_epoch   1,  Average loss: 0.0042, Accuracy: 5589/6068 (92.1061%)
___Train Local_ResNet_18,  epoch 134, local model 15, internal_epoch   2,  Average loss: 0.0047, Accuracy: 5482/6068 (90.3428%)
___Test Local_ResNet_18 poisoned: False, epoch: 134: Average loss: 2.1369, Accuracy: 5323/10000 (53.2300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 26.55ms
___Train Local_ResNet_18,  epoch 134, local model 85, internal_epoch   1,  Average loss: 0.0050, Accuracy: 6287/6947 (90.4995%)
___Train Local_ResNet_18,  epoch 134, local model 85, internal_epoch   2,  Average loss: 0.0060, Accuracy: 6153/6947 (88.5706%)
___Test Local_ResNet_18 poisoned: False, epoch: 134: Average loss: 2.1946, Accuracy: 5242/10000 (52.4200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 25.94ms
___Train Local_ResNet_18,  epoch 134, local model 92, internal_epoch   1,  Average loss: 0.0036, Accuracy: 6364/6812 (93.4234%)
___Train Local_ResNet_18,  epoch 134, local model 92, internal_epoch   2,  Average loss: 0.0046, Accuracy: 6191/6812 (90.8837%)
___Test Local_ResNet_18 poisoned: False, epoch: 134: Average loss: 2.1702, Accuracy: 5349/10000 (53.4900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 26.18ms
___Train Local_ResNet_18,  epoch 134, local model 17, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4458/4903 (90.9239%)
___Train Local_ResNet_18,  epoch 134, local model 17, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4427/4903 (90.2917%)
___Test Local_ResNet_18 poisoned: False, epoch: 134: Average loss: 2.4033, Accuracy: 4962/10000 (49.6200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.77ms
INFO:tornado.access:200 POST /update (::1) 26.58ms
___Train Local_ResNet_18,  epoch 134, local model 70, internal_epoch   1,  Average loss: 0.0035, Accuracy: 5475/5871 (93.2550%)
___Train Local_ResNet_18,  epoch 134, local model 70, internal_epoch   2,  Average loss: 0.0044, Accuracy: 5375/5871 (91.5517%)
___Test Local_ResNet_18 poisoned: False, epoch: 134: Average loss: 2.0332, Accuracy: 5508/10000 (55.0800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.73ms
INFO:tornado.access:200 POST /win_exists (::1) 0.64ms
INFO:tornado.access:200 POST /update (::1) 25.19ms
___Train Local_ResNet_18,  epoch 134, local model 56, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4927/5427 (90.7868%)
___Train Local_ResNet_18,  epoch 134, local model 56, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4900/5427 (90.2893%)
___Test Local_ResNet_18 poisoned: False, epoch: 134: Average loss: 2.0261, Accuracy: 5528/10000 (55.2800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 25.27ms
___Train Local_ResNet_18,  epoch 134, local model 51, internal_epoch   1,  Average loss: 0.0035, Accuracy: 3836/4108 (93.3788%)
___Train Local_ResNet_18,  epoch 134, local model 51, internal_epoch   2,  Average loss: 0.0033, Accuracy: 3854/4108 (93.8169%)
___Test Local_ResNet_18 poisoned: False, epoch: 134: Average loss: 1.9380, Accuracy: 5624/10000 (56.2400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.82ms
INFO:tornado.access:200 POST /update (::1) 26.99ms
___Train Local_ResNet_18,  epoch 134, local model 53, internal_epoch   1,  Average loss: 0.0059, Accuracy: 5916/6664 (88.7755%)
___Train Local_ResNet_18,  epoch 134, local model 53, internal_epoch   2,  Average loss: 0.0081, Accuracy: 5607/6664 (84.1387%)
___Test Local_ResNet_18 poisoned: False, epoch: 134: Average loss: 2.2302, Accuracy: 5114/10000 (51.1400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 25.99ms
___Train Local_ResNet_18,  epoch 134, local model 43, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4617/4979 (92.7295%)
___Train Local_ResNet_18,  epoch 134, local model 43, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4600/4979 (92.3880%)
___Test Local_ResNet_18 poisoned: False, epoch: 134: Average loss: 2.0486, Accuracy: 5452/10000 (54.5200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 26.42ms
___Train Local_ResNet_18,  epoch 134, local model 46, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4873/5399 (90.2575%)
___Train Local_ResNet_18,  epoch 134, local model 46, internal_epoch   2,  Average loss: 0.0061, Accuracy: 4741/5399 (87.8126%)
___Test Local_ResNet_18 poisoned: False, epoch: 134: Average loss: 2.2197, Accuracy: 5225/10000 (52.2500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 26.54ms
___Train Local_ResNet_18,  epoch 134, local model 64, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4449/4894 (90.9072%)
___Train Local_ResNet_18,  epoch 134, local model 64, internal_epoch   2,  Average loss: 0.0059, Accuracy: 4313/4894 (88.1283%)
___Test Local_ResNet_18 poisoned: False, epoch: 134: Average loss: 2.2115, Accuracy: 5229/10000 (52.2900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 27.00ms
___Train Local_ResNet_18,  epoch 134, local model 2, internal_epoch   1,  Average loss: 0.0035, Accuracy: 3714/3968 (93.5988%)
___Train Local_ResNet_18,  epoch 134, local model 2, internal_epoch   2,  Average loss: 0.0036, Accuracy: 3695/3968 (93.1200%)
___Test Local_ResNet_18 poisoned: False, epoch: 134: Average loss: 1.8693, Accuracy: 5723/10000 (57.2300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 26.05ms
time spent on training: 298.69117069244385
___Test Target_ResNet_18 poisoned: False, epoch: 134: Average loss: 1.2567, Accuracy: 6776/10000 (67.7600%)
___Test Target_ResNet_18 poisoned: True, epoch: 134: Average loss: 0.0867, Accuracy: 9667/9900 (97.6465%)
Done in 325.9381420612335 sec.
Server Epoch:135 choose agents : [13, 36, 58, 71, 92, 49, 57, 40, 46, 85, 37, 51, 30, 8, 73, 21, 28, 82, 80, 48].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 135, local model 13, internal_epoch   1,  Average loss: 0.0017, Accuracy: 5167/5308 (97.3436%), train_poison_data_count: 415
Global model norm: 43.797867229217054.
Norm before scaling: 43.76165999756165. Distance: 1.2619000472917252
Total norm for 4 adversaries is: 43.76165999756165. distance: 1.2619000472917252
___Test Local_ResNet_18 poisoned: True, epoch: 135: Average loss: 0.0419, Accuracy: 9788/9900 (98.8687%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 135, local model 36, internal_epoch   1,  Average loss: 0.0017, Accuracy: 5629/5777 (97.4381%), train_poison_data_count: 455
Global model norm: 43.797867229217054.
Norm before scaling: 43.759102010771. Distance: 1.330226805859153
Total norm for 4 adversaries is: 43.759102010771. distance: 1.330226805859153
___Test Local_ResNet_18 poisoned: True, epoch: 135: Average loss: 0.0406, Accuracy: 9791/9900 (98.8990%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 135, local model 58, internal_epoch   1,  Average loss: 0.0026, Accuracy: 4947/5123 (96.5645%), train_poison_data_count: 403
Global model norm: 43.797867229217054.
Norm before scaling: 43.766114498779906. Distance: 1.3278913404580959
Total norm for 4 adversaries is: 43.766114498779906. distance: 1.3278913404580959
___Test Local_ResNet_18 poisoned: True, epoch: 135: Average loss: 0.1783, Accuracy: 9462/9900 (95.5758%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 135, local model 71, internal_epoch   1,  Average loss: 0.0019, Accuracy: 5342/5503 (97.0743%), train_poison_data_count: 430
Global model norm: 43.797867229217054.
Norm before scaling: 43.7654199946109. Distance: 1.3700728569009963
Total norm for 4 adversaries is: 43.7654199946109. distance: 1.3700728569009963
___Test Local_ResNet_18 poisoned: True, epoch: 135: Average loss: 0.0132, Accuracy: 9865/9900 (99.6465%)
___Train Local_ResNet_18,  epoch 135, local model 92, internal_epoch   1,  Average loss: 0.0036, Accuracy: 6340/6812 (93.0711%)
___Train Local_ResNet_18,  epoch 135, local model 92, internal_epoch   2,  Average loss: 0.0046, Accuracy: 6211/6812 (91.1773%)
___Test Local_ResNet_18 poisoned: False, epoch: 135: Average loss: 2.2195, Accuracy: 5153/10000 (51.5300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 26.26ms
___Train Local_ResNet_18,  epoch 135, local model 49, internal_epoch   1,  Average loss: 0.0046, Accuracy: 5160/5652 (91.2951%)
___Train Local_ResNet_18,  epoch 135, local model 49, internal_epoch   2,  Average loss: 0.0052, Accuracy: 5068/5652 (89.6674%)
___Test Local_ResNet_18 poisoned: False, epoch: 135: Average loss: 2.1916, Accuracy: 5279/10000 (52.7900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 26.68ms
___Train Local_ResNet_18,  epoch 135, local model 57, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4610/4956 (93.0186%)
___Train Local_ResNet_18,  epoch 135, local model 57, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4559/4956 (91.9895%)
___Test Local_ResNet_18 poisoned: False, epoch: 135: Average loss: 1.9858, Accuracy: 5626/10000 (56.2600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 26.62ms
___Train Local_ResNet_18,  epoch 135, local model 40, internal_epoch   1,  Average loss: 0.0038, Accuracy: 5521/5939 (92.9618%)
___Train Local_ResNet_18,  epoch 135, local model 40, internal_epoch   2,  Average loss: 0.0039, Accuracy: 5462/5939 (91.9683%)
___Test Local_ResNet_18 poisoned: False, epoch: 135: Average loss: 2.0255, Accuracy: 5395/10000 (53.9500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 25.84ms
___Train Local_ResNet_18,  epoch 135, local model 46, internal_epoch   1,  Average loss: 0.0055, Accuracy: 4830/5399 (89.4610%)
___Train Local_ResNet_18,  epoch 135, local model 46, internal_epoch   2,  Average loss: 0.0064, Accuracy: 4727/5399 (87.5533%)
___Test Local_ResNet_18 poisoned: False, epoch: 135: Average loss: 2.1906, Accuracy: 5228/10000 (52.2800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.03ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 27.10ms
___Train Local_ResNet_18,  epoch 135, local model 85, internal_epoch   1,  Average loss: 0.0050, Accuracy: 6253/6947 (90.0101%)
___Train Local_ResNet_18,  epoch 135, local model 85, internal_epoch   2,  Average loss: 0.0065, Accuracy: 6044/6947 (87.0016%)
___Test Local_ResNet_18 poisoned: False, epoch: 135: Average loss: 2.4235, Accuracy: 4783/10000 (47.8300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 25.76ms
___Train Local_ResNet_18,  epoch 135, local model 37, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4395/4741 (92.7020%)
___Train Local_ResNet_18,  epoch 135, local model 37, internal_epoch   2,  Average loss: 0.0058, Accuracy: 4207/4741 (88.7366%)
___Test Local_ResNet_18 poisoned: False, epoch: 135: Average loss: 2.4156, Accuracy: 4972/10000 (49.7200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 26.69ms
___Train Local_ResNet_18,  epoch 135, local model 51, internal_epoch   1,  Average loss: 0.0034, Accuracy: 3849/4108 (93.6952%)
___Train Local_ResNet_18,  epoch 135, local model 51, internal_epoch   2,  Average loss: 0.0046, Accuracy: 3793/4108 (92.3320%)
___Test Local_ResNet_18 poisoned: False, epoch: 135: Average loss: 2.1789, Accuracy: 5328/10000 (53.2800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 26.61ms
___Train Local_ResNet_18,  epoch 135, local model 30, internal_epoch   1,  Average loss: 0.0034, Accuracy: 3532/3774 (93.5877%)
___Train Local_ResNet_18,  epoch 135, local model 30, internal_epoch   2,  Average loss: 0.0028, Accuracy: 3583/3774 (94.9391%)
___Test Local_ResNet_18 poisoned: False, epoch: 135: Average loss: 1.8100, Accuracy: 5870/10000 (58.7000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 26.02ms
___Train Local_ResNet_18,  epoch 135, local model 8, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4538/4889 (92.8206%)
___Train Local_ResNet_18,  epoch 135, local model 8, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4482/4889 (91.6752%)
___Test Local_ResNet_18 poisoned: False, epoch: 135: Average loss: 2.0844, Accuracy: 5490/10000 (54.9000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 24.93ms
___Train Local_ResNet_18,  epoch 135, local model 73, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4361/4605 (94.7014%)
___Train Local_ResNet_18,  epoch 135, local model 73, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4314/4605 (93.6808%)
___Test Local_ResNet_18 poisoned: False, epoch: 135: Average loss: 1.9554, Accuracy: 5707/10000 (57.0700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 26.30ms
___Train Local_ResNet_18,  epoch 135, local model 21, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4685/5038 (92.9933%)
___Train Local_ResNet_18,  epoch 135, local model 21, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4634/5038 (91.9809%)
___Test Local_ResNet_18 poisoned: False, epoch: 135: Average loss: 1.9318, Accuracy: 5623/10000 (56.2300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 26.88ms
___Train Local_ResNet_18,  epoch 135, local model 28, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4645/5122 (90.6872%)
___Train Local_ResNet_18,  epoch 135, local model 28, internal_epoch   2,  Average loss: 0.0089, Accuracy: 4279/5122 (83.5416%)
___Test Local_ResNet_18 poisoned: False, epoch: 135: Average loss: 2.5673, Accuracy: 4554/10000 (45.5400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 26.59ms
___Train Local_ResNet_18,  epoch 135, local model 82, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4966/5298 (93.7335%)
___Train Local_ResNet_18,  epoch 135, local model 82, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4934/5298 (93.1295%)
___Test Local_ResNet_18 poisoned: False, epoch: 135: Average loss: 2.0056, Accuracy: 5566/10000 (55.6600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 25.93ms
___Train Local_ResNet_18,  epoch 135, local model 80, internal_epoch   1,  Average loss: 0.0039, Accuracy: 5068/5461 (92.8035%)
___Train Local_ResNet_18,  epoch 135, local model 80, internal_epoch   2,  Average loss: 0.0043, Accuracy: 5008/5461 (91.7048%)
___Test Local_ResNet_18 poisoned: False, epoch: 135: Average loss: 2.1257, Accuracy: 5414/10000 (54.1400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 26.64ms
___Train Local_ResNet_18,  epoch 135, local model 48, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4513/4830 (93.4369%)
___Train Local_ResNet_18,  epoch 135, local model 48, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4482/4830 (92.7950%)
___Test Local_ResNet_18 poisoned: False, epoch: 135: Average loss: 2.2381, Accuracy: 5240/10000 (52.4000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 25.12ms
time spent on training: 300.34264874458313
___Test Target_ResNet_18 poisoned: False, epoch: 135: Average loss: 1.2649, Accuracy: 6774/10000 (67.7400%)
___Test Target_ResNet_18 poisoned: True, epoch: 135: Average loss: 0.0804, Accuracy: 9688/9900 (97.8586%)
Done in 327.0498237609863 sec.
Server Epoch:136 choose agents : [13, 36, 58, 71, 32, 67, 70, 18, 87, 0, 98, 29, 99, 28, 40, 75, 92, 80, 64, 39].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 136, local model 13, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5153/5308 (97.0799%), train_poison_data_count: 415
Global model norm: 43.81811661573327.
Norm before scaling: 43.78481455198323. Distance: 1.3158284172769958
Total norm for 4 adversaries is: 43.78481455198323. distance: 1.3158284172769958
___Test Local_ResNet_18 poisoned: True, epoch: 136: Average loss: 0.0417, Accuracy: 9790/9900 (98.8889%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 136, local model 36, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5628/5777 (97.4208%), train_poison_data_count: 455
Global model norm: 43.81811661573327.
Norm before scaling: 43.77977920664759. Distance: 1.3357825384558821
Total norm for 4 adversaries is: 43.77977920664759. distance: 1.3357825384558821
___Test Local_ResNet_18 poisoned: True, epoch: 136: Average loss: 0.0422, Accuracy: 9789/9900 (98.8788%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 136, local model 58, internal_epoch   1,  Average loss: 0.0026, Accuracy: 4943/5123 (96.4864%), train_poison_data_count: 403
Global model norm: 43.81811661573327.
Norm before scaling: 43.784859159320845. Distance: 1.3056170413010726
Total norm for 4 adversaries is: 43.784859159320845. distance: 1.3056170413010726
___Test Local_ResNet_18 poisoned: True, epoch: 136: Average loss: 0.1860, Accuracy: 9466/9900 (95.6162%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 136, local model 71, internal_epoch   1,  Average loss: 0.0019, Accuracy: 5350/5503 (97.2197%), train_poison_data_count: 430
Global model norm: 43.81811661573327.
Norm before scaling: 43.78395863989102. Distance: 1.3267968661590128
Total norm for 4 adversaries is: 43.78395863989102. distance: 1.3267968661590128
___Test Local_ResNet_18 poisoned: True, epoch: 136: Average loss: 0.0469, Accuracy: 9776/9900 (98.7475%)
___Train Local_ResNet_18,  epoch 136, local model 32, internal_epoch   1,  Average loss: 0.0058, Accuracy: 5352/6080 (88.0263%)
___Train Local_ResNet_18,  epoch 136, local model 32, internal_epoch   2,  Average loss: 0.0062, Accuracy: 5334/6080 (87.7303%)
___Test Local_ResNet_18 poisoned: False, epoch: 136: Average loss: 2.1640, Accuracy: 5186/10000 (51.8600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 25.30ms
___Train Local_ResNet_18,  epoch 136, local model 67, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4988/5559 (89.7284%)
___Train Local_ResNet_18,  epoch 136, local model 67, internal_epoch   2,  Average loss: 0.0066, Accuracy: 4830/5559 (86.8861%)
___Test Local_ResNet_18 poisoned: False, epoch: 136: Average loss: 2.2533, Accuracy: 5024/10000 (50.2400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 26.69ms
___Train Local_ResNet_18,  epoch 136, local model 70, internal_epoch   1,  Average loss: 0.0036, Accuracy: 5481/5871 (93.3572%)
___Train Local_ResNet_18,  epoch 136, local model 70, internal_epoch   2,  Average loss: 0.0044, Accuracy: 5360/5871 (91.2962%)
___Test Local_ResNet_18 poisoned: False, epoch: 136: Average loss: 2.1631, Accuracy: 5271/10000 (52.7100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 25.35ms
___Train Local_ResNet_18,  epoch 136, local model 18, internal_epoch   1,  Average loss: 0.0034, Accuracy: 3979/4249 (93.6456%)
___Train Local_ResNet_18,  epoch 136, local model 18, internal_epoch   2,  Average loss: 0.0038, Accuracy: 3944/4249 (92.8218%)
___Test Local_ResNet_18 poisoned: False, epoch: 136: Average loss: 1.9873, Accuracy: 5624/10000 (56.2400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 25.76ms
___Train Local_ResNet_18,  epoch 136, local model 87, internal_epoch   1,  Average loss: 0.0046, Accuracy: 3655/3995 (91.4894%)
___Train Local_ResNet_18,  epoch 136, local model 87, internal_epoch   2,  Average loss: 0.0051, Accuracy: 3586/3995 (89.7622%)
___Test Local_ResNet_18 poisoned: False, epoch: 136: Average loss: 2.1779, Accuracy: 5264/10000 (52.6400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 26.14ms
___Train Local_ResNet_18,  epoch 136, local model 0, internal_epoch   1,  Average loss: 0.0043, Accuracy: 5011/5454 (91.8775%)
___Train Local_ResNet_18,  epoch 136, local model 0, internal_epoch   2,  Average loss: 0.0061, Accuracy: 4802/5454 (88.0455%)
___Test Local_ResNet_18 poisoned: False, epoch: 136: Average loss: 2.1743, Accuracy: 5261/10000 (52.6100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 25.80ms
___Train Local_ResNet_18,  epoch 136, local model 98, internal_epoch   1,  Average loss: 0.0047, Accuracy: 3893/4161 (93.5592%)
___Train Local_ResNet_18,  epoch 136, local model 98, internal_epoch   2,  Average loss: 0.0051, Accuracy: 3855/4161 (92.6460%)
___Test Local_ResNet_18 poisoned: False, epoch: 136: Average loss: 2.0016, Accuracy: 5529/10000 (55.2900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 25.33ms
___Train Local_ResNet_18,  epoch 136, local model 29, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4504/4732 (95.1817%)
___Train Local_ResNet_18,  epoch 136, local model 29, internal_epoch   2,  Average loss: 0.0029, Accuracy: 4448/4732 (93.9983%)
___Test Local_ResNet_18 poisoned: False, epoch: 136: Average loss: 1.8190, Accuracy: 5923/10000 (59.2300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 21.52ms
___Train Local_ResNet_18,  epoch 136, local model 99, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4408/4851 (90.8679%)
___Train Local_ResNet_18,  epoch 136, local model 99, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4421/4851 (91.1358%)
___Test Local_ResNet_18 poisoned: False, epoch: 136: Average loss: 2.1845, Accuracy: 5296/10000 (52.9600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 26.02ms
___Train Local_ResNet_18,  epoch 136, local model 28, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4657/5122 (90.9215%)
___Train Local_ResNet_18,  epoch 136, local model 28, internal_epoch   2,  Average loss: 0.0103, Accuracy: 4202/5122 (82.0383%)
___Test Local_ResNet_18 poisoned: False, epoch: 136: Average loss: 2.4751, Accuracy: 4841/10000 (48.4100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.75ms
INFO:tornado.access:200 POST /update (::1) 26.38ms
___Train Local_ResNet_18,  epoch 136, local model 40, internal_epoch   1,  Average loss: 0.0040, Accuracy: 5500/5939 (92.6082%)
___Train Local_ResNet_18,  epoch 136, local model 40, internal_epoch   2,  Average loss: 0.0041, Accuracy: 5449/5939 (91.7495%)
___Test Local_ResNet_18 poisoned: False, epoch: 136: Average loss: 2.0671, Accuracy: 5443/10000 (54.4300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 26.68ms
___Train Local_ResNet_18,  epoch 136, local model 75, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4415/4672 (94.4991%)
___Train Local_ResNet_18,  epoch 136, local model 75, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4356/4672 (93.2363%)
___Test Local_ResNet_18 poisoned: False, epoch: 136: Average loss: 1.9508, Accuracy: 5723/10000 (57.2300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 25.21ms
___Train Local_ResNet_18,  epoch 136, local model 92, internal_epoch   1,  Average loss: 0.0033, Accuracy: 6390/6812 (93.8050%)
___Train Local_ResNet_18,  epoch 136, local model 92, internal_epoch   2,  Average loss: 0.0039, Accuracy: 6284/6812 (92.2490%)
___Test Local_ResNet_18 poisoned: False, epoch: 136: Average loss: 2.2488, Accuracy: 5261/10000 (52.6100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 26.97ms
___Train Local_ResNet_18,  epoch 136, local model 80, internal_epoch   1,  Average loss: 0.0036, Accuracy: 5096/5461 (93.3162%)
___Train Local_ResNet_18,  epoch 136, local model 80, internal_epoch   2,  Average loss: 0.0038, Accuracy: 5037/5461 (92.2359%)
___Test Local_ResNet_18 poisoned: False, epoch: 136: Average loss: 2.2240, Accuracy: 5383/10000 (53.8300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 25.80ms
___Train Local_ResNet_18,  epoch 136, local model 64, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4472/4894 (91.3772%)
___Train Local_ResNet_18,  epoch 136, local model 64, internal_epoch   2,  Average loss: 0.0057, Accuracy: 4338/4894 (88.6391%)
___Test Local_ResNet_18 poisoned: False, epoch: 136: Average loss: 2.0843, Accuracy: 5444/10000 (54.4400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 26.76ms
___Train Local_ResNet_18,  epoch 136, local model 39, internal_epoch   1,  Average loss: 0.0041, Accuracy: 3857/4175 (92.3832%)
___Train Local_ResNet_18,  epoch 136, local model 39, internal_epoch   2,  Average loss: 0.0044, Accuracy: 3820/4175 (91.4970%)
___Test Local_ResNet_18 poisoned: False, epoch: 136: Average loss: 2.0905, Accuracy: 5411/10000 (54.1100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 26.14ms
time spent on training: 300.47649812698364
___Test Target_ResNet_18 poisoned: False, epoch: 136: Average loss: 1.2683, Accuracy: 6753/10000 (67.5300%)
___Test Target_ResNet_18 poisoned: True, epoch: 136: Average loss: 0.0821, Accuracy: 9677/9900 (97.7475%)
Done in 327.06085443496704 sec.
Server Epoch:137 choose agents : [13, 36, 58, 71, 94, 74, 82, 63, 27, 55, 92, 11, 34, 79, 60, 59, 43, 16, 78, 3].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 137, local model 13, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5193/5308 (97.8335%), train_poison_data_count: 415
Global model norm: 43.838646241608274.
Norm before scaling: 43.80044524780827. Distance: 1.1889181202318353
Total norm for 4 adversaries is: 43.80044524780827. distance: 1.1889181202318353
___Test Local_ResNet_18 poisoned: True, epoch: 137: Average loss: 0.0607, Accuracy: 9734/9900 (98.3232%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 137, local model 36, internal_epoch   1,  Average loss: 0.0017, Accuracy: 5647/5777 (97.7497%), train_poison_data_count: 455
Global model norm: 43.838646241608274.
Norm before scaling: 43.799146502814416. Distance: 1.307113083069268
Total norm for 4 adversaries is: 43.799146502814416. distance: 1.307113083069268
___Test Local_ResNet_18 poisoned: True, epoch: 137: Average loss: 0.0685, Accuracy: 9726/9900 (98.2424%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 137, local model 58, internal_epoch   1,  Average loss: 0.0026, Accuracy: 4953/5123 (96.6816%), train_poison_data_count: 403
Global model norm: 43.838646241608274.
Norm before scaling: 43.806017430096716. Distance: 1.3178922150464512
Total norm for 4 adversaries is: 43.806017430096716. distance: 1.3178922150464512
___Test Local_ResNet_18 poisoned: True, epoch: 137: Average loss: 0.0509, Accuracy: 9766/9900 (98.6465%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 137, local model 71, internal_epoch   1,  Average loss: 0.0019, Accuracy: 5355/5503 (97.3106%), train_poison_data_count: 430
Global model norm: 43.838646241608274.
Norm before scaling: 43.80540437147496. Distance: 1.3519708975588451
Total norm for 4 adversaries is: 43.80540437147496. distance: 1.3519708975588451
___Test Local_ResNet_18 poisoned: True, epoch: 137: Average loss: 0.0730, Accuracy: 9731/9900 (98.2929%)
___Train Local_ResNet_18,  epoch 137, local model 94, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4797/5224 (91.8262%)
___Train Local_ResNet_18,  epoch 137, local model 94, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4716/5224 (90.2757%)
___Test Local_ResNet_18 poisoned: False, epoch: 137: Average loss: 2.3073, Accuracy: 5077/10000 (50.7700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 25.69ms
___Train Local_ResNet_18,  epoch 137, local model 74, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4362/4797 (90.9318%)
___Train Local_ResNet_18,  epoch 137, local model 74, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4343/4797 (90.5358%)
___Test Local_ResNet_18 poisoned: False, epoch: 137: Average loss: 1.9748, Accuracy: 5601/10000 (56.0100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 25.34ms
___Train Local_ResNet_18,  epoch 137, local model 82, internal_epoch   1,  Average loss: 0.0029, Accuracy: 5020/5298 (94.7527%)
___Train Local_ResNet_18,  epoch 137, local model 82, internal_epoch   2,  Average loss: 0.0032, Accuracy: 4962/5298 (93.6580%)
___Test Local_ResNet_18 poisoned: False, epoch: 137: Average loss: 1.9152, Accuracy: 5717/10000 (57.1700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.79ms
INFO:tornado.access:200 POST /update (::1) 26.04ms
___Train Local_ResNet_18,  epoch 137, local model 63, internal_epoch   1,  Average loss: 0.0035, Accuracy: 3669/3910 (93.8363%)
___Train Local_ResNet_18,  epoch 137, local model 63, internal_epoch   2,  Average loss: 0.0065, Accuracy: 3424/3910 (87.5703%)
___Test Local_ResNet_18 poisoned: False, epoch: 137: Average loss: 2.1399, Accuracy: 5441/10000 (54.4100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 25.82ms
___Train Local_ResNet_18,  epoch 137, local model 27, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4228/4587 (92.1735%)
___Train Local_ResNet_18,  epoch 137, local model 27, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4218/4587 (91.9555%)
___Test Local_ResNet_18 poisoned: False, epoch: 137: Average loss: 2.0394, Accuracy: 5385/10000 (53.8500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 26.49ms
___Train Local_ResNet_18,  epoch 137, local model 55, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4425/4731 (93.5320%)
___Train Local_ResNet_18,  epoch 137, local model 55, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4418/4731 (93.3841%)
___Test Local_ResNet_18 poisoned: False, epoch: 137: Average loss: 1.9825, Accuracy: 5556/10000 (55.5600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 25.07ms
___Train Local_ResNet_18,  epoch 137, local model 92, internal_epoch   1,  Average loss: 0.0031, Accuracy: 6425/6812 (94.3188%)
___Train Local_ResNet_18,  epoch 137, local model 92, internal_epoch   2,  Average loss: 0.0044, Accuracy: 6230/6812 (91.4563%)
___Test Local_ResNet_18 poisoned: False, epoch: 137: Average loss: 2.1080, Accuracy: 5330/10000 (53.3000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 26.30ms
___Train Local_ResNet_18,  epoch 137, local model 11, internal_epoch   1,  Average loss: 0.0062, Accuracy: 5007/5702 (87.8113%)
___Train Local_ResNet_18,  epoch 137, local model 11, internal_epoch   2,  Average loss: 0.0084, Accuracy: 4746/5702 (83.2340%)
___Test Local_ResNet_18 poisoned: False, epoch: 137: Average loss: 2.3509, Accuracy: 5046/10000 (50.4600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /update (::1) 26.55ms
___Train Local_ResNet_18,  epoch 137, local model 34, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4569/4911 (93.0360%)
___Train Local_ResNet_18,  epoch 137, local model 34, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4538/4911 (92.4048%)
___Test Local_ResNet_18 poisoned: False, epoch: 137: Average loss: 2.1053, Accuracy: 5375/10000 (53.7500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /update (::1) 25.53ms
___Train Local_ResNet_18,  epoch 137, local model 79, internal_epoch   1,  Average loss: 0.0038, Accuracy: 3816/4111 (92.8241%)
___Train Local_ResNet_18,  epoch 137, local model 79, internal_epoch   2,  Average loss: 0.0044, Accuracy: 3761/4111 (91.4863%)
___Test Local_ResNet_18 poisoned: False, epoch: 137: Average loss: 2.1551, Accuracy: 5373/10000 (53.7300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 25.99ms
___Train Local_ResNet_18,  epoch 137, local model 60, internal_epoch   1,  Average loss: 0.0037, Accuracy: 3855/4145 (93.0036%)
___Train Local_ResNet_18,  epoch 137, local model 60, internal_epoch   2,  Average loss: 0.0034, Accuracy: 3881/4145 (93.6309%)
___Test Local_ResNet_18 poisoned: False, epoch: 137: Average loss: 2.0216, Accuracy: 5584/10000 (55.8400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 26.18ms
___Train Local_ResNet_18,  epoch 137, local model 59, internal_epoch   1,  Average loss: 0.0024, Accuracy: 4205/4397 (95.6334%)
___Train Local_ResNet_18,  epoch 137, local model 59, internal_epoch   2,  Average loss: 0.0023, Accuracy: 4196/4397 (95.4287%)
___Test Local_ResNet_18 poisoned: False, epoch: 137: Average loss: 1.8319, Accuracy: 5819/10000 (58.1900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 26.89ms
___Train Local_ResNet_18,  epoch 137, local model 43, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4590/4979 (92.1872%)
___Train Local_ResNet_18,  epoch 137, local model 43, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4564/4979 (91.6650%)
___Test Local_ResNet_18 poisoned: False, epoch: 137: Average loss: 2.1454, Accuracy: 5398/10000 (53.9800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 26.68ms
___Train Local_ResNet_18,  epoch 137, local model 16, internal_epoch   1,  Average loss: 0.0035, Accuracy: 5018/5353 (93.7418%)
___Train Local_ResNet_18,  epoch 137, local model 16, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4824/5353 (90.1177%)
___Test Local_ResNet_18 poisoned: False, epoch: 137: Average loss: 2.1941, Accuracy: 5335/10000 (53.3500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 26.12ms
___Train Local_ResNet_18,  epoch 137, local model 78, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4136/4368 (94.6886%)
___Train Local_ResNet_18,  epoch 137, local model 78, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4083/4368 (93.4753%)
___Test Local_ResNet_18 poisoned: False, epoch: 137: Average loss: 1.9786, Accuracy: 5682/10000 (56.8200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 26.03ms
___Train Local_ResNet_18,  epoch 137, local model 3, internal_epoch   1,  Average loss: 0.0031, Accuracy: 5053/5346 (94.5193%)
___Train Local_ResNet_18,  epoch 137, local model 3, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4972/5346 (93.0041%)
___Test Local_ResNet_18 poisoned: False, epoch: 137: Average loss: 2.0751, Accuracy: 5404/10000 (54.0400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.75ms
INFO:tornado.access:200 POST /win_exists (::1) 0.63ms
INFO:tornado.access:200 POST /update (::1) 21.33ms
time spent on training: 282.8192949295044
___Test Target_ResNet_18 poisoned: False, epoch: 137: Average loss: 1.2665, Accuracy: 6756/10000 (67.5600%)
___Test Target_ResNet_18 poisoned: True, epoch: 137: Average loss: 0.0787, Accuracy: 9689/9900 (97.8687%)
Done in 309.6873035430908 sec.
Server Epoch:138 choose agents : [13, 36, 58, 71, 45, 90, 54, 95, 30, 48, 61, 73, 15, 85, 88, 94, 78, 18, 0, 40].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 138, local model 13, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5197/5308 (97.9088%), train_poison_data_count: 415
Global model norm: 43.85733485190932.
Norm before scaling: 43.819418977117756. Distance: 1.1878607854385044
Total norm for 4 adversaries is: 43.819418977117756. distance: 1.1878607854385044
___Test Local_ResNet_18 poisoned: True, epoch: 138: Average loss: 0.1187, Accuracy: 9575/9900 (96.7172%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 138, local model 36, internal_epoch   1,  Average loss: 0.0017, Accuracy: 5643/5777 (97.6805%), train_poison_data_count: 455
Global model norm: 43.85733485190932.
Norm before scaling: 43.81717359835567. Distance: 1.3068411862757254
Total norm for 4 adversaries is: 43.81717359835567. distance: 1.3068411862757254
___Test Local_ResNet_18 poisoned: True, epoch: 138: Average loss: 0.0814, Accuracy: 9668/9900 (97.6566%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 138, local model 58, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4961/5123 (96.8378%), train_poison_data_count: 403
Global model norm: 43.85733485190932.
Norm before scaling: 43.825017993703526. Distance: 1.3193282572581322
Total norm for 4 adversaries is: 43.825017993703526. distance: 1.3193282572581322
___Test Local_ResNet_18 poisoned: True, epoch: 138: Average loss: 0.1542, Accuracy: 9511/9900 (96.0707%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 138, local model 71, internal_epoch   1,  Average loss: 0.0019, Accuracy: 5350/5503 (97.2197%), train_poison_data_count: 430
Global model norm: 43.85733485190932.
Norm before scaling: 43.82372136968174. Distance: 1.3574374630259423
Total norm for 4 adversaries is: 43.82372136968174. distance: 1.3574374630259423
___Test Local_ResNet_18 poisoned: True, epoch: 138: Average loss: 0.0624, Accuracy: 9741/9900 (98.3939%)
___Train Local_ResNet_18,  epoch 138, local model 45, internal_epoch   1,  Average loss: 0.0042, Accuracy: 5019/5489 (91.4374%)
___Train Local_ResNet_18,  epoch 138, local model 45, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4979/5489 (90.7087%)
___Test Local_ResNet_18 poisoned: False, epoch: 138: Average loss: 2.0960, Accuracy: 5360/10000 (53.6000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 26.98ms
___Train Local_ResNet_18,  epoch 138, local model 90, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4478/4748 (94.3134%)
___Train Local_ResNet_18,  epoch 138, local model 90, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4452/4748 (93.7658%)
___Test Local_ResNet_18 poisoned: False, epoch: 138: Average loss: 2.0914, Accuracy: 5346/10000 (53.4600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 26.26ms
___Train Local_ResNet_18,  epoch 138, local model 54, internal_epoch   1,  Average loss: 0.0050, Accuracy: 5109/5645 (90.5049%)
___Train Local_ResNet_18,  epoch 138, local model 54, internal_epoch   2,  Average loss: 0.0064, Accuracy: 4923/5645 (87.2099%)
___Test Local_ResNet_18 poisoned: False, epoch: 138: Average loss: 2.2013, Accuracy: 5209/10000 (52.0900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 26.05ms
___Train Local_ResNet_18,  epoch 138, local model 95, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4581/5018 (91.2914%)
___Train Local_ResNet_18,  epoch 138, local model 95, internal_epoch   2,  Average loss: 0.0056, Accuracy: 4456/5018 (88.8003%)
___Test Local_ResNet_18 poisoned: False, epoch: 138: Average loss: 2.2197, Accuracy: 5227/10000 (52.2700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.81ms
INFO:tornado.access:200 POST /update (::1) 27.54ms
___Train Local_ResNet_18,  epoch 138, local model 30, internal_epoch   1,  Average loss: 0.0032, Accuracy: 3540/3774 (93.7997%)
___Train Local_ResNet_18,  epoch 138, local model 30, internal_epoch   2,  Average loss: 0.0033, Accuracy: 3523/3774 (93.3492%)
___Test Local_ResNet_18 poisoned: False, epoch: 138: Average loss: 2.0694, Accuracy: 5502/10000 (55.0200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 26.18ms
___Train Local_ResNet_18,  epoch 138, local model 48, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4543/4830 (94.0580%)
___Train Local_ResNet_18,  epoch 138, local model 48, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4494/4830 (93.0435%)
___Test Local_ResNet_18 poisoned: False, epoch: 138: Average loss: 2.0642, Accuracy: 5570/10000 (55.7000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 27.17ms
___Train Local_ResNet_18,  epoch 138, local model 61, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4147/4485 (92.4638%)
___Train Local_ResNet_18,  epoch 138, local model 61, internal_epoch   2,  Average loss: 0.0083, Accuracy: 3794/4485 (84.5931%)
___Test Local_ResNet_18 poisoned: False, epoch: 138: Average loss: 2.3246, Accuracy: 5054/10000 (50.5400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 26.40ms
___Train Local_ResNet_18,  epoch 138, local model 73, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4324/4605 (93.8979%)
___Train Local_ResNet_18,  epoch 138, local model 73, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4261/4605 (92.5299%)
___Test Local_ResNet_18 poisoned: False, epoch: 138: Average loss: 1.9347, Accuracy: 5676/10000 (56.7600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 26.78ms
___Train Local_ResNet_18,  epoch 138, local model 15, internal_epoch   1,  Average loss: 0.0039, Accuracy: 5610/6068 (92.4522%)
___Train Local_ResNet_18,  epoch 138, local model 15, internal_epoch   2,  Average loss: 0.0048, Accuracy: 5489/6068 (90.4581%)
___Test Local_ResNet_18 poisoned: False, epoch: 138: Average loss: 2.1955, Accuracy: 5273/10000 (52.7300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 26.68ms
___Train Local_ResNet_18,  epoch 138, local model 85, internal_epoch   1,  Average loss: 0.0045, Accuracy: 6331/6947 (91.1329%)
___Train Local_ResNet_18,  epoch 138, local model 85, internal_epoch   2,  Average loss: 0.0061, Accuracy: 6106/6947 (87.8941%)
___Test Local_ResNet_18 poisoned: False, epoch: 138: Average loss: 2.3189, Accuracy: 5055/10000 (50.5500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /win_exists (::1) 0.74ms
INFO:tornado.access:200 POST /update (::1) 28.67ms
___Train Local_ResNet_18,  epoch 138, local model 88, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4922/5362 (91.7941%)
___Train Local_ResNet_18,  epoch 138, local model 88, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4882/5362 (91.0481%)
___Test Local_ResNet_18 poisoned: False, epoch: 138: Average loss: 2.0145, Accuracy: 5421/10000 (54.2100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 27.03ms
___Train Local_ResNet_18,  epoch 138, local model 94, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4763/5224 (91.1753%)
___Train Local_ResNet_18,  epoch 138, local model 94, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4671/5224 (89.4142%)
___Test Local_ResNet_18 poisoned: False, epoch: 138: Average loss: 2.1403, Accuracy: 5319/10000 (53.1900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 26.07ms
___Train Local_ResNet_18,  epoch 138, local model 78, internal_epoch   1,  Average loss: 0.0028, Accuracy: 4157/4368 (95.1694%)
___Train Local_ResNet_18,  epoch 138, local model 78, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4104/4368 (93.9560%)
___Test Local_ResNet_18 poisoned: False, epoch: 138: Average loss: 1.9747, Accuracy: 5563/10000 (55.6300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 26.57ms
___Train Local_ResNet_18,  epoch 138, local model 18, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4000/4249 (94.1398%)
___Train Local_ResNet_18,  epoch 138, local model 18, internal_epoch   2,  Average loss: 0.0039, Accuracy: 3936/4249 (92.6336%)
___Test Local_ResNet_18 poisoned: False, epoch: 138: Average loss: 1.9656, Accuracy: 5796/10000 (57.9600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.77ms
INFO:tornado.access:200 POST /win_exists (::1) 0.68ms
INFO:tornado.access:200 POST /update (::1) 21.50ms
___Train Local_ResNet_18,  epoch 138, local model 0, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4985/5454 (91.4008%)
___Train Local_ResNet_18,  epoch 138, local model 0, internal_epoch   2,  Average loss: 0.0061, Accuracy: 4781/5454 (87.6604%)
___Test Local_ResNet_18 poisoned: False, epoch: 138: Average loss: 2.1061, Accuracy: 5328/10000 (53.2800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 26.08ms
___Train Local_ResNet_18,  epoch 138, local model 40, internal_epoch   1,  Average loss: 0.0036, Accuracy: 5522/5939 (92.9786%)
___Train Local_ResNet_18,  epoch 138, local model 40, internal_epoch   2,  Average loss: 0.0041, Accuracy: 5470/5939 (92.1030%)
___Test Local_ResNet_18 poisoned: False, epoch: 138: Average loss: 1.9547, Accuracy: 5577/10000 (55.7700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 25.86ms
time spent on training: 304.69787859916687
___Test Target_ResNet_18 poisoned: False, epoch: 138: Average loss: 1.2759, Accuracy: 6749/10000 (67.4900%)
___Test Target_ResNet_18 poisoned: True, epoch: 138: Average loss: 0.0819, Accuracy: 9678/9900 (97.7576%)
Done in 331.19299507141113 sec.
Server Epoch:139 choose agents : [13, 36, 58, 71, 59, 30, 64, 19, 12, 82, 16, 74, 70, 85, 50, 67, 57, 72, 18, 46].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 139, local model 13, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5166/5308 (97.3248%), train_poison_data_count: 415
Global model norm: 43.8778196988346.
Norm before scaling: 43.84531609150586. Distance: 1.311058751751705
Total norm for 4 adversaries is: 43.84531609150586. distance: 1.311058751751705
___Test Local_ResNet_18 poisoned: True, epoch: 139: Average loss: 0.0594, Accuracy: 9750/9900 (98.4848%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 139, local model 36, internal_epoch   1,  Average loss: 0.0017, Accuracy: 5633/5777 (97.5074%), train_poison_data_count: 455
Global model norm: 43.8778196988346.
Norm before scaling: 43.83753519744809. Distance: 1.324227977259173
Total norm for 4 adversaries is: 43.83753519744809. distance: 1.324227977259173
___Test Local_ResNet_18 poisoned: True, epoch: 139: Average loss: 0.0219, Accuracy: 9834/9900 (99.3333%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 139, local model 58, internal_epoch   1,  Average loss: 0.0026, Accuracy: 4975/5123 (97.1111%), train_poison_data_count: 403
Global model norm: 43.8778196988346.
Norm before scaling: 43.8431082343444. Distance: 1.2524189907990453
Total norm for 4 adversaries is: 43.8431082343444. distance: 1.2524189907990453
___Test Local_ResNet_18 poisoned: True, epoch: 139: Average loss: 0.0831, Accuracy: 9691/9900 (97.8889%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 139, local model 71, internal_epoch   1,  Average loss: 0.0019, Accuracy: 5351/5503 (97.2379%), train_poison_data_count: 430
Global model norm: 43.8778196988346.
Norm before scaling: 43.84471332690807. Distance: 1.3757710029181447
Total norm for 4 adversaries is: 43.84471332690807. distance: 1.3757710029181447
___Test Local_ResNet_18 poisoned: True, epoch: 139: Average loss: 0.0451, Accuracy: 9779/9900 (98.7778%)
___Train Local_ResNet_18,  epoch 139, local model 59, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4158/4397 (94.5645%)
___Train Local_ResNet_18,  epoch 139, local model 59, internal_epoch   2,  Average loss: 0.0024, Accuracy: 4193/4397 (95.3605%)
___Test Local_ResNet_18 poisoned: False, epoch: 139: Average loss: 1.9247, Accuracy: 5658/10000 (56.5800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 26.20ms
___Train Local_ResNet_18,  epoch 139, local model 30, internal_epoch   1,  Average loss: 0.0031, Accuracy: 3576/3774 (94.7536%)
___Train Local_ResNet_18,  epoch 139, local model 30, internal_epoch   2,  Average loss: 0.0024, Accuracy: 3622/3774 (95.9724%)
___Test Local_ResNet_18 poisoned: False, epoch: 139: Average loss: 1.7389, Accuracy: 5974/10000 (59.7400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 27.02ms
___Train Local_ResNet_18,  epoch 139, local model 64, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4450/4894 (90.9277%)
___Train Local_ResNet_18,  epoch 139, local model 64, internal_epoch   2,  Average loss: 0.0063, Accuracy: 4269/4894 (87.2293%)
___Test Local_ResNet_18 poisoned: False, epoch: 139: Average loss: 2.3837, Accuracy: 4855/10000 (48.5500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.79ms
INFO:tornado.access:200 POST /update (::1) 21.49ms
___Train Local_ResNet_18,  epoch 139, local model 19, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4822/5361 (89.9459%)
___Train Local_ResNet_18,  epoch 139, local model 19, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4803/5361 (89.5915%)
___Test Local_ResNet_18 poisoned: False, epoch: 139: Average loss: 2.1483, Accuracy: 5277/10000 (52.7700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 26.82ms
___Train Local_ResNet_18,  epoch 139, local model 12, internal_epoch   1,  Average loss: 0.0046, Accuracy: 5063/5526 (91.6214%)
___Train Local_ResNet_18,  epoch 139, local model 12, internal_epoch   2,  Average loss: 0.0066, Accuracy: 4808/5526 (87.0069%)
___Test Local_ResNet_18 poisoned: False, epoch: 139: Average loss: 2.1665, Accuracy: 5230/10000 (52.3000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 26.14ms
___Train Local_ResNet_18,  epoch 139, local model 82, internal_epoch   1,  Average loss: 0.0030, Accuracy: 5018/5298 (94.7150%)
___Train Local_ResNet_18,  epoch 139, local model 82, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4927/5298 (92.9974%)
___Test Local_ResNet_18 poisoned: False, epoch: 139: Average loss: 2.2161, Accuracy: 5306/10000 (53.0600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.79ms
INFO:tornado.access:200 POST /update (::1) 25.76ms
___Train Local_ResNet_18,  epoch 139, local model 16, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4925/5353 (92.0045%)
___Train Local_ResNet_18,  epoch 139, local model 16, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4799/5353 (89.6507%)
___Test Local_ResNet_18 poisoned: False, epoch: 139: Average loss: 2.0571, Accuracy: 5400/10000 (54.0000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 26.82ms
___Train Local_ResNet_18,  epoch 139, local model 74, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4408/4797 (91.8908%)
___Train Local_ResNet_18,  epoch 139, local model 74, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4345/4797 (90.5774%)
___Test Local_ResNet_18 poisoned: False, epoch: 139: Average loss: 2.1312, Accuracy: 5343/10000 (53.4300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 26.81ms
___Train Local_ResNet_18,  epoch 139, local model 70, internal_epoch   1,  Average loss: 0.0035, Accuracy: 5477/5871 (93.2890%)
___Train Local_ResNet_18,  epoch 139, local model 70, internal_epoch   2,  Average loss: 0.0045, Accuracy: 5331/5871 (90.8022%)
___Test Local_ResNet_18 poisoned: False, epoch: 139: Average loss: 2.1393, Accuracy: 5316/10000 (53.1600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 25.92ms
___Train Local_ResNet_18,  epoch 139, local model 85, internal_epoch   1,  Average loss: 0.0044, Accuracy: 6358/6947 (91.5215%)
___Train Local_ResNet_18,  epoch 139, local model 85, internal_epoch   2,  Average loss: 0.0058, Accuracy: 6141/6947 (88.3979%)
___Test Local_ResNet_18 poisoned: False, epoch: 139: Average loss: 2.1493, Accuracy: 5248/10000 (52.4800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 26.87ms
___Train Local_ResNet_18,  epoch 139, local model 50, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4415/4757 (92.8106%)
___Train Local_ResNet_18,  epoch 139, local model 50, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4401/4757 (92.5163%)
___Test Local_ResNet_18 poisoned: False, epoch: 139: Average loss: 1.8706, Accuracy: 5682/10000 (56.8200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 26.40ms
___Train Local_ResNet_18,  epoch 139, local model 67, internal_epoch   1,  Average loss: 0.0049, Accuracy: 5046/5559 (90.7717%)
___Train Local_ResNet_18,  epoch 139, local model 67, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4951/5559 (89.0628%)
___Test Local_ResNet_18 poisoned: False, epoch: 139: Average loss: 2.1391, Accuracy: 5202/10000 (52.0200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /update (::1) 27.01ms
___Train Local_ResNet_18,  epoch 139, local model 57, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4594/4956 (92.6957%)
___Train Local_ResNet_18,  epoch 139, local model 57, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4525/4956 (91.3035%)
___Test Local_ResNet_18 poisoned: False, epoch: 139: Average loss: 2.2499, Accuracy: 5164/10000 (51.6400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 26.36ms
___Train Local_ResNet_18,  epoch 139, local model 72, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4749/5193 (91.4500%)
___Train Local_ResNet_18,  epoch 139, local model 72, internal_epoch   2,  Average loss: 0.0060, Accuracy: 4598/5193 (88.5423%)
___Test Local_ResNet_18 poisoned: False, epoch: 139: Average loss: 2.2939, Accuracy: 5146/10000 (51.4600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 26.10ms
___Train Local_ResNet_18,  epoch 139, local model 18, internal_epoch   1,  Average loss: 0.0035, Accuracy: 3972/4249 (93.4808%)
___Train Local_ResNet_18,  epoch 139, local model 18, internal_epoch   2,  Average loss: 0.0042, Accuracy: 3908/4249 (91.9746%)
___Test Local_ResNet_18 poisoned: False, epoch: 139: Average loss: 2.1022, Accuracy: 5443/10000 (54.4300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 26.50ms
___Train Local_ResNet_18,  epoch 139, local model 46, internal_epoch   1,  Average loss: 0.0054, Accuracy: 4851/5399 (89.8500%)
___Train Local_ResNet_18,  epoch 139, local model 46, internal_epoch   2,  Average loss: 0.0066, Accuracy: 4722/5399 (87.4606%)
___Test Local_ResNet_18 poisoned: False, epoch: 139: Average loss: 2.1496, Accuracy: 5199/10000 (51.9900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.66ms
INFO:tornado.access:200 POST /update (::1) 20.25ms
time spent on training: 281.07761311531067
___Test Target_ResNet_18 poisoned: False, epoch: 139: Average loss: 1.2812, Accuracy: 6733/10000 (67.3300%)
___Test Target_ResNet_18 poisoned: True, epoch: 139: Average loss: 0.0791, Accuracy: 9688/9900 (97.8586%)
Done in 320.8998782634735 sec.
Server Epoch:140 choose agents : [13, 36, 58, 71, 18, 76, 66, 22, 96, 54, 1, 88, 32, 97, 26, 2, 77, 68, 42, 5].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 140, local model 13, internal_epoch   1,  Average loss: 0.0017, Accuracy: 5184/5308 (97.6639%), train_poison_data_count: 415
Global model norm: 43.89905690633484.
Norm before scaling: 43.863336735482314. Distance: 1.281365087038955
Total norm for 4 adversaries is: 43.863336735482314. distance: 1.281365087038955
___Test Local_ResNet_18 poisoned: True, epoch: 140: Average loss: 0.0160, Accuracy: 9853/9900 (99.5253%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 140, local model 36, internal_epoch   1,  Average loss: 0.0017, Accuracy: 5629/5777 (97.4381%), train_poison_data_count: 455
Global model norm: 43.89905690633484.
Norm before scaling: 43.85943901402525. Distance: 1.333218534812537
Total norm for 4 adversaries is: 43.85943901402525. distance: 1.333218534812537
___Test Local_ResNet_18 poisoned: True, epoch: 140: Average loss: 0.0235, Accuracy: 9836/9900 (99.3535%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 140, local model 58, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4936/5123 (96.3498%), train_poison_data_count: 403
Global model norm: 43.89905690633484.
Norm before scaling: 43.86781986966286. Distance: 1.3562991542083098
Total norm for 4 adversaries is: 43.86781986966286. distance: 1.3562991542083098
___Test Local_ResNet_18 poisoned: True, epoch: 140: Average loss: 0.0452, Accuracy: 9779/9900 (98.7778%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 140, local model 71, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5349/5503 (97.2015%), train_poison_data_count: 430
Global model norm: 43.89905690633484.
Norm before scaling: 43.864509741290284. Distance: 1.353940734600209
Total norm for 4 adversaries is: 43.864509741290284. distance: 1.353940734600209
___Test Local_ResNet_18 poisoned: True, epoch: 140: Average loss: 0.0355, Accuracy: 9815/9900 (99.1414%)
___Train Local_ResNet_18,  epoch 140, local model 18, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4011/4249 (94.3987%)
___Train Local_ResNet_18,  epoch 140, local model 18, internal_epoch   2,  Average loss: 0.0038, Accuracy: 3948/4249 (92.9160%)
___Test Local_ResNet_18 poisoned: False, epoch: 140: Average loss: 1.8908, Accuracy: 5828/10000 (58.2800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 26.04ms
___Train Local_ResNet_18,  epoch 140, local model 76, internal_epoch   1,  Average loss: 0.0044, Accuracy: 3625/3959 (91.5635%)
___Train Local_ResNet_18,  epoch 140, local model 76, internal_epoch   2,  Average loss: 0.0040, Accuracy: 3636/3959 (91.8414%)
___Test Local_ResNet_18 poisoned: False, epoch: 140: Average loss: 2.0088, Accuracy: 5494/10000 (54.9400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.77ms
INFO:tornado.access:200 POST /update (::1) 27.74ms
___Train Local_ResNet_18,  epoch 140, local model 66, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4521/4843 (93.3512%)
___Train Local_ResNet_18,  epoch 140, local model 66, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4475/4843 (92.4014%)
___Test Local_ResNet_18 poisoned: False, epoch: 140: Average loss: 2.0610, Accuracy: 5376/10000 (53.7600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 26.74ms
___Train Local_ResNet_18,  epoch 140, local model 22, internal_epoch   1,  Average loss: 0.0035, Accuracy: 5315/5696 (93.3111%)
___Train Local_ResNet_18,  epoch 140, local model 22, internal_epoch   2,  Average loss: 0.0037, Accuracy: 5306/5696 (93.1531%)
___Test Local_ResNet_18 poisoned: False, epoch: 140: Average loss: 1.9415, Accuracy: 5582/10000 (55.8200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 26.14ms
___Train Local_ResNet_18,  epoch 140, local model 96, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4679/5086 (91.9976%)
___Train Local_ResNet_18,  epoch 140, local model 96, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4642/5086 (91.2702%)
___Test Local_ResNet_18 poisoned: False, epoch: 140: Average loss: 2.0436, Accuracy: 5361/10000 (53.6100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 27.12ms
___Train Local_ResNet_18,  epoch 140, local model 54, internal_epoch   1,  Average loss: 0.0051, Accuracy: 5103/5645 (90.3986%)
___Train Local_ResNet_18,  epoch 140, local model 54, internal_epoch   2,  Average loss: 0.0076, Accuracy: 4829/5645 (85.5447%)
___Test Local_ResNet_18 poisoned: False, epoch: 140: Average loss: 2.1299, Accuracy: 5225/10000 (52.2500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 26.42ms
___Train Local_ResNet_18,  epoch 140, local model 1, internal_epoch   1,  Average loss: 0.0030, Accuracy: 5125/5422 (94.5223%)
___Train Local_ResNet_18,  epoch 140, local model 1, internal_epoch   2,  Average loss: 0.0040, Accuracy: 5005/5422 (92.3091%)
___Test Local_ResNet_18 poisoned: False, epoch: 140: Average loss: 1.9604, Accuracy: 5536/10000 (55.3600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 26.99ms
___Train Local_ResNet_18,  epoch 140, local model 88, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4938/5362 (92.0925%)
___Train Local_ResNet_18,  epoch 140, local model 88, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4835/5362 (90.1716%)
___Test Local_ResNet_18 poisoned: False, epoch: 140: Average loss: 2.0455, Accuracy: 5355/10000 (53.5500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.76ms
INFO:tornado.access:200 POST /update (::1) 27.00ms
___Train Local_ResNet_18,  epoch 140, local model 32, internal_epoch   1,  Average loss: 0.0051, Accuracy: 5475/6080 (90.0493%)
___Train Local_ResNet_18,  epoch 140, local model 32, internal_epoch   2,  Average loss: 0.0066, Accuracy: 5292/6080 (87.0395%)
___Test Local_ResNet_18 poisoned: False, epoch: 140: Average loss: 2.4055, Accuracy: 4951/10000 (49.5100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 25.74ms
___Train Local_ResNet_18,  epoch 140, local model 97, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4320/4736 (91.2162%)
___Train Local_ResNet_18,  epoch 140, local model 97, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4292/4736 (90.6250%)
___Test Local_ResNet_18 poisoned: False, epoch: 140: Average loss: 2.0310, Accuracy: 5428/10000 (54.2800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 27.63ms
___Train Local_ResNet_18,  epoch 140, local model 26, internal_epoch   1,  Average loss: 0.0031, Accuracy: 3861/4086 (94.4934%)
___Train Local_ResNet_18,  epoch 140, local model 26, internal_epoch   2,  Average loss: 0.0030, Accuracy: 3850/4086 (94.2242%)
___Test Local_ResNet_18 poisoned: False, epoch: 140: Average loss: 1.9387, Accuracy: 5623/10000 (56.2300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 27.68ms
___Train Local_ResNet_18,  epoch 140, local model 2, internal_epoch   1,  Average loss: 0.0036, Accuracy: 3696/3968 (93.1452%)
___Train Local_ResNet_18,  epoch 140, local model 2, internal_epoch   2,  Average loss: 0.0039, Accuracy: 3674/3968 (92.5907%)
___Test Local_ResNet_18 poisoned: False, epoch: 140: Average loss: 1.8913, Accuracy: 5665/10000 (56.6500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 27.41ms
___Train Local_ResNet_18,  epoch 140, local model 77, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4567/5050 (90.4356%)
___Train Local_ResNet_18,  epoch 140, local model 77, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4500/5050 (89.1089%)
___Test Local_ResNet_18 poisoned: False, epoch: 140: Average loss: 2.0667, Accuracy: 5310/10000 (53.1000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.81ms
INFO:tornado.access:200 POST /update (::1) 26.36ms
___Train Local_ResNet_18,  epoch 140, local model 68, internal_epoch   1,  Average loss: 0.0038, Accuracy: 3334/3589 (92.8950%)
___Train Local_ResNet_18,  epoch 140, local model 68, internal_epoch   2,  Average loss: 0.0043, Accuracy: 3275/3589 (91.2510%)
___Test Local_ResNet_18 poisoned: False, epoch: 140: Average loss: 2.0227, Accuracy: 5639/10000 (56.3900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 25.70ms
___Train Local_ResNet_18,  epoch 140, local model 42, internal_epoch   1,  Average loss: 0.0045, Accuracy: 5377/5907 (91.0276%)
___Train Local_ResNet_18,  epoch 140, local model 42, internal_epoch   2,  Average loss: 0.0041, Accuracy: 5419/5907 (91.7386%)
___Test Local_ResNet_18 poisoned: False, epoch: 140: Average loss: 2.1429, Accuracy: 5293/10000 (52.9300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.76ms
INFO:tornado.access:200 POST /update (::1) 26.36ms
___Train Local_ResNet_18,  epoch 140, local model 5, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4679/4993 (93.7112%)
___Train Local_ResNet_18,  epoch 140, local model 5, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4657/4993 (93.2706%)
___Test Local_ResNet_18 poisoned: False, epoch: 140: Average loss: 2.0386, Accuracy: 5580/10000 (55.8000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.80ms
INFO:tornado.access:200 POST /update (::1) 27.11ms
time spent on training: 293.2769136428833
___Test Target_ResNet_18 poisoned: False, epoch: 140: Average loss: 1.2889, Accuracy: 6701/10000 (67.0100%)
___Test Target_ResNet_18 poisoned: True, epoch: 140: Average loss: 0.0706, Accuracy: 9709/9900 (98.0707%)
Done in 319.8432192802429 sec.
Server Epoch:141 choose agents : [13, 36, 58, 71, 69, 7, 17, 81, 55, 66, 54, 73, 78, 3, 79, 38, 84, 90, 5, 34].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 141, local model 13, internal_epoch   1,  Average loss: 0.0016, Accuracy: 5194/5308 (97.8523%), train_poison_data_count: 415
Global model norm: 43.918841332888526.
Norm before scaling: 43.882380633668056. Distance: 1.211911062379823
Total norm for 4 adversaries is: 43.882380633668056. distance: 1.211911062379823
___Test Local_ResNet_18 poisoned: True, epoch: 141: Average loss: 0.0535, Accuracy: 9757/9900 (98.5556%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 141, local model 36, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5654/5777 (97.8709%), train_poison_data_count: 455
Global model norm: 43.918841332888526.
Norm before scaling: 43.87674024994265. Distance: 1.2879281341394346
Total norm for 4 adversaries is: 43.87674024994265. distance: 1.2879281341394346
___Test Local_ResNet_18 poisoned: True, epoch: 141: Average loss: 0.0275, Accuracy: 9831/9900 (99.3030%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 141, local model 58, internal_epoch   1,  Average loss: 0.0024, Accuracy: 4966/5123 (96.9354%), train_poison_data_count: 403
Global model norm: 43.918841332888526.
Norm before scaling: 43.88245574116152. Distance: 1.2359882387725103
Total norm for 4 adversaries is: 43.88245574116152. distance: 1.2359882387725103
___Test Local_ResNet_18 poisoned: True, epoch: 141: Average loss: 0.1270, Accuracy: 9570/9900 (96.6667%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 141, local model 71, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5352/5503 (97.2560%), train_poison_data_count: 430
Global model norm: 43.918841332888526.
Norm before scaling: 43.88516787007172. Distance: 1.3709044149148653
Total norm for 4 adversaries is: 43.88516787007172. distance: 1.3709044149148653
___Test Local_ResNet_18 poisoned: True, epoch: 141: Average loss: 0.0295, Accuracy: 9827/9900 (99.2626%)
___Train Local_ResNet_18,  epoch 141, local model 69, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4014/4364 (91.9798%)
___Train Local_ResNet_18,  epoch 141, local model 69, internal_epoch   2,  Average loss: 0.0048, Accuracy: 3980/4364 (91.2007%)
___Test Local_ResNet_18 poisoned: False, epoch: 141: Average loss: 1.9857, Accuracy: 5560/10000 (55.6000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.75ms
INFO:tornado.access:200 POST /update (::1) 25.63ms
___Train Local_ResNet_18,  epoch 141, local model 7, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4498/4869 (92.3804%)
___Train Local_ResNet_18,  epoch 141, local model 7, internal_epoch   2,  Average loss: 0.0071, Accuracy: 4237/4869 (87.0199%)
___Test Local_ResNet_18 poisoned: False, epoch: 141: Average loss: 2.2765, Accuracy: 5053/10000 (50.5300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /update (::1) 26.84ms
___Train Local_ResNet_18,  epoch 141, local model 17, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4474/4903 (91.2503%)
___Train Local_ResNet_18,  epoch 141, local model 17, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4461/4903 (90.9851%)
___Test Local_ResNet_18 poisoned: False, epoch: 141: Average loss: 2.1249, Accuracy: 5163/10000 (51.6300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 26.67ms
___Train Local_ResNet_18,  epoch 141, local model 81, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4746/5035 (94.2602%)
___Train Local_ResNet_18,  epoch 141, local model 81, internal_epoch   2,  Average loss: 0.0033, Accuracy: 4715/5035 (93.6445%)
___Test Local_ResNet_18 poisoned: False, epoch: 141: Average loss: 1.8945, Accuracy: 5713/10000 (57.1300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 26.29ms
___Train Local_ResNet_18,  epoch 141, local model 55, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4413/4731 (93.2784%)
___Train Local_ResNet_18,  epoch 141, local model 55, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4396/4731 (92.9190%)
___Test Local_ResNet_18 poisoned: False, epoch: 141: Average loss: 1.9831, Accuracy: 5553/10000 (55.5300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.80ms
INFO:tornado.access:200 POST /update (::1) 27.56ms
___Train Local_ResNet_18,  epoch 141, local model 66, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4521/4843 (93.3512%)
___Train Local_ResNet_18,  epoch 141, local model 66, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4465/4843 (92.1949%)
___Test Local_ResNet_18 poisoned: False, epoch: 141: Average loss: 2.0840, Accuracy: 5364/10000 (53.6400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 27.25ms
___Train Local_ResNet_18,  epoch 141, local model 54, internal_epoch   1,  Average loss: 0.0051, Accuracy: 5112/5645 (90.5580%)
___Train Local_ResNet_18,  epoch 141, local model 54, internal_epoch   2,  Average loss: 0.0067, Accuracy: 4889/5645 (86.6076%)
___Test Local_ResNet_18 poisoned: False, epoch: 141: Average loss: 2.1675, Accuracy: 5204/10000 (52.0400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 27.50ms
___Train Local_ResNet_18,  epoch 141, local model 73, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4326/4605 (93.9414%)
___Train Local_ResNet_18,  epoch 141, local model 73, internal_epoch   2,  Average loss: 0.0030, Accuracy: 4346/4605 (94.3757%)
___Test Local_ResNet_18 poisoned: False, epoch: 141: Average loss: 1.9728, Accuracy: 5690/10000 (56.9000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.78ms
INFO:tornado.access:200 POST /update (::1) 26.12ms
___Train Local_ResNet_18,  epoch 141, local model 78, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4132/4368 (94.5971%)
___Train Local_ResNet_18,  epoch 141, local model 78, internal_epoch   2,  Average loss: 0.0029, Accuracy: 4142/4368 (94.8260%)
___Test Local_ResNet_18 poisoned: False, epoch: 141: Average loss: 1.9482, Accuracy: 5796/10000 (57.9600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 27.73ms
___Train Local_ResNet_18,  epoch 141, local model 3, internal_epoch   1,  Average loss: 0.0031, Accuracy: 5028/5346 (94.0516%)
___Train Local_ResNet_18,  epoch 141, local model 3, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4983/5346 (93.2099%)
___Test Local_ResNet_18 poisoned: False, epoch: 141: Average loss: 2.1167, Accuracy: 5505/10000 (55.0500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 26.86ms
___Train Local_ResNet_18,  epoch 141, local model 79, internal_epoch   1,  Average loss: 0.0031, Accuracy: 3873/4111 (94.2107%)
___Train Local_ResNet_18,  epoch 141, local model 79, internal_epoch   2,  Average loss: 0.0036, Accuracy: 3819/4111 (92.8971%)
___Test Local_ResNet_18 poisoned: False, epoch: 141: Average loss: 1.9459, Accuracy: 5636/10000 (56.3600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 26.28ms
___Train Local_ResNet_18,  epoch 141, local model 38, internal_epoch   1,  Average loss: 0.0048, Accuracy: 5642/6235 (90.4892%)
___Train Local_ResNet_18,  epoch 141, local model 38, internal_epoch   2,  Average loss: 0.0061, Accuracy: 5491/6235 (88.0674%)
___Test Local_ResNet_18 poisoned: False, epoch: 141: Average loss: 2.2660, Accuracy: 5089/10000 (50.8900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.80ms
INFO:tornado.access:200 POST /update (::1) 26.10ms
___Train Local_ResNet_18,  epoch 141, local model 84, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4769/5209 (91.5531%)
___Train Local_ResNet_18,  epoch 141, local model 84, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4677/5209 (89.7869%)
___Test Local_ResNet_18 poisoned: False, epoch: 141: Average loss: 2.1638, Accuracy: 5393/10000 (53.9300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 26.40ms
___Train Local_ResNet_18,  epoch 141, local model 90, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4419/4748 (93.0708%)
___Train Local_ResNet_18,  epoch 141, local model 90, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4322/4748 (91.0278%)
___Test Local_ResNet_18 poisoned: False, epoch: 141: Average loss: 2.0034, Accuracy: 5496/10000 (54.9600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 26.99ms
___Train Local_ResNet_18,  epoch 141, local model 5, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4738/4993 (94.8928%)
___Train Local_ResNet_18,  epoch 141, local model 5, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4652/4993 (93.1704%)
___Test Local_ResNet_18 poisoned: False, epoch: 141: Average loss: 2.0262, Accuracy: 5628/10000 (56.2800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.76ms
INFO:tornado.access:200 POST /update (::1) 26.93ms
___Train Local_ResNet_18,  epoch 141, local model 34, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4565/4911 (92.9546%)
___Train Local_ResNet_18,  epoch 141, local model 34, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4524/4911 (92.1197%)
___Test Local_ResNet_18 poisoned: False, epoch: 141: Average loss: 2.4143, Accuracy: 4933/10000 (49.3300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 25.93ms
time spent on training: 285.5759057998657
___Test Target_ResNet_18 poisoned: False, epoch: 141: Average loss: 1.2891, Accuracy: 6706/10000 (67.0600%)
___Test Target_ResNet_18 poisoned: True, epoch: 141: Average loss: 0.0669, Accuracy: 9729/9900 (98.2727%)
Done in 312.05091309547424 sec.
Server Epoch:142 choose agents : [13, 36, 58, 71, 96, 52, 20, 2, 65, 42, 1, 45, 48, 32, 68, 12, 39, 33, 4, 46].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 142, local model 13, internal_epoch   1,  Average loss: 0.0017, Accuracy: 5173/5308 (97.4567%), train_poison_data_count: 415
Global model norm: 43.937409706077204.
Norm before scaling: 43.90098250208573. Distance: 1.2524750048794988
Total norm for 4 adversaries is: 43.90098250208573. distance: 1.2524750048794988
___Test Local_ResNet_18 poisoned: True, epoch: 142: Average loss: 0.0626, Accuracy: 9747/9900 (98.4545%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 142, local model 36, internal_epoch   1,  Average loss: 0.0017, Accuracy: 5638/5777 (97.5939%), train_poison_data_count: 455
Global model norm: 43.937409706077204.
Norm before scaling: 43.897253582317795. Distance: 1.3361997737312783
Total norm for 4 adversaries is: 43.897253582317795. distance: 1.3361997737312783
___Test Local_ResNet_18 poisoned: True, epoch: 142: Average loss: 0.0465, Accuracy: 9790/9900 (98.8889%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 142, local model 58, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4966/5123 (96.9354%), train_poison_data_count: 403
Global model norm: 43.937409706077204.
Norm before scaling: 43.90310542564871. Distance: 1.2825729704058122
Total norm for 4 adversaries is: 43.90310542564871. distance: 1.2825729704058122
___Test Local_ResNet_18 poisoned: True, epoch: 142: Average loss: 0.2377, Accuracy: 9257/9900 (93.5051%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 142, local model 71, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5353/5503 (97.2742%), train_poison_data_count: 430
Global model norm: 43.937409706077204.
Norm before scaling: 43.9023157712452. Distance: 1.3431650263527832
Total norm for 4 adversaries is: 43.9023157712452. distance: 1.3431650263527832
___Test Local_ResNet_18 poisoned: True, epoch: 142: Average loss: 0.0498, Accuracy: 9765/9900 (98.6364%)
___Train Local_ResNet_18,  epoch 142, local model 96, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4670/5086 (91.8207%)
___Train Local_ResNet_18,  epoch 142, local model 96, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4653/5086 (91.4864%)
___Test Local_ResNet_18 poisoned: False, epoch: 142: Average loss: 2.0836, Accuracy: 5386/10000 (53.8600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 26.76ms
___Train Local_ResNet_18,  epoch 142, local model 52, internal_epoch   1,  Average loss: 0.0034, Accuracy: 3882/4130 (93.9952%)
___Train Local_ResNet_18,  epoch 142, local model 52, internal_epoch   2,  Average loss: 0.0032, Accuracy: 3891/4130 (94.2131%)
___Test Local_ResNet_18 poisoned: False, epoch: 142: Average loss: 1.9083, Accuracy: 5689/10000 (56.8900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 27.35ms
___Train Local_ResNet_18,  epoch 142, local model 20, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4409/4714 (93.5299%)
___Train Local_ResNet_18,  epoch 142, local model 20, internal_epoch   2,  Average loss: 0.0032, Accuracy: 4426/4714 (93.8905%)
___Test Local_ResNet_18 poisoned: False, epoch: 142: Average loss: 1.9474, Accuracy: 5577/10000 (55.7700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 27.57ms
___Train Local_ResNet_18,  epoch 142, local model 2, internal_epoch   1,  Average loss: 0.0037, Accuracy: 3678/3968 (92.6915%)
___Train Local_ResNet_18,  epoch 142, local model 2, internal_epoch   2,  Average loss: 0.0040, Accuracy: 3654/3968 (92.0867%)
___Test Local_ResNet_18 poisoned: False, epoch: 142: Average loss: 1.9259, Accuracy: 5625/10000 (56.2500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 26.98ms
___Train Local_ResNet_18,  epoch 142, local model 65, internal_epoch   1,  Average loss: 0.0043, Accuracy: 5022/5497 (91.3589%)
___Train Local_ResNet_18,  epoch 142, local model 65, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4900/5497 (89.1395%)
___Test Local_ResNet_18 poisoned: False, epoch: 142: Average loss: 2.1600, Accuracy: 5350/10000 (53.5000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 26.21ms
___Train Local_ResNet_18,  epoch 142, local model 42, internal_epoch   1,  Average loss: 0.0039, Accuracy: 5458/5907 (92.3988%)
___Train Local_ResNet_18,  epoch 142, local model 42, internal_epoch   2,  Average loss: 0.0048, Accuracy: 5379/5907 (91.0615%)
___Test Local_ResNet_18 poisoned: False, epoch: 142: Average loss: 2.2530, Accuracy: 5129/10000 (51.2900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 26.75ms
___Train Local_ResNet_18,  epoch 142, local model 1, internal_epoch   1,  Average loss: 0.0029, Accuracy: 5132/5422 (94.6514%)
___Train Local_ResNet_18,  epoch 142, local model 1, internal_epoch   2,  Average loss: 0.0034, Accuracy: 5057/5422 (93.2682%)
___Test Local_ResNet_18 poisoned: False, epoch: 142: Average loss: 1.8930, Accuracy: 5760/10000 (57.6000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.76ms
INFO:tornado.access:200 POST /update (::1) 26.17ms
___Train Local_ResNet_18,  epoch 142, local model 45, internal_epoch   1,  Average loss: 0.0040, Accuracy: 5042/5489 (91.8564%)
___Train Local_ResNet_18,  epoch 142, local model 45, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4938/5489 (89.9617%)
___Test Local_ResNet_18 poisoned: False, epoch: 142: Average loss: 2.3285, Accuracy: 5164/10000 (51.6400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 27.46ms
___Train Local_ResNet_18,  epoch 142, local model 48, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4546/4830 (94.1201%)
___Train Local_ResNet_18,  epoch 142, local model 48, internal_epoch   2,  Average loss: 0.0033, Accuracy: 4528/4830 (93.7474%)
___Test Local_ResNet_18 poisoned: False, epoch: 142: Average loss: 2.1654, Accuracy: 5475/10000 (54.7500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.74ms
INFO:tornado.access:200 POST /win_exists (::1) 0.64ms
INFO:tornado.access:200 POST /update (::1) 28.74ms
___Train Local_ResNet_18,  epoch 142, local model 32, internal_epoch   1,  Average loss: 0.0057, Accuracy: 5396/6080 (88.7500%)
___Train Local_ResNet_18,  epoch 142, local model 32, internal_epoch   2,  Average loss: 0.0060, Accuracy: 5350/6080 (87.9934%)
___Test Local_ResNet_18 poisoned: False, epoch: 142: Average loss: 2.3493, Accuracy: 5069/10000 (50.6900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 26.86ms
___Train Local_ResNet_18,  epoch 142, local model 68, internal_epoch   1,  Average loss: 0.0041, Accuracy: 3359/3589 (93.5915%)
___Train Local_ResNet_18,  epoch 142, local model 68, internal_epoch   2,  Average loss: 0.0078, Accuracy: 3075/3589 (85.6785%)
___Test Local_ResNet_18 poisoned: False, epoch: 142: Average loss: 2.0876, Accuracy: 5375/10000 (53.7500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 27.02ms
___Train Local_ResNet_18,  epoch 142, local model 12, internal_epoch   1,  Average loss: 0.0043, Accuracy: 5063/5526 (91.6214%)
___Train Local_ResNet_18,  epoch 142, local model 12, internal_epoch   2,  Average loss: 0.0057, Accuracy: 4912/5526 (88.8889%)
___Test Local_ResNet_18 poisoned: False, epoch: 142: Average loss: 2.0522, Accuracy: 5297/10000 (52.9700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 26.81ms
___Train Local_ResNet_18,  epoch 142, local model 39, internal_epoch   1,  Average loss: 0.0039, Accuracy: 3871/4175 (92.7186%)
___Train Local_ResNet_18,  epoch 142, local model 39, internal_epoch   2,  Average loss: 0.0043, Accuracy: 3824/4175 (91.5928%)
___Test Local_ResNet_18 poisoned: False, epoch: 142: Average loss: 1.9895, Accuracy: 5538/10000 (55.3800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 27.25ms
___Train Local_ResNet_18,  epoch 142, local model 33, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4469/4818 (92.7563%)
___Train Local_ResNet_18,  epoch 142, local model 33, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4378/4818 (90.8676%)
___Test Local_ResNet_18 poisoned: False, epoch: 142: Average loss: 1.9023, Accuracy: 5641/10000 (56.4100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 27.07ms
___Train Local_ResNet_18,  epoch 142, local model 4, internal_epoch   1,  Average loss: 0.0037, Accuracy: 3741/4028 (92.8749%)
___Train Local_ResNet_18,  epoch 142, local model 4, internal_epoch   2,  Average loss: 0.0036, Accuracy: 3746/4028 (92.9990%)
___Test Local_ResNet_18 poisoned: False, epoch: 142: Average loss: 1.8731, Accuracy: 5744/10000 (57.4400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /update (::1) 27.75ms
___Train Local_ResNet_18,  epoch 142, local model 46, internal_epoch   1,  Average loss: 0.0050, Accuracy: 4867/5399 (90.1463%)
___Train Local_ResNet_18,  epoch 142, local model 46, internal_epoch   2,  Average loss: 0.0063, Accuracy: 4695/5399 (86.9605%)
___Test Local_ResNet_18 poisoned: False, epoch: 142: Average loss: 2.3012, Accuracy: 5031/10000 (50.3100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 27.22ms
time spent on training: 296.1953673362732
___Test Target_ResNet_18 poisoned: False, epoch: 142: Average loss: 1.2885, Accuracy: 6710/10000 (67.1000%)
___Test Target_ResNet_18 poisoned: True, epoch: 142: Average loss: 0.0681, Accuracy: 9727/9900 (98.2525%)
Done in 322.7985773086548 sec.
Server Epoch:143 choose agents : [13, 36, 58, 71, 27, 65, 15, 35, 94, 34, 49, 50, 42, 4, 93, 68, 90, 96, 92, 69].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 143, local model 13, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5196/5308 (97.8900%), train_poison_data_count: 415
Global model norm: 43.95715604293358.
Norm before scaling: 43.91944724925039. Distance: 1.2140016243497989
Total norm for 4 adversaries is: 43.91944724925039. distance: 1.2140016243497989
___Test Local_ResNet_18 poisoned: True, epoch: 143: Average loss: 0.0202, Accuracy: 9848/9900 (99.4747%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 143, local model 36, internal_epoch   1,  Average loss: 0.0017, Accuracy: 5627/5777 (97.4035%), train_poison_data_count: 455
Global model norm: 43.95715604293358.
Norm before scaling: 43.91722505179488. Distance: 1.320571422582328
Total norm for 4 adversaries is: 43.91722505179488. distance: 1.320571422582328
___Test Local_ResNet_18 poisoned: True, epoch: 143: Average loss: 0.0382, Accuracy: 9793/9900 (98.9192%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 143, local model 58, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4956/5123 (96.7402%), train_poison_data_count: 403
Global model norm: 43.95715604293358.
Norm before scaling: 43.92332297061836. Distance: 1.3075080125172984
Total norm for 4 adversaries is: 43.92332297061836. distance: 1.3075080125172984
___Test Local_ResNet_18 poisoned: True, epoch: 143: Average loss: 0.1244, Accuracy: 9588/9900 (96.8485%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 143, local model 71, internal_epoch   1,  Average loss: 0.0016, Accuracy: 5377/5503 (97.7103%), train_poison_data_count: 430
Global model norm: 43.95715604293358.
Norm before scaling: 43.91886912739999. Distance: 1.251086430485928
Total norm for 4 adversaries is: 43.91886912739999. distance: 1.251086430485928
___Test Local_ResNet_18 poisoned: True, epoch: 143: Average loss: 0.0301, Accuracy: 9827/9900 (99.2626%)
___Train Local_ResNet_18,  epoch 143, local model 27, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4262/4587 (92.9148%)
___Train Local_ResNet_18,  epoch 143, local model 27, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4217/4587 (91.9337%)
___Test Local_ResNet_18 poisoned: False, epoch: 143: Average loss: 2.0336, Accuracy: 5410/10000 (54.1000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 27.26ms
___Train Local_ResNet_18,  epoch 143, local model 65, internal_epoch   1,  Average loss: 0.0045, Accuracy: 5009/5497 (91.1224%)
___Train Local_ResNet_18,  epoch 143, local model 65, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4962/5497 (90.2674%)
___Test Local_ResNet_18 poisoned: False, epoch: 143: Average loss: 2.0772, Accuracy: 5325/10000 (53.2500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 26.13ms
___Train Local_ResNet_18,  epoch 143, local model 15, internal_epoch   1,  Average loss: 0.0043, Accuracy: 5570/6068 (91.7930%)
___Train Local_ResNet_18,  epoch 143, local model 15, internal_epoch   2,  Average loss: 0.0047, Accuracy: 5507/6068 (90.7548%)
___Test Local_ResNet_18 poisoned: False, epoch: 143: Average loss: 2.2011, Accuracy: 5134/10000 (51.3400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 27.59ms
___Train Local_ResNet_18,  epoch 143, local model 35, internal_epoch   1,  Average loss: 0.0037, Accuracy: 5242/5615 (93.3571%)
___Train Local_ResNet_18,  epoch 143, local model 35, internal_epoch   2,  Average loss: 0.0043, Accuracy: 5131/5615 (91.3802%)
___Test Local_ResNet_18 poisoned: False, epoch: 143: Average loss: 2.4717, Accuracy: 4977/10000 (49.7700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 26.83ms
___Train Local_ResNet_18,  epoch 143, local model 94, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4726/5224 (90.4671%)
___Train Local_ResNet_18,  epoch 143, local model 94, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4711/5224 (90.1799%)
___Test Local_ResNet_18 poisoned: False, epoch: 143: Average loss: 2.2836, Accuracy: 5129/10000 (51.2900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 27.79ms
___Train Local_ResNet_18,  epoch 143, local model 34, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4547/4911 (92.5881%)
___Train Local_ResNet_18,  epoch 143, local model 34, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4514/4911 (91.9161%)
___Test Local_ResNet_18 poisoned: False, epoch: 143: Average loss: 2.1349, Accuracy: 5327/10000 (53.2700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 27.73ms
___Train Local_ResNet_18,  epoch 143, local model 49, internal_epoch   1,  Average loss: 0.0048, Accuracy: 5155/5652 (91.2067%)
___Train Local_ResNet_18,  epoch 143, local model 49, internal_epoch   2,  Average loss: 0.0058, Accuracy: 4995/5652 (88.3758%)
___Test Local_ResNet_18 poisoned: False, epoch: 143: Average loss: 2.2839, Accuracy: 5186/10000 (51.8600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 26.19ms
___Train Local_ResNet_18,  epoch 143, local model 50, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4445/4757 (93.4412%)
___Train Local_ResNet_18,  epoch 143, local model 50, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4337/4757 (91.1709%)
___Test Local_ResNet_18 poisoned: False, epoch: 143: Average loss: 2.1853, Accuracy: 5363/10000 (53.6300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 27.62ms
___Train Local_ResNet_18,  epoch 143, local model 42, internal_epoch   1,  Average loss: 0.0044, Accuracy: 5416/5907 (91.6878%)
___Train Local_ResNet_18,  epoch 143, local model 42, internal_epoch   2,  Average loss: 0.0049, Accuracy: 5350/5907 (90.5705%)
___Test Local_ResNet_18 poisoned: False, epoch: 143: Average loss: 2.4035, Accuracy: 4877/10000 (48.7700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 26.78ms
___Train Local_ResNet_18,  epoch 143, local model 4, internal_epoch   1,  Average loss: 0.0041, Accuracy: 3726/4028 (92.5025%)
___Train Local_ResNet_18,  epoch 143, local model 4, internal_epoch   2,  Average loss: 0.0037, Accuracy: 3726/4028 (92.5025%)
___Test Local_ResNet_18 poisoned: False, epoch: 143: Average loss: 1.9723, Accuracy: 5551/10000 (55.5100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.74ms
INFO:tornado.access:200 POST /update (::1) 22.60ms
___Train Local_ResNet_18,  epoch 143, local model 93, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4647/5055 (91.9288%)
___Train Local_ResNet_18,  epoch 143, local model 93, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4559/5055 (90.1879%)
___Test Local_ResNet_18 poisoned: False, epoch: 143: Average loss: 2.1050, Accuracy: 5403/10000 (54.0300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 27.26ms
___Train Local_ResNet_18,  epoch 143, local model 68, internal_epoch   1,  Average loss: 0.0035, Accuracy: 3367/3589 (93.8144%)
___Train Local_ResNet_18,  epoch 143, local model 68, internal_epoch   2,  Average loss: 0.0037, Accuracy: 3367/3589 (93.8144%)
___Test Local_ResNet_18 poisoned: False, epoch: 143: Average loss: 1.9788, Accuracy: 5669/10000 (56.6900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 27.88ms
___Train Local_ResNet_18,  epoch 143, local model 90, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4480/4748 (94.3555%)
___Train Local_ResNet_18,  epoch 143, local model 90, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4314/4748 (90.8593%)
___Test Local_ResNet_18 poisoned: False, epoch: 143: Average loss: 2.0877, Accuracy: 5358/10000 (53.5800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.76ms
INFO:tornado.access:200 POST /update (::1) 26.81ms
___Train Local_ResNet_18,  epoch 143, local model 96, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4719/5086 (92.7841%)
___Train Local_ResNet_18,  epoch 143, local model 96, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4688/5086 (92.1746%)
___Test Local_ResNet_18 poisoned: False, epoch: 143: Average loss: 2.0629, Accuracy: 5508/10000 (55.0800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 26.24ms
___Train Local_ResNet_18,  epoch 143, local model 92, internal_epoch   1,  Average loss: 0.0034, Accuracy: 6373/6812 (93.5555%)
___Train Local_ResNet_18,  epoch 143, local model 92, internal_epoch   2,  Average loss: 0.0043, Accuracy: 6228/6812 (91.4269%)
___Test Local_ResNet_18 poisoned: False, epoch: 143: Average loss: 2.1133, Accuracy: 5321/10000 (53.2100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 27.36ms
___Train Local_ResNet_18,  epoch 143, local model 69, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4096/4364 (93.8588%)
___Train Local_ResNet_18,  epoch 143, local model 69, internal_epoch   2,  Average loss: 0.0046, Accuracy: 3989/4364 (91.4070%)
___Test Local_ResNet_18 poisoned: False, epoch: 143: Average loss: 2.0582, Accuracy: 5484/10000 (54.8400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 27.88ms
time spent on training: 327.73435521125793
___Test Target_ResNet_18 poisoned: False, epoch: 143: Average loss: 1.2815, Accuracy: 6704/10000 (67.0400%)
___Test Target_ResNet_18 poisoned: True, epoch: 143: Average loss: 0.0690, Accuracy: 9727/9900 (98.2525%)
Done in 354.73644161224365 sec.
Server Epoch:144 choose agents : [13, 36, 58, 71, 0, 83, 23, 90, 88, 51, 9, 6, 70, 7, 75, 87, 85, 89, 84, 2].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 144, local model 13, internal_epoch   1,  Average loss: 0.0016, Accuracy: 5195/5308 (97.8711%), train_poison_data_count: 415
Global model norm: 43.977203012079165.
Norm before scaling: 43.93982257374852. Distance: 1.2380341966309283
Total norm for 4 adversaries is: 43.93982257374852. distance: 1.2380341966309283
___Test Local_ResNet_18 poisoned: True, epoch: 144: Average loss: 0.0784, Accuracy: 9691/9900 (97.8889%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 144, local model 36, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5621/5777 (97.2996%), train_poison_data_count: 455
Global model norm: 43.977203012079165.
Norm before scaling: 43.937122153425115. Distance: 1.3584461327193593
Total norm for 4 adversaries is: 43.937122153425115. distance: 1.3584461327193593
___Test Local_ResNet_18 poisoned: True, epoch: 144: Average loss: 0.0976, Accuracy: 9655/9900 (97.5253%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 144, local model 58, internal_epoch   1,  Average loss: 0.0026, Accuracy: 4970/5123 (97.0135%), train_poison_data_count: 403
Global model norm: 43.977203012079165.
Norm before scaling: 43.94273673006866. Distance: 1.283747355858625
Total norm for 4 adversaries is: 43.94273673006866. distance: 1.283747355858625
___Test Local_ResNet_18 poisoned: True, epoch: 144: Average loss: 0.0477, Accuracy: 9768/9900 (98.6667%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 144, local model 71, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5360/5503 (97.4014%), train_poison_data_count: 430
Global model norm: 43.977203012079165.
Norm before scaling: 43.94169360099173. Distance: 1.3222071128982795
Total norm for 4 adversaries is: 43.94169360099173. distance: 1.3222071128982795
___Test Local_ResNet_18 poisoned: True, epoch: 144: Average loss: 0.0421, Accuracy: 9792/9900 (98.9091%)
___Train Local_ResNet_18,  epoch 144, local model 0, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4975/5454 (91.2175%)
___Train Local_ResNet_18,  epoch 144, local model 0, internal_epoch   2,  Average loss: 0.0061, Accuracy: 4828/5454 (88.5222%)
___Test Local_ResNet_18 poisoned: False, epoch: 144: Average loss: 2.3553, Accuracy: 5073/10000 (50.7300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 27.28ms
___Train Local_ResNet_18,  epoch 144, local model 83, internal_epoch   1,  Average loss: 0.0040, Accuracy: 3274/3552 (92.1734%)
___Train Local_ResNet_18,  epoch 144, local model 83, internal_epoch   2,  Average loss: 0.0037, Accuracy: 3291/3552 (92.6520%)
___Test Local_ResNet_18 poisoned: False, epoch: 144: Average loss: 1.9819, Accuracy: 5603/10000 (56.0300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 27.88ms
___Train Local_ResNet_18,  epoch 144, local model 23, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4256/4549 (93.5590%)
___Train Local_ResNet_18,  epoch 144, local model 23, internal_epoch   2,  Average loss: 0.0058, Accuracy: 4075/4549 (89.5801%)
___Test Local_ResNet_18 poisoned: False, epoch: 144: Average loss: 1.9895, Accuracy: 5486/10000 (54.8600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.03ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 27.57ms
___Train Local_ResNet_18,  epoch 144, local model 90, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4506/4748 (94.9031%)
___Train Local_ResNet_18,  epoch 144, local model 90, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4396/4748 (92.5864%)
___Test Local_ResNet_18 poisoned: False, epoch: 144: Average loss: 2.0249, Accuracy: 5421/10000 (54.2100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.82ms
INFO:tornado.access:200 POST /update (::1) 25.73ms
___Train Local_ResNet_18,  epoch 144, local model 88, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4944/5362 (92.2044%)
___Train Local_ResNet_18,  epoch 144, local model 88, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4821/5362 (89.9105%)
___Test Local_ResNet_18 poisoned: False, epoch: 144: Average loss: 2.1811, Accuracy: 5289/10000 (52.8900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 26.50ms
___Train Local_ResNet_18,  epoch 144, local model 51, internal_epoch   1,  Average loss: 0.0039, Accuracy: 3798/4108 (92.4537%)
___Train Local_ResNet_18,  epoch 144, local model 51, internal_epoch   2,  Average loss: 0.0040, Accuracy: 3792/4108 (92.3077%)
___Test Local_ResNet_18 poisoned: False, epoch: 144: Average loss: 2.0275, Accuracy: 5497/10000 (54.9700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 27.17ms
___Train Local_ResNet_18,  epoch 144, local model 9, internal_epoch   1,  Average loss: 0.0045, Accuracy: 5240/5727 (91.4964%)
___Train Local_ResNet_18,  epoch 144, local model 9, internal_epoch   2,  Average loss: 0.0055, Accuracy: 5096/5727 (88.9820%)
___Test Local_ResNet_18 poisoned: False, epoch: 144: Average loss: 2.1518, Accuracy: 5242/10000 (52.4200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 27.51ms
___Train Local_ResNet_18,  epoch 144, local model 6, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4581/4929 (92.9397%)
___Train Local_ResNet_18,  epoch 144, local model 6, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4475/4929 (90.7892%)
___Test Local_ResNet_18 poisoned: False, epoch: 144: Average loss: 2.1074, Accuracy: 5556/10000 (55.5600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 27.61ms
___Train Local_ResNet_18,  epoch 144, local model 70, internal_epoch   1,  Average loss: 0.0034, Accuracy: 5495/5871 (93.5956%)
___Train Local_ResNet_18,  epoch 144, local model 70, internal_epoch   2,  Average loss: 0.0043, Accuracy: 5411/5871 (92.1649%)
___Test Local_ResNet_18 poisoned: False, epoch: 144: Average loss: 2.1414, Accuracy: 5331/10000 (53.3100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 26.85ms
___Train Local_ResNet_18,  epoch 144, local model 7, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4487/4869 (92.1544%)
___Train Local_ResNet_18,  epoch 144, local model 7, internal_epoch   2,  Average loss: 0.0103, Accuracy: 3936/4869 (80.8380%)
___Test Local_ResNet_18 poisoned: False, epoch: 144: Average loss: 2.3467, Accuracy: 4937/10000 (49.3700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.75ms
INFO:tornado.access:200 POST /update (::1) 27.10ms
___Train Local_ResNet_18,  epoch 144, local model 75, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4368/4672 (93.4932%)
___Train Local_ResNet_18,  epoch 144, local model 75, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4361/4672 (93.3433%)
___Test Local_ResNet_18 poisoned: False, epoch: 144: Average loss: 2.0072, Accuracy: 5583/10000 (55.8300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 27.25ms
___Train Local_ResNet_18,  epoch 144, local model 87, internal_epoch   1,  Average loss: 0.0053, Accuracy: 3593/3995 (89.9374%)
___Train Local_ResNet_18,  epoch 144, local model 87, internal_epoch   2,  Average loss: 0.0054, Accuracy: 3561/3995 (89.1364%)
___Test Local_ResNet_18 poisoned: False, epoch: 144: Average loss: 2.1863, Accuracy: 5377/10000 (53.7700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 27.31ms
___Train Local_ResNet_18,  epoch 144, local model 85, internal_epoch   1,  Average loss: 0.0048, Accuracy: 6301/6947 (90.7010%)
___Train Local_ResNet_18,  epoch 144, local model 85, internal_epoch   2,  Average loss: 0.0069, Accuracy: 5999/6947 (86.3538%)
___Test Local_ResNet_18 poisoned: False, epoch: 144: Average loss: 2.3414, Accuracy: 5009/10000 (50.0900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 26.52ms
___Train Local_ResNet_18,  epoch 144, local model 89, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4360/4737 (92.0414%)
___Train Local_ResNet_18,  epoch 144, local model 89, internal_epoch   2,  Average loss: 0.0057, Accuracy: 4299/4737 (90.7536%)
___Test Local_ResNet_18 poisoned: False, epoch: 144: Average loss: 2.1755, Accuracy: 5292/10000 (52.9200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 26.55ms
___Train Local_ResNet_18,  epoch 144, local model 84, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4791/5209 (91.9754%)
___Train Local_ResNet_18,  epoch 144, local model 84, internal_epoch   2,  Average loss: 0.0054, Accuracy: 4659/5209 (89.4414%)
___Test Local_ResNet_18 poisoned: False, epoch: 144: Average loss: 2.1830, Accuracy: 5290/10000 (52.9000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 26.59ms
___Train Local_ResNet_18,  epoch 144, local model 2, internal_epoch   1,  Average loss: 0.0032, Accuracy: 3746/3968 (94.4052%)
___Train Local_ResNet_18,  epoch 144, local model 2, internal_epoch   2,  Average loss: 0.0030, Accuracy: 3736/3968 (94.1532%)
___Test Local_ResNet_18 poisoned: False, epoch: 144: Average loss: 1.7980, Accuracy: 5842/10000 (58.4200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 27.62ms
time spent on training: 319.94305896759033
___Test Target_ResNet_18 poisoned: False, epoch: 144: Average loss: 1.2885, Accuracy: 6703/10000 (67.0300%)
___Test Target_ResNet_18 poisoned: True, epoch: 144: Average loss: 0.0688, Accuracy: 9722/9900 (98.2020%)
Done in 346.7154324054718 sec.
Server Epoch:145 choose agents : [13, 36, 58, 71, 27, 69, 59, 16, 44, 4, 1, 35, 8, 7, 23, 66, 88, 42, 52, 0].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 145, local model 13, internal_epoch   1,  Average loss: 0.0016, Accuracy: 5179/5308 (97.5697%), train_poison_data_count: 415
Global model norm: 43.99693565101651.
Norm before scaling: 43.95933873381244. Distance: 1.241527165933396
Total norm for 4 adversaries is: 43.95933873381244. distance: 1.241527165933396
___Test Local_ResNet_18 poisoned: True, epoch: 145: Average loss: 0.0272, Accuracy: 9829/9900 (99.2828%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 145, local model 36, internal_epoch   1,  Average loss: 0.0017, Accuracy: 5641/5777 (97.6458%), train_poison_data_count: 455
Global model norm: 43.99693565101651.
Norm before scaling: 43.95561476462293. Distance: 1.3142933174470182
Total norm for 4 adversaries is: 43.95561476462293. distance: 1.3142933174470182
___Test Local_ResNet_18 poisoned: True, epoch: 145: Average loss: 0.0435, Accuracy: 9791/9900 (98.8990%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 145, local model 58, internal_epoch   1,  Average loss: 0.0025, Accuracy: 4975/5123 (97.1111%), train_poison_data_count: 403
Global model norm: 43.99693565101651.
Norm before scaling: 43.96298880610399. Distance: 1.2660903075311574
Total norm for 4 adversaries is: 43.96298880610399. distance: 1.2660903075311574
___Test Local_ResNet_18 poisoned: True, epoch: 145: Average loss: 0.1330, Accuracy: 9572/9900 (96.6869%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 145, local model 71, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5351/5503 (97.2379%), train_poison_data_count: 430
Global model norm: 43.99693565101651.
Norm before scaling: 43.96193782738725. Distance: 1.3455113688186735
Total norm for 4 adversaries is: 43.96193782738725. distance: 1.3455113688186735
___Test Local_ResNet_18 poisoned: True, epoch: 145: Average loss: 0.0474, Accuracy: 9773/9900 (98.7172%)
___Train Local_ResNet_18,  epoch 145, local model 27, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4186/4587 (91.2579%)
___Train Local_ResNet_18,  epoch 145, local model 27, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4126/4587 (89.9499%)
___Test Local_ResNet_18 poisoned: False, epoch: 145: Average loss: 2.1087, Accuracy: 5404/10000 (54.0400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 20.55ms
___Train Local_ResNet_18,  epoch 145, local model 69, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4054/4364 (92.8964%)
___Train Local_ResNet_18,  epoch 145, local model 69, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4009/4364 (91.8653%)
___Test Local_ResNet_18 poisoned: False, epoch: 145: Average loss: 1.9324, Accuracy: 5631/10000 (56.3100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.80ms
INFO:tornado.access:200 POST /update (::1) 25.87ms
___Train Local_ResNet_18,  epoch 145, local model 59, internal_epoch   1,  Average loss: 0.0026, Accuracy: 4185/4397 (95.1785%)
___Train Local_ResNet_18,  epoch 145, local model 59, internal_epoch   2,  Average loss: 0.0023, Accuracy: 4208/4397 (95.7016%)
___Test Local_ResNet_18 poisoned: False, epoch: 145: Average loss: 1.8337, Accuracy: 5809/10000 (58.0900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 26.95ms
___Train Local_ResNet_18,  epoch 145, local model 16, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4939/5353 (92.2660%)
___Train Local_ResNet_18,  epoch 145, local model 16, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4820/5353 (90.0430%)
___Test Local_ResNet_18 poisoned: False, epoch: 145: Average loss: 2.3147, Accuracy: 5010/10000 (50.1000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.76ms
INFO:tornado.access:200 POST /update (::1) 26.24ms
___Train Local_ResNet_18,  epoch 145, local model 44, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4747/5075 (93.5369%)
___Train Local_ResNet_18,  epoch 145, local model 44, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4649/5075 (91.6059%)
___Test Local_ResNet_18 poisoned: False, epoch: 145: Average loss: 2.0689, Accuracy: 5459/10000 (54.5900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 26.90ms
___Train Local_ResNet_18,  epoch 145, local model 4, internal_epoch   1,  Average loss: 0.0036, Accuracy: 3740/4028 (92.8500%)
___Train Local_ResNet_18,  epoch 145, local model 4, internal_epoch   2,  Average loss: 0.0035, Accuracy: 3767/4028 (93.5204%)
___Test Local_ResNet_18 poisoned: False, epoch: 145: Average loss: 1.9552, Accuracy: 5678/10000 (56.7800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.82ms
INFO:tornado.access:200 POST /update (::1) 25.73ms
___Train Local_ResNet_18,  epoch 145, local model 1, internal_epoch   1,  Average loss: 0.0027, Accuracy: 5142/5422 (94.8359%)
___Train Local_ResNet_18,  epoch 145, local model 1, internal_epoch   2,  Average loss: 0.0036, Accuracy: 5044/5422 (93.0284%)
___Test Local_ResNet_18 poisoned: False, epoch: 145: Average loss: 2.0190, Accuracy: 5432/10000 (54.3200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 27.52ms
___Train Local_ResNet_18,  epoch 145, local model 35, internal_epoch   1,  Average loss: 0.0038, Accuracy: 5225/5615 (93.0543%)
___Train Local_ResNet_18,  epoch 145, local model 35, internal_epoch   2,  Average loss: 0.0040, Accuracy: 5158/5615 (91.8611%)
___Test Local_ResNet_18 poisoned: False, epoch: 145: Average loss: 2.0252, Accuracy: 5504/10000 (55.0400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 27.05ms
___Train Local_ResNet_18,  epoch 145, local model 8, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4552/4889 (93.1070%)
___Train Local_ResNet_18,  epoch 145, local model 8, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4468/4889 (91.3888%)
___Test Local_ResNet_18 poisoned: False, epoch: 145: Average loss: 1.9943, Accuracy: 5595/10000 (55.9500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 26.72ms
___Train Local_ResNet_18,  epoch 145, local model 7, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4464/4869 (91.6821%)
___Train Local_ResNet_18,  epoch 145, local model 7, internal_epoch   2,  Average loss: 0.0091, Accuracy: 4032/4869 (82.8096%)
___Test Local_ResNet_18 poisoned: False, epoch: 145: Average loss: 2.3014, Accuracy: 4969/10000 (49.6900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.04ms
INFO:tornado.access:200 POST /win_exists (::1) 0.64ms
INFO:tornado.access:200 POST /update (::1) 21.77ms
___Train Local_ResNet_18,  epoch 145, local model 23, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4292/4549 (94.3504%)
___Train Local_ResNet_18,  epoch 145, local model 23, internal_epoch   2,  Average loss: 0.0072, Accuracy: 3887/4549 (85.4474%)
___Test Local_ResNet_18 poisoned: False, epoch: 145: Average loss: 2.4721, Accuracy: 4893/10000 (48.9300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 27.18ms
___Train Local_ResNet_18,  epoch 145, local model 66, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4507/4843 (93.0622%)
___Train Local_ResNet_18,  epoch 145, local model 66, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4475/4843 (92.4014%)
___Test Local_ResNet_18 poisoned: False, epoch: 145: Average loss: 1.9727, Accuracy: 5633/10000 (56.3300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 27.28ms
___Train Local_ResNet_18,  epoch 145, local model 88, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4911/5362 (91.5890%)
___Train Local_ResNet_18,  epoch 145, local model 88, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4865/5362 (90.7311%)
___Test Local_ResNet_18 poisoned: False, epoch: 145: Average loss: 2.1666, Accuracy: 5202/10000 (52.0200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 26.89ms
___Train Local_ResNet_18,  epoch 145, local model 42, internal_epoch   1,  Average loss: 0.0036, Accuracy: 5485/5907 (92.8559%)
___Train Local_ResNet_18,  epoch 145, local model 42, internal_epoch   2,  Average loss: 0.0047, Accuracy: 5336/5907 (90.3335%)
___Test Local_ResNet_18 poisoned: False, epoch: 145: Average loss: 2.3551, Accuracy: 5114/10000 (51.1400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 25.70ms
___Train Local_ResNet_18,  epoch 145, local model 52, internal_epoch   1,  Average loss: 0.0035, Accuracy: 3881/4130 (93.9709%)
___Train Local_ResNet_18,  epoch 145, local model 52, internal_epoch   2,  Average loss: 0.0039, Accuracy: 3812/4130 (92.3002%)
___Test Local_ResNet_18 poisoned: False, epoch: 145: Average loss: 1.9603, Accuracy: 5676/10000 (56.7600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 26.85ms
___Train Local_ResNet_18,  epoch 145, local model 0, internal_epoch   1,  Average loss: 0.0041, Accuracy: 5046/5454 (92.5193%)
___Train Local_ResNet_18,  epoch 145, local model 0, internal_epoch   2,  Average loss: 0.0056, Accuracy: 4867/5454 (89.2373%)
___Test Local_ResNet_18 poisoned: False, epoch: 145: Average loss: 2.0806, Accuracy: 5423/10000 (54.2300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 26.77ms
time spent on training: 294.7318365573883
___Test Target_ResNet_18 poisoned: False, epoch: 145: Average loss: 1.2873, Accuracy: 6690/10000 (66.9000%)
___Test Target_ResNet_18 poisoned: True, epoch: 145: Average loss: 0.0693, Accuracy: 9720/9900 (98.1818%)
Done in 321.6201682090759 sec.
Server Epoch:146 choose agents : [13, 36, 58, 71, 54, 63, 3, 38, 67, 73, 20, 32, 49, 0, 75, 56, 10, 2, 42, 99].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 146, local model 13, internal_epoch   1,  Average loss: 0.0017, Accuracy: 5191/5308 (97.7958%), train_poison_data_count: 415
Global model norm: 44.01666221710109.
Norm before scaling: 43.980302042771804. Distance: 1.2565388836048996
Total norm for 4 adversaries is: 43.980302042771804. distance: 1.2565388836048996
___Test Local_ResNet_18 poisoned: True, epoch: 146: Average loss: 0.0170, Accuracy: 9853/9900 (99.5253%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 146, local model 36, internal_epoch   1,  Average loss: 0.0016, Accuracy: 5649/5777 (97.7843%), train_poison_data_count: 455
Global model norm: 44.01666221710109.
Norm before scaling: 43.974345270761994. Distance: 1.2831914195741798
Total norm for 4 adversaries is: 43.974345270761994. distance: 1.2831914195741798
___Test Local_ResNet_18 poisoned: True, epoch: 146: Average loss: 0.0469, Accuracy: 9778/9900 (98.7677%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 146, local model 58, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4967/5123 (96.9549%), train_poison_data_count: 403
Global model norm: 44.01666221710109.
Norm before scaling: 43.98293320239042. Distance: 1.3145206881839846
Total norm for 4 adversaries is: 43.98293320239042. distance: 1.3145206881839846
___Test Local_ResNet_18 poisoned: True, epoch: 146: Average loss: 0.1306, Accuracy: 9568/9900 (96.6465%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 146, local model 71, internal_epoch   1,  Average loss: 0.0017, Accuracy: 5370/5503 (97.5831%), train_poison_data_count: 430
Global model norm: 44.01666221710109.
Norm before scaling: 43.98011607933252. Distance: 1.2976234758017373
Total norm for 4 adversaries is: 43.98011607933252. distance: 1.2976234758017373
___Test Local_ResNet_18 poisoned: True, epoch: 146: Average loss: 0.0625, Accuracy: 9752/9900 (98.5051%)
___Train Local_ResNet_18,  epoch 146, local model 54, internal_epoch   1,  Average loss: 0.0049, Accuracy: 5127/5645 (90.8237%)
___Train Local_ResNet_18,  epoch 146, local model 54, internal_epoch   2,  Average loss: 0.0077, Accuracy: 4820/5645 (85.3853%)
___Test Local_ResNet_18 poisoned: False, epoch: 146: Average loss: 2.2488, Accuracy: 5074/10000 (50.7400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 27.63ms
___Train Local_ResNet_18,  epoch 146, local model 63, internal_epoch   1,  Average loss: 0.0035, Accuracy: 3675/3910 (93.9898%)
___Train Local_ResNet_18,  epoch 146, local model 63, internal_epoch   2,  Average loss: 0.0067, Accuracy: 3418/3910 (87.4169%)
___Test Local_ResNet_18 poisoned: False, epoch: 146: Average loss: 2.3913, Accuracy: 5095/10000 (50.9500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 27.84ms
___Train Local_ResNet_18,  epoch 146, local model 3, internal_epoch   1,  Average loss: 0.0029, Accuracy: 5070/5346 (94.8373%)
___Train Local_ResNet_18,  epoch 146, local model 3, internal_epoch   2,  Average loss: 0.0032, Accuracy: 5021/5346 (93.9207%)
___Test Local_ResNet_18 poisoned: False, epoch: 146: Average loss: 2.0260, Accuracy: 5483/10000 (54.8300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 27.87ms
___Train Local_ResNet_18,  epoch 146, local model 38, internal_epoch   1,  Average loss: 0.0051, Accuracy: 5615/6235 (90.0561%)
___Train Local_ResNet_18,  epoch 146, local model 38, internal_epoch   2,  Average loss: 0.0063, Accuracy: 5454/6235 (87.4739%)
___Test Local_ResNet_18 poisoned: False, epoch: 146: Average loss: 2.4612, Accuracy: 4871/10000 (48.7100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 27.17ms
___Train Local_ResNet_18,  epoch 146, local model 67, internal_epoch   1,  Average loss: 0.0047, Accuracy: 5044/5559 (90.7357%)
___Train Local_ResNet_18,  epoch 146, local model 67, internal_epoch   2,  Average loss: 0.0056, Accuracy: 4923/5559 (88.5591%)
___Test Local_ResNet_18 poisoned: False, epoch: 146: Average loss: 2.1703, Accuracy: 5275/10000 (52.7500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 26.66ms
___Train Local_ResNet_18,  epoch 146, local model 73, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4350/4605 (94.4625%)
___Train Local_ResNet_18,  epoch 146, local model 73, internal_epoch   2,  Average loss: 0.0033, Accuracy: 4306/4605 (93.5071%)
___Test Local_ResNet_18 poisoned: False, epoch: 146: Average loss: 2.0957, Accuracy: 5539/10000 (55.3900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.06ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 27.35ms
___Train Local_ResNet_18,  epoch 146, local model 20, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4463/4714 (94.6754%)
___Train Local_ResNet_18,  epoch 146, local model 20, internal_epoch   2,  Average loss: 0.0027, Accuracy: 4476/4714 (94.9512%)
___Test Local_ResNet_18 poisoned: False, epoch: 146: Average loss: 1.8968, Accuracy: 5710/10000 (57.1000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 27.90ms
___Train Local_ResNet_18,  epoch 146, local model 32, internal_epoch   1,  Average loss: 0.0052, Accuracy: 5464/6080 (89.8684%)
___Train Local_ResNet_18,  epoch 146, local model 32, internal_epoch   2,  Average loss: 0.0067, Accuracy: 5252/6080 (86.3816%)
___Test Local_ResNet_18 poisoned: False, epoch: 146: Average loss: 2.2877, Accuracy: 5023/10000 (50.2300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 27.67ms
___Train Local_ResNet_18,  epoch 146, local model 49, internal_epoch   1,  Average loss: 0.0045, Accuracy: 5160/5652 (91.2951%)
___Train Local_ResNet_18,  epoch 146, local model 49, internal_epoch   2,  Average loss: 0.0065, Accuracy: 4949/5652 (87.5619%)
___Test Local_ResNet_18 poisoned: False, epoch: 146: Average loss: 2.2758, Accuracy: 5127/10000 (51.2700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 27.27ms
___Train Local_ResNet_18,  epoch 146, local model 0, internal_epoch   1,  Average loss: 0.0041, Accuracy: 5042/5454 (92.4459%)
___Train Local_ResNet_18,  epoch 146, local model 0, internal_epoch   2,  Average loss: 0.0067, Accuracy: 4717/5454 (86.4870%)
___Test Local_ResNet_18 poisoned: False, epoch: 146: Average loss: 2.2607, Accuracy: 5210/10000 (52.1000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 26.89ms
___Train Local_ResNet_18,  epoch 146, local model 75, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4384/4672 (93.8356%)
___Train Local_ResNet_18,  epoch 146, local model 75, internal_epoch   2,  Average loss: 0.0033, Accuracy: 4389/4672 (93.9426%)
___Test Local_ResNet_18 poisoned: False, epoch: 146: Average loss: 1.9263, Accuracy: 5674/10000 (56.7400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 26.43ms
___Train Local_ResNet_18,  epoch 146, local model 56, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4950/5427 (91.2106%)
___Train Local_ResNet_18,  epoch 146, local model 56, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4816/5427 (88.7415%)
___Test Local_ResNet_18 poisoned: False, epoch: 146: Average loss: 2.0858, Accuracy: 5453/10000 (54.5300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 28.18ms
___Train Local_ResNet_18,  epoch 146, local model 10, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4739/5068 (93.5083%)
___Train Local_ResNet_18,  epoch 146, local model 10, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4670/5068 (92.1468%)
___Test Local_ResNet_18 poisoned: False, epoch: 146: Average loss: 2.2197, Accuracy: 5294/10000 (52.9400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 28.26ms
___Train Local_ResNet_18,  epoch 146, local model 2, internal_epoch   1,  Average loss: 0.0032, Accuracy: 3739/3968 (94.2288%)
___Train Local_ResNet_18,  epoch 146, local model 2, internal_epoch   2,  Average loss: 0.0033, Accuracy: 3713/3968 (93.5736%)
___Test Local_ResNet_18 poisoned: False, epoch: 146: Average loss: 1.8497, Accuracy: 5728/10000 (57.2800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 26.49ms
___Train Local_ResNet_18,  epoch 146, local model 42, internal_epoch   1,  Average loss: 0.0041, Accuracy: 5440/5907 (92.0941%)
___Train Local_ResNet_18,  epoch 146, local model 42, internal_epoch   2,  Average loss: 0.0048, Accuracy: 5325/5907 (90.1473%)
___Test Local_ResNet_18 poisoned: False, epoch: 146: Average loss: 2.3796, Accuracy: 5150/10000 (51.5000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 26.74ms
___Train Local_ResNet_18,  epoch 146, local model 99, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4503/4851 (92.8262%)
___Train Local_ResNet_18,  epoch 146, local model 99, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4467/4851 (92.0841%)
___Test Local_ResNet_18 poisoned: False, epoch: 146: Average loss: 2.0318, Accuracy: 5639/10000 (56.3900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 27.08ms
time spent on training: 284.71120166778564
___Test Target_ResNet_18 poisoned: False, epoch: 146: Average loss: 1.2947, Accuracy: 6698/10000 (66.9800%)
___Test Target_ResNet_18 poisoned: True, epoch: 146: Average loss: 0.0612, Accuracy: 9743/9900 (98.4141%)
Done in 311.7183003425598 sec.
Server Epoch:147 choose agents : [13, 36, 58, 71, 92, 39, 50, 63, 32, 3, 4, 22, 47, 68, 64, 51, 16, 62, 87, 35].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 147, local model 13, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5193/5308 (97.8335%), train_poison_data_count: 415
Global model norm: 44.037993240301184.
Norm before scaling: 43.99711460709668. Distance: 1.1700488803303757
Total norm for 4 adversaries is: 43.99711460709668. distance: 1.1700488803303757
___Test Local_ResNet_18 poisoned: True, epoch: 147: Average loss: 0.0700, Accuracy: 9715/9900 (98.1313%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 147, local model 36, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5659/5777 (97.9574%), train_poison_data_count: 455
Global model norm: 44.037993240301184.
Norm before scaling: 43.99417908051871. Distance: 1.2547264387613377
Total norm for 4 adversaries is: 43.99417908051871. distance: 1.2547264387613377
___Test Local_ResNet_18 poisoned: True, epoch: 147: Average loss: 0.0382, Accuracy: 9801/9900 (99.0000%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 147, local model 58, internal_epoch   1,  Average loss: 0.0024, Accuracy: 4976/5123 (97.1306%), train_poison_data_count: 403
Global model norm: 44.037993240301184.
Norm before scaling: 44.00148978745634. Distance: 1.2195907529382162
Total norm for 4 adversaries is: 44.00148978745634. distance: 1.2195907529382162
___Test Local_ResNet_18 poisoned: True, epoch: 147: Average loss: 0.0448, Accuracy: 9787/9900 (98.8586%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 147, local model 71, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5362/5503 (97.4378%), train_poison_data_count: 430
Global model norm: 44.037993240301184.
Norm before scaling: 44.00340535250866. Distance: 1.3520725588768427
Total norm for 4 adversaries is: 44.00340535250866. distance: 1.3520725588768427
___Test Local_ResNet_18 poisoned: True, epoch: 147: Average loss: 0.1284, Accuracy: 9550/9900 (96.4646%)
___Train Local_ResNet_18,  epoch 147, local model 92, internal_epoch   1,  Average loss: 0.0031, Accuracy: 6430/6812 (94.3922%)
___Train Local_ResNet_18,  epoch 147, local model 92, internal_epoch   2,  Average loss: 0.0037, Accuracy: 6327/6812 (92.8802%)
___Test Local_ResNet_18 poisoned: False, epoch: 147: Average loss: 2.0896, Accuracy: 5463/10000 (54.6300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 27.03ms
___Train Local_ResNet_18,  epoch 147, local model 39, internal_epoch   1,  Average loss: 0.0038, Accuracy: 3884/4175 (93.0299%)
___Train Local_ResNet_18,  epoch 147, local model 39, internal_epoch   2,  Average loss: 0.0055, Accuracy: 3767/4175 (90.2275%)
___Test Local_ResNet_18 poisoned: False, epoch: 147: Average loss: 2.1530, Accuracy: 5257/10000 (52.5700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.80ms
INFO:tornado.access:200 POST /update (::1) 27.92ms
___Train Local_ResNet_18,  epoch 147, local model 50, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4457/4757 (93.6935%)
___Train Local_ResNet_18,  epoch 147, local model 50, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4380/4757 (92.0748%)
___Test Local_ResNet_18 poisoned: False, epoch: 147: Average loss: 2.1464, Accuracy: 5395/10000 (53.9500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 27.77ms
___Train Local_ResNet_18,  epoch 147, local model 63, internal_epoch   1,  Average loss: 0.0034, Accuracy: 3687/3910 (94.2967%)
___Train Local_ResNet_18,  epoch 147, local model 63, internal_epoch   2,  Average loss: 0.0064, Accuracy: 3447/3910 (88.1586%)
___Test Local_ResNet_18 poisoned: False, epoch: 147: Average loss: 2.1083, Accuracy: 5332/10000 (53.3200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 27.68ms
___Train Local_ResNet_18,  epoch 147, local model 32, internal_epoch   1,  Average loss: 0.0050, Accuracy: 5462/6080 (89.8355%)
___Train Local_ResNet_18,  epoch 147, local model 32, internal_epoch   2,  Average loss: 0.0058, Accuracy: 5351/6080 (88.0099%)
___Test Local_ResNet_18 poisoned: False, epoch: 147: Average loss: 2.2871, Accuracy: 5054/10000 (50.5400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 26.40ms
___Train Local_ResNet_18,  epoch 147, local model 3, internal_epoch   1,  Average loss: 0.0033, Accuracy: 5029/5346 (94.0703%)
___Train Local_ResNet_18,  epoch 147, local model 3, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4964/5346 (92.8545%)
___Test Local_ResNet_18 poisoned: False, epoch: 147: Average loss: 2.0662, Accuracy: 5454/10000 (54.5400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 27.35ms
___Train Local_ResNet_18,  epoch 147, local model 4, internal_epoch   1,  Average loss: 0.0034, Accuracy: 3763/4028 (93.4211%)
___Train Local_ResNet_18,  epoch 147, local model 4, internal_epoch   2,  Average loss: 0.0038, Accuracy: 3723/4028 (92.4280%)
___Test Local_ResNet_18 poisoned: False, epoch: 147: Average loss: 1.9108, Accuracy: 5740/10000 (57.4000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 26.44ms
___Train Local_ResNet_18,  epoch 147, local model 22, internal_epoch   1,  Average loss: 0.0032, Accuracy: 5343/5696 (93.8027%)
___Train Local_ResNet_18,  epoch 147, local model 22, internal_epoch   2,  Average loss: 0.0040, Accuracy: 5249/5696 (92.1524%)
___Test Local_ResNet_18 poisoned: False, epoch: 147: Average loss: 1.8927, Accuracy: 5594/10000 (55.9400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /win_exists (::1) 0.80ms
INFO:tornado.access:200 POST /update (::1) 25.07ms
___Train Local_ResNet_18,  epoch 147, local model 47, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4706/5123 (91.8602%)
___Train Local_ResNet_18,  epoch 147, local model 47, internal_epoch   2,  Average loss: 0.0108, Accuracy: 4143/5123 (80.8706%)
___Test Local_ResNet_18 poisoned: False, epoch: 147: Average loss: 2.2193, Accuracy: 5033/10000 (50.3300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 27.40ms
___Train Local_ResNet_18,  epoch 147, local model 68, internal_epoch   1,  Average loss: 0.0037, Accuracy: 3367/3589 (93.8144%)
___Train Local_ResNet_18,  epoch 147, local model 68, internal_epoch   2,  Average loss: 0.0060, Accuracy: 3185/3589 (88.7434%)
___Test Local_ResNet_18 poisoned: False, epoch: 147: Average loss: 2.0626, Accuracy: 5473/10000 (54.7300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 28.36ms
___Train Local_ResNet_18,  epoch 147, local model 64, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4511/4894 (92.1741%)
___Train Local_ResNet_18,  epoch 147, local model 64, internal_epoch   2,  Average loss: 0.0059, Accuracy: 4296/4894 (87.7810%)
___Test Local_ResNet_18 poisoned: False, epoch: 147: Average loss: 2.2441, Accuracy: 5259/10000 (52.5900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 28.32ms
___Train Local_ResNet_18,  epoch 147, local model 51, internal_epoch   1,  Average loss: 0.0033, Accuracy: 3874/4108 (94.3038%)
___Train Local_ResNet_18,  epoch 147, local model 51, internal_epoch   2,  Average loss: 0.0044, Accuracy: 3769/4108 (91.7478%)
___Test Local_ResNet_18 poisoned: False, epoch: 147: Average loss: 2.2057, Accuracy: 5370/10000 (53.7000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 26.81ms
___Train Local_ResNet_18,  epoch 147, local model 16, internal_epoch   1,  Average loss: 0.0036, Accuracy: 5002/5353 (93.4429%)
___Train Local_ResNet_18,  epoch 147, local model 16, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4851/5353 (90.6221%)
___Test Local_ResNet_18 poisoned: False, epoch: 147: Average loss: 2.0233, Accuracy: 5416/10000 (54.1600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 27.41ms
___Train Local_ResNet_18,  epoch 147, local model 62, internal_epoch   1,  Average loss: 0.0056, Accuracy: 4896/5504 (88.9535%)
___Train Local_ResNet_18,  epoch 147, local model 62, internal_epoch   2,  Average loss: 0.0058, Accuracy: 4862/5504 (88.3358%)
___Test Local_ResNet_18 poisoned: False, epoch: 147: Average loss: 2.2846, Accuracy: 5138/10000 (51.3800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 21.50ms
___Train Local_ResNet_18,  epoch 147, local model 87, internal_epoch   1,  Average loss: 0.0046, Accuracy: 3640/3995 (91.1139%)
___Train Local_ResNet_18,  epoch 147, local model 87, internal_epoch   2,  Average loss: 0.0048, Accuracy: 3607/3995 (90.2879%)
___Test Local_ResNet_18 poisoned: False, epoch: 147: Average loss: 2.0980, Accuracy: 5363/10000 (53.6300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /win_exists (::1) 0.74ms
INFO:tornado.access:200 POST /update (::1) 22.73ms
___Train Local_ResNet_18,  epoch 147, local model 35, internal_epoch   1,  Average loss: 0.0039, Accuracy: 5194/5615 (92.5022%)
___Train Local_ResNet_18,  epoch 147, local model 35, internal_epoch   2,  Average loss: 0.0041, Accuracy: 5139/5615 (91.5227%)
___Test Local_ResNet_18 poisoned: False, epoch: 147: Average loss: 2.1133, Accuracy: 5373/10000 (53.7300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 28.10ms
time spent on training: 286.9151268005371
___Test Target_ResNet_18 poisoned: False, epoch: 147: Average loss: 1.3068, Accuracy: 6686/10000 (66.8600%)
___Test Target_ResNet_18 poisoned: True, epoch: 147: Average loss: 0.0604, Accuracy: 9743/9900 (98.4141%)
Done in 313.6114058494568 sec.
Server Epoch:148 choose agents : [13, 36, 58, 71, 34, 96, 45, 52, 66, 63, 32, 29, 57, 44, 77, 79, 94, 64, 51, 53].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 148, local model 13, internal_epoch   1,  Average loss: 0.0016, Accuracy: 5174/5308 (97.4755%), train_poison_data_count: 415
Global model norm: 44.05839270528871.
Norm before scaling: 44.02168433177279. Distance: 1.2624038867434921
Total norm for 4 adversaries is: 44.02168433177279. distance: 1.2624038867434921
___Test Local_ResNet_18 poisoned: True, epoch: 148: Average loss: 0.0473, Accuracy: 9783/9900 (98.8182%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 148, local model 36, internal_epoch   1,  Average loss: 0.0016, Accuracy: 5637/5777 (97.5766%), train_poison_data_count: 455
Global model norm: 44.05839270528871.
Norm before scaling: 44.01604377241326. Distance: 1.3073117025392722
Total norm for 4 adversaries is: 44.01604377241326. distance: 1.3073117025392722
___Test Local_ResNet_18 poisoned: True, epoch: 148: Average loss: 0.0909, Accuracy: 9660/9900 (97.5758%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 148, local model 58, internal_epoch   1,  Average loss: 0.0024, Accuracy: 4982/5123 (97.2477%), train_poison_data_count: 403
Global model norm: 44.05839270528871.
Norm before scaling: 44.02189784907478. Distance: 1.2257381998140293
Total norm for 4 adversaries is: 44.02189784907478. distance: 1.2257381998140293
___Test Local_ResNet_18 poisoned: True, epoch: 148: Average loss: 0.0856, Accuracy: 9676/9900 (97.7374%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 148, local model 71, internal_epoch   1,  Average loss: 0.0017, Accuracy: 5356/5503 (97.3287%), train_poison_data_count: 430
Global model norm: 44.05839270528871.
Norm before scaling: 44.02027425969127. Distance: 1.2984322080722392
Total norm for 4 adversaries is: 44.02027425969127. distance: 1.2984322080722392
___Test Local_ResNet_18 poisoned: True, epoch: 148: Average loss: 0.0478, Accuracy: 9779/9900 (98.7778%)
___Train Local_ResNet_18,  epoch 148, local model 34, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4621/4911 (94.0949%)
___Train Local_ResNet_18,  epoch 148, local model 34, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4551/4911 (92.6695%)
___Test Local_ResNet_18 poisoned: False, epoch: 148: Average loss: 2.1240, Accuracy: 5338/10000 (53.3800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 27.18ms
___Train Local_ResNet_18,  epoch 148, local model 96, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4749/5086 (93.3740%)
___Train Local_ResNet_18,  epoch 148, local model 96, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4702/5086 (92.4499%)
___Test Local_ResNet_18 poisoned: False, epoch: 148: Average loss: 1.9580, Accuracy: 5567/10000 (55.6700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.03ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 26.40ms
___Train Local_ResNet_18,  epoch 148, local model 45, internal_epoch   1,  Average loss: 0.0046, Accuracy: 5000/5489 (91.0913%)
___Train Local_ResNet_18,  epoch 148, local model 45, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4987/5489 (90.8544%)
___Test Local_ResNet_18 poisoned: False, epoch: 148: Average loss: 2.1552, Accuracy: 5341/10000 (53.4100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.05ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 27.85ms
___Train Local_ResNet_18,  epoch 148, local model 52, internal_epoch   1,  Average loss: 0.0033, Accuracy: 3883/4130 (94.0194%)
___Train Local_ResNet_18,  epoch 148, local model 52, internal_epoch   2,  Average loss: 0.0035, Accuracy: 3851/4130 (93.2446%)
___Test Local_ResNet_18 poisoned: False, epoch: 148: Average loss: 1.9659, Accuracy: 5611/10000 (56.1100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 27.63ms
___Train Local_ResNet_18,  epoch 148, local model 66, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4488/4843 (92.6698%)
___Train Local_ResNet_18,  epoch 148, local model 66, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4411/4843 (91.0799%)
___Test Local_ResNet_18 poisoned: False, epoch: 148: Average loss: 2.2104, Accuracy: 5302/10000 (53.0200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 27.65ms
___Train Local_ResNet_18,  epoch 148, local model 63, internal_epoch   1,  Average loss: 0.0035, Accuracy: 3669/3910 (93.8363%)
___Train Local_ResNet_18,  epoch 148, local model 63, internal_epoch   2,  Average loss: 0.0048, Accuracy: 3564/3910 (91.1509%)
___Test Local_ResNet_18 poisoned: False, epoch: 148: Average loss: 2.1748, Accuracy: 5319/10000 (53.1900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 28.05ms
___Train Local_ResNet_18,  epoch 148, local model 32, internal_epoch   1,  Average loss: 0.0050, Accuracy: 5490/6080 (90.2961%)
___Train Local_ResNet_18,  epoch 148, local model 32, internal_epoch   2,  Average loss: 0.0064, Accuracy: 5303/6080 (87.2204%)
___Test Local_ResNet_18 poisoned: False, epoch: 148: Average loss: 2.2195, Accuracy: 5102/10000 (51.0200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 27.70ms
___Train Local_ResNet_18,  epoch 148, local model 29, internal_epoch   1,  Average loss: 0.0028, Accuracy: 4492/4732 (94.9281%)
___Train Local_ResNet_18,  epoch 148, local model 29, internal_epoch   2,  Average loss: 0.0028, Accuracy: 4470/4732 (94.4632%)
___Test Local_ResNet_18 poisoned: False, epoch: 148: Average loss: 1.8490, Accuracy: 5811/10000 (58.1100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 27.85ms
___Train Local_ResNet_18,  epoch 148, local model 57, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4634/4956 (93.5028%)
___Train Local_ResNet_18,  epoch 148, local model 57, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4506/4956 (90.9201%)
___Test Local_ResNet_18 poisoned: False, epoch: 148: Average loss: 2.2791, Accuracy: 5175/10000 (51.7500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.03ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 26.73ms
___Train Local_ResNet_18,  epoch 148, local model 44, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4735/5075 (93.3005%)
___Train Local_ResNet_18,  epoch 148, local model 44, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4557/5075 (89.7931%)
___Test Local_ResNet_18 poisoned: False, epoch: 148: Average loss: 2.1698, Accuracy: 5347/10000 (53.4700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.76ms
INFO:tornado.access:200 POST /update (::1) 26.52ms
___Train Local_ResNet_18,  epoch 148, local model 77, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4585/5050 (90.7921%)
___Train Local_ResNet_18,  epoch 148, local model 77, internal_epoch   2,  Average loss: 0.0060, Accuracy: 4453/5050 (88.1782%)
___Test Local_ResNet_18 poisoned: False, epoch: 148: Average loss: 2.2162, Accuracy: 5122/10000 (51.2200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 26.47ms
___Train Local_ResNet_18,  epoch 148, local model 79, internal_epoch   1,  Average loss: 0.0033, Accuracy: 3867/4111 (94.0647%)
___Train Local_ResNet_18,  epoch 148, local model 79, internal_epoch   2,  Average loss: 0.0038, Accuracy: 3811/4111 (92.7025%)
___Test Local_ResNet_18 poisoned: False, epoch: 148: Average loss: 2.0925, Accuracy: 5425/10000 (54.2500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 27.43ms
___Train Local_ResNet_18,  epoch 148, local model 94, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4788/5224 (91.6539%)
___Train Local_ResNet_18,  epoch 148, local model 94, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4778/5224 (91.4625%)
___Test Local_ResNet_18 poisoned: False, epoch: 148: Average loss: 1.9575, Accuracy: 5618/10000 (56.1800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 27.32ms
___Train Local_ResNet_18,  epoch 148, local model 64, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4546/4894 (92.8893%)
___Train Local_ResNet_18,  epoch 148, local model 64, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4433/4894 (90.5803%)
___Test Local_ResNet_18 poisoned: False, epoch: 148: Average loss: 2.1230, Accuracy: 5340/10000 (53.4000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 27.01ms
___Train Local_ResNet_18,  epoch 148, local model 51, internal_epoch   1,  Average loss: 0.0034, Accuracy: 3868/4108 (94.1577%)
___Train Local_ResNet_18,  epoch 148, local model 51, internal_epoch   2,  Average loss: 0.0037, Accuracy: 3840/4108 (93.4761%)
___Test Local_ResNet_18 poisoned: False, epoch: 148: Average loss: 2.0713, Accuracy: 5442/10000 (54.4200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 27.20ms
___Train Local_ResNet_18,  epoch 148, local model 53, internal_epoch   1,  Average loss: 0.0056, Accuracy: 5948/6664 (89.2557%)
___Train Local_ResNet_18,  epoch 148, local model 53, internal_epoch   2,  Average loss: 0.0075, Accuracy: 5692/6664 (85.4142%)
___Test Local_ResNet_18 poisoned: False, epoch: 148: Average loss: 2.2966, Accuracy: 4913/10000 (49.1300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 28.77ms
time spent on training: 298.41046929359436
___Test Target_ResNet_18 poisoned: False, epoch: 148: Average loss: 1.3106, Accuracy: 6692/10000 (66.9200%)
___Test Target_ResNet_18 poisoned: True, epoch: 148: Average loss: 0.0578, Accuracy: 9749/9900 (98.4747%)
Done in 326.51228070259094 sec.
Server Epoch:149 choose agents : [13, 36, 58, 71, 69, 1, 68, 16, 44, 2, 45, 27, 14, 83, 87, 12, 50, 43, 37, 72].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 149, local model 13, internal_epoch   1,  Average loss: 0.0016, Accuracy: 5179/5308 (97.5697%), train_poison_data_count: 415
Global model norm: 44.077294169766425.
Norm before scaling: 44.04027725284904. Distance: 1.265532549083433
Total norm for 4 adversaries is: 44.04027725284904. distance: 1.265532549083433
___Test Local_ResNet_18 poisoned: True, epoch: 149: Average loss: 0.0861, Accuracy: 9657/9900 (97.5455%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 149, local model 36, internal_epoch   1,  Average loss: 0.0017, Accuracy: 5630/5777 (97.4554%), train_poison_data_count: 455
Global model norm: 44.077294169766425.
Norm before scaling: 44.035210132862005. Distance: 1.3207430617153644
Total norm for 4 adversaries is: 44.035210132862005. distance: 1.3207430617153644
___Test Local_ResNet_18 poisoned: True, epoch: 149: Average loss: 0.0495, Accuracy: 9766/9900 (98.6465%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 149, local model 58, internal_epoch   1,  Average loss: 0.0025, Accuracy: 4968/5123 (96.9744%), train_poison_data_count: 403
Global model norm: 44.077294169766425.
Norm before scaling: 44.043730765303735. Distance: 1.3097027534574173
Total norm for 4 adversaries is: 44.043730765303735. distance: 1.3097027534574173
___Test Local_ResNet_18 poisoned: True, epoch: 149: Average loss: 0.1654, Accuracy: 9471/9900 (95.6667%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 149, local model 71, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5352/5503 (97.2560%), train_poison_data_count: 430
Global model norm: 44.077294169766425.
Norm before scaling: 44.04044355981571. Distance: 1.3257553502679287
Total norm for 4 adversaries is: 44.04044355981571. distance: 1.3257553502679287
___Test Local_ResNet_18 poisoned: True, epoch: 149: Average loss: 0.0203, Accuracy: 9856/9900 (99.5556%)
___Train Local_ResNet_18,  epoch 149, local model 69, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4091/4364 (93.7443%)
___Train Local_ResNet_18,  epoch 149, local model 69, internal_epoch   2,  Average loss: 0.0054, Accuracy: 3934/4364 (90.1467%)
___Test Local_ResNet_18 poisoned: False, epoch: 149: Average loss: 2.0097, Accuracy: 5469/10000 (54.6900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.76ms
INFO:tornado.access:200 POST /update (::1) 27.22ms
___Train Local_ResNet_18,  epoch 149, local model 1, internal_epoch   1,  Average loss: 0.0032, Accuracy: 5072/5422 (93.5448%)
___Train Local_ResNet_18,  epoch 149, local model 1, internal_epoch   2,  Average loss: 0.0039, Accuracy: 5014/5422 (92.4751%)
___Test Local_ResNet_18 poisoned: False, epoch: 149: Average loss: 1.9741, Accuracy: 5504/10000 (55.0400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 26.62ms
___Train Local_ResNet_18,  epoch 149, local model 68, internal_epoch   1,  Average loss: 0.0039, Accuracy: 3353/3589 (93.4244%)
___Train Local_ResNet_18,  epoch 149, local model 68, internal_epoch   2,  Average loss: 0.0075, Accuracy: 3110/3589 (86.6537%)
___Test Local_ResNet_18 poisoned: False, epoch: 149: Average loss: 2.3527, Accuracy: 5032/10000 (50.3200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 28.04ms
___Train Local_ResNet_18,  epoch 149, local model 16, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4921/5353 (91.9298%)
___Train Local_ResNet_18,  epoch 149, local model 16, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4810/5353 (89.8562%)
___Test Local_ResNet_18 poisoned: False, epoch: 149: Average loss: 2.2404, Accuracy: 5198/10000 (51.9800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.81ms
INFO:tornado.access:200 POST /update (::1) 27.17ms
___Train Local_ResNet_18,  epoch 149, local model 44, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4742/5075 (93.4384%)
___Train Local_ResNet_18,  epoch 149, local model 44, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4643/5075 (91.4877%)
___Test Local_ResNet_18 poisoned: False, epoch: 149: Average loss: 2.1370, Accuracy: 5483/10000 (54.8300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 27.19ms
___Train Local_ResNet_18,  epoch 149, local model 2, internal_epoch   1,  Average loss: 0.0036, Accuracy: 3685/3968 (92.8679%)
___Train Local_ResNet_18,  epoch 149, local model 2, internal_epoch   2,  Average loss: 0.0040, Accuracy: 3650/3968 (91.9859%)
___Test Local_ResNet_18 poisoned: False, epoch: 149: Average loss: 1.9639, Accuracy: 5561/10000 (55.6100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 26.88ms
___Train Local_ResNet_18,  epoch 149, local model 45, internal_epoch   1,  Average loss: 0.0039, Accuracy: 5081/5489 (92.5670%)
___Train Local_ResNet_18,  epoch 149, local model 45, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4999/5489 (91.0731%)
___Test Local_ResNet_18 poisoned: False, epoch: 149: Average loss: 2.1438, Accuracy: 5272/10000 (52.7200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 26.68ms
___Train Local_ResNet_18,  epoch 149, local model 27, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4241/4587 (92.4569%)
___Train Local_ResNet_18,  epoch 149, local model 27, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4188/4587 (91.3015%)
___Test Local_ResNet_18 poisoned: False, epoch: 149: Average loss: 2.0182, Accuracy: 5508/10000 (55.0800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.76ms
INFO:tornado.access:200 POST /update (::1) 27.51ms
___Train Local_ResNet_18,  epoch 149, local model 14, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4003/4196 (95.4004%)
___Train Local_ResNet_18,  epoch 149, local model 14, internal_epoch   2,  Average loss: 0.0027, Accuracy: 3984/4196 (94.9476%)
___Test Local_ResNet_18 poisoned: False, epoch: 149: Average loss: 1.8981, Accuracy: 5737/10000 (57.3700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 27.24ms
___Train Local_ResNet_18,  epoch 149, local model 83, internal_epoch   1,  Average loss: 0.0041, Accuracy: 3282/3552 (92.3986%)
___Train Local_ResNet_18,  epoch 149, local model 83, internal_epoch   2,  Average loss: 0.0037, Accuracy: 3316/3552 (93.3559%)
___Test Local_ResNet_18 poisoned: False, epoch: 149: Average loss: 1.8910, Accuracy: 5713/10000 (57.1300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 27.85ms
___Train Local_ResNet_18,  epoch 149, local model 87, internal_epoch   1,  Average loss: 0.0049, Accuracy: 3622/3995 (90.6633%)
___Train Local_ResNet_18,  epoch 149, local model 87, internal_epoch   2,  Average loss: 0.0056, Accuracy: 3561/3995 (89.1364%)
___Test Local_ResNet_18 poisoned: False, epoch: 149: Average loss: 2.2769, Accuracy: 5116/10000 (51.1600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 27.17ms
___Train Local_ResNet_18,  epoch 149, local model 12, internal_epoch   1,  Average loss: 0.0045, Accuracy: 5061/5526 (91.5852%)
___Train Local_ResNet_18,  epoch 149, local model 12, internal_epoch   2,  Average loss: 0.0058, Accuracy: 4900/5526 (88.6717%)
___Test Local_ResNet_18 poisoned: False, epoch: 149: Average loss: 2.2032, Accuracy: 5223/10000 (52.2300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 21.70ms
___Train Local_ResNet_18,  epoch 149, local model 50, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4435/4757 (93.2310%)
___Train Local_ResNet_18,  epoch 149, local model 50, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4457/4757 (93.6935%)
___Test Local_ResNet_18 poisoned: False, epoch: 149: Average loss: 1.9550, Accuracy: 5649/10000 (56.4900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.75ms
INFO:tornado.access:200 POST /update (::1) 27.88ms
___Train Local_ResNet_18,  epoch 149, local model 43, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4600/4979 (92.3880%)
___Train Local_ResNet_18,  epoch 149, local model 43, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4560/4979 (91.5847%)
___Test Local_ResNet_18 poisoned: False, epoch: 149: Average loss: 2.2142, Accuracy: 5424/10000 (54.2400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 28.29ms
___Train Local_ResNet_18,  epoch 149, local model 37, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4385/4741 (92.4910%)
___Train Local_ResNet_18,  epoch 149, local model 37, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4290/4741 (90.4872%)
___Test Local_ResNet_18 poisoned: False, epoch: 149: Average loss: 2.2037, Accuracy: 5330/10000 (53.3000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 27.12ms
___Train Local_ResNet_18,  epoch 149, local model 72, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4751/5193 (91.4885%)
___Train Local_ResNet_18,  epoch 149, local model 72, internal_epoch   2,  Average loss: 0.0063, Accuracy: 4559/5193 (87.7913%)
___Test Local_ResNet_18 poisoned: False, epoch: 149: Average loss: 2.3521, Accuracy: 5164/10000 (51.6400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 26.47ms
time spent on training: 294.18246507644653
___Test Target_ResNet_18 poisoned: False, epoch: 149: Average loss: 1.3154, Accuracy: 6651/10000 (66.5100%)
___Test Target_ResNet_18 poisoned: True, epoch: 149: Average loss: 0.0569, Accuracy: 9750/9900 (98.4848%)
Done in 321.1383056640625 sec.
Server Epoch:150 choose agents : [13, 36, 58, 71, 63, 26, 6, 29, 91, 4, 39, 1, 80, 62, 89, 20, 33, 74, 93, 65].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 150, local model 13, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5219/5308 (98.3233%), train_poison_data_count: 415
Global model norm: 44.09665259980413.
Norm before scaling: 44.05701151544297. Distance: 1.1855939827472872
Total norm for 4 adversaries is: 44.05701151544297. distance: 1.1855939827472872
___Test Local_ResNet_18 poisoned: True, epoch: 150: Average loss: 0.0255, Accuracy: 9834/9900 (99.3333%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 150, local model 36, internal_epoch   1,  Average loss: 0.0017, Accuracy: 5643/5777 (97.6805%), train_poison_data_count: 455
Global model norm: 44.09665259980413.
Norm before scaling: 44.05310599107556. Distance: 1.2829449769915044
Total norm for 4 adversaries is: 44.05310599107556. distance: 1.2829449769915044
___Test Local_ResNet_18 poisoned: True, epoch: 150: Average loss: 0.0484, Accuracy: 9765/9900 (98.6364%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 150, local model 58, internal_epoch   1,  Average loss: 0.0025, Accuracy: 4967/5123 (96.9549%), train_poison_data_count: 403
Global model norm: 44.09665259980413.
Norm before scaling: 44.06015341712538. Distance: 1.2528571853413988
Total norm for 4 adversaries is: 44.06015341712538. distance: 1.2528571853413988
___Test Local_ResNet_18 poisoned: True, epoch: 150: Average loss: 0.1884, Accuracy: 9402/9900 (94.9697%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 150, local model 71, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5350/5503 (97.2197%), train_poison_data_count: 430
Global model norm: 44.09665259980413.
Norm before scaling: 44.060084153630484. Distance: 1.3335917887927464
Total norm for 4 adversaries is: 44.060084153630484. distance: 1.3335917887927464
___Test Local_ResNet_18 poisoned: True, epoch: 150: Average loss: 0.0571, Accuracy: 9763/9900 (98.6162%)
___Train Local_ResNet_18,  epoch 150, local model 63, internal_epoch   1,  Average loss: 0.0032, Accuracy: 3683/3910 (94.1944%)
___Train Local_ResNet_18,  epoch 150, local model 63, internal_epoch   2,  Average loss: 0.0045, Accuracy: 3571/3910 (91.3299%)
___Test Local_ResNet_18 poisoned: False, epoch: 150: Average loss: 2.0163, Accuracy: 5503/10000 (55.0300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 28.37ms
___Train Local_ResNet_18,  epoch 150, local model 26, internal_epoch   1,  Average loss: 0.0031, Accuracy: 3843/4086 (94.0529%)
___Train Local_ResNet_18,  epoch 150, local model 26, internal_epoch   2,  Average loss: 0.0030, Accuracy: 3848/4086 (94.1752%)
___Test Local_ResNet_18 poisoned: False, epoch: 150: Average loss: 1.9967, Accuracy: 5654/10000 (56.5400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 28.38ms
___Train Local_ResNet_18,  epoch 150, local model 6, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4634/4929 (94.0150%)
___Train Local_ResNet_18,  epoch 150, local model 6, internal_epoch   2,  Average loss: 0.0056, Accuracy: 4487/4929 (91.0327%)
___Test Local_ResNet_18 poisoned: False, epoch: 150: Average loss: 2.2049, Accuracy: 5366/10000 (53.6600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 27.10ms
___Train Local_ResNet_18,  epoch 150, local model 29, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4477/4732 (94.6112%)
___Train Local_ResNet_18,  epoch 150, local model 29, internal_epoch   2,  Average loss: 0.0029, Accuracy: 4461/4732 (94.2730%)
___Test Local_ResNet_18 poisoned: False, epoch: 150: Average loss: 1.8832, Accuracy: 5778/10000 (57.7800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 26.70ms
___Train Local_ResNet_18,  epoch 150, local model 91, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4153/4527 (91.7385%)
___Train Local_ResNet_18,  epoch 150, local model 91, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4045/4527 (89.3528%)
___Test Local_ResNet_18 poisoned: False, epoch: 150: Average loss: 2.2331, Accuracy: 5075/10000 (50.7500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 27.13ms
___Train Local_ResNet_18,  epoch 150, local model 4, internal_epoch   1,  Average loss: 0.0033, Accuracy: 3777/4028 (93.7686%)
___Train Local_ResNet_18,  epoch 150, local model 4, internal_epoch   2,  Average loss: 0.0038, Accuracy: 3745/4028 (92.9742%)
___Test Local_ResNet_18 poisoned: False, epoch: 150: Average loss: 1.9792, Accuracy: 5702/10000 (57.0200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 27.37ms
___Train Local_ResNet_18,  epoch 150, local model 39, internal_epoch   1,  Average loss: 0.0038, Accuracy: 3872/4175 (92.7425%)
___Train Local_ResNet_18,  epoch 150, local model 39, internal_epoch   2,  Average loss: 0.0047, Accuracy: 3776/4175 (90.4431%)
___Test Local_ResNet_18 poisoned: False, epoch: 150: Average loss: 1.9993, Accuracy: 5537/10000 (55.3700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 26.87ms
___Train Local_ResNet_18,  epoch 150, local model 1, internal_epoch   1,  Average loss: 0.0026, Accuracy: 5169/5422 (95.3338%)
___Train Local_ResNet_18,  epoch 150, local model 1, internal_epoch   2,  Average loss: 0.0032, Accuracy: 5112/5422 (94.2826%)
___Test Local_ResNet_18 poisoned: False, epoch: 150: Average loss: 1.8955, Accuracy: 5812/10000 (58.1200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 27.55ms
___Train Local_ResNet_18,  epoch 150, local model 80, internal_epoch   1,  Average loss: 0.0037, Accuracy: 5037/5461 (92.2359%)
___Train Local_ResNet_18,  epoch 150, local model 80, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4971/5461 (91.0273%)
___Test Local_ResNet_18 poisoned: False, epoch: 150: Average loss: 2.2684, Accuracy: 5130/10000 (51.3000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 27.20ms
___Train Local_ResNet_18,  epoch 150, local model 62, internal_epoch   1,  Average loss: 0.0053, Accuracy: 4922/5504 (89.4259%)
___Train Local_ResNet_18,  epoch 150, local model 62, internal_epoch   2,  Average loss: 0.0060, Accuracy: 4840/5504 (87.9360%)
___Test Local_ResNet_18 poisoned: False, epoch: 150: Average loss: 2.2052, Accuracy: 5131/10000 (51.3100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 26.85ms
___Train Local_ResNet_18,  epoch 150, local model 89, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4393/4737 (92.7380%)
___Train Local_ResNet_18,  epoch 150, local model 89, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4317/4737 (91.1336%)
___Test Local_ResNet_18 poisoned: False, epoch: 150: Average loss: 2.3478, Accuracy: 5115/10000 (51.1500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 28.09ms
___Train Local_ResNet_18,  epoch 150, local model 20, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4438/4714 (94.1451%)
___Train Local_ResNet_18,  epoch 150, local model 20, internal_epoch   2,  Average loss: 0.0032, Accuracy: 4419/4714 (93.7420%)
___Test Local_ResNet_18 poisoned: False, epoch: 150: Average loss: 1.8881, Accuracy: 5621/10000 (56.2100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 28.05ms
___Train Local_ResNet_18,  epoch 150, local model 33, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4448/4818 (92.3205%)
___Train Local_ResNet_18,  epoch 150, local model 33, internal_epoch   2,  Average loss: 0.0056, Accuracy: 4294/4818 (89.1241%)
___Test Local_ResNet_18 poisoned: False, epoch: 150: Average loss: 1.9800, Accuracy: 5609/10000 (56.0900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 27.12ms
___Train Local_ResNet_18,  epoch 150, local model 74, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4410/4797 (91.9325%)
___Train Local_ResNet_18,  epoch 150, local model 74, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4328/4797 (90.2231%)
___Test Local_ResNet_18 poisoned: False, epoch: 150: Average loss: 2.1678, Accuracy: 5366/10000 (53.6600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 27.36ms
___Train Local_ResNet_18,  epoch 150, local model 93, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4664/5055 (92.2651%)
___Train Local_ResNet_18,  epoch 150, local model 93, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4566/5055 (90.3264%)
___Test Local_ResNet_18 poisoned: False, epoch: 150: Average loss: 2.2872, Accuracy: 5152/10000 (51.5200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 27.42ms
___Train Local_ResNet_18,  epoch 150, local model 65, internal_epoch   1,  Average loss: 0.0040, Accuracy: 5073/5497 (92.2867%)
___Train Local_ResNet_18,  epoch 150, local model 65, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4944/5497 (89.9400%)
___Test Local_ResNet_18 poisoned: False, epoch: 150: Average loss: 2.2249, Accuracy: 5215/10000 (52.1500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /win_exists (::1) 0.74ms
INFO:tornado.access:200 POST /update (::1) 25.64ms
time spent on training: 286.5770766735077
___Test Target_ResNet_18 poisoned: False, epoch: 150: Average loss: 1.3147, Accuracy: 6656/10000 (66.5600%)
___Test Target_ResNet_18 poisoned: True, epoch: 150: Average loss: 0.0594, Accuracy: 9742/9900 (98.4040%)
Done in 313.53827381134033 sec.
Server Epoch:151 choose agents : [13, 36, 58, 71, 4, 98, 5, 17, 65, 46, 15, 48, 68, 94, 2, 93, 43, 10, 26, 88].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 151, local model 13, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5211/5308 (98.1726%), train_poison_data_count: 415
Global model norm: 44.11540761970952.
Norm before scaling: 44.0752142560731. Distance: 1.1637366946204488
Total norm for 4 adversaries is: 44.0752142560731. distance: 1.1637366946204488
___Test Local_ResNet_18 poisoned: True, epoch: 151: Average loss: 0.0903, Accuracy: 9664/9900 (97.6162%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 151, local model 36, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5667/5777 (98.0959%), train_poison_data_count: 455
Global model norm: 44.11540761970952.
Norm before scaling: 44.07010821947868. Distance: 1.2067291968215859
Total norm for 4 adversaries is: 44.07010821947868. distance: 1.2067291968215859
___Test Local_ResNet_18 poisoned: True, epoch: 151: Average loss: 0.0818, Accuracy: 9694/9900 (97.9192%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 151, local model 58, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4964/5123 (96.8963%), train_poison_data_count: 403
Global model norm: 44.11540761970952.
Norm before scaling: 44.081941079050445. Distance: 1.3205345463680798
Total norm for 4 adversaries is: 44.081941079050445. distance: 1.3205345463680798
___Test Local_ResNet_18 poisoned: True, epoch: 151: Average loss: 0.0329, Accuracy: 9807/9900 (99.0606%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 151, local model 71, internal_epoch   1,  Average loss: 0.0016, Accuracy: 5375/5503 (97.6740%), train_poison_data_count: 430
Global model norm: 44.11540761970952.
Norm before scaling: 44.07618221746511. Distance: 1.2186188749542304
Total norm for 4 adversaries is: 44.07618221746511. distance: 1.2186188749542304
___Test Local_ResNet_18 poisoned: True, epoch: 151: Average loss: 0.0387, Accuracy: 9797/9900 (98.9596%)
___Train Local_ResNet_18,  epoch 151, local model 4, internal_epoch   1,  Average loss: 0.0035, Accuracy: 3752/4028 (93.1480%)
___Train Local_ResNet_18,  epoch 151, local model 4, internal_epoch   2,  Average loss: 0.0033, Accuracy: 3777/4028 (93.7686%)
___Test Local_ResNet_18 poisoned: False, epoch: 151: Average loss: 1.8583, Accuracy: 5836/10000 (58.3600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 28.25ms
___Train Local_ResNet_18,  epoch 151, local model 98, internal_epoch   1,  Average loss: 0.0038, Accuracy: 3941/4161 (94.7128%)
___Train Local_ResNet_18,  epoch 151, local model 98, internal_epoch   2,  Average loss: 0.0047, Accuracy: 3847/4161 (92.4537%)
___Test Local_ResNet_18 poisoned: False, epoch: 151: Average loss: 1.9992, Accuracy: 5627/10000 (56.2700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 27.76ms
___Train Local_ResNet_18,  epoch 151, local model 5, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4733/4993 (94.7927%)
___Train Local_ResNet_18,  epoch 151, local model 5, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4604/4993 (92.2091%)
___Test Local_ResNet_18 poisoned: False, epoch: 151: Average loss: 2.1181, Accuracy: 5546/10000 (55.4600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 27.54ms
___Train Local_ResNet_18,  epoch 151, local model 17, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4457/4903 (90.9035%)
___Train Local_ResNet_18,  epoch 151, local model 17, internal_epoch   2,  Average loss: 0.0057, Accuracy: 4319/4903 (88.0889%)
___Test Local_ResNet_18 poisoned: False, epoch: 151: Average loss: 2.4812, Accuracy: 4906/10000 (49.0600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 27.40ms
___Train Local_ResNet_18,  epoch 151, local model 65, internal_epoch   1,  Average loss: 0.0042, Accuracy: 5087/5497 (92.5414%)
___Train Local_ResNet_18,  epoch 151, local model 65, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4934/5497 (89.7580%)
___Test Local_ResNet_18 poisoned: False, epoch: 151: Average loss: 2.1958, Accuracy: 5296/10000 (52.9600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 27.60ms
___Train Local_ResNet_18,  epoch 151, local model 46, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4892/5399 (90.6094%)
___Train Local_ResNet_18,  epoch 151, local model 46, internal_epoch   2,  Average loss: 0.0065, Accuracy: 4770/5399 (88.3497%)
___Test Local_ResNet_18 poisoned: False, epoch: 151: Average loss: 2.3685, Accuracy: 5108/10000 (51.0800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 27.72ms
___Train Local_ResNet_18,  epoch 151, local model 15, internal_epoch   1,  Average loss: 0.0037, Accuracy: 5653/6068 (93.1608%)
___Train Local_ResNet_18,  epoch 151, local model 15, internal_epoch   2,  Average loss: 0.0047, Accuracy: 5497/6068 (90.5900%)
___Test Local_ResNet_18 poisoned: False, epoch: 151: Average loss: 2.2440, Accuracy: 5154/10000 (51.5400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 26.79ms
___Train Local_ResNet_18,  epoch 151, local model 48, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4574/4830 (94.6998%)
___Train Local_ResNet_18,  epoch 151, local model 48, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4498/4830 (93.1263%)
___Test Local_ResNet_18 poisoned: False, epoch: 151: Average loss: 2.0938, Accuracy: 5542/10000 (55.4200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 28.13ms
___Train Local_ResNet_18,  epoch 151, local model 68, internal_epoch   1,  Average loss: 0.0034, Accuracy: 3369/3589 (93.8702%)
___Train Local_ResNet_18,  epoch 151, local model 68, internal_epoch   2,  Average loss: 0.0047, Accuracy: 3274/3589 (91.2232%)
___Test Local_ResNet_18 poisoned: False, epoch: 151: Average loss: 2.1309, Accuracy: 5489/10000 (54.8900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 27.40ms
___Train Local_ResNet_18,  epoch 151, local model 94, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4800/5224 (91.8836%)
___Train Local_ResNet_18,  epoch 151, local model 94, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4782/5224 (91.5391%)
___Test Local_ResNet_18 poisoned: False, epoch: 151: Average loss: 2.1830, Accuracy: 5294/10000 (52.9400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 28.04ms
___Train Local_ResNet_18,  epoch 151, local model 2, internal_epoch   1,  Average loss: 0.0037, Accuracy: 3675/3968 (92.6159%)
___Train Local_ResNet_18,  epoch 151, local model 2, internal_epoch   2,  Average loss: 0.0036, Accuracy: 3680/3968 (92.7419%)
___Test Local_ResNet_18 poisoned: False, epoch: 151: Average loss: 1.7933, Accuracy: 5814/10000 (58.1400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 28.62ms
___Train Local_ResNet_18,  epoch 151, local model 93, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4649/5055 (91.9683%)
___Train Local_ResNet_18,  epoch 151, local model 93, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4586/5055 (90.7221%)
___Test Local_ResNet_18 poisoned: False, epoch: 151: Average loss: 2.2075, Accuracy: 5311/10000 (53.1100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 27.89ms
___Train Local_ResNet_18,  epoch 151, local model 43, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4590/4979 (92.1872%)
___Train Local_ResNet_18,  epoch 151, local model 43, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4586/4979 (92.1068%)
___Test Local_ResNet_18 poisoned: False, epoch: 151: Average loss: 2.0075, Accuracy: 5646/10000 (56.4600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 27.64ms
___Train Local_ResNet_18,  epoch 151, local model 10, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4773/5068 (94.1792%)
___Train Local_ResNet_18,  epoch 151, local model 10, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4656/5068 (91.8706%)
___Test Local_ResNet_18 poisoned: False, epoch: 151: Average loss: 2.2368, Accuracy: 5240/10000 (52.4000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 27.74ms
___Train Local_ResNet_18,  epoch 151, local model 26, internal_epoch   1,  Average loss: 0.0028, Accuracy: 3864/4086 (94.5668%)
___Train Local_ResNet_18,  epoch 151, local model 26, internal_epoch   2,  Average loss: 0.0030, Accuracy: 3864/4086 (94.5668%)
___Test Local_ResNet_18 poisoned: False, epoch: 151: Average loss: 1.8915, Accuracy: 5806/10000 (58.0600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 27.02ms
___Train Local_ResNet_18,  epoch 151, local model 88, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4965/5362 (92.5960%)
___Train Local_ResNet_18,  epoch 151, local model 88, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4829/5362 (90.0597%)
___Test Local_ResNet_18 poisoned: False, epoch: 151: Average loss: 2.2352, Accuracy: 5190/10000 (51.9000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 27.79ms
time spent on training: 268.27827620506287
___Test Target_ResNet_18 poisoned: False, epoch: 151: Average loss: 1.3101, Accuracy: 6673/10000 (66.7300%)
___Test Target_ResNet_18 poisoned: True, epoch: 151: Average loss: 0.0613, Accuracy: 9737/9900 (98.3535%)
Done in 295.03000116348267 sec.
Server Epoch:152 choose agents : [13, 36, 58, 71, 7, 81, 4, 44, 5, 99, 83, 55, 94, 14, 32, 74, 20, 49, 23, 62].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 152, local model 13, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5210/5308 (98.1537%), train_poison_data_count: 415
Global model norm: 44.133945844228.
Norm before scaling: 44.09243636198773. Distance: 1.1651918705941813
Total norm for 4 adversaries is: 44.09243636198773. distance: 1.1651918705941813
___Test Local_ResNet_18 poisoned: True, epoch: 152: Average loss: 0.0874, Accuracy: 9681/9900 (97.7879%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 152, local model 36, internal_epoch   1,  Average loss: 0.0016, Accuracy: 5637/5777 (97.5766%), train_poison_data_count: 455
Global model norm: 44.133945844228.
Norm before scaling: 44.09053989245099. Distance: 1.2839822711701039
Total norm for 4 adversaries is: 44.09053989245099. distance: 1.2839822711701039
___Test Local_ResNet_18 poisoned: True, epoch: 152: Average loss: 0.0549, Accuracy: 9760/9900 (98.5859%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 152, local model 58, internal_epoch   1,  Average loss: 0.0025, Accuracy: 4985/5123 (97.3063%), train_poison_data_count: 403
Global model norm: 44.133945844228.
Norm before scaling: 44.09741524454693. Distance: 1.2672715484930348
Total norm for 4 adversaries is: 44.09741524454693. distance: 1.2672715484930348
___Test Local_ResNet_18 poisoned: True, epoch: 152: Average loss: 0.0526, Accuracy: 9753/9900 (98.5152%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 152, local model 71, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5377/5503 (97.7103%), train_poison_data_count: 430
Global model norm: 44.133945844228.
Norm before scaling: 44.092765813343036. Distance: 1.2217605771394708
Total norm for 4 adversaries is: 44.092765813343036. distance: 1.2217605771394708
___Test Local_ResNet_18 poisoned: True, epoch: 152: Average loss: 0.0949, Accuracy: 9663/9900 (97.6061%)
___Train Local_ResNet_18,  epoch 152, local model 7, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4464/4869 (91.6821%)
___Train Local_ResNet_18,  epoch 152, local model 7, internal_epoch   2,  Average loss: 0.0058, Accuracy: 4335/4869 (89.0327%)
___Test Local_ResNet_18 poisoned: False, epoch: 152: Average loss: 2.1366, Accuracy: 5287/10000 (52.8700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.82ms
INFO:tornado.access:200 POST /update (::1) 27.47ms
___Train Local_ResNet_18,  epoch 152, local model 81, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4776/5035 (94.8560%)
___Train Local_ResNet_18,  epoch 152, local model 81, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4696/5035 (93.2671%)
___Test Local_ResNet_18 poisoned: False, epoch: 152: Average loss: 1.9369, Accuracy: 5682/10000 (56.8200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 28.50ms
___Train Local_ResNet_18,  epoch 152, local model 4, internal_epoch   1,  Average loss: 0.0032, Accuracy: 3781/4028 (93.8679%)
___Train Local_ResNet_18,  epoch 152, local model 4, internal_epoch   2,  Average loss: 0.0037, Accuracy: 3745/4028 (92.9742%)
___Test Local_ResNet_18 poisoned: False, epoch: 152: Average loss: 1.8602, Accuracy: 5835/10000 (58.3500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 28.75ms
___Train Local_ResNet_18,  epoch 152, local model 44, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4792/5075 (94.4236%)
___Train Local_ResNet_18,  epoch 152, local model 44, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4687/5075 (92.3547%)
___Test Local_ResNet_18 poisoned: False, epoch: 152: Average loss: 2.2994, Accuracy: 5265/10000 (52.6500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 26.81ms
___Train Local_ResNet_18,  epoch 152, local model 5, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4744/4993 (95.0130%)
___Train Local_ResNet_18,  epoch 152, local model 5, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4617/4993 (92.4695%)
___Test Local_ResNet_18 poisoned: False, epoch: 152: Average loss: 1.9602, Accuracy: 5610/10000 (56.1000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /update (::1) 28.42ms
___Train Local_ResNet_18,  epoch 152, local model 99, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4485/4851 (92.4552%)
___Train Local_ResNet_18,  epoch 152, local model 99, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4505/4851 (92.8675%)
___Test Local_ResNet_18 poisoned: False, epoch: 152: Average loss: 2.0338, Accuracy: 5555/10000 (55.5500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 28.11ms
___Train Local_ResNet_18,  epoch 152, local model 83, internal_epoch   1,  Average loss: 0.0035, Accuracy: 3311/3552 (93.2151%)
___Train Local_ResNet_18,  epoch 152, local model 83, internal_epoch   2,  Average loss: 0.0031, Accuracy: 3337/3552 (93.9471%)
___Test Local_ResNet_18 poisoned: False, epoch: 152: Average loss: 1.7647, Accuracy: 5995/10000 (59.9500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 28.40ms
___Train Local_ResNet_18,  epoch 152, local model 55, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4417/4731 (93.3629%)
___Train Local_ResNet_18,  epoch 152, local model 55, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4355/4731 (92.0524%)
___Test Local_ResNet_18 poisoned: False, epoch: 152: Average loss: 1.9837, Accuracy: 5475/10000 (54.7500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 28.59ms
___Train Local_ResNet_18,  epoch 152, local model 94, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4795/5224 (91.7879%)
___Train Local_ResNet_18,  epoch 152, local model 94, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4741/5224 (90.7542%)
___Test Local_ResNet_18 poisoned: False, epoch: 152: Average loss: 2.1378, Accuracy: 5412/10000 (54.1200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 27.20ms
___Train Local_ResNet_18,  epoch 152, local model 14, internal_epoch   1,  Average loss: 0.0026, Accuracy: 4011/4196 (95.5910%)
___Train Local_ResNet_18,  epoch 152, local model 14, internal_epoch   2,  Average loss: 0.0029, Accuracy: 3982/4196 (94.8999%)
___Test Local_ResNet_18 poisoned: False, epoch: 152: Average loss: 1.8512, Accuracy: 5851/10000 (58.5100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 27.72ms
___Train Local_ResNet_18,  epoch 152, local model 32, internal_epoch   1,  Average loss: 0.0047, Accuracy: 5523/6080 (90.8388%)
___Train Local_ResNet_18,  epoch 152, local model 32, internal_epoch   2,  Average loss: 0.0060, Accuracy: 5349/6080 (87.9770%)
___Test Local_ResNet_18 poisoned: False, epoch: 152: Average loss: 2.3187, Accuracy: 5024/10000 (50.2400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 28.16ms
___Train Local_ResNet_18,  epoch 152, local model 74, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4407/4797 (91.8699%)
___Train Local_ResNet_18,  epoch 152, local model 74, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4377/4797 (91.2445%)
___Test Local_ResNet_18 poisoned: False, epoch: 152: Average loss: 2.0332, Accuracy: 5532/10000 (55.3200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 26.87ms
___Train Local_ResNet_18,  epoch 152, local model 20, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4441/4714 (94.2087%)
___Train Local_ResNet_18,  epoch 152, local model 20, internal_epoch   2,  Average loss: 0.0033, Accuracy: 4403/4714 (93.4026%)
___Test Local_ResNet_18 poisoned: False, epoch: 152: Average loss: 2.0355, Accuracy: 5549/10000 (55.4900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.77ms
INFO:tornado.access:200 POST /update (::1) 27.71ms
___Train Local_ResNet_18,  epoch 152, local model 49, internal_epoch   1,  Average loss: 0.0045, Accuracy: 5157/5652 (91.2420%)
___Train Local_ResNet_18,  epoch 152, local model 49, internal_epoch   2,  Average loss: 0.0059, Accuracy: 4965/5652 (87.8450%)
___Test Local_ResNet_18 poisoned: False, epoch: 152: Average loss: 2.2916, Accuracy: 5039/10000 (50.3900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 28.27ms
___Train Local_ResNet_18,  epoch 152, local model 23, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4297/4549 (94.4603%)
___Train Local_ResNet_18,  epoch 152, local model 23, internal_epoch   2,  Average loss: 0.0054, Accuracy: 4123/4549 (90.6353%)
___Test Local_ResNet_18 poisoned: False, epoch: 152: Average loss: 2.1276, Accuracy: 5411/10000 (54.1100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 27.36ms
___Train Local_ResNet_18,  epoch 152, local model 62, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4948/5504 (89.8983%)
___Train Local_ResNet_18,  epoch 152, local model 62, internal_epoch   2,  Average loss: 0.0063, Accuracy: 4832/5504 (87.7907%)
___Test Local_ResNet_18 poisoned: False, epoch: 152: Average loss: 2.4476, Accuracy: 4792/10000 (47.9200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 27.77ms
time spent on training: 263.46631145477295
___Test Target_ResNet_18 poisoned: False, epoch: 152: Average loss: 1.3200, Accuracy: 6673/10000 (66.7300%)
___Test Target_ResNet_18 poisoned: True, epoch: 152: Average loss: 0.0610, Accuracy: 9742/9900 (98.4040%)
Done in 290.0939955711365 sec.
Server Epoch:153 choose agents : [13, 36, 58, 71, 0, 97, 90, 3, 15, 93, 69, 88, 79, 65, 44, 84, 6, 78, 24, 4].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 153, local model 13, internal_epoch   1,  Average loss: 0.0016, Accuracy: 5187/5308 (97.7204%), train_poison_data_count: 415
Global model norm: 44.1523173120442.
Norm before scaling: 44.113965953964055. Distance: 1.2587899621645107
Total norm for 4 adversaries is: 44.113965953964055. distance: 1.2587899621645107
___Test Local_ResNet_18 poisoned: True, epoch: 153: Average loss: 0.0237, Accuracy: 9837/9900 (99.3636%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 153, local model 36, internal_epoch   1,  Average loss: 0.0016, Accuracy: 5642/5777 (97.6631%), train_poison_data_count: 455
Global model norm: 44.1523173120442.
Norm before scaling: 44.10884779839032. Distance: 1.2753984296247372
Total norm for 4 adversaries is: 44.10884779839032. distance: 1.2753984296247372
___Test Local_ResNet_18 poisoned: True, epoch: 153: Average loss: 0.0884, Accuracy: 9678/9900 (97.7576%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 153, local model 58, internal_epoch   1,  Average loss: 0.0026, Accuracy: 4976/5123 (97.1306%), train_poison_data_count: 403
Global model norm: 44.1523173120442.
Norm before scaling: 44.11498287279717. Distance: 1.2648303987247251
Total norm for 4 adversaries is: 44.11498287279717. distance: 1.2648303987247251
___Test Local_ResNet_18 poisoned: True, epoch: 153: Average loss: 0.2747, Accuracy: 9150/9900 (92.4242%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 153, local model 71, internal_epoch   1,  Average loss: 0.0016, Accuracy: 5376/5503 (97.6922%), train_poison_data_count: 430
Global model norm: 44.1523173120442.
Norm before scaling: 44.11140625857869. Distance: 1.2226403086052657
Total norm for 4 adversaries is: 44.11140625857869. distance: 1.2226403086052657
___Test Local_ResNet_18 poisoned: True, epoch: 153: Average loss: 0.0821, Accuracy: 9689/9900 (97.8687%)
___Train Local_ResNet_18,  epoch 153, local model 0, internal_epoch   1,  Average loss: 0.0040, Accuracy: 5064/5454 (92.8493%)
___Train Local_ResNet_18,  epoch 153, local model 0, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4842/5454 (88.7789%)
___Test Local_ResNet_18 poisoned: False, epoch: 153: Average loss: 2.0902, Accuracy: 5454/10000 (54.5400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 27.72ms
___Train Local_ResNet_18,  epoch 153, local model 97, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4321/4736 (91.2373%)
___Train Local_ResNet_18,  epoch 153, local model 97, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4263/4736 (90.0127%)
___Test Local_ResNet_18 poisoned: False, epoch: 153: Average loss: 2.0261, Accuracy: 5520/10000 (55.2000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 27.20ms
___Train Local_ResNet_18,  epoch 153, local model 90, internal_epoch   1,  Average loss: 0.0026, Accuracy: 4531/4748 (95.4297%)
___Train Local_ResNet_18,  epoch 153, local model 90, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4414/4748 (92.9655%)
___Test Local_ResNet_18 poisoned: False, epoch: 153: Average loss: 2.0787, Accuracy: 5395/10000 (53.9500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 26.86ms
___Train Local_ResNet_18,  epoch 153, local model 3, internal_epoch   1,  Average loss: 0.0030, Accuracy: 5062/5346 (94.6876%)
___Train Local_ResNet_18,  epoch 153, local model 3, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4981/5346 (93.1725%)
___Test Local_ResNet_18 poisoned: False, epoch: 153: Average loss: 2.1407, Accuracy: 5350/10000 (53.5000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 26.91ms
___Train Local_ResNet_18,  epoch 153, local model 15, internal_epoch   1,  Average loss: 0.0043, Accuracy: 5565/6068 (91.7106%)
___Train Local_ResNet_18,  epoch 153, local model 15, internal_epoch   2,  Average loss: 0.0049, Accuracy: 5483/6068 (90.3593%)
___Test Local_ResNet_18 poisoned: False, epoch: 153: Average loss: 2.2500, Accuracy: 5126/10000 (51.2600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 27.67ms
___Train Local_ResNet_18,  epoch 153, local model 93, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4706/5055 (93.0959%)
___Train Local_ResNet_18,  epoch 153, local model 93, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4616/5055 (91.3155%)
___Test Local_ResNet_18 poisoned: False, epoch: 153: Average loss: 2.0940, Accuracy: 5401/10000 (54.0100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 27.53ms
___Train Local_ResNet_18,  epoch 153, local model 69, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4082/4364 (93.5380%)
___Train Local_ResNet_18,  epoch 153, local model 69, internal_epoch   2,  Average loss: 0.0051, Accuracy: 3934/4364 (90.1467%)
___Test Local_ResNet_18 poisoned: False, epoch: 153: Average loss: 2.0542, Accuracy: 5427/10000 (54.2700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 27.28ms
___Train Local_ResNet_18,  epoch 153, local model 88, internal_epoch   1,  Average loss: 0.0033, Accuracy: 5029/5362 (93.7896%)
___Train Local_ResNet_18,  epoch 153, local model 88, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4914/5362 (91.6449%)
___Test Local_ResNet_18 poisoned: False, epoch: 153: Average loss: 2.4269, Accuracy: 4998/10000 (49.9800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 28.30ms
___Train Local_ResNet_18,  epoch 153, local model 79, internal_epoch   1,  Average loss: 0.0034, Accuracy: 3862/4111 (93.9431%)
___Train Local_ResNet_18,  epoch 153, local model 79, internal_epoch   2,  Average loss: 0.0036, Accuracy: 3830/4111 (93.1647%)
___Test Local_ResNet_18 poisoned: False, epoch: 153: Average loss: 2.1437, Accuracy: 5466/10000 (54.6600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 27.89ms
___Train Local_ResNet_18,  epoch 153, local model 65, internal_epoch   1,  Average loss: 0.0044, Accuracy: 5034/5497 (91.5772%)
___Train Local_ResNet_18,  epoch 153, local model 65, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4987/5497 (90.7222%)
___Test Local_ResNet_18 poisoned: False, epoch: 153: Average loss: 2.2571, Accuracy: 5193/10000 (51.9300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 28.39ms
___Train Local_ResNet_18,  epoch 153, local model 44, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4805/5075 (94.6798%)
___Train Local_ResNet_18,  epoch 153, local model 44, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4670/5075 (92.0197%)
___Test Local_ResNet_18 poisoned: False, epoch: 153: Average loss: 1.9561, Accuracy: 5636/10000 (56.3600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 27.69ms
___Train Local_ResNet_18,  epoch 153, local model 84, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4810/5209 (92.3402%)
___Train Local_ResNet_18,  epoch 153, local model 84, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4735/5209 (90.9004%)
___Test Local_ResNet_18 poisoned: False, epoch: 153: Average loss: 2.0639, Accuracy: 5483/10000 (54.8300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 27.83ms
___Train Local_ResNet_18,  epoch 153, local model 6, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4591/4929 (93.1426%)
___Train Local_ResNet_18,  epoch 153, local model 6, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4504/4929 (91.3776%)
___Test Local_ResNet_18 poisoned: False, epoch: 153: Average loss: 2.1362, Accuracy: 5575/10000 (55.7500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 28.34ms
___Train Local_ResNet_18,  epoch 153, local model 78, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4093/4368 (93.7042%)
___Train Local_ResNet_18,  epoch 153, local model 78, internal_epoch   2,  Average loss: 0.0047, Accuracy: 3976/4368 (91.0256%)
___Test Local_ResNet_18 poisoned: False, epoch: 153: Average loss: 2.1560, Accuracy: 5375/10000 (53.7500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.79ms
INFO:tornado.access:200 POST /update (::1) 28.02ms
___Train Local_ResNet_18,  epoch 153, local model 24, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4039/4313 (93.6471%)
___Train Local_ResNet_18,  epoch 153, local model 24, internal_epoch   2,  Average loss: 0.0042, Accuracy: 3969/4313 (92.0241%)
___Test Local_ResNet_18 poisoned: False, epoch: 153: Average loss: 1.9004, Accuracy: 5713/10000 (57.1300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 27.16ms
___Train Local_ResNet_18,  epoch 153, local model 4, internal_epoch   1,  Average loss: 0.0032, Accuracy: 3804/4028 (94.4389%)
___Train Local_ResNet_18,  epoch 153, local model 4, internal_epoch   2,  Average loss: 0.0038, Accuracy: 3732/4028 (92.6514%)
___Test Local_ResNet_18 poisoned: False, epoch: 153: Average loss: 2.0644, Accuracy: 5587/10000 (55.8700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 27.99ms
time spent on training: 267.0316789150238
___Test Target_ResNet_18 poisoned: False, epoch: 153: Average loss: 1.3216, Accuracy: 6667/10000 (66.6700%)
___Test Target_ResNet_18 poisoned: True, epoch: 153: Average loss: 0.0650, Accuracy: 9729/9900 (98.2727%)
Done in 293.72377729415894 sec.
Server Epoch:154 choose agents : [13, 36, 58, 71, 38, 89, 81, 43, 21, 40, 78, 9, 14, 83, 85, 20, 65, 97, 3, 57].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 154, local model 13, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5210/5308 (98.1537%), train_poison_data_count: 415
Global model norm: 44.171575155950826.
Norm before scaling: 44.13158369793112. Distance: 1.191823467306801
Total norm for 4 adversaries is: 44.13158369793112. distance: 1.191823467306801
___Test Local_ResNet_18 poisoned: True, epoch: 154: Average loss: 0.0679, Accuracy: 9733/9900 (98.3131%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 154, local model 36, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5641/5777 (97.6458%), train_poison_data_count: 455
Global model norm: 44.171575155950826.
Norm before scaling: 44.1265049318434. Distance: 1.253767297003597
Total norm for 4 adversaries is: 44.1265049318434. distance: 1.253767297003597
___Test Local_ResNet_18 poisoned: True, epoch: 154: Average loss: 0.0363, Accuracy: 9806/9900 (99.0505%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 154, local model 58, internal_epoch   1,  Average loss: 0.0024, Accuracy: 5009/5123 (97.7747%), train_poison_data_count: 403
Global model norm: 44.171575155950826.
Norm before scaling: 44.133551700969946. Distance: 1.1941737316709675
Total norm for 4 adversaries is: 44.133551700969946. distance: 1.1941737316709675
___Test Local_ResNet_18 poisoned: True, epoch: 154: Average loss: 0.1118, Accuracy: 9622/9900 (97.1919%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 154, local model 71, internal_epoch   1,  Average loss: 0.0018, Accuracy: 5366/5503 (97.5104%), train_poison_data_count: 430
Global model norm: 44.171575155950826.
Norm before scaling: 44.13568694723905. Distance: 1.3334132657330853
Total norm for 4 adversaries is: 44.13568694723905. distance: 1.3334132657330853
___Test Local_ResNet_18 poisoned: True, epoch: 154: Average loss: 0.0618, Accuracy: 9730/9900 (98.2828%)
___Train Local_ResNet_18,  epoch 154, local model 38, internal_epoch   1,  Average loss: 0.0050, Accuracy: 5618/6235 (90.1043%)
___Train Local_ResNet_18,  epoch 154, local model 38, internal_epoch   2,  Average loss: 0.0060, Accuracy: 5479/6235 (87.8749%)
___Test Local_ResNet_18 poisoned: False, epoch: 154: Average loss: 2.3083, Accuracy: 5043/10000 (50.4300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 22.80ms
___Train Local_ResNet_18,  epoch 154, local model 89, internal_epoch   1,  Average loss: 0.0050, Accuracy: 4391/4737 (92.6958%)
___Train Local_ResNet_18,  epoch 154, local model 89, internal_epoch   2,  Average loss: 0.0057, Accuracy: 4277/4737 (90.2892%)
___Test Local_ResNet_18 poisoned: False, epoch: 154: Average loss: 2.2966, Accuracy: 5132/10000 (51.3200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 27.77ms
___Train Local_ResNet_18,  epoch 154, local model 81, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4755/5035 (94.4389%)
___Train Local_ResNet_18,  epoch 154, local model 81, internal_epoch   2,  Average loss: 0.0030, Accuracy: 4724/5035 (93.8232%)
___Test Local_ResNet_18 poisoned: False, epoch: 154: Average loss: 1.8979, Accuracy: 5736/10000 (57.3600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 28.20ms
___Train Local_ResNet_18,  epoch 154, local model 43, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4608/4979 (92.5487%)
___Train Local_ResNet_18,  epoch 154, local model 43, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4583/4979 (92.0466%)
___Test Local_ResNet_18 poisoned: False, epoch: 154: Average loss: 2.0581, Accuracy: 5435/10000 (54.3500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /win_exists (::1) 0.82ms
INFO:tornado.access:200 POST /update (::1) 27.60ms
___Train Local_ResNet_18,  epoch 154, local model 21, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4666/5038 (92.6161%)
___Train Local_ResNet_18,  epoch 154, local model 21, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4605/5038 (91.4053%)
___Test Local_ResNet_18 poisoned: False, epoch: 154: Average loss: 2.1006, Accuracy: 5423/10000 (54.2300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 27.64ms
___Train Local_ResNet_18,  epoch 154, local model 40, internal_epoch   1,  Average loss: 0.0037, Accuracy: 5510/5939 (92.7766%)
___Train Local_ResNet_18,  epoch 154, local model 40, internal_epoch   2,  Average loss: 0.0044, Accuracy: 5410/5939 (91.0928%)
___Test Local_ResNet_18 poisoned: False, epoch: 154: Average loss: 2.1650, Accuracy: 5319/10000 (53.1900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 20.43ms
___Train Local_ResNet_18,  epoch 154, local model 78, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4162/4368 (95.2839%)
___Train Local_ResNet_18,  epoch 154, local model 78, internal_epoch   2,  Average loss: 0.0030, Accuracy: 4115/4368 (94.2079%)
___Test Local_ResNet_18 poisoned: False, epoch: 154: Average loss: 2.0380, Accuracy: 5512/10000 (55.1200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 27.98ms
___Train Local_ResNet_18,  epoch 154, local model 9, internal_epoch   1,  Average loss: 0.0040, Accuracy: 5288/5727 (92.3346%)
___Train Local_ResNet_18,  epoch 154, local model 9, internal_epoch   2,  Average loss: 0.0060, Accuracy: 5042/5727 (88.0391%)
___Test Local_ResNet_18 poisoned: False, epoch: 154: Average loss: 2.1761, Accuracy: 5249/10000 (52.4900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /win_exists (::1) 0.74ms
INFO:tornado.access:200 POST /update (::1) 24.19ms
___Train Local_ResNet_18,  epoch 154, local model 14, internal_epoch   1,  Average loss: 0.0024, Accuracy: 4020/4196 (95.8055%)
___Train Local_ResNet_18,  epoch 154, local model 14, internal_epoch   2,  Average loss: 0.0030, Accuracy: 3963/4196 (94.4471%)
___Test Local_ResNet_18 poisoned: False, epoch: 154: Average loss: 1.8649, Accuracy: 5825/10000 (58.2500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 28.50ms
___Train Local_ResNet_18,  epoch 154, local model 83, internal_epoch   1,  Average loss: 0.0036, Accuracy: 3318/3552 (93.4122%)
___Train Local_ResNet_18,  epoch 154, local model 83, internal_epoch   2,  Average loss: 0.0032, Accuracy: 3326/3552 (93.6374%)
___Test Local_ResNet_18 poisoned: False, epoch: 154: Average loss: 1.9353, Accuracy: 5755/10000 (57.5500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 27.67ms
___Train Local_ResNet_18,  epoch 154, local model 85, internal_epoch   1,  Average loss: 0.0044, Accuracy: 6370/6947 (91.6943%)
___Train Local_ResNet_18,  epoch 154, local model 85, internal_epoch   2,  Average loss: 0.0062, Accuracy: 6072/6947 (87.4046%)
___Test Local_ResNet_18 poisoned: False, epoch: 154: Average loss: 2.2998, Accuracy: 5003/10000 (50.0300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 28.57ms
___Train Local_ResNet_18,  epoch 154, local model 20, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4451/4714 (94.4209%)
___Train Local_ResNet_18,  epoch 154, local model 20, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4397/4714 (93.2754%)
___Test Local_ResNet_18 poisoned: False, epoch: 154: Average loss: 1.8577, Accuracy: 5781/10000 (57.8100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 28.30ms
___Train Local_ResNet_18,  epoch 154, local model 65, internal_epoch   1,  Average loss: 0.0042, Accuracy: 5052/5497 (91.9047%)
___Train Local_ResNet_18,  epoch 154, local model 65, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4951/5497 (90.0673%)
___Test Local_ResNet_18 poisoned: False, epoch: 154: Average loss: 2.1525, Accuracy: 5302/10000 (53.0200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 27.97ms
___Train Local_ResNet_18,  epoch 154, local model 97, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4362/4736 (92.1030%)
___Train Local_ResNet_18,  epoch 154, local model 97, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4267/4736 (90.0971%)
___Test Local_ResNet_18 poisoned: False, epoch: 154: Average loss: 2.0285, Accuracy: 5520/10000 (55.2000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 28.80ms
___Train Local_ResNet_18,  epoch 154, local model 3, internal_epoch   1,  Average loss: 0.0026, Accuracy: 5104/5346 (95.4733%)
___Train Local_ResNet_18,  epoch 154, local model 3, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4990/5346 (93.3408%)
___Test Local_ResNet_18 poisoned: False, epoch: 154: Average loss: 2.0669, Accuracy: 5418/10000 (54.1800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 28.50ms
___Train Local_ResNet_18,  epoch 154, local model 57, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4601/4956 (92.8370%)
___Train Local_ResNet_18,  epoch 154, local model 57, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4519/4956 (91.1824%)
___Test Local_ResNet_18 poisoned: False, epoch: 154: Average loss: 2.0904, Accuracy: 5394/10000 (53.9400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 27.31ms
time spent on training: 274.6363670825958
___Test Target_ResNet_18 poisoned: False, epoch: 154: Average loss: 1.3204, Accuracy: 6666/10000 (66.6600%)
___Test Target_ResNet_18 poisoned: True, epoch: 154: Average loss: 0.0620, Accuracy: 9732/9900 (98.3030%)
Done in 301.26336121559143 sec.
Server Epoch:155 choose agents : [13, 36, 58, 71, 79, 41, 44, 27, 24, 6, 29, 62, 19, 17, 51, 10, 22, 55, 2, 18].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 155, local model 13, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5195/5308 (97.8711%), train_poison_data_count: 415
Global model norm: 44.190107773120445.
Norm before scaling: 44.151197572323134. Distance: 1.2293001953700788
Total norm for 4 adversaries is: 44.151197572323134. distance: 1.2293001953700788
___Test Local_ResNet_18 poisoned: True, epoch: 155: Average loss: 0.0658, Accuracy: 9721/9900 (98.1919%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 155, local model 36, internal_epoch   1,  Average loss: 0.0016, Accuracy: 5646/5777 (97.7324%), train_poison_data_count: 455
Global model norm: 44.190107773120445.
Norm before scaling: 44.14659113441334. Distance: 1.2692264601827714
Total norm for 4 adversaries is: 44.14659113441334. distance: 1.2692264601827714
___Test Local_ResNet_18 poisoned: True, epoch: 155: Average loss: 0.1050, Accuracy: 9622/9900 (97.1919%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 155, local model 58, internal_epoch   1,  Average loss: 0.0025, Accuracy: 4970/5123 (97.0135%), train_poison_data_count: 403
Global model norm: 44.190107773120445.
Norm before scaling: 44.15308037765811. Distance: 1.272564407322473
Total norm for 4 adversaries is: 44.15308037765811. distance: 1.272564407322473
___Test Local_ResNet_18 poisoned: True, epoch: 155: Average loss: 0.0389, Accuracy: 9800/9900 (98.9899%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 155, local model 71, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5403/5503 (98.1828%), train_poison_data_count: 430
Global model norm: 44.190107773120445.
Norm before scaling: 44.149222061025604. Distance: 1.1967946755170953
Total norm for 4 adversaries is: 44.149222061025604. distance: 1.1967946755170953
___Test Local_ResNet_18 poisoned: True, epoch: 155: Average loss: 0.0672, Accuracy: 9730/9900 (98.2828%)
___Train Local_ResNet_18,  epoch 155, local model 79, internal_epoch   1,  Average loss: 0.0032, Accuracy: 3868/4111 (94.0890%)
___Train Local_ResNet_18,  epoch 155, local model 79, internal_epoch   2,  Average loss: 0.0038, Accuracy: 3820/4111 (92.9214%)
___Test Local_ResNet_18 poisoned: False, epoch: 155: Average loss: 2.0280, Accuracy: 5535/10000 (55.3500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 28.29ms
___Train Local_ResNet_18,  epoch 155, local model 41, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4414/4714 (93.6360%)
___Train Local_ResNet_18,  epoch 155, local model 41, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4387/4714 (93.0632%)
___Test Local_ResNet_18 poisoned: False, epoch: 155: Average loss: 2.2617, Accuracy: 5231/10000 (52.3100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 28.77ms
___Train Local_ResNet_18,  epoch 155, local model 44, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4787/5075 (94.3251%)
___Train Local_ResNet_18,  epoch 155, local model 44, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4733/5075 (93.2611%)
___Test Local_ResNet_18 poisoned: False, epoch: 155: Average loss: 2.0671, Accuracy: 5528/10000 (55.2800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 27.87ms
___Train Local_ResNet_18,  epoch 155, local model 27, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4252/4587 (92.6968%)
___Train Local_ResNet_18,  epoch 155, local model 27, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4203/4587 (91.6285%)
___Test Local_ResNet_18 poisoned: False, epoch: 155: Average loss: 2.0037, Accuracy: 5522/10000 (55.2200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 23.12ms
___Train Local_ResNet_18,  epoch 155, local model 24, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4056/4313 (94.0413%)
___Train Local_ResNet_18,  epoch 155, local model 24, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4030/4313 (93.4384%)
___Test Local_ResNet_18 poisoned: False, epoch: 155: Average loss: 1.8611, Accuracy: 5834/10000 (58.3400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.69ms
INFO:tornado.access:200 POST /update (::1) 24.66ms
___Train Local_ResNet_18,  epoch 155, local model 6, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4613/4929 (93.5890%)
___Train Local_ResNet_18,  epoch 155, local model 6, internal_epoch   2,  Average loss: 0.0057, Accuracy: 4501/4929 (91.3167%)
___Test Local_ResNet_18 poisoned: False, epoch: 155: Average loss: 1.9960, Accuracy: 5623/10000 (56.2300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 28.70ms
___Train Local_ResNet_18,  epoch 155, local model 29, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4476/4732 (94.5900%)
___Train Local_ResNet_18,  epoch 155, local model 29, internal_epoch   2,  Average loss: 0.0030, Accuracy: 4452/4732 (94.0828%)
___Test Local_ResNet_18 poisoned: False, epoch: 155: Average loss: 1.8303, Accuracy: 5838/10000 (58.3800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.73ms
INFO:tornado.access:200 POST /win_exists (::1) 0.62ms
INFO:tornado.access:200 POST /update (::1) 21.65ms
___Train Local_ResNet_18,  epoch 155, local model 62, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4960/5504 (90.1163%)
___Train Local_ResNet_18,  epoch 155, local model 62, internal_epoch   2,  Average loss: 0.0060, Accuracy: 4827/5504 (87.6999%)
___Test Local_ResNet_18 poisoned: False, epoch: 155: Average loss: 2.5633, Accuracy: 4867/10000 (48.6700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 28.44ms
___Train Local_ResNet_18,  epoch 155, local model 19, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4845/5361 (90.3749%)
___Train Local_ResNet_18,  epoch 155, local model 19, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4823/5361 (89.9646%)
___Test Local_ResNet_18 poisoned: False, epoch: 155: Average loss: 2.1796, Accuracy: 5278/10000 (52.7800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 28.47ms
___Train Local_ResNet_18,  epoch 155, local model 17, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4433/4903 (90.4140%)
___Train Local_ResNet_18,  epoch 155, local model 17, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4412/4903 (89.9857%)
___Test Local_ResNet_18 poisoned: False, epoch: 155: Average loss: 2.1016, Accuracy: 5311/10000 (53.1100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 27.88ms
___Train Local_ResNet_18,  epoch 155, local model 51, internal_epoch   1,  Average loss: 0.0033, Accuracy: 3849/4108 (93.6952%)
___Train Local_ResNet_18,  epoch 155, local model 51, internal_epoch   2,  Average loss: 0.0042, Accuracy: 3761/4108 (91.5531%)
___Test Local_ResNet_18 poisoned: False, epoch: 155: Average loss: 2.0132, Accuracy: 5575/10000 (55.7500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 28.01ms
___Train Local_ResNet_18,  epoch 155, local model 10, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4773/5068 (94.1792%)
___Train Local_ResNet_18,  epoch 155, local model 10, internal_epoch   2,  Average loss: 0.0060, Accuracy: 4486/5068 (88.5162%)
___Test Local_ResNet_18 poisoned: False, epoch: 155: Average loss: 2.1622, Accuracy: 5232/10000 (52.3200%)
INFO:tornado.access:200 POST /win_exists (::1) 12.72ms
INFO:tornado.access:200 POST /win_exists (::1) 0.74ms
INFO:tornado.access:200 POST /update (::1) 23.83ms
___Train Local_ResNet_18,  epoch 155, local model 22, internal_epoch   1,  Average loss: 0.0035, Accuracy: 5301/5696 (93.0653%)
___Train Local_ResNet_18,  epoch 155, local model 22, internal_epoch   2,  Average loss: 0.0046, Accuracy: 5176/5696 (90.8708%)
___Test Local_ResNet_18 poisoned: False, epoch: 155: Average loss: 2.2557, Accuracy: 5237/10000 (52.3700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 27.60ms
___Train Local_ResNet_18,  epoch 155, local model 55, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4451/4731 (94.0816%)
___Train Local_ResNet_18,  epoch 155, local model 55, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4407/4731 (93.1516%)
___Test Local_ResNet_18 poisoned: False, epoch: 155: Average loss: 1.9517, Accuracy: 5551/10000 (55.5100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 28.03ms
___Train Local_ResNet_18,  epoch 155, local model 2, internal_epoch   1,  Average loss: 0.0037, Accuracy: 3683/3968 (92.8175%)
___Train Local_ResNet_18,  epoch 155, local model 2, internal_epoch   2,  Average loss: 0.0039, Accuracy: 3658/3968 (92.1875%)
___Test Local_ResNet_18 poisoned: False, epoch: 155: Average loss: 1.9433, Accuracy: 5537/10000 (55.3700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 28.48ms
___Train Local_ResNet_18,  epoch 155, local model 18, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4006/4249 (94.2810%)
___Train Local_ResNet_18,  epoch 155, local model 18, internal_epoch   2,  Average loss: 0.0045, Accuracy: 3889/4249 (91.5274%)
___Test Local_ResNet_18 poisoned: False, epoch: 155: Average loss: 2.0888, Accuracy: 5535/10000 (55.3500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /update (::1) 28.77ms
time spent on training: 268.7319881916046
___Test Target_ResNet_18 poisoned: False, epoch: 155: Average loss: 1.3220, Accuracy: 6662/10000 (66.6200%)
___Test Target_ResNet_18 poisoned: True, epoch: 155: Average loss: 0.0632, Accuracy: 9735/9900 (98.3333%)
Done in 295.7434594631195 sec.
Server Epoch:156 choose agents : [13, 36, 58, 71, 11, 83, 23, 59, 10, 86, 19, 48, 50, 12, 38, 98, 74, 21, 63, 62].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 156, local model 13, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5206/5308 (98.0784%), train_poison_data_count: 415
Global model norm: 44.20839515463593.
Norm before scaling: 44.16792159306981. Distance: 1.20160891637948
Total norm for 4 adversaries is: 44.16792159306981. distance: 1.20160891637948
___Test Local_ResNet_18 poisoned: True, epoch: 156: Average loss: 0.0309, Accuracy: 9818/9900 (99.1717%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 156, local model 36, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5672/5777 (98.1824%), train_poison_data_count: 455
Global model norm: 44.20839515463593.
Norm before scaling: 44.163075043135585. Distance: 1.2411081194967264
Total norm for 4 adversaries is: 44.163075043135585. distance: 1.2411081194967264
___Test Local_ResNet_18 poisoned: True, epoch: 156: Average loss: 0.0873, Accuracy: 9686/9900 (97.8384%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 156, local model 58, internal_epoch   1,  Average loss: 0.0024, Accuracy: 4983/5123 (97.2672%), train_poison_data_count: 403
Global model norm: 44.20839515463593.
Norm before scaling: 44.170947825872354. Distance: 1.2365002745810456
Total norm for 4 adversaries is: 44.170947825872354. distance: 1.2365002745810456
___Test Local_ResNet_18 poisoned: True, epoch: 156: Average loss: 0.0564, Accuracy: 9750/9900 (98.4848%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 156, local model 71, internal_epoch   1,  Average loss: 0.0016, Accuracy: 5382/5503 (97.8012%), train_poison_data_count: 430
Global model norm: 44.20839515463593.
Norm before scaling: 44.167382653149005. Distance: 1.2132414526961577
Total norm for 4 adversaries is: 44.167382653149005. distance: 1.2132414526961577
___Test Local_ResNet_18 poisoned: True, epoch: 156: Average loss: 0.0635, Accuracy: 9733/9900 (98.3131%)
___Train Local_ResNet_18,  epoch 156, local model 11, internal_epoch   1,  Average loss: 0.0064, Accuracy: 5003/5702 (87.7411%)
___Train Local_ResNet_18,  epoch 156, local model 11, internal_epoch   2,  Average loss: 0.0115, Accuracy: 4454/5702 (78.1129%)
___Test Local_ResNet_18 poisoned: False, epoch: 156: Average loss: 2.5075, Accuracy: 4793/10000 (47.9300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 27.57ms
___Train Local_ResNet_18,  epoch 156, local model 83, internal_epoch   1,  Average loss: 0.0036, Accuracy: 3301/3552 (92.9336%)
___Train Local_ResNet_18,  epoch 156, local model 83, internal_epoch   2,  Average loss: 0.0035, Accuracy: 3311/3552 (93.2151%)
___Test Local_ResNet_18 poisoned: False, epoch: 156: Average loss: 1.8531, Accuracy: 5830/10000 (58.3000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 28.29ms
___Train Local_ResNet_18,  epoch 156, local model 23, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4336/4549 (95.3177%)
___Train Local_ResNet_18,  epoch 156, local model 23, internal_epoch   2,  Average loss: 0.0081, Accuracy: 3836/4549 (84.3262%)
___Test Local_ResNet_18 poisoned: False, epoch: 156: Average loss: 2.3038, Accuracy: 5107/10000 (51.0700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 28.47ms
___Train Local_ResNet_18,  epoch 156, local model 59, internal_epoch   1,  Average loss: 0.0024, Accuracy: 4217/4397 (95.9063%)
___Train Local_ResNet_18,  epoch 156, local model 59, internal_epoch   2,  Average loss: 0.0025, Accuracy: 4197/4397 (95.4514%)
___Test Local_ResNet_18 poisoned: False, epoch: 156: Average loss: 1.8690, Accuracy: 5795/10000 (57.9500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 27.82ms
___Train Local_ResNet_18,  epoch 156, local model 10, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4805/5068 (94.8106%)
___Train Local_ResNet_18,  epoch 156, local model 10, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4658/5068 (91.9100%)
___Test Local_ResNet_18 poisoned: False, epoch: 156: Average loss: 2.1194, Accuracy: 5367/10000 (53.6700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 29.06ms
___Train Local_ResNet_18,  epoch 156, local model 86, internal_epoch   1,  Average loss: 0.0044, Accuracy: 3596/3929 (91.5246%)
___Train Local_ResNet_18,  epoch 156, local model 86, internal_epoch   2,  Average loss: 0.0045, Accuracy: 3559/3929 (90.5828%)
___Test Local_ResNet_18 poisoned: False, epoch: 156: Average loss: 1.9690, Accuracy: 5596/10000 (55.9600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 28.98ms
___Train Local_ResNet_18,  epoch 156, local model 19, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4885/5361 (91.1211%)
___Train Local_ResNet_18,  epoch 156, local model 19, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4863/5361 (90.7107%)
___Test Local_ResNet_18 poisoned: False, epoch: 156: Average loss: 2.1654, Accuracy: 5351/10000 (53.5100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 27.99ms
___Train Local_ResNet_18,  epoch 156, local model 48, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4563/4830 (94.4720%)
___Train Local_ResNet_18,  epoch 156, local model 48, internal_epoch   2,  Average loss: 0.0030, Accuracy: 4555/4830 (94.3064%)
___Test Local_ResNet_18 poisoned: False, epoch: 156: Average loss: 2.0498, Accuracy: 5574/10000 (55.7400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.03ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 28.00ms
___Train Local_ResNet_18,  epoch 156, local model 50, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4460/4757 (93.7566%)
___Train Local_ResNet_18,  epoch 156, local model 50, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4348/4757 (91.4021%)
___Test Local_ResNet_18 poisoned: False, epoch: 156: Average loss: 2.1536, Accuracy: 5264/10000 (52.6400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 27.23ms
___Train Local_ResNet_18,  epoch 156, local model 12, internal_epoch   1,  Average loss: 0.0041, Accuracy: 5104/5526 (92.3634%)
___Train Local_ResNet_18,  epoch 156, local model 12, internal_epoch   2,  Average loss: 0.0060, Accuracy: 4890/5526 (88.4908%)
___Test Local_ResNet_18 poisoned: False, epoch: 156: Average loss: 2.1937, Accuracy: 5273/10000 (52.7300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 27.91ms
___Train Local_ResNet_18,  epoch 156, local model 38, internal_epoch   1,  Average loss: 0.0049, Accuracy: 5651/6235 (90.6335%)
___Train Local_ResNet_18,  epoch 156, local model 38, internal_epoch   2,  Average loss: 0.0067, Accuracy: 5396/6235 (86.5437%)
___Test Local_ResNet_18 poisoned: False, epoch: 156: Average loss: 2.4151, Accuracy: 4873/10000 (48.7300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 28.47ms
___Train Local_ResNet_18,  epoch 156, local model 98, internal_epoch   1,  Average loss: 0.0046, Accuracy: 3884/4161 (93.3429%)
___Train Local_ResNet_18,  epoch 156, local model 98, internal_epoch   2,  Average loss: 0.0053, Accuracy: 3790/4161 (91.0839%)
___Test Local_ResNet_18 poisoned: False, epoch: 156: Average loss: 2.1417, Accuracy: 5466/10000 (54.6600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 28.84ms
___Train Local_ResNet_18,  epoch 156, local model 74, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4436/4797 (92.4745%)
___Train Local_ResNet_18,  epoch 156, local model 74, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4366/4797 (91.0152%)
___Test Local_ResNet_18 poisoned: False, epoch: 156: Average loss: 2.6199, Accuracy: 4868/10000 (48.6800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 28.07ms
___Train Local_ResNet_18,  epoch 156, local model 21, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4666/5038 (92.6161%)
___Train Local_ResNet_18,  epoch 156, local model 21, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4694/5038 (93.1719%)
___Test Local_ResNet_18 poisoned: False, epoch: 156: Average loss: 1.7684, Accuracy: 5948/10000 (59.4800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.76ms
INFO:tornado.access:200 POST /update (::1) 27.99ms
___Train Local_ResNet_18,  epoch 156, local model 63, internal_epoch   1,  Average loss: 0.0032, Accuracy: 3708/3910 (94.8338%)
___Train Local_ResNet_18,  epoch 156, local model 63, internal_epoch   2,  Average loss: 0.0058, Accuracy: 3514/3910 (89.8721%)
___Test Local_ResNet_18 poisoned: False, epoch: 156: Average loss: 2.2222, Accuracy: 5394/10000 (53.9400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 27.51ms
___Train Local_ResNet_18,  epoch 156, local model 62, internal_epoch   1,  Average loss: 0.0050, Accuracy: 4978/5504 (90.4433%)
___Train Local_ResNet_18,  epoch 156, local model 62, internal_epoch   2,  Average loss: 0.0063, Accuracy: 4805/5504 (87.3001%)
___Test Local_ResNet_18 poisoned: False, epoch: 156: Average loss: 2.3716, Accuracy: 4995/10000 (49.9500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 27.91ms
time spent on training: 266.7369599342346
___Test Target_ResNet_18 poisoned: False, epoch: 156: Average loss: 1.3177, Accuracy: 6687/10000 (66.8700%)
___Test Target_ResNet_18 poisoned: True, epoch: 156: Average loss: 0.0583, Accuracy: 9751/9900 (98.4949%)
Done in 293.6315276622772 sec.
Server Epoch:157 choose agents : [13, 36, 58, 71, 7, 2, 12, 90, 33, 98, 27, 94, 1, 52, 14, 48, 96, 37, 20, 28].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 157, local model 13, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5208/5308 (98.1161%), train_poison_data_count: 415
Global model norm: 44.22663771301677.
Norm before scaling: 44.185236029785024. Distance: 1.182578075968652
Total norm for 4 adversaries is: 44.185236029785024. distance: 1.182578075968652
___Test Local_ResNet_18 poisoned: True, epoch: 157: Average loss: 0.0203, Accuracy: 9850/9900 (99.4949%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 157, local model 36, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5645/5777 (97.7151%), train_poison_data_count: 455
Global model norm: 44.22663771301677.
Norm before scaling: 44.1809660789788. Distance: 1.2650464466298212
Total norm for 4 adversaries is: 44.1809660789788. distance: 1.2650464466298212
___Test Local_ResNet_18 poisoned: True, epoch: 157: Average loss: 0.0657, Accuracy: 9719/9900 (98.1717%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 157, local model 58, internal_epoch   1,  Average loss: 0.0028, Accuracy: 4973/5123 (97.0720%), train_poison_data_count: 403
Global model norm: 44.22663771301677.
Norm before scaling: 44.18873898766871. Distance: 1.2922972350016209
Total norm for 4 adversaries is: 44.18873898766871. distance: 1.2922972350016209
___Test Local_ResNet_18 poisoned: True, epoch: 157: Average loss: 0.0873, Accuracy: 9673/9900 (97.7071%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 157, local model 71, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5376/5503 (97.6922%), train_poison_data_count: 430
Global model norm: 44.22663771301677.
Norm before scaling: 44.185009488247964. Distance: 1.2403096333896133
Total norm for 4 adversaries is: 44.185009488247964. distance: 1.2403096333896133
___Test Local_ResNet_18 poisoned: True, epoch: 157: Average loss: 0.1129, Accuracy: 9609/9900 (97.0606%)
___Train Local_ResNet_18,  epoch 157, local model 7, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4454/4869 (91.4767%)
___Train Local_ResNet_18,  epoch 157, local model 7, internal_epoch   2,  Average loss: 0.0075, Accuracy: 4143/4869 (85.0893%)
___Test Local_ResNet_18 poisoned: False, epoch: 157: Average loss: 2.2653, Accuracy: 5233/10000 (52.3300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.79ms
INFO:tornado.access:200 POST /update (::1) 28.99ms
___Train Local_ResNet_18,  epoch 157, local model 2, internal_epoch   1,  Average loss: 0.0030, Accuracy: 3749/3968 (94.4808%)
___Train Local_ResNet_18,  epoch 157, local model 2, internal_epoch   2,  Average loss: 0.0030, Accuracy: 3747/3968 (94.4304%)
___Test Local_ResNet_18 poisoned: False, epoch: 157: Average loss: 1.8838, Accuracy: 5731/10000 (57.3100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 29.19ms
___Train Local_ResNet_18,  epoch 157, local model 12, internal_epoch   1,  Average loss: 0.0038, Accuracy: 5141/5526 (93.0329%)
___Train Local_ResNet_18,  epoch 157, local model 12, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4933/5526 (89.2689%)
___Test Local_ResNet_18 poisoned: False, epoch: 157: Average loss: 2.3167, Accuracy: 5079/10000 (50.7900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 27.64ms
___Train Local_ResNet_18,  epoch 157, local model 90, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4501/4748 (94.7978%)
___Train Local_ResNet_18,  epoch 157, local model 90, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4316/4748 (90.9014%)
___Test Local_ResNet_18 poisoned: False, epoch: 157: Average loss: 2.1620, Accuracy: 5260/10000 (52.6000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.79ms
INFO:tornado.access:200 POST /win_exists (::1) 0.67ms
INFO:tornado.access:200 POST /update (::1) 23.18ms
___Train Local_ResNet_18,  epoch 157, local model 33, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4454/4818 (92.4450%)
___Train Local_ResNet_18,  epoch 157, local model 33, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4367/4818 (90.6393%)
___Test Local_ResNet_18 poisoned: False, epoch: 157: Average loss: 1.9385, Accuracy: 5604/10000 (56.0400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 28.11ms
___Train Local_ResNet_18,  epoch 157, local model 98, internal_epoch   1,  Average loss: 0.0036, Accuracy: 3939/4161 (94.6647%)
___Train Local_ResNet_18,  epoch 157, local model 98, internal_epoch   2,  Average loss: 0.0056, Accuracy: 3796/4161 (91.2281%)
___Test Local_ResNet_18 poisoned: False, epoch: 157: Average loss: 2.0872, Accuracy: 5554/10000 (55.5400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 27.24ms
___Train Local_ResNet_18,  epoch 157, local model 27, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4259/4587 (92.8494%)
___Train Local_ResNet_18,  epoch 157, local model 27, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4168/4587 (90.8655%)
___Test Local_ResNet_18 poisoned: False, epoch: 157: Average loss: 2.2178, Accuracy: 5309/10000 (53.0900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 28.20ms
___Train Local_ResNet_18,  epoch 157, local model 94, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4792/5224 (91.7305%)
___Train Local_ResNet_18,  epoch 157, local model 94, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4744/5224 (90.8116%)
___Test Local_ResNet_18 poisoned: False, epoch: 157: Average loss: 2.2023, Accuracy: 5232/10000 (52.3200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 28.66ms
___Train Local_ResNet_18,  epoch 157, local model 1, internal_epoch   1,  Average loss: 0.0026, Accuracy: 5163/5422 (95.2232%)
___Train Local_ResNet_18,  epoch 157, local model 1, internal_epoch   2,  Average loss: 0.0032, Accuracy: 5117/5422 (94.3748%)
___Test Local_ResNet_18 poisoned: False, epoch: 157: Average loss: 1.9486, Accuracy: 5684/10000 (56.8400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 28.86ms
___Train Local_ResNet_18,  epoch 157, local model 52, internal_epoch   1,  Average loss: 0.0031, Accuracy: 3898/4130 (94.3826%)
___Train Local_ResNet_18,  epoch 157, local model 52, internal_epoch   2,  Average loss: 0.0044, Accuracy: 3808/4130 (92.2034%)
___Test Local_ResNet_18 poisoned: False, epoch: 157: Average loss: 2.1406, Accuracy: 5480/10000 (54.8000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 28.99ms
___Train Local_ResNet_18,  epoch 157, local model 14, internal_epoch   1,  Average loss: 0.0027, Accuracy: 3993/4196 (95.1621%)
___Train Local_ResNet_18,  epoch 157, local model 14, internal_epoch   2,  Average loss: 0.0028, Accuracy: 3984/4196 (94.9476%)
___Test Local_ResNet_18 poisoned: False, epoch: 157: Average loss: 1.8650, Accuracy: 5858/10000 (58.5800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 28.46ms
___Train Local_ResNet_18,  epoch 157, local model 48, internal_epoch   1,  Average loss: 0.0028, Accuracy: 4596/4830 (95.1553%)
___Train Local_ResNet_18,  epoch 157, local model 48, internal_epoch   2,  Average loss: 0.0031, Accuracy: 4537/4830 (93.9337%)
___Test Local_ResNet_18 poisoned: False, epoch: 157: Average loss: 2.0307, Accuracy: 5566/10000 (55.6600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 28.88ms
___Train Local_ResNet_18,  epoch 157, local model 96, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4697/5086 (92.3516%)
___Train Local_ResNet_18,  epoch 157, local model 96, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4699/5086 (92.3909%)
___Test Local_ResNet_18 poisoned: False, epoch: 157: Average loss: 2.2199, Accuracy: 5106/10000 (51.0600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 29.51ms
___Train Local_ResNet_18,  epoch 157, local model 37, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4395/4741 (92.7020%)
___Train Local_ResNet_18,  epoch 157, local model 37, internal_epoch   2,  Average loss: 0.0065, Accuracy: 4213/4741 (88.8631%)
___Test Local_ResNet_18 poisoned: False, epoch: 157: Average loss: 2.4536, Accuracy: 5034/10000 (50.3400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 27.36ms
___Train Local_ResNet_18,  epoch 157, local model 20, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4479/4714 (95.0148%)
___Train Local_ResNet_18,  epoch 157, local model 20, internal_epoch   2,  Average loss: 0.0030, Accuracy: 4438/4714 (94.1451%)
___Test Local_ResNet_18 poisoned: False, epoch: 157: Average loss: 1.9689, Accuracy: 5640/10000 (56.4000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 28.85ms
___Train Local_ResNet_18,  epoch 157, local model 28, internal_epoch   1,  Average loss: 0.0054, Accuracy: 4643/5122 (90.6482%)
___Train Local_ResNet_18,  epoch 157, local model 28, internal_epoch   2,  Average loss: 0.0121, Accuracy: 4007/5122 (78.2312%)
___Test Local_ResNet_18 poisoned: False, epoch: 157: Average loss: 2.5662, Accuracy: 4650/10000 (46.5000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 27.65ms
time spent on training: 268.7330484390259
___Test Target_ResNet_18 poisoned: False, epoch: 157: Average loss: 1.3202, Accuracy: 6682/10000 (66.8200%)
___Test Target_ResNet_18 poisoned: True, epoch: 157: Average loss: 0.0561, Accuracy: 9757/9900 (98.5556%)
Done in 295.5212564468384 sec.
Server Epoch:158 choose agents : [13, 36, 58, 71, 76, 60, 40, 20, 6, 79, 62, 50, 11, 68, 14, 94, 19, 35, 31, 29].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 158, local model 13, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5200/5308 (97.9653%), train_poison_data_count: 415
Global model norm: 44.24454029259571.
Norm before scaling: 44.202231620964994. Distance: 1.1645951044696763
Total norm for 4 adversaries is: 44.202231620964994. distance: 1.1645951044696763
___Test Local_ResNet_18 poisoned: True, epoch: 158: Average loss: 0.0256, Accuracy: 9830/9900 (99.2929%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 158, local model 36, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5654/5777 (97.8709%), train_poison_data_count: 455
Global model norm: 44.24454029259571.
Norm before scaling: 44.198399689991604. Distance: 1.2395227508272773
Total norm for 4 adversaries is: 44.198399689991604. distance: 1.2395227508272773
___Test Local_ResNet_18 poisoned: True, epoch: 158: Average loss: 0.0103, Accuracy: 9870/9900 (99.6970%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 158, local model 58, internal_epoch   1,  Average loss: 0.0024, Accuracy: 4993/5123 (97.4624%), train_poison_data_count: 403
Global model norm: 44.24454029259571.
Norm before scaling: 44.20619576643782. Distance: 1.227943517656503
Total norm for 4 adversaries is: 44.20619576643782. distance: 1.227943517656503
___Test Local_ResNet_18 poisoned: True, epoch: 158: Average loss: 0.0274, Accuracy: 9825/9900 (99.2424%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 158, local model 71, internal_epoch   1,  Average loss: 0.0017, Accuracy: 5347/5503 (97.1652%), train_poison_data_count: 430
Global model norm: 44.24454029259571.
Norm before scaling: 44.20674527857712. Distance: 1.337149845171695
Total norm for 4 adversaries is: 44.20674527857712. distance: 1.337149845171695
___Test Local_ResNet_18 poisoned: True, epoch: 158: Average loss: 0.0588, Accuracy: 9742/9900 (98.4040%)
___Train Local_ResNet_18,  epoch 158, local model 76, internal_epoch   1,  Average loss: 0.0039, Accuracy: 3647/3959 (92.1192%)
___Train Local_ResNet_18,  epoch 158, local model 76, internal_epoch   2,  Average loss: 0.0041, Accuracy: 3635/3959 (91.8161%)
___Test Local_ResNet_18 poisoned: False, epoch: 158: Average loss: 1.8911, Accuracy: 5635/10000 (56.3500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 29.13ms
___Train Local_ResNet_18,  epoch 158, local model 60, internal_epoch   1,  Average loss: 0.0038, Accuracy: 3847/4145 (92.8106%)
___Train Local_ResNet_18,  epoch 158, local model 60, internal_epoch   2,  Average loss: 0.0040, Accuracy: 3843/4145 (92.7141%)
___Test Local_ResNet_18 poisoned: False, epoch: 158: Average loss: 1.9834, Accuracy: 5556/10000 (55.5600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 28.39ms
___Train Local_ResNet_18,  epoch 158, local model 40, internal_epoch   1,  Average loss: 0.0038, Accuracy: 5502/5939 (92.6419%)
___Train Local_ResNet_18,  epoch 158, local model 40, internal_epoch   2,  Average loss: 0.0044, Accuracy: 5414/5939 (91.1601%)
___Test Local_ResNet_18 poisoned: False, epoch: 158: Average loss: 2.0654, Accuracy: 5379/10000 (53.7900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 28.93ms
___Train Local_ResNet_18,  epoch 158, local model 20, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4484/4714 (95.1209%)
___Train Local_ResNet_18,  epoch 158, local model 20, internal_epoch   2,  Average loss: 0.0031, Accuracy: 4441/4714 (94.2087%)
___Test Local_ResNet_18 poisoned: False, epoch: 158: Average loss: 1.8846, Accuracy: 5728/10000 (57.2800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 24.33ms
___Train Local_ResNet_18,  epoch 158, local model 6, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4599/4929 (93.3049%)
___Train Local_ResNet_18,  epoch 158, local model 6, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4482/4929 (90.9312%)
___Test Local_ResNet_18 poisoned: False, epoch: 158: Average loss: 2.2321, Accuracy: 5343/10000 (53.4300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 29.39ms
___Train Local_ResNet_18,  epoch 158, local model 79, internal_epoch   1,  Average loss: 0.0033, Accuracy: 3870/4111 (94.1377%)
___Train Local_ResNet_18,  epoch 158, local model 79, internal_epoch   2,  Average loss: 0.0043, Accuracy: 3767/4111 (91.6322%)
___Test Local_ResNet_18 poisoned: False, epoch: 158: Average loss: 2.1165, Accuracy: 5386/10000 (53.8600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 29.04ms
___Train Local_ResNet_18,  epoch 158, local model 62, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4985/5504 (90.5705%)
___Train Local_ResNet_18,  epoch 158, local model 62, internal_epoch   2,  Average loss: 0.0062, Accuracy: 4814/5504 (87.4637%)
___Test Local_ResNet_18 poisoned: False, epoch: 158: Average loss: 2.2266, Accuracy: 5232/10000 (52.3200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.03ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 28.27ms
___Train Local_ResNet_18,  epoch 158, local model 50, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4437/4757 (93.2731%)
___Train Local_ResNet_18,  epoch 158, local model 50, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4329/4757 (91.0027%)
___Test Local_ResNet_18 poisoned: False, epoch: 158: Average loss: 2.2406, Accuracy: 5209/10000 (52.0900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 28.92ms
___Train Local_ResNet_18,  epoch 158, local model 11, internal_epoch   1,  Average loss: 0.0065, Accuracy: 5012/5702 (87.8990%)
___Train Local_ResNet_18,  epoch 158, local model 11, internal_epoch   2,  Average loss: 0.0108, Accuracy: 4477/5702 (78.5163%)
___Test Local_ResNet_18 poisoned: False, epoch: 158: Average loss: 2.4324, Accuracy: 4742/10000 (47.4200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.07ms
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /update (::1) 28.87ms
___Train Local_ResNet_18,  epoch 158, local model 68, internal_epoch   1,  Average loss: 0.0032, Accuracy: 3374/3589 (94.0095%)
___Train Local_ResNet_18,  epoch 158, local model 68, internal_epoch   2,  Average loss: 0.0035, Accuracy: 3379/3589 (94.1488%)
___Test Local_ResNet_18 poisoned: False, epoch: 158: Average loss: 1.9400, Accuracy: 5691/10000 (56.9100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 28.70ms
___Train Local_ResNet_18,  epoch 158, local model 14, internal_epoch   1,  Average loss: 0.0022, Accuracy: 4044/4196 (96.3775%)
___Train Local_ResNet_18,  epoch 158, local model 14, internal_epoch   2,  Average loss: 0.0025, Accuracy: 4016/4196 (95.7102%)
___Test Local_ResNet_18 poisoned: False, epoch: 158: Average loss: 1.7700, Accuracy: 5907/10000 (59.0700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 28.69ms
___Train Local_ResNet_18,  epoch 158, local model 94, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4802/5224 (91.9219%)
___Train Local_ResNet_18,  epoch 158, local model 94, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4718/5224 (90.3139%)
___Test Local_ResNet_18 poisoned: False, epoch: 158: Average loss: 2.2174, Accuracy: 5346/10000 (53.4600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 28.36ms
___Train Local_ResNet_18,  epoch 158, local model 19, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4962/5361 (92.5574%)
___Train Local_ResNet_18,  epoch 158, local model 19, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4773/5361 (89.0319%)
___Test Local_ResNet_18 poisoned: False, epoch: 158: Average loss: 2.1234, Accuracy: 5350/10000 (53.5000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 27.72ms
___Train Local_ResNet_18,  epoch 158, local model 35, internal_epoch   1,  Average loss: 0.0038, Accuracy: 5201/5615 (92.6269%)
___Train Local_ResNet_18,  epoch 158, local model 35, internal_epoch   2,  Average loss: 0.0043, Accuracy: 5102/5615 (90.8638%)
___Test Local_ResNet_18 poisoned: False, epoch: 158: Average loss: 2.3493, Accuracy: 5141/10000 (51.4100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 28.76ms
___Train Local_ResNet_18,  epoch 158, local model 31, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4219/4537 (92.9910%)
___Train Local_ResNet_18,  epoch 158, local model 31, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4171/4537 (91.9330%)
___Test Local_ResNet_18 poisoned: False, epoch: 158: Average loss: 1.9235, Accuracy: 5701/10000 (57.0100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 27.94ms
___Train Local_ResNet_18,  epoch 158, local model 29, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4441/4732 (93.8504%)
___Train Local_ResNet_18,  epoch 158, local model 29, internal_epoch   2,  Average loss: 0.0031, Accuracy: 4463/4732 (94.3153%)
___Test Local_ResNet_18 poisoned: False, epoch: 158: Average loss: 1.8470, Accuracy: 5835/10000 (58.3500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.82ms
INFO:tornado.access:200 POST /update (::1) 28.56ms
time spent on training: 269.19335675239563
___Test Target_ResNet_18 poisoned: False, epoch: 158: Average loss: 1.3415, Accuracy: 6626/10000 (66.2600%)
___Test Target_ResNet_18 poisoned: True, epoch: 158: Average loss: 0.0472, Accuracy: 9775/9900 (98.7374%)
Done in 296.1574409008026 sec.
Server Epoch:159 choose agents : [13, 36, 58, 71, 97, 47, 16, 70, 11, 17, 62, 21, 9, 1, 10, 20, 30, 84, 83, 63].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 159, local model 13, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5218/5308 (98.3044%), train_poison_data_count: 415
Global model norm: 44.26255973546873.
Norm before scaling: 44.22003090017577. Distance: 1.124468253882095
Total norm for 4 adversaries is: 44.22003090017577. distance: 1.124468253882095
___Test Local_ResNet_18 poisoned: True, epoch: 159: Average loss: 0.0474, Accuracy: 9773/9900 (98.7172%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 159, local model 36, internal_epoch   1,  Average loss: 0.0016, Accuracy: 5638/5777 (97.5939%), train_poison_data_count: 455
Global model norm: 44.26255973546873.
Norm before scaling: 44.220008816004324. Distance: 1.326018334378492
Total norm for 4 adversaries is: 44.220008816004324. distance: 1.326018334378492
___Test Local_ResNet_18 poisoned: True, epoch: 159: Average loss: 0.0387, Accuracy: 9805/9900 (99.0404%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 159, local model 58, internal_epoch   1,  Average loss: 0.0024, Accuracy: 4974/5123 (97.0915%), train_poison_data_count: 403
Global model norm: 44.26255973546873.
Norm before scaling: 44.22357802706182. Distance: 1.2450040159964995
Total norm for 4 adversaries is: 44.22357802706182. distance: 1.2450040159964995
___Test Local_ResNet_18 poisoned: True, epoch: 159: Average loss: 0.0614, Accuracy: 9736/9900 (98.3434%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 159, local model 71, internal_epoch   1,  Average loss: 0.0016, Accuracy: 5372/5503 (97.6195%), train_poison_data_count: 430
Global model norm: 44.26255973546873.
Norm before scaling: 44.22324540974252. Distance: 1.270592020397688
Total norm for 4 adversaries is: 44.22324540974252. distance: 1.270592020397688
___Test Local_ResNet_18 poisoned: True, epoch: 159: Average loss: 0.0408, Accuracy: 9799/9900 (98.9798%)
___Train Local_ResNet_18,  epoch 159, local model 97, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4355/4736 (91.9552%)
___Train Local_ResNet_18,  epoch 159, local model 97, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4315/4736 (91.1106%)
___Test Local_ResNet_18 poisoned: False, epoch: 159: Average loss: 2.2098, Accuracy: 5261/10000 (52.6100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 28.15ms
___Train Local_ResNet_18,  epoch 159, local model 47, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4736/5123 (92.4458%)
___Train Local_ResNet_18,  epoch 159, local model 47, internal_epoch   2,  Average loss: 0.0092, Accuracy: 4206/5123 (82.1003%)
___Test Local_ResNet_18 poisoned: False, epoch: 159: Average loss: 2.5046, Accuracy: 4797/10000 (47.9700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 27.94ms
___Train Local_ResNet_18,  epoch 159, local model 16, internal_epoch   1,  Average loss: 0.0036, Accuracy: 5022/5353 (93.8166%)
___Train Local_ResNet_18,  epoch 159, local model 16, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4874/5353 (91.0517%)
___Test Local_ResNet_18 poisoned: False, epoch: 159: Average loss: 2.1125, Accuracy: 5426/10000 (54.2600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 28.23ms
___Train Local_ResNet_18,  epoch 159, local model 70, internal_epoch   1,  Average loss: 0.0034, Accuracy: 5490/5871 (93.5105%)
___Train Local_ResNet_18,  epoch 159, local model 70, internal_epoch   2,  Average loss: 0.0045, Accuracy: 5379/5871 (91.6198%)
___Test Local_ResNet_18 poisoned: False, epoch: 159: Average loss: 2.1255, Accuracy: 5334/10000 (53.3400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.76ms
INFO:tornado.access:200 POST /update (::1) 27.84ms
___Train Local_ResNet_18,  epoch 159, local model 11, internal_epoch   1,  Average loss: 0.0063, Accuracy: 5016/5702 (87.9691%)
___Train Local_ResNet_18,  epoch 159, local model 11, internal_epoch   2,  Average loss: 0.0130, Accuracy: 4325/5702 (75.8506%)
___Test Local_ResNet_18 poisoned: False, epoch: 159: Average loss: 2.4490, Accuracy: 4757/10000 (47.5700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 28.35ms
___Train Local_ResNet_18,  epoch 159, local model 17, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4491/4903 (91.5970%)
___Train Local_ResNet_18,  epoch 159, local model 17, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4368/4903 (89.0883%)
___Test Local_ResNet_18 poisoned: False, epoch: 159: Average loss: 2.2558, Accuracy: 5135/10000 (51.3500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 28.30ms
___Train Local_ResNet_18,  epoch 159, local model 62, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4946/5504 (89.8619%)
___Train Local_ResNet_18,  epoch 159, local model 62, internal_epoch   2,  Average loss: 0.0059, Accuracy: 4862/5504 (88.3358%)
___Test Local_ResNet_18 poisoned: False, epoch: 159: Average loss: 2.3940, Accuracy: 5020/10000 (50.2000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 28.97ms
___Train Local_ResNet_18,  epoch 159, local model 21, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4669/5038 (92.6757%)
___Train Local_ResNet_18,  epoch 159, local model 21, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4642/5038 (92.1397%)
___Test Local_ResNet_18 poisoned: False, epoch: 159: Average loss: 1.9101, Accuracy: 5786/10000 (57.8600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 28.05ms
___Train Local_ResNet_18,  epoch 159, local model 9, internal_epoch   1,  Average loss: 0.0041, Accuracy: 5264/5727 (91.9155%)
___Train Local_ResNet_18,  epoch 159, local model 9, internal_epoch   2,  Average loss: 0.0060, Accuracy: 5046/5727 (88.1090%)
___Test Local_ResNet_18 poisoned: False, epoch: 159: Average loss: 2.4927, Accuracy: 4985/10000 (49.8500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 27.79ms
___Train Local_ResNet_18,  epoch 159, local model 1, internal_epoch   1,  Average loss: 0.0027, Accuracy: 5143/5422 (94.8543%)
___Train Local_ResNet_18,  epoch 159, local model 1, internal_epoch   2,  Average loss: 0.0033, Accuracy: 5086/5422 (93.8030%)
___Test Local_ResNet_18 poisoned: False, epoch: 159: Average loss: 1.9835, Accuracy: 5657/10000 (56.5700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 28.83ms
___Train Local_ResNet_18,  epoch 159, local model 10, internal_epoch   1,  Average loss: 0.0028, Accuracy: 4813/5068 (94.9684%)
___Train Local_ResNet_18,  epoch 159, local model 10, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4726/5068 (93.2518%)
___Test Local_ResNet_18 poisoned: False, epoch: 159: Average loss: 2.0231, Accuracy: 5504/10000 (55.0400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.03ms
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /update (::1) 27.67ms
___Train Local_ResNet_18,  epoch 159, local model 20, internal_epoch   1,  Average loss: 0.0028, Accuracy: 4470/4714 (94.8239%)
___Train Local_ResNet_18,  epoch 159, local model 20, internal_epoch   2,  Average loss: 0.0031, Accuracy: 4433/4714 (94.0390%)
___Test Local_ResNet_18 poisoned: False, epoch: 159: Average loss: 1.9373, Accuracy: 5722/10000 (57.2200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 27.51ms
___Train Local_ResNet_18,  epoch 159, local model 30, internal_epoch   1,  Average loss: 0.0029, Accuracy: 3564/3774 (94.4356%)
___Train Local_ResNet_18,  epoch 159, local model 30, internal_epoch   2,  Average loss: 0.0032, Accuracy: 3547/3774 (93.9852%)
___Test Local_ResNet_18 poisoned: False, epoch: 159: Average loss: 1.9241, Accuracy: 5679/10000 (56.7900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 27.32ms
___Train Local_ResNet_18,  epoch 159, local model 84, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4785/5209 (91.8602%)
___Train Local_ResNet_18,  epoch 159, local model 84, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4776/5209 (91.6875%)
___Test Local_ResNet_18 poisoned: False, epoch: 159: Average loss: 2.0369, Accuracy: 5490/10000 (54.9000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 27.35ms
___Train Local_ResNet_18,  epoch 159, local model 83, internal_epoch   1,  Average loss: 0.0038, Accuracy: 3285/3552 (92.4831%)
___Train Local_ResNet_18,  epoch 159, local model 83, internal_epoch   2,  Average loss: 0.0033, Accuracy: 3321/3552 (93.4966%)
___Test Local_ResNet_18 poisoned: False, epoch: 159: Average loss: 1.8231, Accuracy: 5789/10000 (57.8900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 28.53ms
___Train Local_ResNet_18,  epoch 159, local model 63, internal_epoch   1,  Average loss: 0.0031, Accuracy: 3703/3910 (94.7059%)
___Train Local_ResNet_18,  epoch 159, local model 63, internal_epoch   2,  Average loss: 0.0048, Accuracy: 3558/3910 (90.9974%)
___Test Local_ResNet_18 poisoned: False, epoch: 159: Average loss: 2.2058, Accuracy: 5304/10000 (53.0400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.79ms
INFO:tornado.access:200 POST /update (::1) 28.50ms
time spent on training: 272.9990060329437
___Test Target_ResNet_18 poisoned: False, epoch: 159: Average loss: 1.3434, Accuracy: 6610/10000 (66.1000%)
___Test Target_ResNet_18 poisoned: True, epoch: 159: Average loss: 0.0449, Accuracy: 9775/9900 (98.7374%)
Done in 300.00509667396545 sec.
Server Epoch:160 choose agents : [13, 36, 58, 71, 82, 6, 27, 91, 61, 74, 8, 42, 9, 15, 85, 19, 89, 48, 96, 88].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 160, local model 13, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5207/5308 (98.0972%), train_poison_data_count: 415
Global model norm: 44.281332701051916.
Norm before scaling: 44.24130663633959. Distance: 1.213065314497634
Total norm for 4 adversaries is: 44.24130663633959. distance: 1.213065314497634
___Test Local_ResNet_18 poisoned: True, epoch: 160: Average loss: 0.0281, Accuracy: 9826/9900 (99.2525%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 160, local model 36, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5656/5777 (97.9055%), train_poison_data_count: 455
Global model norm: 44.281332701051916.
Norm before scaling: 44.23521253843269. Distance: 1.2341257157487395
Total norm for 4 adversaries is: 44.23521253843269. distance: 1.2341257157487395
___Test Local_ResNet_18 poisoned: True, epoch: 160: Average loss: 0.0829, Accuracy: 9687/9900 (97.8485%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 160, local model 58, internal_epoch   1,  Average loss: 0.0025, Accuracy: 4992/5123 (97.4429%), train_poison_data_count: 403
Global model norm: 44.281332701051916.
Norm before scaling: 44.243033857567625. Distance: 1.232931040974103
Total norm for 4 adversaries is: 44.243033857567625. distance: 1.232931040974103
___Test Local_ResNet_18 poisoned: True, epoch: 160: Average loss: 0.0540, Accuracy: 9755/9900 (98.5354%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 160, local model 71, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5388/5503 (97.9102%), train_poison_data_count: 430
Global model norm: 44.281332701051916.
Norm before scaling: 44.240375398833216. Distance: 1.2378025513528235
Total norm for 4 adversaries is: 44.240375398833216. distance: 1.2378025513528235
___Test Local_ResNet_18 poisoned: True, epoch: 160: Average loss: 0.0422, Accuracy: 9784/9900 (98.8283%)
___Train Local_ResNet_18,  epoch 160, local model 82, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4930/5298 (93.0540%)
___Train Local_ResNet_18,  epoch 160, local model 82, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4864/5298 (91.8082%)
___Test Local_ResNet_18 poisoned: False, epoch: 160: Average loss: 2.1025, Accuracy: 5385/10000 (53.8500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.80ms
INFO:tornado.access:200 POST /update (::1) 28.03ms
___Train Local_ResNet_18,  epoch 160, local model 6, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4614/4929 (93.6093%)
___Train Local_ResNet_18,  epoch 160, local model 6, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4546/4929 (92.2297%)
___Test Local_ResNet_18 poisoned: False, epoch: 160: Average loss: 2.1242, Accuracy: 5479/10000 (54.7900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 28.42ms
___Train Local_ResNet_18,  epoch 160, local model 27, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4285/4587 (93.4162%)
___Train Local_ResNet_18,  epoch 160, local model 27, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4216/4587 (91.9119%)
___Test Local_ResNet_18 poisoned: False, epoch: 160: Average loss: 2.0237, Accuracy: 5600/10000 (56.0000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 28.71ms
___Train Local_ResNet_18,  epoch 160, local model 91, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4156/4527 (91.8047%)
___Train Local_ResNet_18,  epoch 160, local model 91, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4096/4527 (90.4793%)
___Test Local_ResNet_18 poisoned: False, epoch: 160: Average loss: 1.9971, Accuracy: 5530/10000 (55.3000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 28.41ms
___Train Local_ResNet_18,  epoch 160, local model 61, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4117/4485 (91.7949%)
___Train Local_ResNet_18,  epoch 160, local model 61, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4094/4485 (91.2821%)
___Test Local_ResNet_18 poisoned: False, epoch: 160: Average loss: 2.0560, Accuracy: 5425/10000 (54.2500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 28.80ms
___Train Local_ResNet_18,  epoch 160, local model 74, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4463/4797 (93.0373%)
___Train Local_ResNet_18,  epoch 160, local model 74, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4405/4797 (91.8282%)
___Test Local_ResNet_18 poisoned: False, epoch: 160: Average loss: 2.0986, Accuracy: 5364/10000 (53.6400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 28.28ms
___Train Local_ResNet_18,  epoch 160, local model 8, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4539/4889 (92.8411%)
___Train Local_ResNet_18,  epoch 160, local model 8, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4465/4889 (91.3275%)
___Test Local_ResNet_18 poisoned: False, epoch: 160: Average loss: 2.0647, Accuracy: 5397/10000 (53.9700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 29.07ms
___Train Local_ResNet_18,  epoch 160, local model 42, internal_epoch   1,  Average loss: 0.0042, Accuracy: 5425/5907 (91.8402%)
___Train Local_ResNet_18,  epoch 160, local model 42, internal_epoch   2,  Average loss: 0.0048, Accuracy: 5346/5907 (90.5028%)
___Test Local_ResNet_18 poisoned: False, epoch: 160: Average loss: 2.3261, Accuracy: 5076/10000 (50.7600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 28.88ms
___Train Local_ResNet_18,  epoch 160, local model 9, internal_epoch   1,  Average loss: 0.0041, Accuracy: 5263/5727 (91.8980%)
___Train Local_ResNet_18,  epoch 160, local model 9, internal_epoch   2,  Average loss: 0.0049, Accuracy: 5189/5727 (90.6059%)
___Test Local_ResNet_18 poisoned: False, epoch: 160: Average loss: 2.0122, Accuracy: 5495/10000 (54.9500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 28.10ms
___Train Local_ResNet_18,  epoch 160, local model 15, internal_epoch   1,  Average loss: 0.0037, Accuracy: 5612/6068 (92.4852%)
___Train Local_ResNet_18,  epoch 160, local model 15, internal_epoch   2,  Average loss: 0.0041, Accuracy: 5567/6068 (91.7436%)
___Test Local_ResNet_18 poisoned: False, epoch: 160: Average loss: 2.2557, Accuracy: 5160/10000 (51.6000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 28.40ms
___Train Local_ResNet_18,  epoch 160, local model 85, internal_epoch   1,  Average loss: 0.0045, Accuracy: 6371/6947 (91.7087%)
___Train Local_ResNet_18,  epoch 160, local model 85, internal_epoch   2,  Average loss: 0.0065, Accuracy: 6048/6947 (87.0592%)
___Test Local_ResNet_18 poisoned: False, epoch: 160: Average loss: 2.3895, Accuracy: 4955/10000 (49.5500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 28.79ms
___Train Local_ResNet_18,  epoch 160, local model 19, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4882/5361 (91.0651%)
___Train Local_ResNet_18,  epoch 160, local model 19, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4803/5361 (89.5915%)
___Test Local_ResNet_18 poisoned: False, epoch: 160: Average loss: 2.0899, Accuracy: 5397/10000 (53.9700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 29.46ms
___Train Local_ResNet_18,  epoch 160, local model 89, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4358/4737 (91.9992%)
___Train Local_ResNet_18,  epoch 160, local model 89, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4312/4737 (91.0281%)
___Test Local_ResNet_18 poisoned: False, epoch: 160: Average loss: 2.1843, Accuracy: 5393/10000 (53.9300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 28.80ms
___Train Local_ResNet_18,  epoch 160, local model 48, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4570/4830 (94.6170%)
___Train Local_ResNet_18,  epoch 160, local model 48, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4522/4830 (93.6232%)
___Test Local_ResNet_18 poisoned: False, epoch: 160: Average loss: 2.0874, Accuracy: 5531/10000 (55.3100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 28.24ms
___Train Local_ResNet_18,  epoch 160, local model 96, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4762/5086 (93.6296%)
___Train Local_ResNet_18,  epoch 160, local model 96, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4698/5086 (92.3712%)
___Test Local_ResNet_18 poisoned: False, epoch: 160: Average loss: 2.1652, Accuracy: 5351/10000 (53.5100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 28.13ms
___Train Local_ResNet_18,  epoch 160, local model 88, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4954/5362 (92.3909%)
___Train Local_ResNet_18,  epoch 160, local model 88, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4833/5362 (90.1343%)
___Test Local_ResNet_18 poisoned: False, epoch: 160: Average loss: 2.1765, Accuracy: 5236/10000 (52.3600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 28.66ms
time spent on training: 275.89677476882935
___Test Target_ResNet_18 poisoned: False, epoch: 160: Average loss: 1.3448, Accuracy: 6607/10000 (66.0700%)
___Test Target_ResNet_18 poisoned: True, epoch: 160: Average loss: 0.0419, Accuracy: 9779/9900 (98.7778%)
Done in 302.66028809547424 sec.
Server Epoch:161 choose agents : [13, 36, 58, 71, 74, 51, 9, 80, 78, 64, 90, 42, 14, 6, 57, 0, 46, 43, 18, 77].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 161, local model 13, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5216/5308 (98.2668%), train_poison_data_count: 415
Global model norm: 44.301617360783226.
Norm before scaling: 44.25869303515059. Distance: 1.1461958514021167
Total norm for 4 adversaries is: 44.25869303515059. distance: 1.1461958514021167
___Test Local_ResNet_18 poisoned: True, epoch: 161: Average loss: 0.0583, Accuracy: 9745/9900 (98.4343%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 161, local model 36, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5653/5777 (97.8536%), train_poison_data_count: 455
Global model norm: 44.301617360783226.
Norm before scaling: 44.25569211050357. Distance: 1.2499278524558566
Total norm for 4 adversaries is: 44.25569211050357. distance: 1.2499278524558566
___Test Local_ResNet_18 poisoned: True, epoch: 161: Average loss: 0.0424, Accuracy: 9795/9900 (98.9394%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 161, local model 58, internal_epoch   1,  Average loss: 0.0026, Accuracy: 4975/5123 (97.1111%), train_poison_data_count: 403
Global model norm: 44.301617360783226.
Norm before scaling: 44.26420201560314. Distance: 1.2692296065923172
Total norm for 4 adversaries is: 44.26420201560314. distance: 1.2692296065923172
___Test Local_ResNet_18 poisoned: True, epoch: 161: Average loss: 0.0165, Accuracy: 9858/9900 (99.5758%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 161, local model 71, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5378/5503 (97.7285%), train_poison_data_count: 430
Global model norm: 44.301617360783226.
Norm before scaling: 44.26163308200385. Distance: 1.2618820509919062
Total norm for 4 adversaries is: 44.26163308200385. distance: 1.2618820509919062
___Test Local_ResNet_18 poisoned: True, epoch: 161: Average loss: 0.0616, Accuracy: 9751/9900 (98.4949%)
___Train Local_ResNet_18,  epoch 161, local model 74, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4472/4797 (93.2249%)
___Train Local_ResNet_18,  epoch 161, local model 74, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4392/4797 (91.5572%)
___Test Local_ResNet_18 poisoned: False, epoch: 161: Average loss: 2.0128, Accuracy: 5551/10000 (55.5100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /update (::1) 28.23ms
___Train Local_ResNet_18,  epoch 161, local model 51, internal_epoch   1,  Average loss: 0.0034, Accuracy: 3854/4108 (93.8169%)
___Train Local_ResNet_18,  epoch 161, local model 51, internal_epoch   2,  Average loss: 0.0041, Accuracy: 3782/4108 (92.0643%)
___Test Local_ResNet_18 poisoned: False, epoch: 161: Average loss: 1.9525, Accuracy: 5678/10000 (56.7800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.82ms
INFO:tornado.access:200 POST /update (::1) 27.70ms
___Train Local_ResNet_18,  epoch 161, local model 9, internal_epoch   1,  Average loss: 0.0044, Accuracy: 5236/5727 (91.4266%)
___Train Local_ResNet_18,  epoch 161, local model 9, internal_epoch   2,  Average loss: 0.0056, Accuracy: 5110/5727 (89.2265%)
___Test Local_ResNet_18 poisoned: False, epoch: 161: Average loss: 2.1874, Accuracy: 5340/10000 (53.4000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.80ms
INFO:tornado.access:200 POST /update (::1) 29.22ms
___Train Local_ResNet_18,  epoch 161, local model 80, internal_epoch   1,  Average loss: 0.0039, Accuracy: 5055/5461 (92.5655%)
___Train Local_ResNet_18,  epoch 161, local model 80, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4938/5461 (90.4230%)
___Test Local_ResNet_18 poisoned: False, epoch: 161: Average loss: 2.4837, Accuracy: 5031/10000 (50.3100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 28.66ms
___Train Local_ResNet_18,  epoch 161, local model 78, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4137/4368 (94.7115%)
___Train Local_ResNet_18,  epoch 161, local model 78, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4037/4368 (92.4222%)
___Test Local_ResNet_18 poisoned: False, epoch: 161: Average loss: 2.1047, Accuracy: 5392/10000 (53.9200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 28.89ms
___Train Local_ResNet_18,  epoch 161, local model 64, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4500/4894 (91.9493%)
___Train Local_ResNet_18,  epoch 161, local model 64, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4394/4894 (89.7834%)
___Test Local_ResNet_18 poisoned: False, epoch: 161: Average loss: 2.2373, Accuracy: 5297/10000 (52.9700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 28.29ms
___Train Local_ResNet_18,  epoch 161, local model 90, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4506/4748 (94.9031%)
___Train Local_ResNet_18,  epoch 161, local model 90, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4356/4748 (91.7439%)
___Test Local_ResNet_18 poisoned: False, epoch: 161: Average loss: 1.9717, Accuracy: 5568/10000 (55.6800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.79ms
INFO:tornado.access:200 POST /win_exists (::1) 0.69ms
INFO:tornado.access:200 POST /update (::1) 28.22ms
___Train Local_ResNet_18,  epoch 161, local model 42, internal_epoch   1,  Average loss: 0.0038, Accuracy: 5469/5907 (92.5851%)
___Train Local_ResNet_18,  epoch 161, local model 42, internal_epoch   2,  Average loss: 0.0050, Accuracy: 5314/5907 (89.9611%)
___Test Local_ResNet_18 poisoned: False, epoch: 161: Average loss: 2.8219, Accuracy: 4653/10000 (46.5300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 28.11ms
___Train Local_ResNet_18,  epoch 161, local model 14, internal_epoch   1,  Average loss: 0.0026, Accuracy: 3981/4196 (94.8761%)
___Train Local_ResNet_18,  epoch 161, local model 14, internal_epoch   2,  Average loss: 0.0028, Accuracy: 3968/4196 (94.5663%)
___Test Local_ResNet_18 poisoned: False, epoch: 161: Average loss: 1.7599, Accuracy: 5959/10000 (59.5900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 28.46ms
___Train Local_ResNet_18,  epoch 161, local model 6, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4666/4929 (94.6642%)
___Train Local_ResNet_18,  epoch 161, local model 6, internal_epoch   2,  Average loss: 0.0059, Accuracy: 4461/4929 (90.5052%)
___Test Local_ResNet_18 poisoned: False, epoch: 161: Average loss: 2.0803, Accuracy: 5502/10000 (55.0200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.80ms
INFO:tornado.access:200 POST /update (::1) 28.37ms
___Train Local_ResNet_18,  epoch 161, local model 57, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4641/4956 (93.6441%)
___Train Local_ResNet_18,  epoch 161, local model 57, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4562/4956 (92.0500%)
___Test Local_ResNet_18 poisoned: False, epoch: 161: Average loss: 2.1672, Accuracy: 5379/10000 (53.7900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 28.65ms
___Train Local_ResNet_18,  epoch 161, local model 0, internal_epoch   1,  Average loss: 0.0039, Accuracy: 5059/5454 (92.7576%)
___Train Local_ResNet_18,  epoch 161, local model 0, internal_epoch   2,  Average loss: 0.0054, Accuracy: 4897/5454 (89.7873%)
___Test Local_ResNet_18 poisoned: False, epoch: 161: Average loss: 2.2794, Accuracy: 5218/10000 (52.1800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 27.49ms
___Train Local_ResNet_18,  epoch 161, local model 46, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4931/5399 (91.3317%)
___Train Local_ResNet_18,  epoch 161, local model 46, internal_epoch   2,  Average loss: 0.0065, Accuracy: 4706/5399 (87.1643%)
___Test Local_ResNet_18 poisoned: False, epoch: 161: Average loss: 2.3527, Accuracy: 4890/10000 (48.9000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 28.52ms
___Train Local_ResNet_18,  epoch 161, local model 43, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4662/4979 (93.6333%)
___Train Local_ResNet_18,  epoch 161, local model 43, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4603/4979 (92.4483%)
___Test Local_ResNet_18 poisoned: False, epoch: 161: Average loss: 2.0215, Accuracy: 5596/10000 (55.9600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 29.07ms
___Train Local_ResNet_18,  epoch 161, local model 18, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4008/4249 (94.3281%)
___Train Local_ResNet_18,  epoch 161, local model 18, internal_epoch   2,  Average loss: 0.0036, Accuracy: 3958/4249 (93.1513%)
___Test Local_ResNet_18 poisoned: False, epoch: 161: Average loss: 1.9596, Accuracy: 5616/10000 (56.1600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 27.76ms
___Train Local_ResNet_18,  epoch 161, local model 77, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4588/5050 (90.8515%)
___Train Local_ResNet_18,  epoch 161, local model 77, internal_epoch   2,  Average loss: 0.0059, Accuracy: 4480/5050 (88.7129%)
___Test Local_ResNet_18 poisoned: False, epoch: 161: Average loss: 2.2573, Accuracy: 5099/10000 (50.9900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 27.97ms
time spent on training: 272.02928614616394
___Test Target_ResNet_18 poisoned: False, epoch: 161: Average loss: 1.3565, Accuracy: 6589/10000 (65.8900%)
___Test Target_ResNet_18 poisoned: True, epoch: 161: Average loss: 0.0392, Accuracy: 9785/9900 (98.8384%)
Done in 298.7251718044281 sec.
Server Epoch:162 choose agents : [13, 36, 58, 71, 27, 87, 60, 89, 4, 98, 25, 54, 90, 2, 44, 35, 74, 78, 92, 10].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 162, local model 13, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5215/5308 (98.2479%), train_poison_data_count: 415
Global model norm: 44.32059963220052.
Norm before scaling: 44.277507615764264. Distance: 1.1273419058316083
Total norm for 4 adversaries is: 44.277507615764264. distance: 1.1273419058316083
___Test Local_ResNet_18 poisoned: True, epoch: 162: Average loss: 0.0510, Accuracy: 9772/9900 (98.7071%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 162, local model 36, internal_epoch   1,  Average loss: 0.0016, Accuracy: 5640/5777 (97.6285%), train_poison_data_count: 455
Global model norm: 44.32059963220052.
Norm before scaling: 44.276353822469396. Distance: 1.2893601507384886
Total norm for 4 adversaries is: 44.276353822469396. distance: 1.2893601507384886
___Test Local_ResNet_18 poisoned: True, epoch: 162: Average loss: 0.0217, Accuracy: 9842/9900 (99.4141%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 162, local model 58, internal_epoch   1,  Average loss: 0.0024, Accuracy: 4981/5123 (97.2282%), train_poison_data_count: 403
Global model norm: 44.32059963220052.
Norm before scaling: 44.28014592616184. Distance: 1.2242322520550342
Total norm for 4 adversaries is: 44.28014592616184. distance: 1.2242322520550342
___Test Local_ResNet_18 poisoned: True, epoch: 162: Average loss: 0.1036, Accuracy: 9619/9900 (97.1616%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 162, local model 71, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5383/5503 (97.8194%), train_poison_data_count: 430
Global model norm: 44.32059963220052.
Norm before scaling: 44.28018176419686. Distance: 1.2633074510602065
Total norm for 4 adversaries is: 44.28018176419686. distance: 1.2633074510602065
___Test Local_ResNet_18 poisoned: True, epoch: 162: Average loss: 0.0170, Accuracy: 9854/9900 (99.5354%)
___Train Local_ResNet_18,  epoch 162, local model 27, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4285/4587 (93.4162%)
___Train Local_ResNet_18,  epoch 162, local model 27, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4197/4587 (91.4977%)
___Test Local_ResNet_18 poisoned: False, epoch: 162: Average loss: 2.0705, Accuracy: 5435/10000 (54.3500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.79ms
INFO:tornado.access:200 POST /update (::1) 28.97ms
___Train Local_ResNet_18,  epoch 162, local model 87, internal_epoch   1,  Average loss: 0.0046, Accuracy: 3651/3995 (91.3892%)
___Train Local_ResNet_18,  epoch 162, local model 87, internal_epoch   2,  Average loss: 0.0051, Accuracy: 3594/3995 (89.9625%)
___Test Local_ResNet_18 poisoned: False, epoch: 162: Average loss: 2.0978, Accuracy: 5370/10000 (53.7000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 29.12ms
___Train Local_ResNet_18,  epoch 162, local model 60, internal_epoch   1,  Average loss: 0.0039, Accuracy: 3838/4145 (92.5935%)
___Train Local_ResNet_18,  epoch 162, local model 60, internal_epoch   2,  Average loss: 0.0039, Accuracy: 3820/4145 (92.1592%)
___Test Local_ResNet_18 poisoned: False, epoch: 162: Average loss: 2.0608, Accuracy: 5469/10000 (54.6900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 28.14ms
___Train Local_ResNet_18,  epoch 162, local model 89, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4382/4737 (92.5058%)
___Train Local_ResNet_18,  epoch 162, local model 89, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4321/4737 (91.2181%)
___Test Local_ResNet_18 poisoned: False, epoch: 162: Average loss: 2.3974, Accuracy: 5195/10000 (51.9500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 28.03ms
___Train Local_ResNet_18,  epoch 162, local model 4, internal_epoch   1,  Average loss: 0.0036, Accuracy: 3754/4028 (93.1976%)
___Train Local_ResNet_18,  epoch 162, local model 4, internal_epoch   2,  Average loss: 0.0034, Accuracy: 3754/4028 (93.1976%)
___Test Local_ResNet_18 poisoned: False, epoch: 162: Average loss: 1.9098, Accuracy: 5713/10000 (57.1300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 27.74ms
___Train Local_ResNet_18,  epoch 162, local model 98, internal_epoch   1,  Average loss: 0.0039, Accuracy: 3973/4161 (95.4819%)
___Train Local_ResNet_18,  epoch 162, local model 98, internal_epoch   2,  Average loss: 0.0044, Accuracy: 3885/4161 (93.3670%)
___Test Local_ResNet_18 poisoned: False, epoch: 162: Average loss: 2.0759, Accuracy: 5539/10000 (55.3900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.05ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 28.48ms
___Train Local_ResNet_18,  epoch 162, local model 25, internal_epoch   1,  Average loss: 0.0050, Accuracy: 5786/6419 (90.1387%)
___Train Local_ResNet_18,  epoch 162, local model 25, internal_epoch   2,  Average loss: 0.0068, Accuracy: 5551/6419 (86.4776%)
___Test Local_ResNet_18 poisoned: False, epoch: 162: Average loss: 2.0931, Accuracy: 5381/10000 (53.8100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.82ms
INFO:tornado.access:200 POST /update (::1) 28.34ms
___Train Local_ResNet_18,  epoch 162, local model 54, internal_epoch   1,  Average loss: 0.0050, Accuracy: 5101/5645 (90.3632%)
___Train Local_ResNet_18,  epoch 162, local model 54, internal_epoch   2,  Average loss: 0.0082, Accuracy: 4776/5645 (84.6058%)
___Test Local_ResNet_18 poisoned: False, epoch: 162: Average loss: 2.3419, Accuracy: 4980/10000 (49.8000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.73ms
INFO:tornado.access:200 POST /win_exists (::1) 0.63ms
INFO:tornado.access:200 POST /update (::1) 22.72ms
___Train Local_ResNet_18,  epoch 162, local model 90, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4489/4748 (94.5451%)
___Train Local_ResNet_18,  epoch 162, local model 90, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4376/4748 (92.1651%)
___Test Local_ResNet_18 poisoned: False, epoch: 162: Average loss: 2.0402, Accuracy: 5504/10000 (55.0400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 28.77ms
___Train Local_ResNet_18,  epoch 162, local model 2, internal_epoch   1,  Average loss: 0.0032, Accuracy: 3738/3968 (94.2036%)
___Train Local_ResNet_18,  epoch 162, local model 2, internal_epoch   2,  Average loss: 0.0032, Accuracy: 3728/3968 (93.9516%)
___Test Local_ResNet_18 poisoned: False, epoch: 162: Average loss: 1.7689, Accuracy: 5882/10000 (58.8200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 28.16ms
___Train Local_ResNet_18,  epoch 162, local model 44, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4801/5075 (94.6010%)
___Train Local_ResNet_18,  epoch 162, local model 44, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4708/5075 (92.7685%)
___Test Local_ResNet_18 poisoned: False, epoch: 162: Average loss: 2.3155, Accuracy: 5216/10000 (52.1600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 29.61ms
___Train Local_ResNet_18,  epoch 162, local model 35, internal_epoch   1,  Average loss: 0.0035, Accuracy: 5228/5615 (93.1077%)
___Train Local_ResNet_18,  epoch 162, local model 35, internal_epoch   2,  Average loss: 0.0042, Accuracy: 5151/5615 (91.7364%)
___Test Local_ResNet_18 poisoned: False, epoch: 162: Average loss: 2.1591, Accuracy: 5421/10000 (54.2100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 28.79ms
___Train Local_ResNet_18,  epoch 162, local model 74, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4468/4797 (93.1415%)
___Train Local_ResNet_18,  epoch 162, local model 74, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4376/4797 (91.2237%)
___Test Local_ResNet_18 poisoned: False, epoch: 162: Average loss: 2.1211, Accuracy: 5356/10000 (53.5600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /win_exists (::1) 0.72ms
INFO:tornado.access:200 POST /update (::1) 26.25ms
___Train Local_ResNet_18,  epoch 162, local model 78, internal_epoch   1,  Average loss: 0.0028, Accuracy: 4164/4368 (95.3297%)
___Train Local_ResNet_18,  epoch 162, local model 78, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4052/4368 (92.7656%)
___Test Local_ResNet_18 poisoned: False, epoch: 162: Average loss: 2.0410, Accuracy: 5479/10000 (54.7900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 23.75ms
___Train Local_ResNet_18,  epoch 162, local model 92, internal_epoch   1,  Average loss: 0.0030, Accuracy: 6431/6812 (94.4069%)
___Train Local_ResNet_18,  epoch 162, local model 92, internal_epoch   2,  Average loss: 0.0044, Accuracy: 6238/6812 (91.5737%)
___Test Local_ResNet_18 poisoned: False, epoch: 162: Average loss: 2.0849, Accuracy: 5353/10000 (53.5300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 29.50ms
___Train Local_ResNet_18,  epoch 162, local model 10, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4777/5068 (94.2581%)
___Train Local_ResNet_18,  epoch 162, local model 10, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4704/5068 (92.8177%)
___Test Local_ResNet_18 poisoned: False, epoch: 162: Average loss: 2.1376, Accuracy: 5320/10000 (53.2000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 29.11ms
time spent on training: 268.4787528514862
___Test Target_ResNet_18 poisoned: False, epoch: 162: Average loss: 1.3686, Accuracy: 6562/10000 (65.6200%)
___Test Target_ResNet_18 poisoned: True, epoch: 162: Average loss: 0.0399, Accuracy: 9783/9900 (98.8182%)
Done in 295.1517605781555 sec.
Server Epoch:163 choose agents : [13, 36, 58, 71, 95, 8, 67, 7, 31, 90, 40, 65, 34, 20, 2, 82, 51, 83, 86, 92].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 163, local model 13, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5204/5308 (98.0407%), train_poison_data_count: 415
Global model norm: 44.33810085581023.
Norm before scaling: 44.29667934260141. Distance: 1.1833674652030581
Total norm for 4 adversaries is: 44.29667934260141. distance: 1.1833674652030581
___Test Local_ResNet_18 poisoned: True, epoch: 163: Average loss: 0.0366, Accuracy: 9812/9900 (99.1111%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 163, local model 36, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5668/5777 (98.1132%), train_poison_data_count: 455
Global model norm: 44.33810085581023.
Norm before scaling: 44.28969435847562. Distance: 1.2081486242898318
Total norm for 4 adversaries is: 44.28969435847562. distance: 1.2081486242898318
___Test Local_ResNet_18 poisoned: True, epoch: 163: Average loss: 0.0265, Accuracy: 9832/9900 (99.3131%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 163, local model 58, internal_epoch   1,  Average loss: 0.0023, Accuracy: 4996/5123 (97.5210%), train_poison_data_count: 403
Global model norm: 44.33810085581023.
Norm before scaling: 44.299586557219975. Distance: 1.2395675188012116
Total norm for 4 adversaries is: 44.299586557219975. distance: 1.2395675188012116
___Test Local_ResNet_18 poisoned: True, epoch: 163: Average loss: 0.0546, Accuracy: 9763/9900 (98.6162%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 163, local model 71, internal_epoch   1,  Average loss: 0.0016, Accuracy: 5377/5503 (97.7103%), train_poison_data_count: 430
Global model norm: 44.33810085581023.
Norm before scaling: 44.29735862831228. Distance: 1.228964718969508
Total norm for 4 adversaries is: 44.29735862831228. distance: 1.228964718969508
___Test Local_ResNet_18 poisoned: True, epoch: 163: Average loss: 0.0777, Accuracy: 9696/9900 (97.9394%)
___Train Local_ResNet_18,  epoch 163, local model 95, internal_epoch   1,  Average loss: 0.0050, Accuracy: 4514/5018 (89.9562%)
___Train Local_ResNet_18,  epoch 163, local model 95, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4467/5018 (89.0195%)
___Test Local_ResNet_18 poisoned: False, epoch: 163: Average loss: 2.1826, Accuracy: 5244/10000 (52.4400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 30.32ms
___Train Local_ResNet_18,  epoch 163, local model 8, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4539/4889 (92.8411%)
___Train Local_ResNet_18,  epoch 163, local model 8, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4373/4889 (89.4457%)
___Test Local_ResNet_18 poisoned: False, epoch: 163: Average loss: 2.1925, Accuracy: 5366/10000 (53.6600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.77ms
INFO:tornado.access:200 POST /win_exists (::1) 0.57ms
INFO:tornado.access:200 POST /update (::1) 23.75ms
___Train Local_ResNet_18,  epoch 163, local model 67, internal_epoch   1,  Average loss: 0.0046, Accuracy: 5076/5559 (91.3114%)
___Train Local_ResNet_18,  epoch 163, local model 67, internal_epoch   2,  Average loss: 0.0059, Accuracy: 4894/5559 (88.0374%)
___Test Local_ResNet_18 poisoned: False, epoch: 163: Average loss: 2.3189, Accuracy: 5042/10000 (50.4200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 29.35ms
___Train Local_ResNet_18,  epoch 163, local model 7, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4494/4869 (92.2982%)
___Train Local_ResNet_18,  epoch 163, local model 7, internal_epoch   2,  Average loss: 0.0091, Accuracy: 4009/4869 (82.3372%)
___Test Local_ResNet_18 poisoned: False, epoch: 163: Average loss: 2.2841, Accuracy: 5098/10000 (50.9800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 28.56ms
___Train Local_ResNet_18,  epoch 163, local model 31, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4264/4537 (93.9828%)
___Train Local_ResNet_18,  epoch 163, local model 31, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4226/4537 (93.1453%)
___Test Local_ResNet_18 poisoned: False, epoch: 163: Average loss: 1.9167, Accuracy: 5738/10000 (57.3800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 29.06ms
___Train Local_ResNet_18,  epoch 163, local model 90, internal_epoch   1,  Average loss: 0.0024, Accuracy: 4555/4748 (95.9351%)
___Train Local_ResNet_18,  epoch 163, local model 90, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4454/4748 (93.8079%)
___Test Local_ResNet_18 poisoned: False, epoch: 163: Average loss: 1.9661, Accuracy: 5596/10000 (55.9600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 29.01ms
___Train Local_ResNet_18,  epoch 163, local model 40, internal_epoch   1,  Average loss: 0.0036, Accuracy: 5552/5939 (93.4838%)
___Train Local_ResNet_18,  epoch 163, local model 40, internal_epoch   2,  Average loss: 0.0041, Accuracy: 5446/5939 (91.6989%)
___Test Local_ResNet_18 poisoned: False, epoch: 163: Average loss: 2.1870, Accuracy: 5267/10000 (52.6700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 29.44ms
___Train Local_ResNet_18,  epoch 163, local model 65, internal_epoch   1,  Average loss: 0.0040, Accuracy: 5079/5497 (92.3959%)
___Train Local_ResNet_18,  epoch 163, local model 65, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4958/5497 (90.1947%)
___Test Local_ResNet_18 poisoned: False, epoch: 163: Average loss: 2.1772, Accuracy: 5345/10000 (53.4500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 28.66ms
___Train Local_ResNet_18,  epoch 163, local model 34, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4552/4911 (92.6899%)
___Train Local_ResNet_18,  epoch 163, local model 34, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4532/4911 (92.2826%)
___Test Local_ResNet_18 poisoned: False, epoch: 163: Average loss: 2.0757, Accuracy: 5354/10000 (53.5400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 29.10ms
___Train Local_ResNet_18,  epoch 163, local model 20, internal_epoch   1,  Average loss: 0.0028, Accuracy: 4492/4714 (95.2906%)
___Train Local_ResNet_18,  epoch 163, local model 20, internal_epoch   2,  Average loss: 0.0032, Accuracy: 4427/4714 (93.9118%)
___Test Local_ResNet_18 poisoned: False, epoch: 163: Average loss: 1.8546, Accuracy: 5757/10000 (57.5700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 28.71ms
___Train Local_ResNet_18,  epoch 163, local model 2, internal_epoch   1,  Average loss: 0.0033, Accuracy: 3718/3968 (93.6996%)
___Train Local_ResNet_18,  epoch 163, local model 2, internal_epoch   2,  Average loss: 0.0034, Accuracy: 3711/3968 (93.5232%)
___Test Local_ResNet_18 poisoned: False, epoch: 163: Average loss: 1.9418, Accuracy: 5663/10000 (56.6300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 28.19ms
___Train Local_ResNet_18,  epoch 163, local model 82, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4957/5298 (93.5636%)
___Train Local_ResNet_18,  epoch 163, local model 82, internal_epoch   2,  Average loss: 0.0032, Accuracy: 4963/5298 (93.6769%)
___Test Local_ResNet_18 poisoned: False, epoch: 163: Average loss: 1.9801, Accuracy: 5598/10000 (55.9800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 27.73ms
___Train Local_ResNet_18,  epoch 163, local model 51, internal_epoch   1,  Average loss: 0.0032, Accuracy: 3862/4108 (94.0117%)
___Train Local_ResNet_18,  epoch 163, local model 51, internal_epoch   2,  Average loss: 0.0031, Accuracy: 3890/4108 (94.6933%)
___Test Local_ResNet_18 poisoned: False, epoch: 163: Average loss: 1.9344, Accuracy: 5576/10000 (55.7600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 28.75ms
___Train Local_ResNet_18,  epoch 163, local model 83, internal_epoch   1,  Average loss: 0.0038, Accuracy: 3280/3552 (92.3423%)
___Train Local_ResNet_18,  epoch 163, local model 83, internal_epoch   2,  Average loss: 0.0029, Accuracy: 3347/3552 (94.2286%)
___Test Local_ResNet_18 poisoned: False, epoch: 163: Average loss: 1.8083, Accuracy: 5873/10000 (58.7300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 28.93ms
___Train Local_ResNet_18,  epoch 163, local model 86, internal_epoch   1,  Average loss: 0.0043, Accuracy: 3584/3929 (91.2191%)
___Train Local_ResNet_18,  epoch 163, local model 86, internal_epoch   2,  Average loss: 0.0044, Accuracy: 3566/3929 (90.7610%)
___Test Local_ResNet_18 poisoned: False, epoch: 163: Average loss: 2.0634, Accuracy: 5644/10000 (56.4400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 28.52ms
___Train Local_ResNet_18,  epoch 163, local model 92, internal_epoch   1,  Average loss: 0.0030, Accuracy: 6449/6812 (94.6712%)
___Train Local_ResNet_18,  epoch 163, local model 92, internal_epoch   2,  Average loss: 0.0036, Accuracy: 6307/6812 (92.5866%)
___Test Local_ResNet_18 poisoned: False, epoch: 163: Average loss: 2.1299, Accuracy: 5443/10000 (54.4300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 29.47ms
time spent on training: 260.7607264518738
___Test Target_ResNet_18 poisoned: False, epoch: 163: Average loss: 1.3691, Accuracy: 6550/10000 (65.5000%)
___Test Target_ResNet_18 poisoned: True, epoch: 163: Average loss: 0.0400, Accuracy: 9784/9900 (98.8283%)
Done in 287.8100543022156 sec.
Server Epoch:164 choose agents : [13, 36, 58, 71, 93, 42, 22, 44, 28, 6, 70, 27, 35, 41, 8, 24, 26, 60, 31, 12].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 164, local model 13, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5212/5308 (98.1914%), train_poison_data_count: 415
Global model norm: 44.35579332361431.
Norm before scaling: 44.31390628278061. Distance: 1.1542134779286461
Total norm for 4 adversaries is: 44.31390628278061. distance: 1.1542134779286461
___Test Local_ResNet_18 poisoned: True, epoch: 164: Average loss: 0.0525, Accuracy: 9752/9900 (98.5051%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 164, local model 36, internal_epoch   1,  Average loss: 0.0016, Accuracy: 5640/5777 (97.6285%), train_poison_data_count: 455
Global model norm: 44.35579332361431.
Norm before scaling: 44.31100964965564. Distance: 1.2967752165496476
Total norm for 4 adversaries is: 44.31100964965564. distance: 1.2967752165496476
___Test Local_ResNet_18 poisoned: True, epoch: 164: Average loss: 0.0718, Accuracy: 9714/9900 (98.1212%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 164, local model 58, internal_epoch   1,  Average loss: 0.0025, Accuracy: 4999/5123 (97.5795%), train_poison_data_count: 403
Global model norm: 44.35579332361431.
Norm before scaling: 44.31671733721796. Distance: 1.2306904426560061
Total norm for 4 adversaries is: 44.31671733721796. distance: 1.2306904426560061
___Test Local_ResNet_18 poisoned: True, epoch: 164: Average loss: 0.0684, Accuracy: 9705/9900 (98.0303%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 164, local model 71, internal_epoch   1,  Average loss: 0.0016, Accuracy: 5389/5503 (97.9284%), train_poison_data_count: 430
Global model norm: 44.35579332361431.
Norm before scaling: 44.31385669864238. Distance: 1.2419523580385243
Total norm for 4 adversaries is: 44.31385669864238. distance: 1.2419523580385243
___Test Local_ResNet_18 poisoned: True, epoch: 164: Average loss: 0.0788, Accuracy: 9680/9900 (97.7778%)
___Train Local_ResNet_18,  epoch 164, local model 93, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4673/5055 (92.4431%)
___Train Local_ResNet_18,  epoch 164, local model 93, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4646/5055 (91.9090%)
___Test Local_ResNet_18 poisoned: False, epoch: 164: Average loss: 2.2639, Accuracy: 5312/10000 (53.1200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 28.60ms
___Train Local_ResNet_18,  epoch 164, local model 42, internal_epoch   1,  Average loss: 0.0039, Accuracy: 5447/5907 (92.2126%)
___Train Local_ResNet_18,  epoch 164, local model 42, internal_epoch   2,  Average loss: 0.0053, Accuracy: 5278/5907 (89.3516%)
___Test Local_ResNet_18 poisoned: False, epoch: 164: Average loss: 2.4001, Accuracy: 4954/10000 (49.5400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 29.18ms
___Train Local_ResNet_18,  epoch 164, local model 22, internal_epoch   1,  Average loss: 0.0036, Accuracy: 5283/5696 (92.7493%)
___Train Local_ResNet_18,  epoch 164, local model 22, internal_epoch   2,  Average loss: 0.0049, Accuracy: 5160/5696 (90.5899%)
___Test Local_ResNet_18 poisoned: False, epoch: 164: Average loss: 2.2788, Accuracy: 5162/10000 (51.6200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 28.39ms
___Train Local_ResNet_18,  epoch 164, local model 44, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4777/5075 (94.1281%)
___Train Local_ResNet_18,  epoch 164, local model 44, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4668/5075 (91.9803%)
___Test Local_ResNet_18 poisoned: False, epoch: 164: Average loss: 2.2535, Accuracy: 5233/10000 (52.3300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 28.99ms
___Train Local_ResNet_18,  epoch 164, local model 28, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4702/5122 (91.8001%)
___Train Local_ResNet_18,  epoch 164, local model 28, internal_epoch   2,  Average loss: 0.0098, Accuracy: 4205/5122 (82.0968%)
___Test Local_ResNet_18 poisoned: False, epoch: 164: Average loss: 2.5175, Accuracy: 4712/10000 (47.1200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 29.40ms
___Train Local_ResNet_18,  epoch 164, local model 6, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4665/4929 (94.6439%)
___Train Local_ResNet_18,  epoch 164, local model 6, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4519/4929 (91.6819%)
___Test Local_ResNet_18 poisoned: False, epoch: 164: Average loss: 2.1645, Accuracy: 5484/10000 (54.8400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 28.53ms
___Train Local_ResNet_18,  epoch 164, local model 70, internal_epoch   1,  Average loss: 0.0033, Accuracy: 5509/5871 (93.8341%)
___Train Local_ResNet_18,  epoch 164, local model 70, internal_epoch   2,  Average loss: 0.0044, Accuracy: 5356/5871 (91.2281%)
___Test Local_ResNet_18 poisoned: False, epoch: 164: Average loss: 2.2669, Accuracy: 5187/10000 (51.8700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /update (::1) 28.62ms
___Train Local_ResNet_18,  epoch 164, local model 27, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4277/4587 (93.2418%)
___Train Local_ResNet_18,  epoch 164, local model 27, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4241/4587 (92.4569%)
___Test Local_ResNet_18 poisoned: False, epoch: 164: Average loss: 1.9586, Accuracy: 5628/10000 (56.2800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 28.12ms
___Train Local_ResNet_18,  epoch 164, local model 35, internal_epoch   1,  Average loss: 0.0035, Accuracy: 5252/5615 (93.5352%)
___Train Local_ResNet_18,  epoch 164, local model 35, internal_epoch   2,  Average loss: 0.0044, Accuracy: 5114/5615 (91.0775%)
___Test Local_ResNet_18 poisoned: False, epoch: 164: Average loss: 2.3318, Accuracy: 5153/10000 (51.5300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 28.61ms
___Train Local_ResNet_18,  epoch 164, local model 41, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4446/4714 (94.3148%)
___Train Local_ResNet_18,  epoch 164, local model 41, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4393/4714 (93.1905%)
___Test Local_ResNet_18 poisoned: False, epoch: 164: Average loss: 2.2045, Accuracy: 5248/10000 (52.4800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.77ms
INFO:tornado.access:200 POST /update (::1) 28.16ms
___Train Local_ResNet_18,  epoch 164, local model 8, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4570/4889 (93.4751%)
___Train Local_ResNet_18,  epoch 164, local model 8, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4462/4889 (91.2661%)
___Test Local_ResNet_18 poisoned: False, epoch: 164: Average loss: 1.9659, Accuracy: 5616/10000 (56.1600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.64ms
INFO:tornado.access:200 POST /update (::1) 23.46ms
___Train Local_ResNet_18,  epoch 164, local model 24, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4062/4313 (94.1804%)
___Train Local_ResNet_18,  epoch 164, local model 24, internal_epoch   2,  Average loss: 0.0032, Accuracy: 4044/4313 (93.7630%)
___Test Local_ResNet_18 poisoned: False, epoch: 164: Average loss: 1.8266, Accuracy: 5871/10000 (58.7100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 28.74ms
___Train Local_ResNet_18,  epoch 164, local model 26, internal_epoch   1,  Average loss: 0.0028, Accuracy: 3870/4086 (94.7137%)
___Train Local_ResNet_18,  epoch 164, local model 26, internal_epoch   2,  Average loss: 0.0033, Accuracy: 3833/4086 (93.8081%)
___Test Local_ResNet_18 poisoned: False, epoch: 164: Average loss: 1.9427, Accuracy: 5688/10000 (56.8800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 29.17ms
___Train Local_ResNet_18,  epoch 164, local model 60, internal_epoch   1,  Average loss: 0.0035, Accuracy: 3866/4145 (93.2690%)
___Train Local_ResNet_18,  epoch 164, local model 60, internal_epoch   2,  Average loss: 0.0040, Accuracy: 3831/4145 (92.4246%)
___Test Local_ResNet_18 poisoned: False, epoch: 164: Average loss: 2.1195, Accuracy: 5460/10000 (54.6000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.80ms
INFO:tornado.access:200 POST /update (::1) 28.54ms
___Train Local_ResNet_18,  epoch 164, local model 31, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4257/4537 (93.8285%)
___Train Local_ResNet_18,  epoch 164, local model 31, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4188/4537 (92.3077%)
___Test Local_ResNet_18 poisoned: False, epoch: 164: Average loss: 1.8344, Accuracy: 5789/10000 (57.8900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 29.13ms
___Train Local_ResNet_18,  epoch 164, local model 12, internal_epoch   1,  Average loss: 0.0044, Accuracy: 5069/5526 (91.7300%)
___Train Local_ResNet_18,  epoch 164, local model 12, internal_epoch   2,  Average loss: 0.0058, Accuracy: 4926/5526 (89.1422%)
___Test Local_ResNet_18 poisoned: False, epoch: 164: Average loss: 2.3336, Accuracy: 5029/10000 (50.2900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 28.28ms
time spent on training: 266.1423170566559
___Test Target_ResNet_18 poisoned: False, epoch: 164: Average loss: 1.3753, Accuracy: 6546/10000 (65.4600%)
___Test Target_ResNet_18 poisoned: True, epoch: 164: Average loss: 0.0388, Accuracy: 9785/9900 (98.8384%)
Done in 292.80422735214233 sec.
Server Epoch:165 choose agents : [13, 36, 58, 71, 90, 84, 56, 79, 2, 19, 51, 77, 98, 18, 60, 16, 88, 63, 69, 9].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 165, local model 13, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5217/5308 (98.2856%), train_poison_data_count: 415
Global model norm: 44.37457498696114.
Norm before scaling: 44.332869524907814. Distance: 1.1760886668073491
Total norm for 4 adversaries is: 44.332869524907814. distance: 1.1760886668073491
___Test Local_ResNet_18 poisoned: True, epoch: 165: Average loss: 0.0570, Accuracy: 9754/9900 (98.5253%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 165, local model 36, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5658/5777 (97.9401%), train_poison_data_count: 455
Global model norm: 44.37457498696114.
Norm before scaling: 44.328579372891596. Distance: 1.2642861337022187
Total norm for 4 adversaries is: 44.328579372891596. distance: 1.2642861337022187
___Test Local_ResNet_18 poisoned: True, epoch: 165: Average loss: 0.0735, Accuracy: 9711/9900 (98.0909%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 165, local model 58, internal_epoch   1,  Average loss: 0.0024, Accuracy: 4994/5123 (97.4819%), train_poison_data_count: 403
Global model norm: 44.37457498696114.
Norm before scaling: 44.33555685409286. Distance: 1.2235923328082126
Total norm for 4 adversaries is: 44.33555685409286. distance: 1.2235923328082126
___Test Local_ResNet_18 poisoned: True, epoch: 165: Average loss: 0.1238, Accuracy: 9560/9900 (96.5657%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 165, local model 71, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5397/5503 (98.0738%), train_poison_data_count: 430
Global model norm: 44.37457498696114.
Norm before scaling: 44.331290367685696. Distance: 1.2163051634272684
Total norm for 4 adversaries is: 44.331290367685696. distance: 1.2163051634272684
___Test Local_ResNet_18 poisoned: True, epoch: 165: Average loss: 0.0668, Accuracy: 9723/9900 (98.2121%)
___Train Local_ResNet_18,  epoch 165, local model 90, internal_epoch   1,  Average loss: 0.0026, Accuracy: 4532/4748 (95.4507%)
___Train Local_ResNet_18,  epoch 165, local model 90, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4421/4748 (93.1129%)
___Test Local_ResNet_18 poisoned: False, epoch: 165: Average loss: 2.0567, Accuracy: 5487/10000 (54.8700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 28.63ms
___Train Local_ResNet_18,  epoch 165, local model 84, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4810/5209 (92.3402%)
___Train Local_ResNet_18,  epoch 165, local model 84, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4730/5209 (90.8044%)
___Test Local_ResNet_18 poisoned: False, epoch: 165: Average loss: 2.3379, Accuracy: 5176/10000 (51.7600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /win_exists (::1) 0.78ms
INFO:tornado.access:200 POST /update (::1) 25.41ms
___Train Local_ResNet_18,  epoch 165, local model 56, internal_epoch   1,  Average loss: 0.0039, Accuracy: 5030/5427 (92.6847%)
___Train Local_ResNet_18,  epoch 165, local model 56, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4841/5427 (89.2021%)
___Test Local_ResNet_18 poisoned: False, epoch: 165: Average loss: 2.0546, Accuracy: 5468/10000 (54.6800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 28.98ms
___Train Local_ResNet_18,  epoch 165, local model 79, internal_epoch   1,  Average loss: 0.0031, Accuracy: 3886/4111 (94.5269%)
___Train Local_ResNet_18,  epoch 165, local model 79, internal_epoch   2,  Average loss: 0.0040, Accuracy: 3799/4111 (92.4106%)
___Test Local_ResNet_18 poisoned: False, epoch: 165: Average loss: 2.0517, Accuracy: 5478/10000 (54.7800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 28.76ms
___Train Local_ResNet_18,  epoch 165, local model 2, internal_epoch   1,  Average loss: 0.0028, Accuracy: 3759/3968 (94.7329%)
___Train Local_ResNet_18,  epoch 165, local model 2, internal_epoch   2,  Average loss: 0.0030, Accuracy: 3751/3968 (94.5312%)
___Test Local_ResNet_18 poisoned: False, epoch: 165: Average loss: 1.7482, Accuracy: 5975/10000 (59.7500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 30.31ms
___Train Local_ResNet_18,  epoch 165, local model 19, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4947/5361 (92.2776%)
___Train Local_ResNet_18,  epoch 165, local model 19, internal_epoch   2,  Average loss: 0.0060, Accuracy: 4706/5361 (87.7821%)
___Test Local_ResNet_18 poisoned: False, epoch: 165: Average loss: 2.2993, Accuracy: 5142/10000 (51.4200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 29.23ms
___Train Local_ResNet_18,  epoch 165, local model 51, internal_epoch   1,  Average loss: 0.0033, Accuracy: 3892/4108 (94.7420%)
___Train Local_ResNet_18,  epoch 165, local model 51, internal_epoch   2,  Average loss: 0.0051, Accuracy: 3718/4108 (90.5063%)
___Test Local_ResNet_18 poisoned: False, epoch: 165: Average loss: 2.2167, Accuracy: 5251/10000 (52.5100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 29.09ms
___Train Local_ResNet_18,  epoch 165, local model 77, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4642/5050 (91.9208%)
___Train Local_ResNet_18,  epoch 165, local model 77, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4525/5050 (89.6040%)
___Test Local_ResNet_18 poisoned: False, epoch: 165: Average loss: 2.2762, Accuracy: 5166/10000 (51.6600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 29.43ms
___Train Local_ResNet_18,  epoch 165, local model 98, internal_epoch   1,  Average loss: 0.0043, Accuracy: 3915/4161 (94.0880%)
___Train Local_ResNet_18,  epoch 165, local model 98, internal_epoch   2,  Average loss: 0.0054, Accuracy: 3809/4161 (91.5405%)
___Test Local_ResNet_18 poisoned: False, epoch: 165: Average loss: 2.0947, Accuracy: 5463/10000 (54.6300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 29.69ms
___Train Local_ResNet_18,  epoch 165, local model 18, internal_epoch   1,  Average loss: 0.0035, Accuracy: 3977/4249 (93.5985%)
___Train Local_ResNet_18,  epoch 165, local model 18, internal_epoch   2,  Average loss: 0.0047, Accuracy: 3863/4249 (90.9155%)
___Test Local_ResNet_18 poisoned: False, epoch: 165: Average loss: 2.0950, Accuracy: 5447/10000 (54.4700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 29.12ms
___Train Local_ResNet_18,  epoch 165, local model 60, internal_epoch   1,  Average loss: 0.0033, Accuracy: 3886/4145 (93.7515%)
___Train Local_ResNet_18,  epoch 165, local model 60, internal_epoch   2,  Average loss: 0.0037, Accuracy: 3834/4145 (92.4970%)
___Test Local_ResNet_18 poisoned: False, epoch: 165: Average loss: 2.0491, Accuracy: 5559/10000 (55.5900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 29.17ms
___Train Local_ResNet_18,  epoch 165, local model 16, internal_epoch   1,  Average loss: 0.0035, Accuracy: 5021/5353 (93.7979%)
___Train Local_ResNet_18,  epoch 165, local model 16, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4895/5353 (91.4441%)
___Test Local_ResNet_18 poisoned: False, epoch: 165: Average loss: 2.0378, Accuracy: 5572/10000 (55.7200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 28.61ms
___Train Local_ResNet_18,  epoch 165, local model 88, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4955/5362 (92.4095%)
___Train Local_ResNet_18,  epoch 165, local model 88, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4907/5362 (91.5144%)
___Test Local_ResNet_18 poisoned: False, epoch: 165: Average loss: 2.1347, Accuracy: 5283/10000 (52.8300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 29.78ms
___Train Local_ResNet_18,  epoch 165, local model 63, internal_epoch   1,  Average loss: 0.0027, Accuracy: 3715/3910 (95.0128%)
___Train Local_ResNet_18,  epoch 165, local model 63, internal_epoch   2,  Average loss: 0.0036, Accuracy: 3656/3910 (93.5038%)
___Test Local_ResNet_18 poisoned: False, epoch: 165: Average loss: 2.0907, Accuracy: 5692/10000 (56.9200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 28.56ms
___Train Local_ResNet_18,  epoch 165, local model 69, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4092/4364 (93.7672%)
___Train Local_ResNet_18,  epoch 165, local model 69, internal_epoch   2,  Average loss: 0.0044, Accuracy: 3994/4364 (91.5215%)
___Test Local_ResNet_18 poisoned: False, epoch: 165: Average loss: 2.0595, Accuracy: 5485/10000 (54.8500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 29.04ms
___Train Local_ResNet_18,  epoch 165, local model 9, internal_epoch   1,  Average loss: 0.0040, Accuracy: 5293/5727 (92.4219%)
___Train Local_ResNet_18,  epoch 165, local model 9, internal_epoch   2,  Average loss: 0.0058, Accuracy: 5069/5727 (88.5106%)
___Test Local_ResNet_18 poisoned: False, epoch: 165: Average loss: 1.9395, Accuracy: 5637/10000 (56.3700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 28.74ms
time spent on training: 264.0123779773712
___Test Target_ResNet_18 poisoned: False, epoch: 165: Average loss: 1.3876, Accuracy: 6529/10000 (65.2900%)
___Test Target_ResNet_18 poisoned: True, epoch: 165: Average loss: 0.0408, Accuracy: 9784/9900 (98.8283%)
Done in 291.0574426651001 sec.
Server Epoch:166 choose agents : [13, 36, 58, 71, 37, 97, 49, 32, 82, 55, 2, 63, 31, 12, 87, 60, 93, 0, 66, 52].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 166, local model 13, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5178/5308 (97.5509%), train_poison_data_count: 415
Global model norm: 44.39234228682845.
Norm before scaling: 44.35303566229641. Distance: 1.2544378657000026
Total norm for 4 adversaries is: 44.35303566229641. distance: 1.2544378657000026
___Test Local_ResNet_18 poisoned: True, epoch: 166: Average loss: 0.0592, Accuracy: 9744/9900 (98.4242%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 166, local model 36, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5671/5777 (98.1651%), train_poison_data_count: 455
Global model norm: 44.39234228682845.
Norm before scaling: 44.344802940723085. Distance: 1.1987873506743558
Total norm for 4 adversaries is: 44.344802940723085. distance: 1.1987873506743558
___Test Local_ResNet_18 poisoned: True, epoch: 166: Average loss: 0.0561, Accuracy: 9746/9900 (98.4444%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 166, local model 58, internal_epoch   1,  Average loss: 0.0025, Accuracy: 4986/5123 (97.3258%), train_poison_data_count: 403
Global model norm: 44.39234228682845.
Norm before scaling: 44.35306731307458. Distance: 1.2379590406498104
Total norm for 4 adversaries is: 44.35306731307458. distance: 1.2379590406498104
___Test Local_ResNet_18 poisoned: True, epoch: 166: Average loss: 0.0498, Accuracy: 9770/9900 (98.6869%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 166, local model 71, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5390/5503 (97.9466%), train_poison_data_count: 430
Global model norm: 44.39234228682845.
Norm before scaling: 44.35037278768071. Distance: 1.2369778388836075
Total norm for 4 adversaries is: 44.35037278768071. distance: 1.2369778388836075
___Test Local_ResNet_18 poisoned: True, epoch: 166: Average loss: 0.0271, Accuracy: 9832/9900 (99.3131%)
___Train Local_ResNet_18,  epoch 166, local model 37, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4441/4741 (93.6722%)
___Train Local_ResNet_18,  epoch 166, local model 37, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4273/4741 (90.1287%)
___Test Local_ResNet_18 poisoned: False, epoch: 166: Average loss: 2.2525, Accuracy: 5184/10000 (51.8400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 29.46ms
___Train Local_ResNet_18,  epoch 166, local model 97, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4309/4736 (90.9840%)
___Train Local_ResNet_18,  epoch 166, local model 97, internal_epoch   2,  Average loss: 0.0054, Accuracy: 4225/4736 (89.2103%)
___Test Local_ResNet_18 poisoned: False, epoch: 166: Average loss: 2.2042, Accuracy: 5308/10000 (53.0800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 29.04ms
___Train Local_ResNet_18,  epoch 166, local model 49, internal_epoch   1,  Average loss: 0.0045, Accuracy: 5178/5652 (91.6136%)
___Train Local_ResNet_18,  epoch 166, local model 49, internal_epoch   2,  Average loss: 0.0061, Accuracy: 4979/5652 (88.0927%)
___Test Local_ResNet_18 poisoned: False, epoch: 166: Average loss: 2.2236, Accuracy: 5119/10000 (51.1900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 29.27ms
___Train Local_ResNet_18,  epoch 166, local model 32, internal_epoch   1,  Average loss: 0.0051, Accuracy: 5480/6080 (90.1316%)
___Train Local_ResNet_18,  epoch 166, local model 32, internal_epoch   2,  Average loss: 0.0057, Accuracy: 5365/6080 (88.2401%)
___Test Local_ResNet_18 poisoned: False, epoch: 166: Average loss: 2.5143, Accuracy: 4756/10000 (47.5600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 29.53ms
___Train Local_ResNet_18,  epoch 166, local model 82, internal_epoch   1,  Average loss: 0.0027, Accuracy: 5032/5298 (94.9792%)
___Train Local_ResNet_18,  epoch 166, local model 82, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4918/5298 (92.8275%)
___Test Local_ResNet_18 poisoned: False, epoch: 166: Average loss: 2.0084, Accuracy: 5576/10000 (55.7600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 28.20ms
___Train Local_ResNet_18,  epoch 166, local model 55, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4484/4731 (94.7791%)
___Train Local_ResNet_18,  epoch 166, local model 55, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4436/4731 (93.7645%)
___Test Local_ResNet_18 poisoned: False, epoch: 166: Average loss: 1.9159, Accuracy: 5736/10000 (57.3600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 23.03ms
___Train Local_ResNet_18,  epoch 166, local model 2, internal_epoch   1,  Average loss: 0.0028, Accuracy: 3775/3968 (95.1361%)
___Train Local_ResNet_18,  epoch 166, local model 2, internal_epoch   2,  Average loss: 0.0032, Accuracy: 3718/3968 (93.6996%)
___Test Local_ResNet_18 poisoned: False, epoch: 166: Average loss: 1.8602, Accuracy: 5750/10000 (57.5000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.80ms
INFO:tornado.access:200 POST /update (::1) 28.30ms
___Train Local_ResNet_18,  epoch 166, local model 63, internal_epoch   1,  Average loss: 0.0031, Accuracy: 3716/3910 (95.0384%)
___Train Local_ResNet_18,  epoch 166, local model 63, internal_epoch   2,  Average loss: 0.0051, Accuracy: 3530/3910 (90.2813%)
___Test Local_ResNet_18 poisoned: False, epoch: 166: Average loss: 2.1715, Accuracy: 5374/10000 (53.7400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.81ms
INFO:tornado.access:200 POST /update (::1) 29.25ms
___Train Local_ResNet_18,  epoch 166, local model 31, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4273/4537 (94.1812%)
___Train Local_ResNet_18,  epoch 166, local model 31, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4196/4537 (92.4840%)
___Test Local_ResNet_18 poisoned: False, epoch: 166: Average loss: 1.9940, Accuracy: 5531/10000 (55.3100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 29.73ms
___Train Local_ResNet_18,  epoch 166, local model 12, internal_epoch   1,  Average loss: 0.0045, Accuracy: 5058/5526 (91.5309%)
___Train Local_ResNet_18,  epoch 166, local model 12, internal_epoch   2,  Average loss: 0.0054, Accuracy: 4940/5526 (89.3956%)
___Test Local_ResNet_18 poisoned: False, epoch: 166: Average loss: 2.3584, Accuracy: 4972/10000 (49.7200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 28.84ms
___Train Local_ResNet_18,  epoch 166, local model 87, internal_epoch   1,  Average loss: 0.0040, Accuracy: 3702/3995 (92.6658%)
___Train Local_ResNet_18,  epoch 166, local model 87, internal_epoch   2,  Average loss: 0.0049, Accuracy: 3614/3995 (90.4631%)
___Test Local_ResNet_18 poisoned: False, epoch: 166: Average loss: 2.0605, Accuracy: 5463/10000 (54.6300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 29.07ms
___Train Local_ResNet_18,  epoch 166, local model 60, internal_epoch   1,  Average loss: 0.0035, Accuracy: 3886/4145 (93.7515%)
___Train Local_ResNet_18,  epoch 166, local model 60, internal_epoch   2,  Average loss: 0.0035, Accuracy: 3873/4145 (93.4379%)
___Test Local_ResNet_18 poisoned: False, epoch: 166: Average loss: 2.0329, Accuracy: 5553/10000 (55.5300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 29.40ms
___Train Local_ResNet_18,  epoch 166, local model 93, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4708/5055 (93.1355%)
___Train Local_ResNet_18,  epoch 166, local model 93, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4572/5055 (90.4451%)
___Test Local_ResNet_18 poisoned: False, epoch: 166: Average loss: 2.0925, Accuracy: 5386/10000 (53.8600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 22.40ms
___Train Local_ResNet_18,  epoch 166, local model 0, internal_epoch   1,  Average loss: 0.0039, Accuracy: 5051/5454 (92.6109%)
___Train Local_ResNet_18,  epoch 166, local model 0, internal_epoch   2,  Average loss: 0.0054, Accuracy: 4855/5454 (89.0172%)
___Test Local_ResNet_18 poisoned: False, epoch: 166: Average loss: 2.2120, Accuracy: 5266/10000 (52.6600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 28.88ms
___Train Local_ResNet_18,  epoch 166, local model 66, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4510/4843 (93.1241%)
___Train Local_ResNet_18,  epoch 166, local model 66, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4501/4843 (92.9383%)
___Test Local_ResNet_18 poisoned: False, epoch: 166: Average loss: 1.9690, Accuracy: 5672/10000 (56.7200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 29.31ms
___Train Local_ResNet_18,  epoch 166, local model 52, internal_epoch   1,  Average loss: 0.0030, Accuracy: 3912/4130 (94.7215%)
___Train Local_ResNet_18,  epoch 166, local model 52, internal_epoch   2,  Average loss: 0.0036, Accuracy: 3844/4130 (93.0751%)
___Test Local_ResNet_18 poisoned: False, epoch: 166: Average loss: 1.9843, Accuracy: 5684/10000 (56.8400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.79ms
INFO:tornado.access:200 POST /update (::1) 30.00ms
time spent on training: 267.7903563976288
___Test Target_ResNet_18 poisoned: False, epoch: 166: Average loss: 1.3922, Accuracy: 6512/10000 (65.1200%)
___Test Target_ResNet_18 poisoned: True, epoch: 166: Average loss: 0.0384, Accuracy: 9792/9900 (98.9091%)
Done in 294.6335849761963 sec.
Server Epoch:167 choose agents : [13, 36, 58, 71, 59, 98, 38, 39, 7, 3, 32, 76, 35, 66, 73, 20, 74, 49, 62, 44].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 167, local model 13, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5202/5308 (98.0030%), train_poison_data_count: 415
Global model norm: 44.41046118314918.
Norm before scaling: 44.36722945829148. Distance: 1.1616777403826806
Total norm for 4 adversaries is: 44.36722945829148. distance: 1.1616777403826806
___Test Local_ResNet_18 poisoned: True, epoch: 167: Average loss: 0.0337, Accuracy: 9818/9900 (99.1717%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 167, local model 36, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5677/5777 (98.2690%), train_poison_data_count: 455
Global model norm: 44.41046118314918.
Norm before scaling: 44.362762397082534. Distance: 1.2050919740644652
Total norm for 4 adversaries is: 44.362762397082534. distance: 1.2050919740644652
___Test Local_ResNet_18 poisoned: True, epoch: 167: Average loss: 0.0429, Accuracy: 9785/9900 (98.8384%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 167, local model 58, internal_epoch   1,  Average loss: 0.0022, Accuracy: 4993/5123 (97.4624%), train_poison_data_count: 403
Global model norm: 44.41046118314918.
Norm before scaling: 44.370789577980666. Distance: 1.2048004176634308
Total norm for 4 adversaries is: 44.370789577980666. distance: 1.2048004176634308
___Test Local_ResNet_18 poisoned: True, epoch: 167: Average loss: 0.0577, Accuracy: 9746/9900 (98.4444%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 167, local model 71, internal_epoch   1,  Average loss: 0.0016, Accuracy: 5375/5503 (97.6740%), train_poison_data_count: 430
Global model norm: 44.41046118314918.
Norm before scaling: 44.371346680600084. Distance: 1.2937610883744375
Total norm for 4 adversaries is: 44.371346680600084. distance: 1.2937610883744375
___Test Local_ResNet_18 poisoned: True, epoch: 167: Average loss: 0.0503, Accuracy: 9779/9900 (98.7778%)
___Train Local_ResNet_18,  epoch 167, local model 59, internal_epoch   1,  Average loss: 0.0023, Accuracy: 4227/4397 (96.1337%)
___Train Local_ResNet_18,  epoch 167, local model 59, internal_epoch   2,  Average loss: 0.0020, Accuracy: 4240/4397 (96.4294%)
___Test Local_ResNet_18 poisoned: False, epoch: 167: Average loss: 1.7367, Accuracy: 6070/10000 (60.7000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.81ms
INFO:tornado.access:200 POST /update (::1) 28.43ms
___Train Local_ResNet_18,  epoch 167, local model 98, internal_epoch   1,  Average loss: 0.0041, Accuracy: 3936/4161 (94.5926%)
___Train Local_ResNet_18,  epoch 167, local model 98, internal_epoch   2,  Average loss: 0.0056, Accuracy: 3829/4161 (92.0211%)
___Test Local_ResNet_18 poisoned: False, epoch: 167: Average loss: 2.1914, Accuracy: 5271/10000 (52.7100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.80ms
INFO:tornado.access:200 POST /update (::1) 29.84ms
___Train Local_ResNet_18,  epoch 167, local model 38, internal_epoch   1,  Average loss: 0.0047, Accuracy: 5656/6235 (90.7137%)
___Train Local_ResNet_18,  epoch 167, local model 38, internal_epoch   2,  Average loss: 0.0061, Accuracy: 5481/6235 (87.9070%)
___Test Local_ResNet_18 poisoned: False, epoch: 167: Average loss: 2.4369, Accuracy: 4912/10000 (49.1200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.64ms
INFO:tornado.access:200 POST /update (::1) 23.59ms
___Train Local_ResNet_18,  epoch 167, local model 39, internal_epoch   1,  Average loss: 0.0035, Accuracy: 3899/4175 (93.3892%)
___Train Local_ResNet_18,  epoch 167, local model 39, internal_epoch   2,  Average loss: 0.0049, Accuracy: 3776/4175 (90.4431%)
___Test Local_ResNet_18 poisoned: False, epoch: 167: Average loss: 2.0842, Accuracy: 5517/10000 (55.1700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 29.36ms
___Train Local_ResNet_18,  epoch 167, local model 7, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4487/4869 (92.1544%)
___Train Local_ResNet_18,  epoch 167, local model 7, internal_epoch   2,  Average loss: 0.0065, Accuracy: 4246/4869 (87.2048%)
___Test Local_ResNet_18 poisoned: False, epoch: 167: Average loss: 2.3274, Accuracy: 5172/10000 (51.7200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 30.11ms
___Train Local_ResNet_18,  epoch 167, local model 3, internal_epoch   1,  Average loss: 0.0030, Accuracy: 5033/5346 (94.1452%)
___Train Local_ResNet_18,  epoch 167, local model 3, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4961/5346 (92.7984%)
___Test Local_ResNet_18 poisoned: False, epoch: 167: Average loss: 2.2925, Accuracy: 5213/10000 (52.1300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 28.59ms
___Train Local_ResNet_18,  epoch 167, local model 32, internal_epoch   1,  Average loss: 0.0048, Accuracy: 5489/6080 (90.2796%)
___Train Local_ResNet_18,  epoch 167, local model 32, internal_epoch   2,  Average loss: 0.0062, Accuracy: 5314/6080 (87.4013%)
___Test Local_ResNet_18 poisoned: False, epoch: 167: Average loss: 2.3050, Accuracy: 5055/10000 (50.5500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 29.72ms
___Train Local_ResNet_18,  epoch 167, local model 76, internal_epoch   1,  Average loss: 0.0039, Accuracy: 3662/3959 (92.4981%)
___Train Local_ResNet_18,  epoch 167, local model 76, internal_epoch   2,  Average loss: 0.0048, Accuracy: 3570/3959 (90.1743%)
___Test Local_ResNet_18 poisoned: False, epoch: 167: Average loss: 2.1179, Accuracy: 5349/10000 (53.4900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 28.10ms
___Train Local_ResNet_18,  epoch 167, local model 35, internal_epoch   1,  Average loss: 0.0037, Accuracy: 5204/5615 (92.6803%)
___Train Local_ResNet_18,  epoch 167, local model 35, internal_epoch   2,  Average loss: 0.0041, Accuracy: 5150/5615 (91.7186%)
___Test Local_ResNet_18 poisoned: False, epoch: 167: Average loss: 2.1593, Accuracy: 5336/10000 (53.3600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.81ms
INFO:tornado.access:200 POST /update (::1) 30.42ms
___Train Local_ResNet_18,  epoch 167, local model 66, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4511/4843 (93.1447%)
___Train Local_ResNet_18,  epoch 167, local model 66, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4441/4843 (91.6994%)
___Test Local_ResNet_18 poisoned: False, epoch: 167: Average loss: 1.9772, Accuracy: 5582/10000 (55.8200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /update (::1) 28.81ms
___Train Local_ResNet_18,  epoch 167, local model 73, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4387/4605 (95.2660%)
___Train Local_ResNet_18,  epoch 167, local model 73, internal_epoch   2,  Average loss: 0.0030, Accuracy: 4326/4605 (93.9414%)
___Test Local_ResNet_18 poisoned: False, epoch: 167: Average loss: 1.9077, Accuracy: 5785/10000 (57.8500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 32.72ms
___Train Local_ResNet_18,  epoch 167, local model 20, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4460/4714 (94.6118%)
___Train Local_ResNet_18,  epoch 167, local model 20, internal_epoch   2,  Average loss: 0.0032, Accuracy: 4404/4714 (93.4238%)
___Test Local_ResNet_18 poisoned: False, epoch: 167: Average loss: 1.9968, Accuracy: 5631/10000 (56.3100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 29.42ms
___Train Local_ResNet_18,  epoch 167, local model 74, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4428/4797 (92.3077%)
___Train Local_ResNet_18,  epoch 167, local model 74, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4352/4797 (90.7234%)
___Test Local_ResNet_18 poisoned: False, epoch: 167: Average loss: 2.1229, Accuracy: 5412/10000 (54.1200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 29.74ms
___Train Local_ResNet_18,  epoch 167, local model 49, internal_epoch   1,  Average loss: 0.0045, Accuracy: 5168/5652 (91.4367%)
___Train Local_ResNet_18,  epoch 167, local model 49, internal_epoch   2,  Average loss: 0.0056, Accuracy: 4996/5652 (88.3935%)
___Test Local_ResNet_18 poisoned: False, epoch: 167: Average loss: 2.3221, Accuracy: 5057/10000 (50.5700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 29.01ms
___Train Local_ResNet_18,  epoch 167, local model 62, internal_epoch   1,  Average loss: 0.0053, Accuracy: 4914/5504 (89.2805%)
___Train Local_ResNet_18,  epoch 167, local model 62, internal_epoch   2,  Average loss: 0.0060, Accuracy: 4830/5504 (87.7544%)
___Test Local_ResNet_18 poisoned: False, epoch: 167: Average loss: 2.2581, Accuracy: 5171/10000 (51.7100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.82ms
INFO:tornado.access:200 POST /update (::1) 29.45ms
___Train Local_ResNet_18,  epoch 167, local model 44, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4769/5075 (93.9704%)
___Train Local_ResNet_18,  epoch 167, local model 44, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4555/5075 (89.7537%)
___Test Local_ResNet_18 poisoned: False, epoch: 167: Average loss: 2.0011, Accuracy: 5541/10000 (55.4100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 28.83ms
time spent on training: 269.02250146865845
___Test Target_ResNet_18 poisoned: False, epoch: 167: Average loss: 1.3928, Accuracy: 6514/10000 (65.1400%)
___Test Target_ResNet_18 poisoned: True, epoch: 167: Average loss: 0.0401, Accuracy: 9787/9900 (98.8586%)
Done in 295.99807500839233 sec.
Server Epoch:168 choose agents : [13, 36, 58, 71, 39, 32, 2, 40, 91, 74, 50, 6, 92, 53, 87, 69, 86, 52, 37, 70].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 168, local model 13, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5206/5308 (98.0784%), train_poison_data_count: 415
Global model norm: 44.42936947639829.
Norm before scaling: 44.38727960598974. Distance: 1.1904447584316975
Total norm for 4 adversaries is: 44.38727960598974. distance: 1.1904447584316975
___Test Local_ResNet_18 poisoned: True, epoch: 168: Average loss: 0.0131, Accuracy: 9867/9900 (99.6667%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 168, local model 36, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5651/5777 (97.8189%), train_poison_data_count: 455
Global model norm: 44.42936947639829.
Norm before scaling: 44.382236975893576. Distance: 1.2343876994964555
Total norm for 4 adversaries is: 44.382236975893576. distance: 1.2343876994964555
___Test Local_ResNet_18 poisoned: True, epoch: 168: Average loss: 0.0495, Accuracy: 9770/9900 (98.6869%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 168, local model 58, internal_epoch   1,  Average loss: 0.0023, Accuracy: 5001/5123 (97.6186%), train_poison_data_count: 403
Global model norm: 44.42936947639829.
Norm before scaling: 44.390772120048354. Distance: 1.2318588397448118
Total norm for 4 adversaries is: 44.390772120048354. distance: 1.2318588397448118
___Test Local_ResNet_18 poisoned: True, epoch: 168: Average loss: 0.2009, Accuracy: 9335/9900 (94.2929%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 168, local model 71, internal_epoch   1,  Average loss: 0.0016, Accuracy: 5368/5503 (97.5468%), train_poison_data_count: 430
Global model norm: 44.42936947639829.
Norm before scaling: 44.388134884839296. Distance: 1.282775668360064
Total norm for 4 adversaries is: 44.388134884839296. distance: 1.282775668360064
___Test Local_ResNet_18 poisoned: True, epoch: 168: Average loss: 0.0274, Accuracy: 9831/9900 (99.3030%)
___Train Local_ResNet_18,  epoch 168, local model 39, internal_epoch   1,  Average loss: 0.0035, Accuracy: 3916/4175 (93.7964%)
___Train Local_ResNet_18,  epoch 168, local model 39, internal_epoch   2,  Average loss: 0.0043, Accuracy: 3820/4175 (91.4970%)
___Test Local_ResNet_18 poisoned: False, epoch: 168: Average loss: 1.9185, Accuracy: 5631/10000 (56.3100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 28.67ms
___Train Local_ResNet_18,  epoch 168, local model 32, internal_epoch   1,  Average loss: 0.0052, Accuracy: 5427/6080 (89.2599%)
___Train Local_ResNet_18,  epoch 168, local model 32, internal_epoch   2,  Average loss: 0.0069, Accuracy: 5234/6080 (86.0855%)
___Test Local_ResNet_18 poisoned: False, epoch: 168: Average loss: 2.3452, Accuracy: 5012/10000 (50.1200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 28.78ms
___Train Local_ResNet_18,  epoch 168, local model 2, internal_epoch   1,  Average loss: 0.0028, Accuracy: 3761/3968 (94.7833%)
___Train Local_ResNet_18,  epoch 168, local model 2, internal_epoch   2,  Average loss: 0.0031, Accuracy: 3733/3968 (94.0776%)
___Test Local_ResNet_18 poisoned: False, epoch: 168: Average loss: 1.7729, Accuracy: 5928/10000 (59.2800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 29.41ms
___Train Local_ResNet_18,  epoch 168, local model 40, internal_epoch   1,  Average loss: 0.0034, Accuracy: 5551/5939 (93.4669%)
___Train Local_ResNet_18,  epoch 168, local model 40, internal_epoch   2,  Average loss: 0.0045, Accuracy: 5405/5939 (91.0086%)
___Test Local_ResNet_18 poisoned: False, epoch: 168: Average loss: 2.1471, Accuracy: 5269/10000 (52.6900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.03ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 29.53ms
___Train Local_ResNet_18,  epoch 168, local model 91, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4124/4527 (91.0979%)
___Train Local_ResNet_18,  epoch 168, local model 91, internal_epoch   2,  Average loss: 0.0057, Accuracy: 3981/4527 (87.9390%)
___Test Local_ResNet_18 poisoned: False, epoch: 168: Average loss: 2.1596, Accuracy: 5399/10000 (53.9900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 29.23ms
___Train Local_ResNet_18,  epoch 168, local model 74, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4501/4797 (93.8295%)
___Train Local_ResNet_18,  epoch 168, local model 74, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4421/4797 (92.1618%)
___Test Local_ResNet_18 poisoned: False, epoch: 168: Average loss: 2.0395, Accuracy: 5548/10000 (55.4800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 30.36ms
___Train Local_ResNet_18,  epoch 168, local model 50, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4469/4757 (93.9458%)
___Train Local_ResNet_18,  epoch 168, local model 50, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4358/4757 (91.6124%)
___Test Local_ResNet_18 poisoned: False, epoch: 168: Average loss: 2.1595, Accuracy: 5368/10000 (53.6800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 29.89ms
___Train Local_ResNet_18,  epoch 168, local model 6, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4631/4929 (93.9541%)
___Train Local_ResNet_18,  epoch 168, local model 6, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4512/4929 (91.5399%)
___Test Local_ResNet_18 poisoned: False, epoch: 168: Average loss: 2.0831, Accuracy: 5509/10000 (55.0900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 28.95ms
___Train Local_ResNet_18,  epoch 168, local model 92, internal_epoch   1,  Average loss: 0.0027, Accuracy: 6468/6812 (94.9501%)
___Train Local_ResNet_18,  epoch 168, local model 92, internal_epoch   2,  Average loss: 0.0038, Accuracy: 6288/6812 (92.3077%)
___Test Local_ResNet_18 poisoned: False, epoch: 168: Average loss: 2.2152, Accuracy: 5259/10000 (52.5900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 28.53ms
___Train Local_ResNet_18,  epoch 168, local model 53, internal_epoch   1,  Average loss: 0.0055, Accuracy: 5958/6664 (89.4058%)
___Train Local_ResNet_18,  epoch 168, local model 53, internal_epoch   2,  Average loss: 0.0084, Accuracy: 5552/6664 (83.3133%)
___Test Local_ResNet_18 poisoned: False, epoch: 168: Average loss: 2.3948, Accuracy: 4944/10000 (49.4400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 29.34ms
___Train Local_ResNet_18,  epoch 168, local model 87, internal_epoch   1,  Average loss: 0.0041, Accuracy: 3684/3995 (92.2153%)
___Train Local_ResNet_18,  epoch 168, local model 87, internal_epoch   2,  Average loss: 0.0047, Accuracy: 3626/3995 (90.7635%)
___Test Local_ResNet_18 poisoned: False, epoch: 168: Average loss: 2.1740, Accuracy: 5234/10000 (52.3400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 29.48ms
___Train Local_ResNet_18,  epoch 168, local model 69, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4049/4364 (92.7819%)
___Train Local_ResNet_18,  epoch 168, local model 69, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4005/4364 (91.7736%)
___Test Local_ResNet_18 poisoned: False, epoch: 168: Average loss: 2.0875, Accuracy: 5473/10000 (54.7300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 29.69ms
___Train Local_ResNet_18,  epoch 168, local model 86, internal_epoch   1,  Average loss: 0.0040, Accuracy: 3608/3929 (91.8300%)
___Train Local_ResNet_18,  epoch 168, local model 86, internal_epoch   2,  Average loss: 0.0042, Accuracy: 3617/3929 (92.0590%)
___Test Local_ResNet_18 poisoned: False, epoch: 168: Average loss: 2.0542, Accuracy: 5580/10000 (55.8000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 29.04ms
___Train Local_ResNet_18,  epoch 168, local model 52, internal_epoch   1,  Average loss: 0.0032, Accuracy: 3880/4130 (93.9467%)
___Train Local_ResNet_18,  epoch 168, local model 52, internal_epoch   2,  Average loss: 0.0044, Accuracy: 3772/4130 (91.3317%)
___Test Local_ResNet_18 poisoned: False, epoch: 168: Average loss: 2.1615, Accuracy: 5358/10000 (53.5800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 29.77ms
___Train Local_ResNet_18,  epoch 168, local model 37, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4389/4741 (92.5754%)
___Train Local_ResNet_18,  epoch 168, local model 37, internal_epoch   2,  Average loss: 0.0079, Accuracy: 4030/4741 (85.0032%)
___Test Local_ResNet_18 poisoned: False, epoch: 168: Average loss: 2.4451, Accuracy: 4951/10000 (49.5100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 28.45ms
___Train Local_ResNet_18,  epoch 168, local model 70, internal_epoch   1,  Average loss: 0.0033, Accuracy: 5528/5871 (94.1577%)
___Train Local_ResNet_18,  epoch 168, local model 70, internal_epoch   2,  Average loss: 0.0044, Accuracy: 5353/5871 (91.1770%)
___Test Local_ResNet_18 poisoned: False, epoch: 168: Average loss: 2.2164, Accuracy: 5299/10000 (52.9900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 28.65ms
time spent on training: 269.0427541732788
___Test Target_ResNet_18 poisoned: False, epoch: 168: Average loss: 1.3956, Accuracy: 6500/10000 (65.0000%)
___Test Target_ResNet_18 poisoned: True, epoch: 168: Average loss: 0.0428, Accuracy: 9783/9900 (98.8182%)
Done in 295.73133301734924 sec.
Server Epoch:169 choose agents : [13, 36, 58, 71, 30, 23, 34, 24, 2, 67, 21, 72, 83, 87, 29, 15, 42, 37, 70, 79].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 169, local model 13, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5208/5308 (98.1161%), train_poison_data_count: 415
Global model norm: 44.448492179502.
Norm before scaling: 44.4047875374942. Distance: 1.1557662054828153
Total norm for 4 adversaries is: 44.4047875374942. distance: 1.1557662054828153
___Test Local_ResNet_18 poisoned: True, epoch: 169: Average loss: 0.0300, Accuracy: 9820/9900 (99.1919%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 169, local model 36, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5659/5777 (97.9574%), train_poison_data_count: 455
Global model norm: 44.448492179502.
Norm before scaling: 44.402630867209744. Distance: 1.2561001702533805
Total norm for 4 adversaries is: 44.402630867209744. distance: 1.2561001702533805
___Test Local_ResNet_18 poisoned: True, epoch: 169: Average loss: 0.0257, Accuracy: 9829/9900 (99.2828%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 169, local model 58, internal_epoch   1,  Average loss: 0.0023, Accuracy: 4969/5123 (96.9939%), train_poison_data_count: 403
Global model norm: 44.448492179502.
Norm before scaling: 44.40977812998718. Distance: 1.2509535013853128
Total norm for 4 adversaries is: 44.40977812998718. distance: 1.2509535013853128
___Test Local_ResNet_18 poisoned: True, epoch: 169: Average loss: 0.0351, Accuracy: 9815/9900 (99.1414%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 169, local model 71, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5386/5503 (97.8739%), train_poison_data_count: 430
Global model norm: 44.448492179502.
Norm before scaling: 44.405290608038754. Distance: 1.2364137448137082
Total norm for 4 adversaries is: 44.405290608038754. distance: 1.2364137448137082
___Test Local_ResNet_18 poisoned: True, epoch: 169: Average loss: 0.0230, Accuracy: 9844/9900 (99.4343%)
___Train Local_ResNet_18,  epoch 169, local model 30, internal_epoch   1,  Average loss: 0.0028, Accuracy: 3577/3774 (94.7801%)
___Train Local_ResNet_18,  epoch 169, local model 30, internal_epoch   2,  Average loss: 0.0030, Accuracy: 3552/3774 (94.1176%)
___Test Local_ResNet_18 poisoned: False, epoch: 169: Average loss: 1.9391, Accuracy: 5740/10000 (57.4000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 30.42ms
___Train Local_ResNet_18,  epoch 169, local model 23, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4291/4549 (94.3284%)
___Train Local_ResNet_18,  epoch 169, local model 23, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4204/4549 (92.4159%)
___Test Local_ResNet_18 poisoned: False, epoch: 169: Average loss: 1.9597, Accuracy: 5587/10000 (55.8700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 29.74ms
___Train Local_ResNet_18,  epoch 169, local model 34, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4593/4911 (93.5247%)
___Train Local_ResNet_18,  epoch 169, local model 34, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4501/4911 (91.6514%)
___Test Local_ResNet_18 poisoned: False, epoch: 169: Average loss: 2.2188, Accuracy: 5341/10000 (53.4100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 29.42ms
___Train Local_ResNet_18,  epoch 169, local model 24, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4072/4313 (94.4122%)
___Train Local_ResNet_18,  epoch 169, local model 24, internal_epoch   2,  Average loss: 0.0037, Accuracy: 3987/4313 (92.4415%)
___Test Local_ResNet_18 poisoned: False, epoch: 169: Average loss: 1.9715, Accuracy: 5626/10000 (56.2600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.04ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 29.33ms
___Train Local_ResNet_18,  epoch 169, local model 2, internal_epoch   1,  Average loss: 0.0026, Accuracy: 3782/3968 (95.3125%)
___Train Local_ResNet_18,  epoch 169, local model 2, internal_epoch   2,  Average loss: 0.0032, Accuracy: 3725/3968 (93.8760%)
___Test Local_ResNet_18 poisoned: False, epoch: 169: Average loss: 1.7956, Accuracy: 5820/10000 (58.2000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 29.16ms
___Train Local_ResNet_18,  epoch 169, local model 67, internal_epoch   1,  Average loss: 0.0043, Accuracy: 5110/5559 (91.9230%)
___Train Local_ResNet_18,  epoch 169, local model 67, internal_epoch   2,  Average loss: 0.0057, Accuracy: 4919/5559 (88.4871%)
___Test Local_ResNet_18 poisoned: False, epoch: 169: Average loss: 2.2668, Accuracy: 5157/10000 (51.5700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 28.93ms
___Train Local_ResNet_18,  epoch 169, local model 21, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4704/5038 (93.3704%)
___Train Local_ResNet_18,  epoch 169, local model 21, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4581/5038 (90.9289%)
___Test Local_ResNet_18 poisoned: False, epoch: 169: Average loss: 2.1418, Accuracy: 5500/10000 (55.0000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 29.62ms
___Train Local_ResNet_18,  epoch 169, local model 72, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4769/5193 (91.8352%)
___Train Local_ResNet_18,  epoch 169, local model 72, internal_epoch   2,  Average loss: 0.0058, Accuracy: 4568/5193 (87.9646%)
___Test Local_ResNet_18 poisoned: False, epoch: 169: Average loss: 2.6889, Accuracy: 4724/10000 (47.2400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 29.40ms
___Train Local_ResNet_18,  epoch 169, local model 83, internal_epoch   1,  Average loss: 0.0039, Accuracy: 3281/3552 (92.3705%)
___Train Local_ResNet_18,  epoch 169, local model 83, internal_epoch   2,  Average loss: 0.0039, Accuracy: 3259/3552 (91.7511%)
___Test Local_ResNet_18 poisoned: False, epoch: 169: Average loss: 1.8156, Accuracy: 5791/10000 (57.9100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 30.27ms
___Train Local_ResNet_18,  epoch 169, local model 87, internal_epoch   1,  Average loss: 0.0039, Accuracy: 3693/3995 (92.4406%)
___Train Local_ResNet_18,  epoch 169, local model 87, internal_epoch   2,  Average loss: 0.0052, Accuracy: 3578/3995 (89.5620%)
___Test Local_ResNet_18 poisoned: False, epoch: 169: Average loss: 2.1136, Accuracy: 5352/10000 (53.5200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 28.85ms
___Train Local_ResNet_18,  epoch 169, local model 29, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4471/4732 (94.4844%)
___Train Local_ResNet_18,  epoch 169, local model 29, internal_epoch   2,  Average loss: 0.0029, Accuracy: 4479/4732 (94.6534%)
___Test Local_ResNet_18 poisoned: False, epoch: 169: Average loss: 1.8553, Accuracy: 5846/10000 (58.4600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 29.31ms
___Train Local_ResNet_18,  epoch 169, local model 15, internal_epoch   1,  Average loss: 0.0038, Accuracy: 5625/6068 (92.6994%)
___Train Local_ResNet_18,  epoch 169, local model 15, internal_epoch   2,  Average loss: 0.0048, Accuracy: 5509/6068 (90.7877%)
___Test Local_ResNet_18 poisoned: False, epoch: 169: Average loss: 2.1231, Accuracy: 5239/10000 (52.3900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 28.87ms
___Train Local_ResNet_18,  epoch 169, local model 42, internal_epoch   1,  Average loss: 0.0045, Accuracy: 5365/5907 (90.8244%)
___Train Local_ResNet_18,  epoch 169, local model 42, internal_epoch   2,  Average loss: 0.0053, Accuracy: 5291/5907 (89.5717%)
___Test Local_ResNet_18 poisoned: False, epoch: 169: Average loss: 2.7066, Accuracy: 4657/10000 (46.5700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 29.74ms
___Train Local_ResNet_18,  epoch 169, local model 37, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4441/4741 (93.6722%)
___Train Local_ResNet_18,  epoch 169, local model 37, internal_epoch   2,  Average loss: 0.0067, Accuracy: 4108/4741 (86.6484%)
___Test Local_ResNet_18 poisoned: False, epoch: 169: Average loss: 2.8310, Accuracy: 4559/10000 (45.5900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 29.74ms
___Train Local_ResNet_18,  epoch 169, local model 70, internal_epoch   1,  Average loss: 0.0032, Accuracy: 5517/5871 (93.9704%)
___Train Local_ResNet_18,  epoch 169, local model 70, internal_epoch   2,  Average loss: 0.0042, Accuracy: 5384/5871 (91.7050%)
___Test Local_ResNet_18 poisoned: False, epoch: 169: Average loss: 2.0560, Accuracy: 5592/10000 (55.9200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 30.06ms
___Train Local_ResNet_18,  epoch 169, local model 79, internal_epoch   1,  Average loss: 0.0031, Accuracy: 3873/4111 (94.2107%)
___Train Local_ResNet_18,  epoch 169, local model 79, internal_epoch   2,  Average loss: 0.0046, Accuracy: 3758/4111 (91.4133%)
___Test Local_ResNet_18 poisoned: False, epoch: 169: Average loss: 2.2591, Accuracy: 5309/10000 (53.0900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 29.78ms
time spent on training: 264.04399609565735
___Test Target_ResNet_18 poisoned: False, epoch: 169: Average loss: 1.4042, Accuracy: 6488/10000 (64.8800%)
___Test Target_ResNet_18 poisoned: True, epoch: 169: Average loss: 0.0396, Accuracy: 9793/9900 (98.9192%)
Done in 290.7159526348114 sec.
Server Epoch:170 choose agents : [13, 36, 58, 71, 75, 51, 97, 20, 54, 5, 34, 74, 14, 77, 50, 56, 10, 16, 39, 79].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 170, local model 13, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5210/5308 (98.1537%), train_poison_data_count: 415
Global model norm: 44.4657289359422.
Norm before scaling: 44.4237229764226. Distance: 1.1656154540133836
Total norm for 4 adversaries is: 44.4237229764226. distance: 1.1656154540133836
___Test Local_ResNet_18 poisoned: True, epoch: 170: Average loss: 0.0187, Accuracy: 9845/9900 (99.4444%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 170, local model 36, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5674/5777 (98.2171%), train_poison_data_count: 455
Global model norm: 44.4657289359422.
Norm before scaling: 44.41868723173418. Distance: 1.2242958847897774
Total norm for 4 adversaries is: 44.41868723173418. distance: 1.2242958847897774
___Test Local_ResNet_18 poisoned: True, epoch: 170: Average loss: 0.0259, Accuracy: 9833/9900 (99.3232%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 170, local model 58, internal_epoch   1,  Average loss: 0.0023, Accuracy: 4988/5123 (97.3648%), train_poison_data_count: 403
Global model norm: 44.4657289359422.
Norm before scaling: 44.425364794330896. Distance: 1.2198496528131837
Total norm for 4 adversaries is: 44.425364794330896. distance: 1.2198496528131837
___Test Local_ResNet_18 poisoned: True, epoch: 170: Average loss: 0.0383, Accuracy: 9810/9900 (99.0909%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 170, local model 71, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5381/5503 (97.7830%), train_poison_data_count: 430
Global model norm: 44.4657289359422.
Norm before scaling: 44.42312531216146. Distance: 1.2222727213647764
Total norm for 4 adversaries is: 44.42312531216146. distance: 1.2222727213647764
___Test Local_ResNet_18 poisoned: True, epoch: 170: Average loss: 0.0544, Accuracy: 9769/9900 (98.6768%)
___Train Local_ResNet_18,  epoch 170, local model 75, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4373/4672 (93.6002%)
___Train Local_ResNet_18,  epoch 170, local model 75, internal_epoch   2,  Average loss: 0.0032, Accuracy: 4385/4672 (93.8570%)
___Test Local_ResNet_18 poisoned: False, epoch: 170: Average loss: 1.9633, Accuracy: 5813/10000 (58.1300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 29.55ms
___Train Local_ResNet_18,  epoch 170, local model 51, internal_epoch   1,  Average loss: 0.0032, Accuracy: 3881/4108 (94.4742%)
___Train Local_ResNet_18,  epoch 170, local model 51, internal_epoch   2,  Average loss: 0.0037, Accuracy: 3829/4108 (93.2084%)
___Test Local_ResNet_18 poisoned: False, epoch: 170: Average loss: 1.9188, Accuracy: 5650/10000 (56.5000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 29.57ms
___Train Local_ResNet_18,  epoch 170, local model 97, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4376/4736 (92.3986%)
___Train Local_ResNet_18,  epoch 170, local model 97, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4305/4736 (90.8995%)
___Test Local_ResNet_18 poisoned: False, epoch: 170: Average loss: 2.0597, Accuracy: 5406/10000 (54.0600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.80ms
INFO:tornado.access:200 POST /update (::1) 30.42ms
___Train Local_ResNet_18,  epoch 170, local model 20, internal_epoch   1,  Average loss: 0.0028, Accuracy: 4475/4714 (94.9300%)
___Train Local_ResNet_18,  epoch 170, local model 20, internal_epoch   2,  Average loss: 0.0031, Accuracy: 4430/4714 (93.9754%)
___Test Local_ResNet_18 poisoned: False, epoch: 170: Average loss: 1.8181, Accuracy: 5835/10000 (58.3500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 29.95ms
___Train Local_ResNet_18,  epoch 170, local model 54, internal_epoch   1,  Average loss: 0.0048, Accuracy: 5128/5645 (90.8415%)
___Train Local_ResNet_18,  epoch 170, local model 54, internal_epoch   2,  Average loss: 0.0066, Accuracy: 4917/5645 (87.1036%)
___Test Local_ResNet_18 poisoned: False, epoch: 170: Average loss: 2.2591, Accuracy: 5165/10000 (51.6500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 28.60ms
___Train Local_ResNet_18,  epoch 170, local model 5, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4740/4993 (94.9329%)
___Train Local_ResNet_18,  epoch 170, local model 5, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4580/4993 (91.7284%)
___Test Local_ResNet_18 poisoned: False, epoch: 170: Average loss: 2.1653, Accuracy: 5486/10000 (54.8600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 29.22ms
___Train Local_ResNet_18,  epoch 170, local model 34, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4620/4911 (94.0745%)
___Train Local_ResNet_18,  epoch 170, local model 34, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4575/4911 (93.1582%)
___Test Local_ResNet_18 poisoned: False, epoch: 170: Average loss: 2.0235, Accuracy: 5546/10000 (55.4600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 28.24ms
___Train Local_ResNet_18,  epoch 170, local model 74, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4406/4797 (91.8491%)
___Train Local_ResNet_18,  epoch 170, local model 74, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4414/4797 (92.0158%)
___Test Local_ResNet_18 poisoned: False, epoch: 170: Average loss: 2.0508, Accuracy: 5515/10000 (55.1500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 28.66ms
___Train Local_ResNet_18,  epoch 170, local model 14, internal_epoch   1,  Average loss: 0.0025, Accuracy: 4007/4196 (95.4957%)
___Train Local_ResNet_18,  epoch 170, local model 14, internal_epoch   2,  Average loss: 0.0028, Accuracy: 3987/4196 (95.0191%)
___Test Local_ResNet_18 poisoned: False, epoch: 170: Average loss: 1.7250, Accuracy: 5964/10000 (59.6400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /win_exists (::1) 0.74ms
INFO:tornado.access:200 POST /update (::1) 25.64ms
___Train Local_ResNet_18,  epoch 170, local model 77, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4603/5050 (91.1485%)
___Train Local_ResNet_18,  epoch 170, local model 77, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4531/5050 (89.7228%)
___Test Local_ResNet_18 poisoned: False, epoch: 170: Average loss: 2.2725, Accuracy: 5152/10000 (51.5200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 29.87ms
___Train Local_ResNet_18,  epoch 170, local model 50, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4467/4757 (93.9037%)
___Train Local_ResNet_18,  epoch 170, local model 50, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4361/4757 (91.6754%)
___Test Local_ResNet_18 poisoned: False, epoch: 170: Average loss: 1.9960, Accuracy: 5531/10000 (55.3100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.75ms
INFO:tornado.access:200 POST /update (::1) 29.28ms
___Train Local_ResNet_18,  epoch 170, local model 56, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4934/5427 (90.9158%)
___Train Local_ResNet_18,  epoch 170, local model 56, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4823/5427 (88.8705%)
___Test Local_ResNet_18 poisoned: False, epoch: 170: Average loss: 2.0300, Accuracy: 5514/10000 (55.1400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.76ms
INFO:tornado.access:200 POST /update (::1) 30.03ms
___Train Local_ResNet_18,  epoch 170, local model 10, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4766/5068 (94.0410%)
___Train Local_ResNet_18,  epoch 170, local model 10, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4720/5068 (93.1334%)
___Test Local_ResNet_18 poisoned: False, epoch: 170: Average loss: 2.1063, Accuracy: 5411/10000 (54.1100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 29.01ms
___Train Local_ResNet_18,  epoch 170, local model 16, internal_epoch   1,  Average loss: 0.0035, Accuracy: 5006/5353 (93.5177%)
___Train Local_ResNet_18,  epoch 170, local model 16, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4785/5353 (89.3891%)
___Test Local_ResNet_18 poisoned: False, epoch: 170: Average loss: 2.1528, Accuracy: 5325/10000 (53.2500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 29.48ms
___Train Local_ResNet_18,  epoch 170, local model 39, internal_epoch   1,  Average loss: 0.0037, Accuracy: 3874/4175 (92.7904%)
___Train Local_ResNet_18,  epoch 170, local model 39, internal_epoch   2,  Average loss: 0.0047, Accuracy: 3815/4175 (91.3772%)
___Test Local_ResNet_18 poisoned: False, epoch: 170: Average loss: 2.0946, Accuracy: 5437/10000 (54.3700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 29.64ms
___Train Local_ResNet_18,  epoch 170, local model 79, internal_epoch   1,  Average loss: 0.0032, Accuracy: 3868/4111 (94.0890%)
___Train Local_ResNet_18,  epoch 170, local model 79, internal_epoch   2,  Average loss: 0.0038, Accuracy: 3814/4111 (92.7755%)
___Test Local_ResNet_18 poisoned: False, epoch: 170: Average loss: 2.0393, Accuracy: 5475/10000 (54.7500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 30.19ms
time spent on training: 261.37732791900635
___Test Target_ResNet_18 poisoned: False, epoch: 170: Average loss: 1.4143, Accuracy: 6470/10000 (64.7000%)
___Test Target_ResNet_18 poisoned: True, epoch: 170: Average loss: 0.0355, Accuracy: 9801/9900 (99.0000%)
Done in 288.368759393692 sec.
Server Epoch:171 choose agents : [13, 36, 58, 71, 31, 8, 83, 64, 23, 74, 90, 97, 86, 76, 0, 62, 33, 32, 54, 7].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 171, local model 13, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5210/5308 (98.1537%), train_poison_data_count: 415
Global model norm: 44.48321422352762.
Norm before scaling: 44.43997498821444. Distance: 1.1555501005204956
Total norm for 4 adversaries is: 44.43997498821444. distance: 1.1555501005204956
___Test Local_ResNet_18 poisoned: True, epoch: 171: Average loss: 0.0467, Accuracy: 9786/9900 (98.8485%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 171, local model 36, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5650/5777 (97.8016%), train_poison_data_count: 455
Global model norm: 44.48321422352762.
Norm before scaling: 44.43614020862551. Distance: 1.226173776635442
Total norm for 4 adversaries is: 44.43614020862551. distance: 1.226173776635442
___Test Local_ResNet_18 poisoned: True, epoch: 171: Average loss: 0.0730, Accuracy: 9717/9900 (98.1515%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 171, local model 58, internal_epoch   1,  Average loss: 0.0022, Accuracy: 5004/5123 (97.6771%), train_poison_data_count: 403
Global model norm: 44.48321422352762.
Norm before scaling: 44.44229602283448. Distance: 1.2009222003757303
Total norm for 4 adversaries is: 44.44229602283448. distance: 1.2009222003757303
___Test Local_ResNet_18 poisoned: True, epoch: 171: Average loss: 0.0624, Accuracy: 9746/9900 (98.4444%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 171, local model 71, internal_epoch   1,  Average loss: 0.0016, Accuracy: 5358/5503 (97.3651%), train_poison_data_count: 430
Global model norm: 44.48321422352762.
Norm before scaling: 44.442169673773805. Distance: 1.2922674853145049
Total norm for 4 adversaries is: 44.442169673773805. distance: 1.2922674853145049
___Test Local_ResNet_18 poisoned: True, epoch: 171: Average loss: 0.0232, Accuracy: 9839/9900 (99.3838%)
___Train Local_ResNet_18,  epoch 171, local model 31, internal_epoch   1,  Average loss: 0.0028, Accuracy: 4309/4537 (94.9747%)
___Train Local_ResNet_18,  epoch 171, local model 31, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4220/4537 (93.0130%)
___Test Local_ResNet_18 poisoned: False, epoch: 171: Average loss: 1.9338, Accuracy: 5619/10000 (56.1900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 29.20ms
___Train Local_ResNet_18,  epoch 171, local model 8, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4561/4889 (93.2911%)
___Train Local_ResNet_18,  epoch 171, local model 8, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4555/4889 (93.1683%)
___Test Local_ResNet_18 poisoned: False, epoch: 171: Average loss: 2.0516, Accuracy: 5511/10000 (55.1100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 29.91ms
___Train Local_ResNet_18,  epoch 171, local model 83, internal_epoch   1,  Average loss: 0.0034, Accuracy: 3318/3552 (93.4122%)
___Train Local_ResNet_18,  epoch 171, local model 83, internal_epoch   2,  Average loss: 0.0027, Accuracy: 3391/3552 (95.4673%)
___Test Local_ResNet_18 poisoned: False, epoch: 171: Average loss: 1.7885, Accuracy: 5914/10000 (59.1400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 29.56ms
___Train Local_ResNet_18,  epoch 171, local model 64, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4499/4894 (91.9289%)
___Train Local_ResNet_18,  epoch 171, local model 64, internal_epoch   2,  Average loss: 0.0054, Accuracy: 4382/4894 (89.5382%)
___Test Local_ResNet_18 poisoned: False, epoch: 171: Average loss: 2.0598, Accuracy: 5404/10000 (54.0400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 30.34ms
___Train Local_ResNet_18,  epoch 171, local model 23, internal_epoch   1,  Average loss: 0.0028, Accuracy: 4343/4549 (95.4715%)
___Train Local_ResNet_18,  epoch 171, local model 23, internal_epoch   2,  Average loss: 0.0074, Accuracy: 3883/4549 (85.3594%)
___Test Local_ResNet_18 poisoned: False, epoch: 171: Average loss: 2.4982, Accuracy: 4968/10000 (49.6800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 28.83ms
___Train Local_ResNet_18,  epoch 171, local model 74, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4436/4797 (92.4745%)
___Train Local_ResNet_18,  epoch 171, local model 74, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4367/4797 (91.0361%)
___Test Local_ResNet_18 poisoned: False, epoch: 171: Average loss: 2.0960, Accuracy: 5567/10000 (55.6700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 29.44ms
___Train Local_ResNet_18,  epoch 171, local model 90, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4551/4748 (95.8509%)
___Train Local_ResNet_18,  epoch 171, local model 90, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4372/4748 (92.0809%)
___Test Local_ResNet_18 poisoned: False, epoch: 171: Average loss: 2.0262, Accuracy: 5502/10000 (55.0200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 28.75ms
___Train Local_ResNet_18,  epoch 171, local model 97, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4358/4736 (92.0186%)
___Train Local_ResNet_18,  epoch 171, local model 97, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4244/4736 (89.6115%)
___Test Local_ResNet_18 poisoned: False, epoch: 171: Average loss: 2.1707, Accuracy: 5225/10000 (52.2500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 30.09ms
___Train Local_ResNet_18,  epoch 171, local model 86, internal_epoch   1,  Average loss: 0.0037, Accuracy: 3652/3929 (92.9499%)
___Train Local_ResNet_18,  epoch 171, local model 86, internal_epoch   2,  Average loss: 0.0043, Accuracy: 3580/3929 (91.1173%)
___Test Local_ResNet_18 poisoned: False, epoch: 171: Average loss: 1.9372, Accuracy: 5725/10000 (57.2500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 29.92ms
___Train Local_ResNet_18,  epoch 171, local model 76, internal_epoch   1,  Average loss: 0.0041, Accuracy: 3642/3959 (91.9929%)
___Train Local_ResNet_18,  epoch 171, local model 76, internal_epoch   2,  Average loss: 0.0041, Accuracy: 3647/3959 (92.1192%)
___Test Local_ResNet_18 poisoned: False, epoch: 171: Average loss: 2.0339, Accuracy: 5438/10000 (54.3800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 29.50ms
___Train Local_ResNet_18,  epoch 171, local model 0, internal_epoch   1,  Average loss: 0.0043, Accuracy: 5017/5454 (91.9875%)
___Train Local_ResNet_18,  epoch 171, local model 0, internal_epoch   2,  Average loss: 0.0061, Accuracy: 4815/5454 (88.2838%)
___Test Local_ResNet_18 poisoned: False, epoch: 171: Average loss: 2.4324, Accuracy: 4837/10000 (48.3700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 29.46ms
___Train Local_ResNet_18,  epoch 171, local model 62, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4951/5504 (89.9528%)
___Train Local_ResNet_18,  epoch 171, local model 62, internal_epoch   2,  Average loss: 0.0067, Accuracy: 4763/5504 (86.5371%)
___Test Local_ResNet_18 poisoned: False, epoch: 171: Average loss: 2.3615, Accuracy: 5027/10000 (50.2700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 29.48ms
___Train Local_ResNet_18,  epoch 171, local model 33, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4505/4818 (93.5035%)
___Train Local_ResNet_18,  epoch 171, local model 33, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4369/4818 (90.6808%)
___Test Local_ResNet_18 poisoned: False, epoch: 171: Average loss: 2.0951, Accuracy: 5453/10000 (54.5300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.80ms
INFO:tornado.access:200 POST /update (::1) 30.62ms
___Train Local_ResNet_18,  epoch 171, local model 32, internal_epoch   1,  Average loss: 0.0052, Accuracy: 5438/6080 (89.4408%)
___Train Local_ResNet_18,  epoch 171, local model 32, internal_epoch   2,  Average loss: 0.0059, Accuracy: 5377/6080 (88.4375%)
___Test Local_ResNet_18 poisoned: False, epoch: 171: Average loss: 2.1796, Accuracy: 5189/10000 (51.8900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 29.64ms
___Train Local_ResNet_18,  epoch 171, local model 54, internal_epoch   1,  Average loss: 0.0044, Accuracy: 5162/5645 (91.4438%)
___Train Local_ResNet_18,  epoch 171, local model 54, internal_epoch   2,  Average loss: 0.0074, Accuracy: 4816/5645 (85.3144%)
___Test Local_ResNet_18 poisoned: False, epoch: 171: Average loss: 2.5470, Accuracy: 4759/10000 (47.5900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 29.64ms
___Train Local_ResNet_18,  epoch 171, local model 7, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4501/4869 (92.4420%)
___Train Local_ResNet_18,  epoch 171, local model 7, internal_epoch   2,  Average loss: 0.0089, Accuracy: 4045/4869 (83.0766%)
___Test Local_ResNet_18 poisoned: False, epoch: 171: Average loss: 2.6925, Accuracy: 4678/10000 (46.7800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 29.83ms
time spent on training: 266.93292903900146
___Test Target_ResNet_18 poisoned: False, epoch: 171: Average loss: 1.4222, Accuracy: 6460/10000 (64.6000%)
___Test Target_ResNet_18 poisoned: True, epoch: 171: Average loss: 0.0342, Accuracy: 9806/9900 (99.0505%)
Done in 293.80616521835327 sec.
Server Epoch:172 choose agents : [13, 36, 58, 71, 93, 25, 55, 21, 42, 88, 17, 23, 2, 68, 12, 52, 5, 44, 72, 81].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 172, local model 13, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5224/5308 (98.4175%), train_poison_data_count: 415
Global model norm: 44.502283616352905.
Norm before scaling: 44.458068980343015. Distance: 1.1219796857099837
Total norm for 4 adversaries is: 44.458068980343015. distance: 1.1219796857099837
___Test Local_ResNet_18 poisoned: True, epoch: 172: Average loss: 0.0216, Accuracy: 9846/9900 (99.4545%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 172, local model 36, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5656/5777 (97.9055%), train_poison_data_count: 455
Global model norm: 44.502283616352905.
Norm before scaling: 44.455724056269595. Distance: 1.2467717923924984
Total norm for 4 adversaries is: 44.455724056269595. distance: 1.2467717923924984
___Test Local_ResNet_18 poisoned: True, epoch: 172: Average loss: 0.0824, Accuracy: 9675/9900 (97.7273%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 172, local model 58, internal_epoch   1,  Average loss: 0.0023, Accuracy: 5005/5123 (97.6967%), train_poison_data_count: 403
Global model norm: 44.502283616352905.
Norm before scaling: 44.4605853801291. Distance: 1.2017104515391297
Total norm for 4 adversaries is: 44.4605853801291. distance: 1.2017104515391297
___Test Local_ResNet_18 poisoned: True, epoch: 172: Average loss: 0.0671, Accuracy: 9721/9900 (98.1919%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 172, local model 71, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5394/5503 (98.0193%), train_poison_data_count: 430
Global model norm: 44.502283616352905.
Norm before scaling: 44.45871147893501. Distance: 1.1782578148083904
Total norm for 4 adversaries is: 44.45871147893501. distance: 1.1782578148083904
___Test Local_ResNet_18 poisoned: True, epoch: 172: Average loss: 0.0574, Accuracy: 9737/9900 (98.3535%)
___Train Local_ResNet_18,  epoch 172, local model 93, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4680/5055 (92.5816%)
___Train Local_ResNet_18,  epoch 172, local model 93, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4617/5055 (91.3353%)
___Test Local_ResNet_18 poisoned: False, epoch: 172: Average loss: 2.1956, Accuracy: 5308/10000 (53.0800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.77ms
INFO:tornado.access:200 POST /win_exists (::1) 0.61ms
INFO:tornado.access:200 POST /update (::1) 26.99ms
___Train Local_ResNet_18,  epoch 172, local model 25, internal_epoch   1,  Average loss: 0.0045, Accuracy: 5862/6419 (91.3226%)
___Train Local_ResNet_18,  epoch 172, local model 25, internal_epoch   2,  Average loss: 0.0071, Accuracy: 5492/6419 (85.5585%)
___Test Local_ResNet_18 poisoned: False, epoch: 172: Average loss: 2.3112, Accuracy: 5161/10000 (51.6100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /update (::1) 28.89ms
___Train Local_ResNet_18,  epoch 172, local model 55, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4476/4731 (94.6100%)
___Train Local_ResNet_18,  epoch 172, local model 55, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4388/4731 (92.7499%)
___Test Local_ResNet_18 poisoned: False, epoch: 172: Average loss: 1.9425, Accuracy: 5633/10000 (56.3300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 29.78ms
___Train Local_ResNet_18,  epoch 172, local model 21, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4670/5038 (92.6955%)
___Train Local_ResNet_18,  epoch 172, local model 21, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4635/5038 (92.0008%)
___Test Local_ResNet_18 poisoned: False, epoch: 172: Average loss: 2.0676, Accuracy: 5525/10000 (55.2500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 29.98ms
___Train Local_ResNet_18,  epoch 172, local model 42, internal_epoch   1,  Average loss: 0.0040, Accuracy: 5443/5907 (92.1449%)
___Train Local_ResNet_18,  epoch 172, local model 42, internal_epoch   2,  Average loss: 0.0047, Accuracy: 5333/5907 (90.2827%)
___Test Local_ResNet_18 poisoned: False, epoch: 172: Average loss: 2.3275, Accuracy: 5191/10000 (51.9100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.79ms
INFO:tornado.access:200 POST /update (::1) 30.16ms
___Train Local_ResNet_18,  epoch 172, local model 88, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4978/5362 (92.8385%)
___Train Local_ResNet_18,  epoch 172, local model 88, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4855/5362 (90.5446%)
___Test Local_ResNet_18 poisoned: False, epoch: 172: Average loss: 2.0459, Accuracy: 5401/10000 (54.0100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.80ms
INFO:tornado.access:200 POST /update (::1) 29.71ms
___Train Local_ResNet_18,  epoch 172, local model 17, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4515/4903 (92.0865%)
___Train Local_ResNet_18,  epoch 172, local model 17, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4436/4903 (90.4752%)
___Test Local_ResNet_18 poisoned: False, epoch: 172: Average loss: 2.1785, Accuracy: 5204/10000 (52.0400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 29.43ms
___Train Local_ResNet_18,  epoch 172, local model 23, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4319/4549 (94.9439%)
___Train Local_ResNet_18,  epoch 172, local model 23, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4140/4549 (91.0090%)
___Test Local_ResNet_18 poisoned: False, epoch: 172: Average loss: 2.1738, Accuracy: 5346/10000 (53.4600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 29.64ms
___Train Local_ResNet_18,  epoch 172, local model 2, internal_epoch   1,  Average loss: 0.0029, Accuracy: 3764/3968 (94.8589%)
___Train Local_ResNet_18,  epoch 172, local model 2, internal_epoch   2,  Average loss: 0.0029, Accuracy: 3753/3968 (94.5817%)
___Test Local_ResNet_18 poisoned: False, epoch: 172: Average loss: 1.8573, Accuracy: 5752/10000 (57.5200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 29.26ms
___Train Local_ResNet_18,  epoch 172, local model 68, internal_epoch   1,  Average loss: 0.0030, Accuracy: 3409/3589 (94.9847%)
___Train Local_ResNet_18,  epoch 172, local model 68, internal_epoch   2,  Average loss: 0.0058, Accuracy: 3242/3589 (90.3316%)
___Test Local_ResNet_18 poisoned: False, epoch: 172: Average loss: 2.1194, Accuracy: 5482/10000 (54.8200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 30.33ms
___Train Local_ResNet_18,  epoch 172, local model 12, internal_epoch   1,  Average loss: 0.0040, Accuracy: 5138/5526 (92.9786%)
___Train Local_ResNet_18,  epoch 172, local model 12, internal_epoch   2,  Average loss: 0.0066, Accuracy: 4814/5526 (87.1155%)
___Test Local_ResNet_18 poisoned: False, epoch: 172: Average loss: 2.1277, Accuracy: 5383/10000 (53.8300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 29.67ms
___Train Local_ResNet_18,  epoch 172, local model 52, internal_epoch   1,  Average loss: 0.0030, Accuracy: 3908/4130 (94.6247%)
___Train Local_ResNet_18,  epoch 172, local model 52, internal_epoch   2,  Average loss: 0.0036, Accuracy: 3853/4130 (93.2930%)
___Test Local_ResNet_18 poisoned: False, epoch: 172: Average loss: 1.9180, Accuracy: 5713/10000 (57.1300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 29.79ms
___Train Local_ResNet_18,  epoch 172, local model 5, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4734/4993 (94.8127%)
___Train Local_ResNet_18,  epoch 172, local model 5, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4613/4993 (92.3893%)
___Test Local_ResNet_18 poisoned: False, epoch: 172: Average loss: 2.1308, Accuracy: 5294/10000 (52.9400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 29.67ms
___Train Local_ResNet_18,  epoch 172, local model 44, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4791/5075 (94.4039%)
___Train Local_ResNet_18,  epoch 172, local model 44, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4588/5075 (90.4039%)
___Test Local_ResNet_18 poisoned: False, epoch: 172: Average loss: 2.1430, Accuracy: 5374/10000 (53.7400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 29.98ms
___Train Local_ResNet_18,  epoch 172, local model 72, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4791/5193 (92.2588%)
___Train Local_ResNet_18,  epoch 172, local model 72, internal_epoch   2,  Average loss: 0.0078, Accuracy: 4396/5193 (84.6524%)
___Test Local_ResNet_18 poisoned: False, epoch: 172: Average loss: 2.5644, Accuracy: 4790/10000 (47.9000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 29.57ms
___Train Local_ResNet_18,  epoch 172, local model 81, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4727/5035 (93.8828%)
___Train Local_ResNet_18,  epoch 172, local model 81, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4727/5035 (93.8828%)
___Test Local_ResNet_18 poisoned: False, epoch: 172: Average loss: 2.0136, Accuracy: 5609/10000 (56.0900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.03ms
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /update (::1) 30.03ms
time spent on training: 270.5006549358368
___Test Target_ResNet_18 poisoned: False, epoch: 172: Average loss: 1.4165, Accuracy: 6461/10000 (64.6100%)
___Test Target_ResNet_18 poisoned: True, epoch: 172: Average loss: 0.0344, Accuracy: 9803/9900 (99.0202%)
Done in 297.2700924873352 sec.
Server Epoch:173 choose agents : [13, 36, 58, 71, 32, 54, 57, 25, 67, 38, 0, 98, 43, 94, 42, 26, 70, 90, 56, 14].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 173, local model 13, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5218/5308 (98.3044%), train_poison_data_count: 415
Global model norm: 44.52106380209611.
Norm before scaling: 44.476865090969625. Distance: 1.1216019066929086
Total norm for 4 adversaries is: 44.476865090969625. distance: 1.1216019066929086
___Test Local_ResNet_18 poisoned: True, epoch: 173: Average loss: 0.0442, Accuracy: 9789/9900 (98.8788%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 173, local model 36, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5654/5777 (97.8709%), train_poison_data_count: 455
Global model norm: 44.52106380209611.
Norm before scaling: 44.473119953939594. Distance: 1.2208525299194783
Total norm for 4 adversaries is: 44.473119953939594. distance: 1.2208525299194783
___Test Local_ResNet_18 poisoned: True, epoch: 173: Average loss: 0.0496, Accuracy: 9768/9900 (98.6667%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 173, local model 58, internal_epoch   1,  Average loss: 0.0026, Accuracy: 5007/5123 (97.7357%), train_poison_data_count: 403
Global model norm: 44.52106380209611.
Norm before scaling: 44.478728621720826. Distance: 1.2177132818786647
Total norm for 4 adversaries is: 44.478728621720826. distance: 1.2177132818786647
___Test Local_ResNet_18 poisoned: True, epoch: 173: Average loss: 0.0242, Accuracy: 9832/9900 (99.3131%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 173, local model 71, internal_epoch   1,  Average loss: 0.0016, Accuracy: 5379/5503 (97.7467%), train_poison_data_count: 430
Global model norm: 44.52106380209611.
Norm before scaling: 44.48084043737961. Distance: 1.2931794055465813
Total norm for 4 adversaries is: 44.48084043737961. distance: 1.2931794055465813
___Test Local_ResNet_18 poisoned: True, epoch: 173: Average loss: 0.0288, Accuracy: 9828/9900 (99.2727%)
___Train Local_ResNet_18,  epoch 173, local model 32, internal_epoch   1,  Average loss: 0.0046, Accuracy: 5549/6080 (91.2664%)
___Train Local_ResNet_18,  epoch 173, local model 32, internal_epoch   2,  Average loss: 0.0065, Accuracy: 5282/6080 (86.8750%)
___Test Local_ResNet_18 poisoned: False, epoch: 173: Average loss: 2.3421, Accuracy: 5049/10000 (50.4900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 29.02ms
___Train Local_ResNet_18,  epoch 173, local model 54, internal_epoch   1,  Average loss: 0.0044, Accuracy: 5160/5645 (91.4083%)
___Train Local_ResNet_18,  epoch 173, local model 54, internal_epoch   2,  Average loss: 0.0067, Accuracy: 4896/5645 (86.7316%)
___Test Local_ResNet_18 poisoned: False, epoch: 173: Average loss: 2.2942, Accuracy: 5038/10000 (50.3800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 28.71ms
___Train Local_ResNet_18,  epoch 173, local model 57, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4667/4956 (94.1687%)
___Train Local_ResNet_18,  epoch 173, local model 57, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4547/4956 (91.7474%)
___Test Local_ResNet_18 poisoned: False, epoch: 173: Average loss: 2.0564, Accuracy: 5458/10000 (54.5800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 28.53ms
___Train Local_ResNet_18,  epoch 173, local model 25, internal_epoch   1,  Average loss: 0.0048, Accuracy: 5814/6419 (90.5749%)
___Train Local_ResNet_18,  epoch 173, local model 25, internal_epoch   2,  Average loss: 0.0071, Accuracy: 5521/6419 (86.0103%)
___Test Local_ResNet_18 poisoned: False, epoch: 173: Average loss: 2.4345, Accuracy: 4979/10000 (49.7900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.82ms
INFO:tornado.access:200 POST /win_exists (::1) 0.74ms
INFO:tornado.access:200 POST /update (::1) 25.59ms
___Train Local_ResNet_18,  epoch 173, local model 67, internal_epoch   1,  Average loss: 0.0041, Accuracy: 5125/5559 (92.1928%)
___Train Local_ResNet_18,  epoch 173, local model 67, internal_epoch   2,  Average loss: 0.0060, Accuracy: 4891/5559 (87.9835%)
___Test Local_ResNet_18 poisoned: False, epoch: 173: Average loss: 2.2243, Accuracy: 5203/10000 (52.0300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 28.99ms
___Train Local_ResNet_18,  epoch 173, local model 38, internal_epoch   1,  Average loss: 0.0046, Accuracy: 5718/6235 (91.7081%)
___Train Local_ResNet_18,  epoch 173, local model 38, internal_epoch   2,  Average loss: 0.0058, Accuracy: 5533/6235 (88.7410%)
___Test Local_ResNet_18 poisoned: False, epoch: 173: Average loss: 2.2849, Accuracy: 5106/10000 (51.0600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 30.09ms
___Train Local_ResNet_18,  epoch 173, local model 0, internal_epoch   1,  Average loss: 0.0037, Accuracy: 5078/5454 (93.1060%)
___Train Local_ResNet_18,  epoch 173, local model 0, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4926/5454 (90.3190%)
___Test Local_ResNet_18 poisoned: False, epoch: 173: Average loss: 2.1287, Accuracy: 5398/10000 (53.9800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 30.03ms
___Train Local_ResNet_18,  epoch 173, local model 98, internal_epoch   1,  Average loss: 0.0041, Accuracy: 3946/4161 (94.8330%)
___Train Local_ResNet_18,  epoch 173, local model 98, internal_epoch   2,  Average loss: 0.0051, Accuracy: 3837/4161 (92.2134%)
___Test Local_ResNet_18 poisoned: False, epoch: 173: Average loss: 2.0678, Accuracy: 5583/10000 (55.8300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /update (::1) 30.10ms
___Train Local_ResNet_18,  epoch 173, local model 43, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4635/4979 (93.0910%)
___Train Local_ResNet_18,  epoch 173, local model 43, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4531/4979 (91.0022%)
___Test Local_ResNet_18 poisoned: False, epoch: 173: Average loss: 2.1977, Accuracy: 5304/10000 (53.0400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 28.69ms
___Train Local_ResNet_18,  epoch 173, local model 94, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4800/5224 (91.8836%)
___Train Local_ResNet_18,  epoch 173, local model 94, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4800/5224 (91.8836%)
___Test Local_ResNet_18 poisoned: False, epoch: 173: Average loss: 2.1032, Accuracy: 5469/10000 (54.6900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 30.10ms
___Train Local_ResNet_18,  epoch 173, local model 42, internal_epoch   1,  Average loss: 0.0036, Accuracy: 5506/5907 (93.2114%)
___Train Local_ResNet_18,  epoch 173, local model 42, internal_epoch   2,  Average loss: 0.0039, Accuracy: 5460/5907 (92.4327%)
___Test Local_ResNet_18 poisoned: False, epoch: 173: Average loss: 2.4808, Accuracy: 4879/10000 (48.7900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 29.63ms
___Train Local_ResNet_18,  epoch 173, local model 26, internal_epoch   1,  Average loss: 0.0027, Accuracy: 3889/4086 (95.1787%)
___Train Local_ResNet_18,  epoch 173, local model 26, internal_epoch   2,  Average loss: 0.0030, Accuracy: 3850/4086 (94.2242%)
___Test Local_ResNet_18 poisoned: False, epoch: 173: Average loss: 1.8645, Accuracy: 5856/10000 (58.5600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 29.23ms
___Train Local_ResNet_18,  epoch 173, local model 70, internal_epoch   1,  Average loss: 0.0032, Accuracy: 5522/5871 (94.0555%)
___Train Local_ResNet_18,  epoch 173, local model 70, internal_epoch   2,  Average loss: 0.0044, Accuracy: 5380/5871 (91.6369%)
___Test Local_ResNet_18 poisoned: False, epoch: 173: Average loss: 2.2168, Accuracy: 5287/10000 (52.8700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 30.06ms
___Train Local_ResNet_18,  epoch 173, local model 90, internal_epoch   1,  Average loss: 0.0026, Accuracy: 4525/4748 (95.3033%)
___Train Local_ResNet_18,  epoch 173, local model 90, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4355/4748 (91.7228%)
___Test Local_ResNet_18 poisoned: False, epoch: 173: Average loss: 2.1676, Accuracy: 5270/10000 (52.7000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 29.73ms
___Train Local_ResNet_18,  epoch 173, local model 56, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4953/5427 (91.2659%)
___Train Local_ResNet_18,  epoch 173, local model 56, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4854/5427 (89.4417%)
___Test Local_ResNet_18 poisoned: False, epoch: 173: Average loss: 2.0489, Accuracy: 5538/10000 (55.3800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 30.27ms
___Train Local_ResNet_18,  epoch 173, local model 14, internal_epoch   1,  Average loss: 0.0023, Accuracy: 4031/4196 (96.0677%)
___Train Local_ResNet_18,  epoch 173, local model 14, internal_epoch   2,  Average loss: 0.0025, Accuracy: 4010/4196 (95.5672%)
___Test Local_ResNet_18 poisoned: False, epoch: 173: Average loss: 1.9163, Accuracy: 5678/10000 (56.7800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.04ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 29.25ms
time spent on training: 279.75747084617615
___Test Target_ResNet_18 poisoned: False, epoch: 173: Average loss: 1.4297, Accuracy: 6444/10000 (64.4400%)
___Test Target_ResNet_18 poisoned: True, epoch: 173: Average loss: 0.0312, Accuracy: 9814/9900 (99.1313%)
Done in 306.8066363334656 sec.
Server Epoch:174 choose agents : [13, 36, 58, 71, 12, 96, 75, 78, 54, 4, 5, 33, 35, 83, 57, 40, 6, 38, 18, 61].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 174, local model 13, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5207/5308 (98.0972%), train_poison_data_count: 415
Global model norm: 44.541183102691605.
Norm before scaling: 44.4990110823228. Distance: 1.2205937939320606
Total norm for 4 adversaries is: 44.4990110823228. distance: 1.2205937939320606
___Test Local_ResNet_18 poisoned: True, epoch: 174: Average loss: 0.0297, Accuracy: 9827/9900 (99.2626%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 174, local model 36, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5669/5777 (98.1305%), train_poison_data_count: 455
Global model norm: 44.541183102691605.
Norm before scaling: 44.493166280937174. Distance: 1.2371107279098914
Total norm for 4 adversaries is: 44.493166280937174. distance: 1.2371107279098914
___Test Local_ResNet_18 poisoned: True, epoch: 174: Average loss: 0.0360, Accuracy: 9807/9900 (99.0606%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 174, local model 58, internal_epoch   1,  Average loss: 0.0022, Accuracy: 5012/5123 (97.8333%), train_poison_data_count: 403
Global model norm: 44.541183102691605.
Norm before scaling: 44.49910572310695. Distance: 1.164251171413731
Total norm for 4 adversaries is: 44.49910572310695. distance: 1.164251171413731
___Test Local_ResNet_18 poisoned: True, epoch: 174: Average loss: 0.0474, Accuracy: 9777/9900 (98.7576%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 174, local model 71, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5402/5503 (98.1646%), train_poison_data_count: 430
Global model norm: 44.541183102691605.
Norm before scaling: 44.49692481913076. Distance: 1.1748421806510654
Total norm for 4 adversaries is: 44.49692481913076. distance: 1.1748421806510654
___Test Local_ResNet_18 poisoned: True, epoch: 174: Average loss: 0.0862, Accuracy: 9658/9900 (97.5556%)
___Train Local_ResNet_18,  epoch 174, local model 12, internal_epoch   1,  Average loss: 0.0046, Accuracy: 5036/5526 (91.1328%)
___Train Local_ResNet_18,  epoch 174, local model 12, internal_epoch   2,  Average loss: 0.0067, Accuracy: 4800/5526 (86.8621%)
___Test Local_ResNet_18 poisoned: False, epoch: 174: Average loss: 2.4464, Accuracy: 4863/10000 (48.6300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /win_exists (::1) 0.73ms
INFO:tornado.access:200 POST /update (::1) 25.19ms
___Train Local_ResNet_18,  epoch 174, local model 96, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4782/5086 (94.0228%)
___Train Local_ResNet_18,  epoch 174, local model 96, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4704/5086 (92.4892%)
___Test Local_ResNet_18 poisoned: False, epoch: 174: Average loss: 1.9960, Accuracy: 5638/10000 (56.3800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.82ms
INFO:tornado.access:200 POST /update (::1) 29.90ms
___Train Local_ResNet_18,  epoch 174, local model 75, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4433/4672 (94.8844%)
___Train Local_ResNet_18,  epoch 174, local model 75, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4342/4672 (92.9366%)
___Test Local_ResNet_18 poisoned: False, epoch: 174: Average loss: 1.9229, Accuracy: 5723/10000 (57.2300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 29.02ms
___Train Local_ResNet_18,  epoch 174, local model 78, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4116/4368 (94.2308%)
___Train Local_ResNet_18,  epoch 174, local model 78, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4044/4368 (92.5824%)
___Test Local_ResNet_18 poisoned: False, epoch: 174: Average loss: 2.1077, Accuracy: 5492/10000 (54.9200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 29.44ms
___Train Local_ResNet_18,  epoch 174, local model 54, internal_epoch   1,  Average loss: 0.0049, Accuracy: 5123/5645 (90.7529%)
___Train Local_ResNet_18,  epoch 174, local model 54, internal_epoch   2,  Average loss: 0.0083, Accuracy: 4743/5645 (84.0213%)
___Test Local_ResNet_18 poisoned: False, epoch: 174: Average loss: 2.3168, Accuracy: 5007/10000 (50.0700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.03ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 25.57ms
___Train Local_ResNet_18,  epoch 174, local model 4, internal_epoch   1,  Average loss: 0.0031, Accuracy: 3792/4028 (94.1410%)
___Train Local_ResNet_18,  epoch 174, local model 4, internal_epoch   2,  Average loss: 0.0033, Accuracy: 3767/4028 (93.5204%)
___Test Local_ResNet_18 poisoned: False, epoch: 174: Average loss: 1.8673, Accuracy: 5859/10000 (58.5900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.80ms
INFO:tornado.access:200 POST /update (::1) 30.53ms
___Train Local_ResNet_18,  epoch 174, local model 5, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4721/4993 (94.5524%)
___Train Local_ResNet_18,  epoch 174, local model 5, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4620/4993 (92.5295%)
___Test Local_ResNet_18 poisoned: False, epoch: 174: Average loss: 2.2140, Accuracy: 5410/10000 (54.1000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 29.67ms
___Train Local_ResNet_18,  epoch 174, local model 33, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4489/4818 (93.1714%)
___Train Local_ResNet_18,  epoch 174, local model 33, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4397/4818 (91.2619%)
___Test Local_ResNet_18 poisoned: False, epoch: 174: Average loss: 1.9899, Accuracy: 5598/10000 (55.9800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 30.63ms
___Train Local_ResNet_18,  epoch 174, local model 35, internal_epoch   1,  Average loss: 0.0038, Accuracy: 5209/5615 (92.7694%)
___Train Local_ResNet_18,  epoch 174, local model 35, internal_epoch   2,  Average loss: 0.0045, Accuracy: 5096/5615 (90.7569%)
___Test Local_ResNet_18 poisoned: False, epoch: 174: Average loss: 2.3362, Accuracy: 5188/10000 (51.8800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 30.40ms
___Train Local_ResNet_18,  epoch 174, local model 83, internal_epoch   1,  Average loss: 0.0036, Accuracy: 3291/3552 (92.6520%)
___Train Local_ResNet_18,  epoch 174, local model 83, internal_epoch   2,  Average loss: 0.0032, Accuracy: 3323/3552 (93.5529%)
___Test Local_ResNet_18 poisoned: False, epoch: 174: Average loss: 1.9310, Accuracy: 5727/10000 (57.2700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 30.71ms
___Train Local_ResNet_18,  epoch 174, local model 57, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4641/4956 (93.6441%)
___Train Local_ResNet_18,  epoch 174, local model 57, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4560/4956 (92.0097%)
___Test Local_ResNet_18 poisoned: False, epoch: 174: Average loss: 2.0953, Accuracy: 5471/10000 (54.7100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 30.14ms
___Train Local_ResNet_18,  epoch 174, local model 40, internal_epoch   1,  Average loss: 0.0033, Accuracy: 5575/5939 (93.8710%)
___Train Local_ResNet_18,  epoch 174, local model 40, internal_epoch   2,  Average loss: 0.0037, Accuracy: 5524/5939 (93.0123%)
___Test Local_ResNet_18 poisoned: False, epoch: 174: Average loss: 2.0017, Accuracy: 5548/10000 (55.4800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 29.53ms
___Train Local_ResNet_18,  epoch 174, local model 6, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4648/4929 (94.2990%)
___Train Local_ResNet_18,  epoch 174, local model 6, internal_epoch   2,  Average loss: 0.0054, Accuracy: 4513/4929 (91.5602%)
___Test Local_ResNet_18 poisoned: False, epoch: 174: Average loss: 2.0926, Accuracy: 5497/10000 (54.9700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.80ms
INFO:tornado.access:200 POST /update (::1) 30.79ms
___Train Local_ResNet_18,  epoch 174, local model 38, internal_epoch   1,  Average loss: 0.0046, Accuracy: 5685/6235 (91.1788%)
___Train Local_ResNet_18,  epoch 174, local model 38, internal_epoch   2,  Average loss: 0.0061, Accuracy: 5484/6235 (87.9551%)
___Test Local_ResNet_18 poisoned: False, epoch: 174: Average loss: 2.2251, Accuracy: 5236/10000 (52.3600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 29.85ms
___Train Local_ResNet_18,  epoch 174, local model 18, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4006/4249 (94.2810%)
___Train Local_ResNet_18,  epoch 174, local model 18, internal_epoch   2,  Average loss: 0.0042, Accuracy: 3926/4249 (92.3982%)
___Test Local_ResNet_18 poisoned: False, epoch: 174: Average loss: 1.9581, Accuracy: 5702/10000 (57.0200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 29.64ms
___Train Local_ResNet_18,  epoch 174, local model 61, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4202/4485 (93.6901%)
___Train Local_ResNet_18,  epoch 174, local model 61, internal_epoch   2,  Average loss: 0.0073, Accuracy: 3866/4485 (86.1984%)
___Test Local_ResNet_18 poisoned: False, epoch: 174: Average loss: 2.0993, Accuracy: 5252/10000 (52.5200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 29.42ms
time spent on training: 272.4342272281647
___Test Target_ResNet_18 poisoned: False, epoch: 174: Average loss: 1.4286, Accuracy: 6452/10000 (64.5200%)
___Test Target_ResNet_18 poisoned: True, epoch: 174: Average loss: 0.0307, Accuracy: 9814/9900 (99.1313%)
Done in 299.3187222480774 sec.
Server Epoch:175 choose agents : [13, 36, 58, 71, 65, 4, 57, 0, 72, 62, 24, 77, 78, 41, 19, 61, 52, 59, 2, 73].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 175, local model 13, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5231/5308 (98.5494%), train_poison_data_count: 415
Global model norm: 44.559375712269436.
Norm before scaling: 44.51414967720236. Distance: 1.1118752150296822
Total norm for 4 adversaries is: 44.51414967720236. distance: 1.1118752150296822
___Test Local_ResNet_18 poisoned: True, epoch: 175: Average loss: 0.0506, Accuracy: 9765/9900 (98.6364%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 175, local model 36, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5674/5777 (98.2171%), train_poison_data_count: 455
Global model norm: 44.559375712269436.
Norm before scaling: 44.509841345060984. Distance: 1.2009420035379794
Total norm for 4 adversaries is: 44.509841345060984. distance: 1.2009420035379794
___Test Local_ResNet_18 poisoned: True, epoch: 175: Average loss: 0.0638, Accuracy: 9735/9900 (98.3333%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 175, local model 58, internal_epoch   1,  Average loss: 0.0021, Accuracy: 4993/5123 (97.4624%), train_poison_data_count: 403
Global model norm: 44.559375712269436.
Norm before scaling: 44.51857412791668. Distance: 1.2013526842447801
Total norm for 4 adversaries is: 44.51857412791668. distance: 1.2013526842447801
___Test Local_ResNet_18 poisoned: True, epoch: 175: Average loss: 0.0474, Accuracy: 9771/9900 (98.6970%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 175, local model 71, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5393/5503 (98.0011%), train_poison_data_count: 430
Global model norm: 44.559375712269436.
Norm before scaling: 44.51481604652826. Distance: 1.210244946710966
Total norm for 4 adversaries is: 44.51481604652826. distance: 1.210244946710966
___Test Local_ResNet_18 poisoned: True, epoch: 175: Average loss: 0.0450, Accuracy: 9785/9900 (98.8384%)
___Train Local_ResNet_18,  epoch 175, local model 65, internal_epoch   1,  Average loss: 0.0036, Accuracy: 5124/5497 (93.2145%)
___Train Local_ResNet_18,  epoch 175, local model 65, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4938/5497 (89.8308%)
___Test Local_ResNet_18 poisoned: False, epoch: 175: Average loss: 2.0899, Accuracy: 5478/10000 (54.7800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 29.72ms
___Train Local_ResNet_18,  epoch 175, local model 4, internal_epoch   1,  Average loss: 0.0028, Accuracy: 3829/4028 (95.0596%)
___Train Local_ResNet_18,  epoch 175, local model 4, internal_epoch   2,  Average loss: 0.0031, Accuracy: 3784/4028 (93.9424%)
___Test Local_ResNet_18 poisoned: False, epoch: 175: Average loss: 1.9728, Accuracy: 5702/10000 (57.0200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 29.34ms
___Train Local_ResNet_18,  epoch 175, local model 57, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4681/4956 (94.4512%)
___Train Local_ResNet_18,  epoch 175, local model 57, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4498/4956 (90.7587%)
___Test Local_ResNet_18 poisoned: False, epoch: 175: Average loss: 2.2880, Accuracy: 5249/10000 (52.4900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 28.96ms
___Train Local_ResNet_18,  epoch 175, local model 0, internal_epoch   1,  Average loss: 0.0041, Accuracy: 5011/5454 (91.8775%)
___Train Local_ResNet_18,  epoch 175, local model 0, internal_epoch   2,  Average loss: 0.0056, Accuracy: 4836/5454 (88.6689%)
___Test Local_ResNet_18 poisoned: False, epoch: 175: Average loss: 2.2396, Accuracy: 5185/10000 (51.8500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 29.81ms
___Train Local_ResNet_18,  epoch 175, local model 72, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4783/5193 (92.1048%)
___Train Local_ResNet_18,  epoch 175, local model 72, internal_epoch   2,  Average loss: 0.0075, Accuracy: 4451/5193 (85.7115%)
___Test Local_ResNet_18 poisoned: False, epoch: 175: Average loss: 2.4486, Accuracy: 4895/10000 (48.9500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 30.82ms
___Train Local_ResNet_18,  epoch 175, local model 62, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4970/5504 (90.2980%)
___Train Local_ResNet_18,  epoch 175, local model 62, internal_epoch   2,  Average loss: 0.0057, Accuracy: 4863/5504 (88.3539%)
___Test Local_ResNet_18 poisoned: False, epoch: 175: Average loss: 2.2099, Accuracy: 5284/10000 (52.8400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 30.81ms
___Train Local_ResNet_18,  epoch 175, local model 24, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4059/4313 (94.1108%)
___Train Local_ResNet_18,  epoch 175, local model 24, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4038/4313 (93.6239%)
___Test Local_ResNet_18 poisoned: False, epoch: 175: Average loss: 2.0090, Accuracy: 5620/10000 (56.2000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 30.84ms
___Train Local_ResNet_18,  epoch 175, local model 77, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4623/5050 (91.5446%)
___Train Local_ResNet_18,  epoch 175, local model 77, internal_epoch   2,  Average loss: 0.0059, Accuracy: 4462/5050 (88.3564%)
___Test Local_ResNet_18 poisoned: False, epoch: 175: Average loss: 2.2534, Accuracy: 5134/10000 (51.3400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 30.02ms
___Train Local_ResNet_18,  epoch 175, local model 78, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4139/4368 (94.7573%)
___Train Local_ResNet_18,  epoch 175, local model 78, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4070/4368 (93.1777%)
___Test Local_ResNet_18 poisoned: False, epoch: 175: Average loss: 1.9947, Accuracy: 5563/10000 (55.6300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 29.57ms
___Train Local_ResNet_18,  epoch 175, local model 41, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4464/4714 (94.6966%)
___Train Local_ResNet_18,  epoch 175, local model 41, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4383/4714 (92.9784%)
___Test Local_ResNet_18 poisoned: False, epoch: 175: Average loss: 2.1064, Accuracy: 5439/10000 (54.3900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 30.05ms
___Train Local_ResNet_18,  epoch 175, local model 19, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4883/5361 (91.0838%)
___Train Local_ResNet_18,  epoch 175, local model 19, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4853/5361 (90.5242%)
___Test Local_ResNet_18 poisoned: False, epoch: 175: Average loss: 2.1322, Accuracy: 5370/10000 (53.7000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.75ms
INFO:tornado.access:200 POST /update (::1) 29.88ms
___Train Local_ResNet_18,  epoch 175, local model 61, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4153/4485 (92.5975%)
___Train Local_ResNet_18,  epoch 175, local model 61, internal_epoch   2,  Average loss: 0.0090, Accuracy: 3746/4485 (83.5229%)
___Test Local_ResNet_18 poisoned: False, epoch: 175: Average loss: 2.5065, Accuracy: 4744/10000 (47.4400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 29.86ms
___Train Local_ResNet_18,  epoch 175, local model 52, internal_epoch   1,  Average loss: 0.0031, Accuracy: 3908/4130 (94.6247%)
___Train Local_ResNet_18,  epoch 175, local model 52, internal_epoch   2,  Average loss: 0.0035, Accuracy: 3868/4130 (93.6562%)
___Test Local_ResNet_18 poisoned: False, epoch: 175: Average loss: 1.9645, Accuracy: 5657/10000 (56.5700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 30.62ms
___Train Local_ResNet_18,  epoch 175, local model 59, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4169/4397 (94.8146%)
___Train Local_ResNet_18,  epoch 175, local model 59, internal_epoch   2,  Average loss: 0.0024, Accuracy: 4196/4397 (95.4287%)
___Test Local_ResNet_18 poisoned: False, epoch: 175: Average loss: 1.9109, Accuracy: 5762/10000 (57.6200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.81ms
INFO:tornado.access:200 POST /update (::1) 29.88ms
___Train Local_ResNet_18,  epoch 175, local model 2, internal_epoch   1,  Average loss: 0.0029, Accuracy: 3746/3968 (94.4052%)
___Train Local_ResNet_18,  epoch 175, local model 2, internal_epoch   2,  Average loss: 0.0029, Accuracy: 3762/3968 (94.8085%)
___Test Local_ResNet_18 poisoned: False, epoch: 175: Average loss: 1.8901, Accuracy: 5733/10000 (57.3300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 30.69ms
___Train Local_ResNet_18,  epoch 175, local model 73, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4381/4605 (95.1357%)
___Train Local_ResNet_18,  epoch 175, local model 73, internal_epoch   2,  Average loss: 0.0032, Accuracy: 4315/4605 (93.7025%)
___Test Local_ResNet_18 poisoned: False, epoch: 175: Average loss: 1.9186, Accuracy: 5644/10000 (56.4400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 30.02ms
time spent on training: 268.6180896759033
___Test Target_ResNet_18 poisoned: False, epoch: 175: Average loss: 1.4308, Accuracy: 6451/10000 (64.5100%)
___Test Target_ResNet_18 poisoned: True, epoch: 175: Average loss: 0.0321, Accuracy: 9811/9900 (99.1010%)
Done in 295.48140120506287 sec.
Server Epoch:176 choose agents : [13, 36, 58, 71, 19, 85, 76, 57, 46, 62, 22, 25, 89, 95, 48, 51, 45, 96, 41, 17].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 176, local model 13, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5202/5308 (98.0030%), train_poison_data_count: 415
Global model norm: 44.576865343226245.
Norm before scaling: 44.534463973930485. Distance: 1.1827646001391596
Total norm for 4 adversaries is: 44.534463973930485. distance: 1.1827646001391596
___Test Local_ResNet_18 poisoned: True, epoch: 176: Average loss: 0.0473, Accuracy: 9786/9900 (98.8485%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 176, local model 36, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5670/5777 (98.1478%), train_poison_data_count: 455
Global model norm: 44.576865343226245.
Norm before scaling: 44.527503954280185. Distance: 1.18869169571592
Total norm for 4 adversaries is: 44.527503954280185. distance: 1.18869169571592
___Test Local_ResNet_18 poisoned: True, epoch: 176: Average loss: 0.0256, Accuracy: 9824/9900 (99.2323%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 176, local model 58, internal_epoch   1,  Average loss: 0.0022, Accuracy: 5002/5123 (97.6381%), train_poison_data_count: 403
Global model norm: 44.576865343226245.
Norm before scaling: 44.53363891618545. Distance: 1.166364914608173
Total norm for 4 adversaries is: 44.53363891618545. distance: 1.166364914608173
___Test Local_ResNet_18 poisoned: True, epoch: 176: Average loss: 0.0734, Accuracy: 9712/9900 (98.1010%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 176, local model 71, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5392/5503 (97.9829%), train_poison_data_count: 430
Global model norm: 44.576865343226245.
Norm before scaling: 44.53192296640622. Distance: 1.2082262759082696
Total norm for 4 adversaries is: 44.53192296640622. distance: 1.2082262759082696
___Test Local_ResNet_18 poisoned: True, epoch: 176: Average loss: 0.0541, Accuracy: 9752/9900 (98.5051%)
___Train Local_ResNet_18,  epoch 176, local model 19, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4909/5361 (91.5687%)
___Train Local_ResNet_18,  epoch 176, local model 19, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4756/5361 (88.7148%)
___Test Local_ResNet_18 poisoned: False, epoch: 176: Average loss: 2.2597, Accuracy: 5235/10000 (52.3500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 30.63ms
___Train Local_ResNet_18,  epoch 176, local model 85, internal_epoch   1,  Average loss: 0.0045, Accuracy: 6354/6947 (91.4639%)
___Train Local_ResNet_18,  epoch 176, local model 85, internal_epoch   2,  Average loss: 0.0067, Accuracy: 6033/6947 (86.8432%)
___Test Local_ResNet_18 poisoned: False, epoch: 176: Average loss: 2.3609, Accuracy: 5060/10000 (50.6000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 30.62ms
___Train Local_ResNet_18,  epoch 176, local model 76, internal_epoch   1,  Average loss: 0.0042, Accuracy: 3648/3959 (92.1445%)
___Train Local_ResNet_18,  epoch 176, local model 76, internal_epoch   2,  Average loss: 0.0039, Accuracy: 3676/3959 (92.8517%)
___Test Local_ResNet_18 poisoned: False, epoch: 176: Average loss: 2.0838, Accuracy: 5473/10000 (54.7300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 30.74ms
___Train Local_ResNet_18,  epoch 176, local model 57, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4635/4956 (93.5230%)
___Train Local_ResNet_18,  epoch 176, local model 57, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4571/4956 (92.2316%)
___Test Local_ResNet_18 poisoned: False, epoch: 176: Average loss: 2.3450, Accuracy: 5165/10000 (51.6500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 28.94ms
___Train Local_ResNet_18,  epoch 176, local model 46, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4834/5399 (89.5351%)
___Train Local_ResNet_18,  epoch 176, local model 46, internal_epoch   2,  Average loss: 0.0064, Accuracy: 4738/5399 (87.7570%)
___Test Local_ResNet_18 poisoned: False, epoch: 176: Average loss: 2.2512, Accuracy: 5142/10000 (51.4200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 30.19ms
___Train Local_ResNet_18,  epoch 176, local model 62, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4932/5504 (89.6076%)
___Train Local_ResNet_18,  epoch 176, local model 62, internal_epoch   2,  Average loss: 0.0062, Accuracy: 4781/5504 (86.8641%)
___Test Local_ResNet_18 poisoned: False, epoch: 176: Average loss: 2.2391, Accuracy: 5124/10000 (51.2400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.81ms
INFO:tornado.access:200 POST /update (::1) 30.67ms
___Train Local_ResNet_18,  epoch 176, local model 22, internal_epoch   1,  Average loss: 0.0035, Accuracy: 5335/5696 (93.6622%)
___Train Local_ResNet_18,  epoch 176, local model 22, internal_epoch   2,  Average loss: 0.0052, Accuracy: 5122/5696 (89.9228%)
___Test Local_ResNet_18 poisoned: False, epoch: 176: Average loss: 2.2981, Accuracy: 5134/10000 (51.3400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 29.70ms
___Train Local_ResNet_18,  epoch 176, local model 25, internal_epoch   1,  Average loss: 0.0047, Accuracy: 5822/6419 (90.6995%)
___Train Local_ResNet_18,  epoch 176, local model 25, internal_epoch   2,  Average loss: 0.0068, Accuracy: 5554/6419 (86.5244%)
___Test Local_ResNet_18 poisoned: False, epoch: 176: Average loss: 2.2190, Accuracy: 5318/10000 (53.1800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 29.54ms
___Train Local_ResNet_18,  epoch 176, local model 89, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4426/4737 (93.4347%)
___Train Local_ResNet_18,  epoch 176, local model 89, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4281/4737 (90.3737%)
___Test Local_ResNet_18 poisoned: False, epoch: 176: Average loss: 2.3407, Accuracy: 5178/10000 (51.7800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 24.11ms
___Train Local_ResNet_18,  epoch 176, local model 95, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4618/5018 (92.0287%)
___Train Local_ResNet_18,  epoch 176, local model 95, internal_epoch   2,  Average loss: 0.0059, Accuracy: 4417/5018 (88.0231%)
___Test Local_ResNet_18 poisoned: False, epoch: 176: Average loss: 2.2712, Accuracy: 5215/10000 (52.1500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 30.06ms
___Train Local_ResNet_18,  epoch 176, local model 48, internal_epoch   1,  Average loss: 0.0026, Accuracy: 4600/4830 (95.2381%)
___Train Local_ResNet_18,  epoch 176, local model 48, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4493/4830 (93.0228%)
___Test Local_ResNet_18 poisoned: False, epoch: 176: Average loss: 2.0998, Accuracy: 5569/10000 (55.6900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 29.82ms
___Train Local_ResNet_18,  epoch 176, local model 51, internal_epoch   1,  Average loss: 0.0028, Accuracy: 3901/4108 (94.9611%)
___Train Local_ResNet_18,  epoch 176, local model 51, internal_epoch   2,  Average loss: 0.0038, Accuracy: 3828/4108 (93.1840%)
___Test Local_ResNet_18 poisoned: False, epoch: 176: Average loss: 1.9795, Accuracy: 5671/10000 (56.7100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 30.04ms
___Train Local_ResNet_18,  epoch 176, local model 45, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4993/5489 (90.9637%)
___Train Local_ResNet_18,  epoch 176, local model 45, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4999/5489 (91.0731%)
___Test Local_ResNet_18 poisoned: False, epoch: 176: Average loss: 2.2445, Accuracy: 5169/10000 (51.6900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 30.63ms
___Train Local_ResNet_18,  epoch 176, local model 96, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4788/5086 (94.1408%)
___Train Local_ResNet_18,  epoch 176, local model 96, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4749/5086 (93.3740%)
___Test Local_ResNet_18 poisoned: False, epoch: 176: Average loss: 2.0290, Accuracy: 5471/10000 (54.7100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 30.28ms
___Train Local_ResNet_18,  epoch 176, local model 41, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4449/4714 (94.3784%)
___Train Local_ResNet_18,  epoch 176, local model 41, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4399/4714 (93.3178%)
___Test Local_ResNet_18 poisoned: False, epoch: 176: Average loss: 2.1137, Accuracy: 5489/10000 (54.8900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 30.56ms
___Train Local_ResNet_18,  epoch 176, local model 17, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4491/4903 (91.5970%)
___Train Local_ResNet_18,  epoch 176, local model 17, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4436/4903 (90.4752%)
___Test Local_ResNet_18 poisoned: False, epoch: 176: Average loss: 2.3389, Accuracy: 5097/10000 (50.9700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.80ms
INFO:tornado.access:200 POST /update (::1) 30.49ms
time spent on training: 277.0703308582306
___Test Target_ResNet_18 poisoned: False, epoch: 176: Average loss: 1.4412, Accuracy: 6432/10000 (64.3200%)
___Test Target_ResNet_18 poisoned: True, epoch: 176: Average loss: 0.0311, Accuracy: 9813/9900 (99.1212%)
Done in 303.6315381526947 sec.
Server Epoch:177 choose agents : [13, 36, 58, 71, 2, 27, 99, 74, 8, 3, 67, 72, 7, 24, 17, 10, 20, 59, 16, 33].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 177, local model 13, internal_epoch   1,  Average loss: 0.0012, Accuracy: 5220/5308 (98.3421%), train_poison_data_count: 415
Global model norm: 44.596279273051465.
Norm before scaling: 44.550079626489584. Distance: 1.0981439341962862
Total norm for 4 adversaries is: 44.550079626489584. distance: 1.0981439341962862
___Test Local_ResNet_18 poisoned: True, epoch: 177: Average loss: 0.0374, Accuracy: 9804/9900 (99.0303%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 177, local model 36, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5677/5777 (98.2690%), train_poison_data_count: 455
Global model norm: 44.596279273051465.
Norm before scaling: 44.54478138714035. Distance: 1.1722280860491063
Total norm for 4 adversaries is: 44.54478138714035. distance: 1.1722280860491063
___Test Local_ResNet_18 poisoned: True, epoch: 177: Average loss: 0.0342, Accuracy: 9816/9900 (99.1515%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 177, local model 58, internal_epoch   1,  Average loss: 0.0024, Accuracy: 5000/5123 (97.5991%), train_poison_data_count: 403
Global model norm: 44.596279273051465.
Norm before scaling: 44.55391555858545. Distance: 1.1962700293447632
Total norm for 4 adversaries is: 44.55391555858545. distance: 1.1962700293447632
___Test Local_ResNet_18 poisoned: True, epoch: 177: Average loss: 0.0772, Accuracy: 9708/9900 (98.0606%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 177, local model 71, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5402/5503 (98.1646%), train_poison_data_count: 430
Global model norm: 44.596279273051465.
Norm before scaling: 44.55189625550115. Distance: 1.2017717553763125
Total norm for 4 adversaries is: 44.55189625550115. distance: 1.2017717553763125
___Test Local_ResNet_18 poisoned: True, epoch: 177: Average loss: 0.0360, Accuracy: 9810/9900 (99.0909%)
___Train Local_ResNet_18,  epoch 177, local model 2, internal_epoch   1,  Average loss: 0.0028, Accuracy: 3769/3968 (94.9849%)
___Train Local_ResNet_18,  epoch 177, local model 2, internal_epoch   2,  Average loss: 0.0029, Accuracy: 3741/3968 (94.2792%)
___Test Local_ResNet_18 poisoned: False, epoch: 177: Average loss: 1.8785, Accuracy: 5805/10000 (58.0500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 30.36ms
___Train Local_ResNet_18,  epoch 177, local model 27, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4318/4587 (94.1356%)
___Train Local_ResNet_18,  epoch 177, local model 27, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4255/4587 (92.7622%)
___Test Local_ResNet_18 poisoned: False, epoch: 177: Average loss: 1.9783, Accuracy: 5595/10000 (55.9500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 29.83ms
___Train Local_ResNet_18,  epoch 177, local model 99, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4421/4851 (91.1358%)
___Train Local_ResNet_18,  epoch 177, local model 99, internal_epoch   2,  Average loss: 0.0054, Accuracy: 4330/4851 (89.2599%)
___Test Local_ResNet_18 poisoned: False, epoch: 177: Average loss: 2.1947, Accuracy: 5329/10000 (53.2900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 29.94ms
___Train Local_ResNet_18,  epoch 177, local model 74, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4506/4797 (93.9337%)
___Train Local_ResNet_18,  epoch 177, local model 74, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4337/4797 (90.4107%)
___Test Local_ResNet_18 poisoned: False, epoch: 177: Average loss: 2.0638, Accuracy: 5445/10000 (54.4500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 30.06ms
___Train Local_ResNet_18,  epoch 177, local model 8, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4591/4889 (93.9047%)
___Train Local_ResNet_18,  epoch 177, local model 8, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4444/4889 (90.8979%)
___Test Local_ResNet_18 poisoned: False, epoch: 177: Average loss: 2.0436, Accuracy: 5574/10000 (55.7400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.68ms
INFO:tornado.access:200 POST /update (::1) 24.32ms
___Train Local_ResNet_18,  epoch 177, local model 3, internal_epoch   1,  Average loss: 0.0029, Accuracy: 5076/5346 (94.9495%)
___Train Local_ResNet_18,  epoch 177, local model 3, internal_epoch   2,  Average loss: 0.0033, Accuracy: 5008/5346 (93.6775%)
___Test Local_ResNet_18 poisoned: False, epoch: 177: Average loss: 2.0251, Accuracy: 5544/10000 (55.4400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 30.84ms
___Train Local_ResNet_18,  epoch 177, local model 67, internal_epoch   1,  Average loss: 0.0041, Accuracy: 5144/5559 (92.5346%)
___Train Local_ResNet_18,  epoch 177, local model 67, internal_epoch   2,  Average loss: 0.0059, Accuracy: 4914/5559 (88.3972%)
___Test Local_ResNet_18 poisoned: False, epoch: 177: Average loss: 2.2795, Accuracy: 5187/10000 (51.8700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /win_exists (::1) 0.75ms
INFO:tornado.access:200 POST /update (::1) 29.80ms
___Train Local_ResNet_18,  epoch 177, local model 72, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4723/5193 (90.9494%)
___Train Local_ResNet_18,  epoch 177, local model 72, internal_epoch   2,  Average loss: 0.0064, Accuracy: 4562/5193 (87.8490%)
___Test Local_ResNet_18 poisoned: False, epoch: 177: Average loss: 2.4578, Accuracy: 4971/10000 (49.7100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 29.28ms
___Train Local_ResNet_18,  epoch 177, local model 7, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4532/4869 (93.0787%)
___Train Local_ResNet_18,  epoch 177, local model 7, internal_epoch   2,  Average loss: 0.0074, Accuracy: 4163/4869 (85.5001%)
___Test Local_ResNet_18 poisoned: False, epoch: 177: Average loss: 2.2344, Accuracy: 5169/10000 (51.6900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 29.97ms
___Train Local_ResNet_18,  epoch 177, local model 24, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4046/4313 (93.8094%)
___Train Local_ResNet_18,  epoch 177, local model 24, internal_epoch   2,  Average loss: 0.0032, Accuracy: 4033/4313 (93.5080%)
___Test Local_ResNet_18 poisoned: False, epoch: 177: Average loss: 1.8487, Accuracy: 5865/10000 (58.6500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 29.51ms
___Train Local_ResNet_18,  epoch 177, local model 17, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4529/4903 (92.3720%)
___Train Local_ResNet_18,  epoch 177, local model 17, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4461/4903 (90.9851%)
___Test Local_ResNet_18 poisoned: False, epoch: 177: Average loss: 2.2452, Accuracy: 5179/10000 (51.7900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 29.95ms
___Train Local_ResNet_18,  epoch 177, local model 10, internal_epoch   1,  Average loss: 0.0025, Accuracy: 4861/5068 (95.9155%)
___Train Local_ResNet_18,  epoch 177, local model 10, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4660/5068 (91.9495%)
___Test Local_ResNet_18 poisoned: False, epoch: 177: Average loss: 2.1772, Accuracy: 5418/10000 (54.1800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 29.66ms
___Train Local_ResNet_18,  epoch 177, local model 20, internal_epoch   1,  Average loss: 0.0025, Accuracy: 4503/4714 (95.5240%)
___Train Local_ResNet_18,  epoch 177, local model 20, internal_epoch   2,  Average loss: 0.0031, Accuracy: 4434/4714 (94.0602%)
___Test Local_ResNet_18 poisoned: False, epoch: 177: Average loss: 1.8978, Accuracy: 5725/10000 (57.2500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 29.72ms
___Train Local_ResNet_18,  epoch 177, local model 59, internal_epoch   1,  Average loss: 0.0023, Accuracy: 4219/4397 (95.9518%)
___Train Local_ResNet_18,  epoch 177, local model 59, internal_epoch   2,  Average loss: 0.0023, Accuracy: 4204/4397 (95.6106%)
___Test Local_ResNet_18 poisoned: False, epoch: 177: Average loss: 1.7030, Accuracy: 6029/10000 (60.2900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 29.49ms
___Train Local_ResNet_18,  epoch 177, local model 16, internal_epoch   1,  Average loss: 0.0033, Accuracy: 5020/5353 (93.7792%)
___Train Local_ResNet_18,  epoch 177, local model 16, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4852/5353 (90.6408%)
___Test Local_ResNet_18 poisoned: False, epoch: 177: Average loss: 2.1263, Accuracy: 5380/10000 (53.8000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 29.38ms
___Train Local_ResNet_18,  epoch 177, local model 33, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4534/4818 (94.1054%)
___Train Local_ResNet_18,  epoch 177, local model 33, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4372/4818 (90.7430%)
___Test Local_ResNet_18 poisoned: False, epoch: 177: Average loss: 2.2176, Accuracy: 5222/10000 (52.2200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 30.82ms
time spent on training: 260.3975419998169
___Test Target_ResNet_18 poisoned: False, epoch: 177: Average loss: 1.4482, Accuracy: 6415/10000 (64.1500%)
___Test Target_ResNet_18 poisoned: True, epoch: 177: Average loss: 0.0296, Accuracy: 9818/9900 (99.1717%)
Done in 287.24325728416443 sec.
Server Epoch:178 choose agents : [13, 36, 58, 71, 44, 6, 40, 60, 96, 93, 0, 47, 5, 94, 78, 63, 23, 45, 26, 72].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 178, local model 13, internal_epoch   1,  Average loss: 0.0012, Accuracy: 5218/5308 (98.3044%), train_poison_data_count: 415
Global model norm: 44.61370108182855.
Norm before scaling: 44.56896703161994. Distance: 1.1199783465301782
Total norm for 4 adversaries is: 44.56896703161994. distance: 1.1199783465301782
___Test Local_ResNet_18 poisoned: True, epoch: 178: Average loss: 0.0869, Accuracy: 9663/9900 (97.6061%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 178, local model 36, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5672/5777 (98.1824%), train_poison_data_count: 455
Global model norm: 44.61370108182855.
Norm before scaling: 44.56401891915228. Distance: 1.2007309515302111
Total norm for 4 adversaries is: 44.56401891915228. distance: 1.2007309515302111
___Test Local_ResNet_18 poisoned: True, epoch: 178: Average loss: 0.0338, Accuracy: 9814/9900 (99.1313%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 178, local model 58, internal_epoch   1,  Average loss: 0.0024, Accuracy: 5013/5123 (97.8528%), train_poison_data_count: 403
Global model norm: 44.61370108182855.
Norm before scaling: 44.57130462852824. Distance: 1.2025261416538016
Total norm for 4 adversaries is: 44.57130462852824. distance: 1.2025261416538016
___Test Local_ResNet_18 poisoned: True, epoch: 178: Average loss: 0.0276, Accuracy: 9828/9900 (99.2727%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 178, local model 71, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5393/5503 (98.0011%), train_poison_data_count: 430
Global model norm: 44.61370108182855.
Norm before scaling: 44.56913821305823. Distance: 1.1963146720791975
Total norm for 4 adversaries is: 44.56913821305823. distance: 1.1963146720791975
___Test Local_ResNet_18 poisoned: True, epoch: 178: Average loss: 0.0393, Accuracy: 9801/9900 (99.0000%)
___Train Local_ResNet_18,  epoch 178, local model 44, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4780/5075 (94.1872%)
___Train Local_ResNet_18,  epoch 178, local model 44, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4742/5075 (93.4384%)
___Test Local_ResNet_18 poisoned: False, epoch: 178: Average loss: 2.0697, Accuracy: 5549/10000 (55.4900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 29.73ms
___Train Local_ResNet_18,  epoch 178, local model 6, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4619/4929 (93.7107%)
___Train Local_ResNet_18,  epoch 178, local model 6, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4493/4929 (91.1544%)
___Test Local_ResNet_18 poisoned: False, epoch: 178: Average loss: 2.1533, Accuracy: 5371/10000 (53.7100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 29.18ms
___Train Local_ResNet_18,  epoch 178, local model 40, internal_epoch   1,  Average loss: 0.0032, Accuracy: 5587/5939 (94.0731%)
___Train Local_ResNet_18,  epoch 178, local model 40, internal_epoch   2,  Average loss: 0.0038, Accuracy: 5514/5939 (92.8439%)
___Test Local_ResNet_18 poisoned: False, epoch: 178: Average loss: 2.2320, Accuracy: 5315/10000 (53.1500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 30.94ms
___Train Local_ResNet_18,  epoch 178, local model 60, internal_epoch   1,  Average loss: 0.0033, Accuracy: 3875/4145 (93.4861%)
___Train Local_ResNet_18,  epoch 178, local model 60, internal_epoch   2,  Average loss: 0.0034, Accuracy: 3867/4145 (93.2931%)
___Test Local_ResNet_18 poisoned: False, epoch: 178: Average loss: 2.0727, Accuracy: 5604/10000 (56.0400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 30.71ms
___Train Local_ResNet_18,  epoch 178, local model 96, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4779/5086 (93.9638%)
___Train Local_ResNet_18,  epoch 178, local model 96, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4725/5086 (92.9021%)
___Test Local_ResNet_18 poisoned: False, epoch: 178: Average loss: 2.2978, Accuracy: 5203/10000 (52.0300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.77ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 30.65ms
___Train Local_ResNet_18,  epoch 178, local model 93, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4720/5055 (93.3729%)
___Train Local_ResNet_18,  epoch 178, local model 93, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4605/5055 (91.0979%)
___Test Local_ResNet_18 poisoned: False, epoch: 178: Average loss: 2.1417, Accuracy: 5340/10000 (53.4000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 30.77ms
___Train Local_ResNet_18,  epoch 178, local model 0, internal_epoch   1,  Average loss: 0.0039, Accuracy: 5045/5454 (92.5009%)
___Train Local_ResNet_18,  epoch 178, local model 0, internal_epoch   2,  Average loss: 0.0060, Accuracy: 4836/5454 (88.6689%)
___Test Local_ResNet_18 poisoned: False, epoch: 178: Average loss: 2.2253, Accuracy: 5307/10000 (53.0700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 30.48ms
___Train Local_ResNet_18,  epoch 178, local model 47, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4746/5123 (92.6410%)
___Train Local_ResNet_18,  epoch 178, local model 47, internal_epoch   2,  Average loss: 0.0117, Accuracy: 4034/5123 (78.7429%)
___Test Local_ResNet_18 poisoned: False, epoch: 178: Average loss: 2.2641, Accuracy: 5017/10000 (50.1700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.74ms
INFO:tornado.access:200 POST /update (::1) 25.71ms
___Train Local_ResNet_18,  epoch 178, local model 5, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4709/4993 (94.3120%)
___Train Local_ResNet_18,  epoch 178, local model 5, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4648/4993 (93.0903%)
___Test Local_ResNet_18 poisoned: False, epoch: 178: Average loss: 1.9800, Accuracy: 5696/10000 (56.9600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 30.39ms
___Train Local_ResNet_18,  epoch 178, local model 94, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4856/5224 (92.9556%)
___Train Local_ResNet_18,  epoch 178, local model 94, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4735/5224 (90.6394%)
___Test Local_ResNet_18 poisoned: False, epoch: 178: Average loss: 2.1152, Accuracy: 5354/10000 (53.5400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 29.98ms
___Train Local_ResNet_18,  epoch 178, local model 78, internal_epoch   1,  Average loss: 0.0026, Accuracy: 4163/4368 (95.3068%)
___Train Local_ResNet_18,  epoch 178, local model 78, internal_epoch   2,  Average loss: 0.0027, Accuracy: 4157/4368 (95.1694%)
___Test Local_ResNet_18 poisoned: False, epoch: 178: Average loss: 1.9606, Accuracy: 5706/10000 (57.0600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 30.27ms
___Train Local_ResNet_18,  epoch 178, local model 63, internal_epoch   1,  Average loss: 0.0029, Accuracy: 3726/3910 (95.2941%)
___Train Local_ResNet_18,  epoch 178, local model 63, internal_epoch   2,  Average loss: 0.0041, Accuracy: 3616/3910 (92.4808%)
___Test Local_ResNet_18 poisoned: False, epoch: 178: Average loss: 2.0497, Accuracy: 5617/10000 (56.1700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 29.88ms
___Train Local_ResNet_18,  epoch 178, local model 23, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4359/4549 (95.8233%)
___Train Local_ResNet_18,  epoch 178, local model 23, internal_epoch   2,  Average loss: 0.0064, Accuracy: 4014/4549 (88.2392%)
___Test Local_ResNet_18 poisoned: False, epoch: 178: Average loss: 2.3551, Accuracy: 5070/10000 (50.7000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.72ms
INFO:tornado.access:200 POST /update (::1) 26.26ms
___Train Local_ResNet_18,  epoch 178, local model 45, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4996/5489 (91.0184%)
___Train Local_ResNet_18,  epoch 178, local model 45, internal_epoch   2,  Average loss: 0.0045, Accuracy: 5004/5489 (91.1641%)
___Test Local_ResNet_18 poisoned: False, epoch: 178: Average loss: 2.1638, Accuracy: 5379/10000 (53.7900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 30.21ms
___Train Local_ResNet_18,  epoch 178, local model 26, internal_epoch   1,  Average loss: 0.0029, Accuracy: 3862/4086 (94.5179%)
___Train Local_ResNet_18,  epoch 178, local model 26, internal_epoch   2,  Average loss: 0.0033, Accuracy: 3821/4086 (93.5144%)
___Test Local_ResNet_18 poisoned: False, epoch: 178: Average loss: 2.0050, Accuracy: 5599/10000 (55.9900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 30.45ms
___Train Local_ResNet_18,  epoch 178, local model 72, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4798/5193 (92.3936%)
___Train Local_ResNet_18,  epoch 178, local model 72, internal_epoch   2,  Average loss: 0.0060, Accuracy: 4580/5193 (88.1956%)
___Test Local_ResNet_18 poisoned: False, epoch: 178: Average loss: 2.4152, Accuracy: 5064/10000 (50.6400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 29.69ms
time spent on training: 267.39828395843506
___Test Target_ResNet_18 poisoned: False, epoch: 178: Average loss: 1.4581, Accuracy: 6402/10000 (64.0200%)
___Test Target_ResNet_18 poisoned: True, epoch: 178: Average loss: 0.0279, Accuracy: 9823/9900 (99.2222%)
Done in 293.9758005142212 sec.
Server Epoch:179 choose agents : [13, 36, 58, 71, 27, 56, 90, 39, 16, 69, 88, 23, 98, 84, 48, 3, 35, 81, 55, 11].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 179, local model 13, internal_epoch   1,  Average loss: 0.0012, Accuracy: 5225/5308 (98.4363%), train_poison_data_count: 415
Global model norm: 44.63212122583003.
Norm before scaling: 44.58628315421473. Distance: 1.0943803877945695
Total norm for 4 adversaries is: 44.58628315421473. distance: 1.0943803877945695
___Test Local_ResNet_18 poisoned: True, epoch: 179: Average loss: 0.0578, Accuracy: 9751/9900 (98.4949%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 179, local model 36, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5675/5777 (98.2344%), train_poison_data_count: 455
Global model norm: 44.63212122583003.
Norm before scaling: 44.5821789363299. Distance: 1.1774381198538206
Total norm for 4 adversaries is: 44.5821789363299. distance: 1.1774381198538206
___Test Local_ResNet_18 poisoned: True, epoch: 179: Average loss: 0.0239, Accuracy: 9846/9900 (99.4545%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 179, local model 58, internal_epoch   1,  Average loss: 0.0024, Accuracy: 5011/5123 (97.8138%), train_poison_data_count: 403
Global model norm: 44.63212122583003.
Norm before scaling: 44.58950958728269. Distance: 1.1821810408720048
Total norm for 4 adversaries is: 44.58950958728269. distance: 1.1821810408720048
___Test Local_ResNet_18 poisoned: True, epoch: 179: Average loss: 0.0762, Accuracy: 9707/9900 (98.0505%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 179, local model 71, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5403/5503 (98.1828%), train_poison_data_count: 430
Global model norm: 44.63212122583003.
Norm before scaling: 44.58729888297437. Distance: 1.2251574492962531
Total norm for 4 adversaries is: 44.58729888297437. distance: 1.2251574492962531
___Test Local_ResNet_18 poisoned: True, epoch: 179: Average loss: 0.0325, Accuracy: 9817/9900 (99.1616%)
___Train Local_ResNet_18,  epoch 179, local model 27, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4313/4587 (94.0266%)
___Train Local_ResNet_18,  epoch 179, local model 27, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4247/4587 (92.5877%)
___Test Local_ResNet_18 poisoned: False, epoch: 179: Average loss: 2.0823, Accuracy: 5503/10000 (55.0300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 30.48ms
___Train Local_ResNet_18,  epoch 179, local model 56, internal_epoch   1,  Average loss: 0.0038, Accuracy: 5028/5427 (92.6479%)
___Train Local_ResNet_18,  epoch 179, local model 56, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4900/5427 (90.2893%)
___Test Local_ResNet_18 poisoned: False, epoch: 179: Average loss: 2.1448, Accuracy: 5356/10000 (53.5600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 30.36ms
___Train Local_ResNet_18,  epoch 179, local model 90, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4518/4748 (95.1559%)
___Train Local_ResNet_18,  epoch 179, local model 90, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4413/4748 (92.9444%)
___Test Local_ResNet_18 poisoned: False, epoch: 179: Average loss: 2.1753, Accuracy: 5362/10000 (53.6200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 30.91ms
___Train Local_ResNet_18,  epoch 179, local model 39, internal_epoch   1,  Average loss: 0.0035, Accuracy: 3907/4175 (93.5808%)
___Train Local_ResNet_18,  epoch 179, local model 39, internal_epoch   2,  Average loss: 0.0044, Accuracy: 3822/4175 (91.5449%)
___Test Local_ResNet_18 poisoned: False, epoch: 179: Average loss: 2.0164, Accuracy: 5522/10000 (55.2200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 30.78ms
___Train Local_ResNet_18,  epoch 179, local model 16, internal_epoch   1,  Average loss: 0.0030, Accuracy: 5043/5353 (94.2089%)
___Train Local_ResNet_18,  epoch 179, local model 16, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4872/5353 (91.0144%)
___Test Local_ResNet_18 poisoned: False, epoch: 179: Average loss: 2.1898, Accuracy: 5302/10000 (53.0200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 29.79ms
___Train Local_ResNet_18,  epoch 179, local model 69, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4089/4364 (93.6984%)
___Train Local_ResNet_18,  epoch 179, local model 69, internal_epoch   2,  Average loss: 0.0056, Accuracy: 3882/4364 (88.9551%)
___Test Local_ResNet_18 poisoned: False, epoch: 179: Average loss: 2.2751, Accuracy: 5215/10000 (52.1500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.97ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 30.29ms
___Train Local_ResNet_18,  epoch 179, local model 88, internal_epoch   1,  Average loss: 0.0034, Accuracy: 5020/5362 (93.6218%)
___Train Local_ResNet_18,  epoch 179, local model 88, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4896/5362 (91.3092%)
___Test Local_ResNet_18 poisoned: False, epoch: 179: Average loss: 2.2087, Accuracy: 5255/10000 (52.5500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 30.02ms
___Train Local_ResNet_18,  epoch 179, local model 23, internal_epoch   1,  Average loss: 0.0028, Accuracy: 4349/4549 (95.6034%)
___Train Local_ResNet_18,  epoch 179, local model 23, internal_epoch   2,  Average loss: 0.0075, Accuracy: 3894/4549 (85.6012%)
___Test Local_ResNet_18 poisoned: False, epoch: 179: Average loss: 2.2975, Accuracy: 5088/10000 (50.8800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.80ms
INFO:tornado.access:200 POST /update (::1) 30.41ms
___Train Local_ResNet_18,  epoch 179, local model 98, internal_epoch   1,  Average loss: 0.0036, Accuracy: 3949/4161 (94.9051%)
___Train Local_ResNet_18,  epoch 179, local model 98, internal_epoch   2,  Average loss: 0.0045, Accuracy: 3863/4161 (92.8383%)
___Test Local_ResNet_18 poisoned: False, epoch: 179: Average loss: 2.1135, Accuracy: 5494/10000 (54.9400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 29.96ms
___Train Local_ResNet_18,  epoch 179, local model 84, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4805/5209 (92.2442%)
___Train Local_ResNet_18,  epoch 179, local model 84, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4690/5209 (90.0365%)
___Test Local_ResNet_18 poisoned: False, epoch: 179: Average loss: 2.1659, Accuracy: 5331/10000 (53.3100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 30.91ms
___Train Local_ResNet_18,  epoch 179, local model 48, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4576/4830 (94.7412%)
___Train Local_ResNet_18,  epoch 179, local model 48, internal_epoch   2,  Average loss: 0.0031, Accuracy: 4543/4830 (94.0580%)
___Test Local_ResNet_18 poisoned: False, epoch: 179: Average loss: 2.0425, Accuracy: 5571/10000 (55.7100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 31.07ms
___Train Local_ResNet_18,  epoch 179, local model 3, internal_epoch   1,  Average loss: 0.0027, Accuracy: 5098/5346 (95.3610%)
___Train Local_ResNet_18,  epoch 179, local model 3, internal_epoch   2,  Average loss: 0.0032, Accuracy: 5032/5346 (94.1264%)
___Test Local_ResNet_18 poisoned: False, epoch: 179: Average loss: 2.0671, Accuracy: 5552/10000 (55.5200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 29.22ms
___Train Local_ResNet_18,  epoch 179, local model 35, internal_epoch   1,  Average loss: 0.0033, Accuracy: 5261/5615 (93.6955%)
___Train Local_ResNet_18,  epoch 179, local model 35, internal_epoch   2,  Average loss: 0.0040, Accuracy: 5174/5615 (92.1460%)
___Test Local_ResNet_18 poisoned: False, epoch: 179: Average loss: 2.1039, Accuracy: 5411/10000 (54.1100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 30.12ms
___Train Local_ResNet_18,  epoch 179, local model 81, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4762/5035 (94.5780%)
___Train Local_ResNet_18,  epoch 179, local model 81, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4658/5035 (92.5124%)
___Test Local_ResNet_18 poisoned: False, epoch: 179: Average loss: 2.0111, Accuracy: 5554/10000 (55.5400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 30.10ms
___Train Local_ResNet_18,  epoch 179, local model 55, internal_epoch   1,  Average loss: 0.0026, Accuracy: 4532/4731 (95.7937%)
___Train Local_ResNet_18,  epoch 179, local model 55, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4393/4731 (92.8556%)
___Test Local_ResNet_18 poisoned: False, epoch: 179: Average loss: 2.1477, Accuracy: 5404/10000 (54.0400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 30.50ms
___Train Local_ResNet_18,  epoch 179, local model 11, internal_epoch   1,  Average loss: 0.0058, Accuracy: 5098/5702 (89.4072%)
___Train Local_ResNet_18,  epoch 179, local model 11, internal_epoch   2,  Average loss: 0.0127, Accuracy: 4331/5702 (75.9558%)
___Test Local_ResNet_18 poisoned: False, epoch: 179: Average loss: 2.6400, Accuracy: 4579/10000 (45.7900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 30.91ms
time spent on training: 271.7237992286682
___Test Target_ResNet_18 poisoned: False, epoch: 179: Average loss: 1.4604, Accuracy: 6404/10000 (64.0400%)
___Test Target_ResNet_18 poisoned: True, epoch: 179: Average loss: 0.0261, Accuracy: 9829/9900 (99.2828%)
Done in 298.1917643547058 sec.
Server Epoch:180 choose agents : [13, 36, 58, 71, 97, 21, 14, 37, 95, 9, 28, 17, 73, 23, 0, 68, 19, 50, 55, 38].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 180, local model 13, internal_epoch   1,  Average loss: 0.0012, Accuracy: 5241/5308 (98.7378%), train_poison_data_count: 415
Global model norm: 44.65101220157277.
Norm before scaling: 44.60351592433605. Distance: 1.0443704736726795
Total norm for 4 adversaries is: 44.60351592433605. distance: 1.0443704736726795
___Test Local_ResNet_18 poisoned: True, epoch: 180: Average loss: 0.0305, Accuracy: 9822/9900 (99.2121%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 180, local model 36, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5675/5777 (98.2344%), train_poison_data_count: 455
Global model norm: 44.65101220157277.
Norm before scaling: 44.60235003793242. Distance: 1.2091476009784097
Total norm for 4 adversaries is: 44.60235003793242. distance: 1.2091476009784097
___Test Local_ResNet_18 poisoned: True, epoch: 180: Average loss: 0.0205, Accuracy: 9851/9900 (99.5051%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 180, local model 58, internal_epoch   1,  Average loss: 0.0022, Accuracy: 4999/5123 (97.5795%), train_poison_data_count: 403
Global model norm: 44.65101220157277.
Norm before scaling: 44.60896590223974. Distance: 1.179234044921156
Total norm for 4 adversaries is: 44.60896590223974. distance: 1.179234044921156
___Test Local_ResNet_18 poisoned: True, epoch: 180: Average loss: 0.0594, Accuracy: 9745/9900 (98.4343%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 180, local model 71, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5393/5503 (98.0011%), train_poison_data_count: 430
Global model norm: 44.65101220157277.
Norm before scaling: 44.60703392499817. Distance: 1.2112038104183827
Total norm for 4 adversaries is: 44.60703392499817. distance: 1.2112038104183827
___Test Local_ResNet_18 poisoned: True, epoch: 180: Average loss: 0.0390, Accuracy: 9800/9900 (98.9899%)
___Train Local_ResNet_18,  epoch 180, local model 97, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4388/4736 (92.6520%)
___Train Local_ResNet_18,  epoch 180, local model 97, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4277/4736 (90.3083%)
___Test Local_ResNet_18 poisoned: False, epoch: 180: Average loss: 2.0571, Accuracy: 5502/10000 (55.0200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 31.18ms
___Train Local_ResNet_18,  epoch 180, local model 21, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4710/5038 (93.4895%)
___Train Local_ResNet_18,  epoch 180, local model 21, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4643/5038 (92.1596%)
___Test Local_ResNet_18 poisoned: False, epoch: 180: Average loss: 2.0807, Accuracy: 5459/10000 (54.5900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /update (::1) 30.22ms
___Train Local_ResNet_18,  epoch 180, local model 14, internal_epoch   1,  Average loss: 0.0022, Accuracy: 4040/4196 (96.2822%)
___Train Local_ResNet_18,  epoch 180, local model 14, internal_epoch   2,  Average loss: 0.0024, Accuracy: 4016/4196 (95.7102%)
___Test Local_ResNet_18 poisoned: False, epoch: 180: Average loss: 1.8107, Accuracy: 5946/10000 (59.4600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 29.83ms
___Train Local_ResNet_18,  epoch 180, local model 37, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4427/4741 (93.3769%)
___Train Local_ResNet_18,  epoch 180, local model 37, internal_epoch   2,  Average loss: 0.0069, Accuracy: 4142/4741 (87.3655%)
___Test Local_ResNet_18 poisoned: False, epoch: 180: Average loss: 2.5987, Accuracy: 4790/10000 (47.9000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 29.98ms
___Train Local_ResNet_18,  epoch 180, local model 95, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4585/5018 (91.3711%)
___Train Local_ResNet_18,  epoch 180, local model 95, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4510/5018 (89.8764%)
___Test Local_ResNet_18 poisoned: False, epoch: 180: Average loss: 2.0657, Accuracy: 5457/10000 (54.5700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 30.48ms
___Train Local_ResNet_18,  epoch 180, local model 9, internal_epoch   1,  Average loss: 0.0042, Accuracy: 5274/5727 (92.0901%)
___Train Local_ResNet_18,  epoch 180, local model 9, internal_epoch   2,  Average loss: 0.0061, Accuracy: 5033/5727 (87.8820%)
___Test Local_ResNet_18 poisoned: False, epoch: 180: Average loss: 2.2536, Accuracy: 5175/10000 (51.7500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 30.78ms
___Train Local_ResNet_18,  epoch 180, local model 28, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4663/5122 (91.0387%)
___Train Local_ResNet_18,  epoch 180, local model 28, internal_epoch   2,  Average loss: 0.0106, Accuracy: 4101/5122 (80.0664%)
___Test Local_ResNet_18 poisoned: False, epoch: 180: Average loss: 2.8612, Accuracy: 4353/10000 (43.5300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 29.84ms
___Train Local_ResNet_18,  epoch 180, local model 17, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4574/4903 (93.2898%)
___Train Local_ResNet_18,  epoch 180, local model 17, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4436/4903 (90.4752%)
___Test Local_ResNet_18 poisoned: False, epoch: 180: Average loss: 2.1042, Accuracy: 5409/10000 (54.0900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 30.22ms
___Train Local_ResNet_18,  epoch 180, local model 73, internal_epoch   1,  Average loss: 0.0028, Accuracy: 4371/4605 (94.9186%)
___Train Local_ResNet_18,  epoch 180, local model 73, internal_epoch   2,  Average loss: 0.0030, Accuracy: 4345/4605 (94.3540%)
___Test Local_ResNet_18 poisoned: False, epoch: 180: Average loss: 2.0397, Accuracy: 5731/10000 (57.3100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.81ms
INFO:tornado.access:200 POST /update (::1) 30.95ms
___Train Local_ResNet_18,  epoch 180, local model 23, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4316/4549 (94.8780%)
___Train Local_ResNet_18,  epoch 180, local model 23, internal_epoch   2,  Average loss: 0.0091, Accuracy: 3816/4549 (83.8866%)
___Test Local_ResNet_18 poisoned: False, epoch: 180: Average loss: 2.4469, Accuracy: 4886/10000 (48.8600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 30.41ms
___Train Local_ResNet_18,  epoch 180, local model 0, internal_epoch   1,  Average loss: 0.0034, Accuracy: 5105/5454 (93.6010%)
___Train Local_ResNet_18,  epoch 180, local model 0, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4913/5454 (90.0807%)
___Test Local_ResNet_18 poisoned: False, epoch: 180: Average loss: 2.2853, Accuracy: 5221/10000 (52.2100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.79ms
INFO:tornado.access:200 POST /update (::1) 31.43ms
___Train Local_ResNet_18,  epoch 180, local model 68, internal_epoch   1,  Average loss: 0.0033, Accuracy: 3378/3589 (94.1209%)
___Train Local_ResNet_18,  epoch 180, local model 68, internal_epoch   2,  Average loss: 0.0045, Accuracy: 3288/3589 (91.6133%)
___Test Local_ResNet_18 poisoned: False, epoch: 180: Average loss: 2.0103, Accuracy: 5676/10000 (56.7600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 30.60ms
___Train Local_ResNet_18,  epoch 180, local model 19, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4912/5361 (91.6247%)
___Train Local_ResNet_18,  epoch 180, local model 19, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4786/5361 (89.2744%)
___Test Local_ResNet_18 poisoned: False, epoch: 180: Average loss: 2.2892, Accuracy: 5185/10000 (51.8500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 31.41ms
___Train Local_ResNet_18,  epoch 180, local model 50, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4481/4757 (94.1980%)
___Train Local_ResNet_18,  epoch 180, local model 50, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4339/4757 (91.2129%)
___Test Local_ResNet_18 poisoned: False, epoch: 180: Average loss: 2.1912, Accuracy: 5242/10000 (52.4200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 30.82ms
___Train Local_ResNet_18,  epoch 180, local model 55, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4475/4731 (94.5889%)
___Train Local_ResNet_18,  epoch 180, local model 55, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4407/4731 (93.1516%)
___Test Local_ResNet_18 poisoned: False, epoch: 180: Average loss: 2.1675, Accuracy: 5465/10000 (54.6500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 30.65ms
___Train Local_ResNet_18,  epoch 180, local model 38, internal_epoch   1,  Average loss: 0.0044, Accuracy: 5711/6235 (91.5958%)
___Train Local_ResNet_18,  epoch 180, local model 38, internal_epoch   2,  Average loss: 0.0064, Accuracy: 5449/6235 (87.3937%)
___Test Local_ResNet_18 poisoned: False, epoch: 180: Average loss: 2.4010, Accuracy: 4977/10000 (49.7700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 30.74ms
time spent on training: 271.6058487892151
___Test Target_ResNet_18 poisoned: False, epoch: 180: Average loss: 1.4680, Accuracy: 6395/10000 (63.9500%)
___Test Target_ResNet_18 poisoned: True, epoch: 180: Average loss: 0.0242, Accuracy: 9835/9900 (99.3434%)
Done in 298.2005331516266 sec.
Server Epoch:181 choose agents : [13, 36, 58, 71, 89, 53, 72, 87, 21, 48, 39, 95, 70, 57, 16, 55, 17, 7, 74, 63].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 181, local model 13, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5206/5308 (98.0784%), train_poison_data_count: 415
Global model norm: 44.67057699670724.
Norm before scaling: 44.627322352910944. Distance: 1.1828862962164248
Total norm for 4 adversaries is: 44.627322352910944. distance: 1.1828862962164248
___Test Local_ResNet_18 poisoned: True, epoch: 181: Average loss: 0.0244, Accuracy: 9836/9900 (99.3535%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 181, local model 36, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5678/5777 (98.2863%), train_poison_data_count: 455
Global model norm: 44.67057699670724.
Norm before scaling: 44.62029748069397. Distance: 1.1887526681190175
Total norm for 4 adversaries is: 44.62029748069397. distance: 1.1887526681190175
___Test Local_ResNet_18 poisoned: True, epoch: 181: Average loss: 0.0507, Accuracy: 9764/9900 (98.6263%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 181, local model 58, internal_epoch   1,  Average loss: 0.0024, Accuracy: 4986/5123 (97.3258%), train_poison_data_count: 403
Global model norm: 44.67057699670724.
Norm before scaling: 44.63055812725178. Distance: 1.2656342305918216
Total norm for 4 adversaries is: 44.63055812725178. distance: 1.2656342305918216
___Test Local_ResNet_18 poisoned: True, epoch: 181: Average loss: 0.0650, Accuracy: 9744/9900 (98.4242%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 181, local model 71, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5387/5503 (97.8921%), train_poison_data_count: 430
Global model norm: 44.67057699670724.
Norm before scaling: 44.62653320414115. Distance: 1.2226441599092739
Total norm for 4 adversaries is: 44.62653320414115. distance: 1.2226441599092739
___Test Local_ResNet_18 poisoned: True, epoch: 181: Average loss: 0.0715, Accuracy: 9709/9900 (98.0707%)
___Train Local_ResNet_18,  epoch 181, local model 89, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4421/4737 (93.3291%)
___Train Local_ResNet_18,  epoch 181, local model 89, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4352/4737 (91.8725%)
___Test Local_ResNet_18 poisoned: False, epoch: 181: Average loss: 2.1963, Accuracy: 5379/10000 (53.7900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 30.42ms
___Train Local_ResNet_18,  epoch 181, local model 53, internal_epoch   1,  Average loss: 0.0055, Accuracy: 5983/6664 (89.7809%)
___Train Local_ResNet_18,  epoch 181, local model 53, internal_epoch   2,  Average loss: 0.0076, Accuracy: 5690/6664 (85.3842%)
___Test Local_ResNet_18 poisoned: False, epoch: 181: Average loss: 2.2596, Accuracy: 5031/10000 (50.3100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.63ms
INFO:tornado.access:200 POST /update (::1) 25.01ms
___Train Local_ResNet_18,  epoch 181, local model 72, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4768/5193 (91.8159%)
___Train Local_ResNet_18,  epoch 181, local model 72, internal_epoch   2,  Average loss: 0.0056, Accuracy: 4606/5193 (88.6963%)
___Test Local_ResNet_18 poisoned: False, epoch: 181: Average loss: 2.2428, Accuracy: 5296/10000 (52.9600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.76ms
INFO:tornado.access:200 POST /update (::1) 30.09ms
___Train Local_ResNet_18,  epoch 181, local model 87, internal_epoch   1,  Average loss: 0.0039, Accuracy: 3687/3995 (92.2904%)
___Train Local_ResNet_18,  epoch 181, local model 87, internal_epoch   2,  Average loss: 0.0050, Accuracy: 3590/3995 (89.8623%)
___Test Local_ResNet_18 poisoned: False, epoch: 181: Average loss: 2.3851, Accuracy: 5147/10000 (51.4700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 30.25ms
___Train Local_ResNet_18,  epoch 181, local model 21, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4706/5038 (93.4101%)
___Train Local_ResNet_18,  epoch 181, local model 21, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4703/5038 (93.3505%)
___Test Local_ResNet_18 poisoned: False, epoch: 181: Average loss: 1.9401, Accuracy: 5723/10000 (57.2300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 30.10ms
___Train Local_ResNet_18,  epoch 181, local model 48, internal_epoch   1,  Average loss: 0.0026, Accuracy: 4591/4830 (95.0518%)
___Train Local_ResNet_18,  epoch 181, local model 48, internal_epoch   2,  Average loss: 0.0028, Accuracy: 4570/4830 (94.6170%)
___Test Local_ResNet_18 poisoned: False, epoch: 181: Average loss: 2.0640, Accuracy: 5561/10000 (55.6100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 30.79ms
___Train Local_ResNet_18,  epoch 181, local model 39, internal_epoch   1,  Average loss: 0.0032, Accuracy: 3932/4175 (94.1796%)
___Train Local_ResNet_18,  epoch 181, local model 39, internal_epoch   2,  Average loss: 0.0046, Accuracy: 3825/4175 (91.6168%)
___Test Local_ResNet_18 poisoned: False, epoch: 181: Average loss: 2.2824, Accuracy: 5306/10000 (53.0600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 30.06ms
___Train Local_ResNet_18,  epoch 181, local model 95, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4618/5018 (92.0287%)
___Train Local_ResNet_18,  epoch 181, local model 95, internal_epoch   2,  Average loss: 0.0057, Accuracy: 4455/5018 (88.7804%)
___Test Local_ResNet_18 poisoned: False, epoch: 181: Average loss: 2.1156, Accuracy: 5326/10000 (53.2600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /win_exists (::1) 0.80ms
INFO:tornado.access:200 POST /update (::1) 29.29ms
___Train Local_ResNet_18,  epoch 181, local model 70, internal_epoch   1,  Average loss: 0.0030, Accuracy: 5532/5871 (94.2259%)
___Train Local_ResNet_18,  epoch 181, local model 70, internal_epoch   2,  Average loss: 0.0041, Accuracy: 5405/5871 (92.0627%)
___Test Local_ResNet_18 poisoned: False, epoch: 181: Average loss: 2.2087, Accuracy: 5326/10000 (53.2600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 30.97ms
___Train Local_ResNet_18,  epoch 181, local model 57, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4659/4956 (94.0073%)
___Train Local_ResNet_18,  epoch 181, local model 57, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4629/4956 (93.4019%)
___Test Local_ResNet_18 poisoned: False, epoch: 181: Average loss: 2.1087, Accuracy: 5600/10000 (56.0000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 31.09ms
___Train Local_ResNet_18,  epoch 181, local model 16, internal_epoch   1,  Average loss: 0.0031, Accuracy: 5057/5353 (94.4704%)
___Train Local_ResNet_18,  epoch 181, local model 16, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4840/5353 (90.4166%)
___Test Local_ResNet_18 poisoned: False, epoch: 181: Average loss: 2.0911, Accuracy: 5427/10000 (54.2700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 29.01ms
___Train Local_ResNet_18,  epoch 181, local model 55, internal_epoch   1,  Average loss: 0.0028, Accuracy: 4479/4731 (94.6734%)
___Train Local_ResNet_18,  epoch 181, local model 55, internal_epoch   2,  Average loss: 0.0032, Accuracy: 4446/4731 (93.9759%)
___Test Local_ResNet_18 poisoned: False, epoch: 181: Average loss: 2.1265, Accuracy: 5362/10000 (53.6200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 31.05ms
___Train Local_ResNet_18,  epoch 181, local model 17, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4493/4903 (91.6378%)
___Train Local_ResNet_18,  epoch 181, local model 17, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4427/4903 (90.2917%)
___Test Local_ResNet_18 poisoned: False, epoch: 181: Average loss: 2.1432, Accuracy: 5362/10000 (53.6200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 30.26ms
___Train Local_ResNet_18,  epoch 181, local model 7, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4508/4869 (92.5857%)
___Train Local_ResNet_18,  epoch 181, local model 7, internal_epoch   2,  Average loss: 0.0123, Accuracy: 3749/4869 (76.9973%)
___Test Local_ResNet_18 poisoned: False, epoch: 181: Average loss: 2.5951, Accuracy: 4601/10000 (46.0100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 30.03ms
___Train Local_ResNet_18,  epoch 181, local model 74, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4493/4797 (93.6627%)
___Train Local_ResNet_18,  epoch 181, local model 74, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4427/4797 (92.2868%)
___Test Local_ResNet_18 poisoned: False, epoch: 181: Average loss: 2.1372, Accuracy: 5479/10000 (54.7900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 30.70ms
___Train Local_ResNet_18,  epoch 181, local model 63, internal_epoch   1,  Average loss: 0.0031, Accuracy: 3727/3910 (95.3197%)
___Train Local_ResNet_18,  epoch 181, local model 63, internal_epoch   2,  Average loss: 0.0100, Accuracy: 3229/3910 (82.5831%)
___Test Local_ResNet_18 poisoned: False, epoch: 181: Average loss: 2.5859, Accuracy: 4757/10000 (47.5700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 30.03ms
time spent on training: 272.49224400520325
___Test Target_ResNet_18 poisoned: False, epoch: 181: Average loss: 1.4772, Accuracy: 6403/10000 (64.0300%)
___Test Target_ResNet_18 poisoned: True, epoch: 181: Average loss: 0.0243, Accuracy: 9834/9900 (99.3333%)
Done in 299.63328671455383 sec.
Server Epoch:182 choose agents : [13, 36, 58, 71, 77, 41, 51, 7, 32, 44, 67, 5, 85, 49, 55, 64, 35, 95, 4, 47].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 182, local model 13, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5207/5308 (98.0972%), train_poison_data_count: 415
Global model norm: 44.689345186992696.
Norm before scaling: 44.64418929374026. Distance: 1.1488960544357398
Total norm for 4 adversaries is: 44.64418929374026. distance: 1.1488960544357398
___Test Local_ResNet_18 poisoned: True, epoch: 182: Average loss: 0.0427, Accuracy: 9779/9900 (98.7778%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 182, local model 36, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5673/5777 (98.1998%), train_poison_data_count: 455
Global model norm: 44.689345186992696.
Norm before scaling: 44.63940402381692. Distance: 1.1904498154125385
Total norm for 4 adversaries is: 44.63940402381692. distance: 1.1904498154125385
___Test Local_ResNet_18 poisoned: True, epoch: 182: Average loss: 0.0505, Accuracy: 9762/9900 (98.6061%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 182, local model 58, internal_epoch   1,  Average loss: 0.0023, Accuracy: 4999/5123 (97.5795%), train_poison_data_count: 403
Global model norm: 44.689345186992696.
Norm before scaling: 44.647579688828735. Distance: 1.2125645197583184
Total norm for 4 adversaries is: 44.647579688828735. distance: 1.2125645197583184
___Test Local_ResNet_18 poisoned: True, epoch: 182: Average loss: 0.0650, Accuracy: 9732/9900 (98.3030%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 182, local model 71, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5392/5503 (97.9829%), train_poison_data_count: 430
Global model norm: 44.689345186992696.
Norm before scaling: 44.64411820205505. Distance: 1.1921962932697352
Total norm for 4 adversaries is: 44.64411820205505. distance: 1.1921962932697352
___Test Local_ResNet_18 poisoned: True, epoch: 182: Average loss: 0.0388, Accuracy: 9802/9900 (99.0101%)
___Train Local_ResNet_18,  epoch 182, local model 77, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4656/5050 (92.1980%)
___Train Local_ResNet_18,  epoch 182, local model 77, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4534/5050 (89.7822%)
___Test Local_ResNet_18 poisoned: False, epoch: 182: Average loss: 2.1062, Accuracy: 5472/10000 (54.7200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 31.06ms
___Train Local_ResNet_18,  epoch 182, local model 41, internal_epoch   1,  Average loss: 0.0028, Accuracy: 4477/4714 (94.9724%)
___Train Local_ResNet_18,  epoch 182, local model 41, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4328/4714 (91.8116%)
___Test Local_ResNet_18 poisoned: False, epoch: 182: Average loss: 2.2380, Accuracy: 5241/10000 (52.4100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.80ms
INFO:tornado.access:200 POST /update (::1) 31.91ms
___Train Local_ResNet_18,  epoch 182, local model 51, internal_epoch   1,  Average loss: 0.0031, Accuracy: 3900/4108 (94.9367%)
___Train Local_ResNet_18,  epoch 182, local model 51, internal_epoch   2,  Average loss: 0.0044, Accuracy: 3758/4108 (91.4800%)
___Test Local_ResNet_18 poisoned: False, epoch: 182: Average loss: 2.1163, Accuracy: 5451/10000 (54.5100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 31.13ms
___Train Local_ResNet_18,  epoch 182, local model 7, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4494/4869 (92.2982%)
___Train Local_ResNet_18,  epoch 182, local model 7, internal_epoch   2,  Average loss: 0.0067, Accuracy: 4240/4869 (87.0815%)
___Test Local_ResNet_18 poisoned: False, epoch: 182: Average loss: 2.2801, Accuracy: 5194/10000 (51.9400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.05ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 30.94ms
___Train Local_ResNet_18,  epoch 182, local model 32, internal_epoch   1,  Average loss: 0.0054, Accuracy: 5419/6080 (89.1283%)
___Train Local_ResNet_18,  epoch 182, local model 32, internal_epoch   2,  Average loss: 0.0068, Accuracy: 5245/6080 (86.2664%)
___Test Local_ResNet_18 poisoned: False, epoch: 182: Average loss: 2.2287, Accuracy: 5153/10000 (51.5300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 30.13ms
___Train Local_ResNet_18,  epoch 182, local model 44, internal_epoch   1,  Average loss: 0.0026, Accuracy: 4838/5075 (95.3300%)
___Train Local_ResNet_18,  epoch 182, local model 44, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4705/5075 (92.7094%)
___Test Local_ResNet_18 poisoned: False, epoch: 182: Average loss: 2.0161, Accuracy: 5539/10000 (55.3900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 31.80ms
___Train Local_ResNet_18,  epoch 182, local model 67, internal_epoch   1,  Average loss: 0.0039, Accuracy: 5156/5559 (92.7505%)
___Train Local_ResNet_18,  epoch 182, local model 67, internal_epoch   2,  Average loss: 0.0059, Accuracy: 4920/5559 (88.5051%)
___Test Local_ResNet_18 poisoned: False, epoch: 182: Average loss: 2.0415, Accuracy: 5390/10000 (53.9000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 30.14ms
___Train Local_ResNet_18,  epoch 182, local model 5, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4723/4993 (94.5924%)
___Train Local_ResNet_18,  epoch 182, local model 5, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4657/4993 (93.2706%)
___Test Local_ResNet_18 poisoned: False, epoch: 182: Average loss: 2.0033, Accuracy: 5596/10000 (55.9600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.79ms
INFO:tornado.access:200 POST /update (::1) 24.93ms
___Train Local_ResNet_18,  epoch 182, local model 85, internal_epoch   1,  Average loss: 0.0048, Accuracy: 6303/6947 (90.7298%)
___Train Local_ResNet_18,  epoch 182, local model 85, internal_epoch   2,  Average loss: 0.0064, Accuracy: 6022/6947 (86.6849%)
___Test Local_ResNet_18 poisoned: False, epoch: 182: Average loss: 2.3122, Accuracy: 5132/10000 (51.3200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.80ms
INFO:tornado.access:200 POST /update (::1) 31.45ms
___Train Local_ResNet_18,  epoch 182, local model 49, internal_epoch   1,  Average loss: 0.0045, Accuracy: 5162/5652 (91.3305%)
___Train Local_ResNet_18,  epoch 182, local model 49, internal_epoch   2,  Average loss: 0.0053, Accuracy: 5047/5652 (89.2958%)
___Test Local_ResNet_18 poisoned: False, epoch: 182: Average loss: 2.3557, Accuracy: 5027/10000 (50.2700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.80ms
INFO:tornado.access:200 POST /update (::1) 30.90ms
___Train Local_ResNet_18,  epoch 182, local model 55, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4482/4731 (94.7368%)
___Train Local_ResNet_18,  epoch 182, local model 55, internal_epoch   2,  Average loss: 0.0031, Accuracy: 4437/4731 (93.7857%)
___Test Local_ResNet_18 poisoned: False, epoch: 182: Average loss: 1.9127, Accuracy: 5771/10000 (57.7100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 31.05ms
___Train Local_ResNet_18,  epoch 182, local model 64, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4499/4894 (91.9289%)
___Train Local_ResNet_18,  epoch 182, local model 64, internal_epoch   2,  Average loss: 0.0061, Accuracy: 4314/4894 (88.1488%)
___Test Local_ResNet_18 poisoned: False, epoch: 182: Average loss: 2.3870, Accuracy: 5057/10000 (50.5700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 30.45ms
___Train Local_ResNet_18,  epoch 182, local model 35, internal_epoch   1,  Average loss: 0.0036, Accuracy: 5231/5615 (93.1612%)
___Train Local_ResNet_18,  epoch 182, local model 35, internal_epoch   2,  Average loss: 0.0037, Accuracy: 5188/5615 (92.3954%)
___Test Local_ResNet_18 poisoned: False, epoch: 182: Average loss: 2.1066, Accuracy: 5472/10000 (54.7200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 30.91ms
___Train Local_ResNet_18,  epoch 182, local model 95, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4658/5018 (92.8258%)
___Train Local_ResNet_18,  epoch 182, local model 95, internal_epoch   2,  Average loss: 0.0054, Accuracy: 4488/5018 (89.4380%)
___Test Local_ResNet_18 poisoned: False, epoch: 182: Average loss: 2.2331, Accuracy: 5218/10000 (52.1800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 30.92ms
___Train Local_ResNet_18,  epoch 182, local model 4, internal_epoch   1,  Average loss: 0.0032, Accuracy: 3786/4028 (93.9921%)
___Train Local_ResNet_18,  epoch 182, local model 4, internal_epoch   2,  Average loss: 0.0034, Accuracy: 3755/4028 (93.2224%)
___Test Local_ResNet_18 poisoned: False, epoch: 182: Average loss: 1.9367, Accuracy: 5779/10000 (57.7900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 30.76ms
___Train Local_ResNet_18,  epoch 182, local model 47, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4731/5123 (92.3482%)
___Train Local_ResNet_18,  epoch 182, local model 47, internal_epoch   2,  Average loss: 0.0076, Accuracy: 4399/5123 (85.8677%)
___Test Local_ResNet_18 poisoned: False, epoch: 182: Average loss: 2.4123, Accuracy: 4949/10000 (49.4900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 31.25ms
time spent on training: 276.7231159210205
___Test Target_ResNet_18 poisoned: False, epoch: 182: Average loss: 1.4722, Accuracy: 6413/10000 (64.1300%)
___Test Target_ResNet_18 poisoned: True, epoch: 182: Average loss: 0.0258, Accuracy: 9829/9900 (99.2828%)
Done in 303.23312878608704 sec.
Server Epoch:183 choose agents : [13, 36, 58, 71, 17, 70, 42, 31, 21, 82, 84, 28, 86, 67, 5, 85, 95, 74, 38, 80].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 183, local model 13, internal_epoch   1,  Average loss: 0.0012, Accuracy: 5216/5308 (98.2668%), train_poison_data_count: 415
Global model norm: 44.709704109975526.
Norm before scaling: 44.66374341214513. Distance: 1.1192040017708818
Total norm for 4 adversaries is: 44.66374341214513. distance: 1.1192040017708818
___Test Local_ResNet_18 poisoned: True, epoch: 183: Average loss: 0.0605, Accuracy: 9754/9900 (98.5253%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 183, local model 36, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5683/5777 (98.3729%), train_poison_data_count: 455
Global model norm: 44.709704109975526.
Norm before scaling: 44.65923630891277. Distance: 1.1903116669956135
Total norm for 4 adversaries is: 44.65923630891277. distance: 1.1903116669956135
___Test Local_ResNet_18 poisoned: True, epoch: 183: Average loss: 0.0529, Accuracy: 9770/9900 (98.6869%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 183, local model 58, internal_epoch   1,  Average loss: 0.0021, Accuracy: 5002/5123 (97.6381%), train_poison_data_count: 403
Global model norm: 44.709704109975526.
Norm before scaling: 44.66723207334153. Distance: 1.1681609745109192
Total norm for 4 adversaries is: 44.66723207334153. distance: 1.1681609745109192
___Test Local_ResNet_18 poisoned: True, epoch: 183: Average loss: 0.0126, Accuracy: 9868/9900 (99.6768%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 183, local model 71, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5401/5503 (98.1465%), train_poison_data_count: 430
Global model norm: 44.709704109975526.
Norm before scaling: 44.663323879890534. Distance: 1.1521176908496482
Total norm for 4 adversaries is: 44.663323879890534. distance: 1.1521176908496482
___Test Local_ResNet_18 poisoned: True, epoch: 183: Average loss: 0.0456, Accuracy: 9771/9900 (98.6970%)
___Train Local_ResNet_18,  epoch 183, local model 17, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4558/4903 (92.9635%)
___Train Local_ResNet_18,  epoch 183, local model 17, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4534/4903 (92.4740%)
___Test Local_ResNet_18 poisoned: False, epoch: 183: Average loss: 2.1371, Accuracy: 5403/10000 (54.0300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 30.59ms
___Train Local_ResNet_18,  epoch 183, local model 70, internal_epoch   1,  Average loss: 0.0031, Accuracy: 5540/5871 (94.3621%)
___Train Local_ResNet_18,  epoch 183, local model 70, internal_epoch   2,  Average loss: 0.0046, Accuracy: 5336/5871 (90.8874%)
___Test Local_ResNet_18 poisoned: False, epoch: 183: Average loss: 2.0588, Accuracy: 5503/10000 (55.0300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 30.79ms
___Train Local_ResNet_18,  epoch 183, local model 42, internal_epoch   1,  Average loss: 0.0043, Accuracy: 5419/5907 (91.7386%)
___Train Local_ResNet_18,  epoch 183, local model 42, internal_epoch   2,  Average loss: 0.0053, Accuracy: 5284/5907 (89.4532%)
___Test Local_ResNet_18 poisoned: False, epoch: 183: Average loss: 2.7729, Accuracy: 4589/10000 (45.8900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.80ms
INFO:tornado.access:200 POST /update (::1) 29.48ms
___Train Local_ResNet_18,  epoch 183, local model 31, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4272/4537 (94.1591%)
___Train Local_ResNet_18,  epoch 183, local model 31, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4256/4537 (93.8065%)
___Test Local_ResNet_18 poisoned: False, epoch: 183: Average loss: 1.9704, Accuracy: 5687/10000 (56.8700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 26.32ms
___Train Local_ResNet_18,  epoch 183, local model 21, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4666/5038 (92.6161%)
___Train Local_ResNet_18,  epoch 183, local model 21, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4633/5038 (91.9611%)
___Test Local_ResNet_18 poisoned: False, epoch: 183: Average loss: 1.9851, Accuracy: 5610/10000 (56.1000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.75ms
INFO:tornado.access:200 POST /update (::1) 29.68ms
___Train Local_ResNet_18,  epoch 183, local model 82, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4991/5298 (94.2054%)
___Train Local_ResNet_18,  epoch 183, local model 82, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4920/5298 (92.8652%)
___Test Local_ResNet_18 poisoned: False, epoch: 183: Average loss: 2.1060, Accuracy: 5314/10000 (53.1400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 31.61ms
___Train Local_ResNet_18,  epoch 183, local model 84, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4838/5209 (92.8777%)
___Train Local_ResNet_18,  epoch 183, local model 84, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4741/5209 (91.0156%)
___Test Local_ResNet_18 poisoned: False, epoch: 183: Average loss: 2.1408, Accuracy: 5492/10000 (54.9200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 30.60ms
___Train Local_ResNet_18,  epoch 183, local model 28, internal_epoch   1,  Average loss: 0.0046, Accuracy: 4721/5122 (92.1710%)
___Train Local_ResNet_18,  epoch 183, local model 28, internal_epoch   2,  Average loss: 0.0104, Accuracy: 4157/5122 (81.1597%)
___Test Local_ResNet_18 poisoned: False, epoch: 183: Average loss: 2.3351, Accuracy: 5010/10000 (50.1000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 31.04ms
___Train Local_ResNet_18,  epoch 183, local model 86, internal_epoch   1,  Average loss: 0.0040, Accuracy: 3627/3929 (92.3136%)
___Train Local_ResNet_18,  epoch 183, local model 86, internal_epoch   2,  Average loss: 0.0041, Accuracy: 3602/3929 (91.6773%)
___Test Local_ResNet_18 poisoned: False, epoch: 183: Average loss: 2.0802, Accuracy: 5679/10000 (56.7900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 30.15ms
___Train Local_ResNet_18,  epoch 183, local model 67, internal_epoch   1,  Average loss: 0.0041, Accuracy: 5113/5559 (91.9770%)
___Train Local_ResNet_18,  epoch 183, local model 67, internal_epoch   2,  Average loss: 0.0058, Accuracy: 4922/5559 (88.5411%)
___Test Local_ResNet_18 poisoned: False, epoch: 183: Average loss: 2.2494, Accuracy: 5187/10000 (51.8700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 31.42ms
___Train Local_ResNet_18,  epoch 183, local model 5, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4714/4993 (94.4122%)
___Train Local_ResNet_18,  epoch 183, local model 5, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4611/4993 (92.3493%)
___Test Local_ResNet_18 poisoned: False, epoch: 183: Average loss: 2.0461, Accuracy: 5622/10000 (56.2200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 31.47ms
___Train Local_ResNet_18,  epoch 183, local model 85, internal_epoch   1,  Average loss: 0.0043, Accuracy: 6359/6947 (91.5359%)
___Train Local_ResNet_18,  epoch 183, local model 85, internal_epoch   2,  Average loss: 0.0066, Accuracy: 6048/6947 (87.0592%)
___Test Local_ResNet_18 poisoned: False, epoch: 183: Average loss: 2.4613, Accuracy: 4886/10000 (48.8600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 30.42ms
___Train Local_ResNet_18,  epoch 183, local model 95, internal_epoch   1,  Average loss: 0.0045, Accuracy: 4579/5018 (91.2515%)
___Train Local_ResNet_18,  epoch 183, local model 95, internal_epoch   2,  Average loss: 0.0059, Accuracy: 4452/5018 (88.7206%)
___Test Local_ResNet_18 poisoned: False, epoch: 183: Average loss: 2.3744, Accuracy: 5132/10000 (51.3200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 30.48ms
___Train Local_ResNet_18,  epoch 183, local model 74, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4478/4797 (93.3500%)
___Train Local_ResNet_18,  epoch 183, local model 74, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4410/4797 (91.9325%)
___Test Local_ResNet_18 poisoned: False, epoch: 183: Average loss: 1.9971, Accuracy: 5685/10000 (56.8500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 31.05ms
___Train Local_ResNet_18,  epoch 183, local model 38, internal_epoch   1,  Average loss: 0.0044, Accuracy: 5707/6235 (91.5317%)
___Train Local_ResNet_18,  epoch 183, local model 38, internal_epoch   2,  Average loss: 0.0062, Accuracy: 5451/6235 (87.4258%)
___Test Local_ResNet_18 poisoned: False, epoch: 183: Average loss: 2.3216, Accuracy: 5140/10000 (51.4000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 30.63ms
___Train Local_ResNet_18,  epoch 183, local model 80, internal_epoch   1,  Average loss: 0.0035, Accuracy: 5069/5461 (92.8218%)
___Train Local_ResNet_18,  epoch 183, local model 80, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4903/5461 (89.7821%)
___Test Local_ResNet_18 poisoned: False, epoch: 183: Average loss: 2.4010, Accuracy: 5047/10000 (50.4700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 31.44ms
time spent on training: 273.8127100467682
___Test Target_ResNet_18 poisoned: False, epoch: 183: Average loss: 1.4814, Accuracy: 6391/10000 (63.9100%)
___Test Target_ResNet_18 poisoned: True, epoch: 183: Average loss: 0.0252, Accuracy: 9833/9900 (99.3232%)
Done in 300.8779013156891 sec.
Server Epoch:184 choose agents : [13, 36, 58, 71, 87, 92, 52, 89, 22, 93, 78, 49, 39, 82, 35, 94, 38, 61, 32, 51].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 184, local model 13, internal_epoch   1,  Average loss: 0.0012, Accuracy: 5229/5308 (98.5117%), train_poison_data_count: 415
Global model norm: 44.72994869823656.
Norm before scaling: 44.683338147544575. Distance: 1.115267778153574
Total norm for 4 adversaries is: 44.683338147544575. distance: 1.115267778153574
___Test Local_ResNet_18 poisoned: True, epoch: 184: Average loss: 0.0592, Accuracy: 9758/9900 (98.5657%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 184, local model 36, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5667/5777 (98.0959%), train_poison_data_count: 455
Global model norm: 44.72994869823656.
Norm before scaling: 44.67931251481915. Distance: 1.1853559613676565
Total norm for 4 adversaries is: 44.67931251481915. distance: 1.1853559613676565
___Test Local_ResNet_18 poisoned: True, epoch: 184: Average loss: 0.0533, Accuracy: 9770/9900 (98.6869%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 184, local model 58, internal_epoch   1,  Average loss: 0.0020, Accuracy: 5007/5123 (97.7357%), train_poison_data_count: 403
Global model norm: 44.72994869823656.
Norm before scaling: 44.68722137150899. Distance: 1.16926258087078
Total norm for 4 adversaries is: 44.68722137150899. distance: 1.16926258087078
___Test Local_ResNet_18 poisoned: True, epoch: 184: Average loss: 0.0689, Accuracy: 9727/9900 (98.2525%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 184, local model 71, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5396/5503 (98.0556%), train_poison_data_count: 430
Global model norm: 44.72994869823656.
Norm before scaling: 44.68450192084569. Distance: 1.1811641520634941
Total norm for 4 adversaries is: 44.68450192084569. distance: 1.1811641520634941
___Test Local_ResNet_18 poisoned: True, epoch: 184: Average loss: 0.0555, Accuracy: 9766/9900 (98.6465%)
___Train Local_ResNet_18,  epoch 184, local model 87, internal_epoch   1,  Average loss: 0.0041, Accuracy: 3689/3995 (92.3404%)
___Train Local_ResNet_18,  epoch 184, local model 87, internal_epoch   2,  Average loss: 0.0051, Accuracy: 3604/3995 (90.2128%)
___Test Local_ResNet_18 poisoned: False, epoch: 184: Average loss: 2.2559, Accuracy: 5246/10000 (52.4600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 30.28ms
___Train Local_ResNet_18,  epoch 184, local model 92, internal_epoch   1,  Average loss: 0.0031, Accuracy: 6385/6812 (93.7317%)
___Train Local_ResNet_18,  epoch 184, local model 92, internal_epoch   2,  Average loss: 0.0044, Accuracy: 6216/6812 (91.2507%)
___Test Local_ResNet_18 poisoned: False, epoch: 184: Average loss: 2.2520, Accuracy: 5247/10000 (52.4700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.77ms
INFO:tornado.access:200 POST /update (::1) 30.28ms
___Train Local_ResNet_18,  epoch 184, local model 52, internal_epoch   1,  Average loss: 0.0028, Accuracy: 3930/4130 (95.1574%)
___Train Local_ResNet_18,  epoch 184, local model 52, internal_epoch   2,  Average loss: 0.0032, Accuracy: 3892/4130 (94.2373%)
___Test Local_ResNet_18 poisoned: False, epoch: 184: Average loss: 2.0136, Accuracy: 5664/10000 (56.6400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 31.54ms
___Train Local_ResNet_18,  epoch 184, local model 89, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4422/4737 (93.3502%)
___Train Local_ResNet_18,  epoch 184, local model 89, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4370/4737 (92.2525%)
___Test Local_ResNet_18 poisoned: False, epoch: 184: Average loss: 2.2142, Accuracy: 5376/10000 (53.7600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 31.26ms
___Train Local_ResNet_18,  epoch 184, local model 22, internal_epoch   1,  Average loss: 0.0035, Accuracy: 5315/5696 (93.3111%)
___Train Local_ResNet_18,  epoch 184, local model 22, internal_epoch   2,  Average loss: 0.0047, Accuracy: 5153/5696 (90.4670%)
___Test Local_ResNet_18 poisoned: False, epoch: 184: Average loss: 2.2128, Accuracy: 5232/10000 (52.3200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 30.27ms
___Train Local_ResNet_18,  epoch 184, local model 93, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4721/5055 (93.3927%)
___Train Local_ResNet_18,  epoch 184, local model 93, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4589/5055 (90.7814%)
___Test Local_ResNet_18 poisoned: False, epoch: 184: Average loss: 2.3832, Accuracy: 5150/10000 (51.5000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 23.33ms
___Train Local_ResNet_18,  epoch 184, local model 78, internal_epoch   1,  Average loss: 0.0024, Accuracy: 4181/4368 (95.7189%)
___Train Local_ResNet_18,  epoch 184, local model 78, internal_epoch   2,  Average loss: 0.0027, Accuracy: 4138/4368 (94.7344%)
___Test Local_ResNet_18 poisoned: False, epoch: 184: Average loss: 1.9866, Accuracy: 5713/10000 (57.1300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.77ms
INFO:tornado.access:200 POST /update (::1) 30.89ms
___Train Local_ResNet_18,  epoch 184, local model 49, internal_epoch   1,  Average loss: 0.0040, Accuracy: 5229/5652 (92.5159%)
___Train Local_ResNet_18,  epoch 184, local model 49, internal_epoch   2,  Average loss: 0.0057, Accuracy: 5007/5652 (88.5881%)
___Test Local_ResNet_18 poisoned: False, epoch: 184: Average loss: 2.2365, Accuracy: 5215/10000 (52.1500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /win_exists (::1) 0.76ms
INFO:tornado.access:200 POST /update (::1) 26.87ms
___Train Local_ResNet_18,  epoch 184, local model 39, internal_epoch   1,  Average loss: 0.0033, Accuracy: 3934/4175 (94.2275%)
___Train Local_ResNet_18,  epoch 184, local model 39, internal_epoch   2,  Average loss: 0.0038, Accuracy: 3861/4175 (92.4790%)
___Test Local_ResNet_18 poisoned: False, epoch: 184: Average loss: 1.9314, Accuracy: 5709/10000 (57.0900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.95ms
INFO:tornado.access:200 POST /win_exists (::1) 0.77ms
INFO:tornado.access:200 POST /update (::1) 23.55ms
___Train Local_ResNet_18,  epoch 184, local model 82, internal_epoch   1,  Average loss: 0.0027, Accuracy: 5014/5298 (94.6395%)
___Train Local_ResNet_18,  epoch 184, local model 82, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4889/5298 (92.2801%)
___Test Local_ResNet_18 poisoned: False, epoch: 184: Average loss: 2.1460, Accuracy: 5410/10000 (54.1000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 31.72ms
___Train Local_ResNet_18,  epoch 184, local model 35, internal_epoch   1,  Average loss: 0.0034, Accuracy: 5270/5615 (93.8557%)
___Train Local_ResNet_18,  epoch 184, local model 35, internal_epoch   2,  Average loss: 0.0042, Accuracy: 5149/5615 (91.7008%)
___Test Local_ResNet_18 poisoned: False, epoch: 184: Average loss: 2.3222, Accuracy: 5229/10000 (52.2900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /update (::1) 30.42ms
___Train Local_ResNet_18,  epoch 184, local model 94, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4832/5224 (92.4962%)
___Train Local_ResNet_18,  epoch 184, local model 94, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4840/5224 (92.6493%)
___Test Local_ResNet_18 poisoned: False, epoch: 184: Average loss: 2.2120, Accuracy: 5416/10000 (54.1600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 31.58ms
___Train Local_ResNet_18,  epoch 184, local model 38, internal_epoch   1,  Average loss: 0.0042, Accuracy: 5724/6235 (91.8043%)
___Train Local_ResNet_18,  epoch 184, local model 38, internal_epoch   2,  Average loss: 0.0063, Accuracy: 5443/6235 (87.2975%)
___Test Local_ResNet_18 poisoned: False, epoch: 184: Average loss: 2.3255, Accuracy: 5038/10000 (50.3800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.69ms
INFO:tornado.access:200 POST /update (::1) 24.35ms
___Train Local_ResNet_18,  epoch 184, local model 61, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4211/4485 (93.8907%)
___Train Local_ResNet_18,  epoch 184, local model 61, internal_epoch   2,  Average loss: 0.0094, Accuracy: 3731/4485 (83.1884%)
___Test Local_ResNet_18 poisoned: False, epoch: 184: Average loss: 2.4388, Accuracy: 4745/10000 (47.4500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.07ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 30.78ms
___Train Local_ResNet_18,  epoch 184, local model 32, internal_epoch   1,  Average loss: 0.0052, Accuracy: 5472/6080 (90.0000%)
___Train Local_ResNet_18,  epoch 184, local model 32, internal_epoch   2,  Average loss: 0.0065, Accuracy: 5285/6080 (86.9243%)
___Test Local_ResNet_18 poisoned: False, epoch: 184: Average loss: 2.4298, Accuracy: 4957/10000 (49.5700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 31.24ms
___Train Local_ResNet_18,  epoch 184, local model 51, internal_epoch   1,  Average loss: 0.0027, Accuracy: 3888/4108 (94.6446%)
___Train Local_ResNet_18,  epoch 184, local model 51, internal_epoch   2,  Average loss: 0.0044, Accuracy: 3758/4108 (91.4800%)
___Test Local_ResNet_18 poisoned: False, epoch: 184: Average loss: 2.0009, Accuracy: 5544/10000 (55.4400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 30.59ms
time spent on training: 266.11443400382996
___Test Target_ResNet_18 poisoned: False, epoch: 184: Average loss: 1.4927, Accuracy: 6378/10000 (63.7800%)
___Test Target_ResNet_18 poisoned: True, epoch: 184: Average loss: 0.0258, Accuracy: 9830/9900 (99.2929%)
Done in 292.929753780365 sec.
Server Epoch:185 choose agents : [13, 36, 58, 71, 8, 12, 68, 28, 34, 90, 64, 6, 54, 43, 77, 76, 83, 84, 52, 26].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 185, local model 13, internal_epoch   1,  Average loss: 0.0012, Accuracy: 5207/5308 (98.0972%), train_poison_data_count: 415
Global model norm: 44.748638793019445.
Norm before scaling: 44.70225117111693. Distance: 1.1096250762612834
Total norm for 4 adversaries is: 44.70225117111693. distance: 1.1096250762612834
___Test Local_ResNet_18 poisoned: True, epoch: 185: Average loss: 0.0510, Accuracy: 9770/9900 (98.6869%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 185, local model 36, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5662/5777 (98.0093%), train_poison_data_count: 455
Global model norm: 44.748638793019445.
Norm before scaling: 44.7000760822374. Distance: 1.2315907040831517
Total norm for 4 adversaries is: 44.7000760822374. distance: 1.2315907040831517
___Test Local_ResNet_18 poisoned: True, epoch: 185: Average loss: 0.0310, Accuracy: 9824/9900 (99.2323%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 185, local model 58, internal_epoch   1,  Average loss: 0.0022, Accuracy: 4996/5123 (97.5210%), train_poison_data_count: 403
Global model norm: 44.748638793019445.
Norm before scaling: 44.707093879652504. Distance: 1.2172078377000315
Total norm for 4 adversaries is: 44.707093879652504. distance: 1.2172078377000315
___Test Local_ResNet_18 poisoned: True, epoch: 185: Average loss: 0.0515, Accuracy: 9762/9900 (98.6061%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 185, local model 71, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5376/5503 (97.6922%), train_poison_data_count: 430
Global model norm: 44.748638793019445.
Norm before scaling: 44.705391414060735. Distance: 1.2769884087701904
Total norm for 4 adversaries is: 44.705391414060735. distance: 1.2769884087701904
___Test Local_ResNet_18 poisoned: True, epoch: 185: Average loss: 0.0525, Accuracy: 9757/9900 (98.5556%)
___Train Local_ResNet_18,  epoch 185, local model 8, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4569/4889 (93.4547%)
___Train Local_ResNet_18,  epoch 185, local model 8, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4457/4889 (91.1638%)
___Test Local_ResNet_18 poisoned: False, epoch: 185: Average loss: 2.0732, Accuracy: 5412/10000 (54.1200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 31.55ms
___Train Local_ResNet_18,  epoch 185, local model 12, internal_epoch   1,  Average loss: 0.0039, Accuracy: 5117/5526 (92.5986%)
___Train Local_ResNet_18,  epoch 185, local model 12, internal_epoch   2,  Average loss: 0.0056, Accuracy: 4912/5526 (88.8889%)
___Test Local_ResNet_18 poisoned: False, epoch: 185: Average loss: 2.3447, Accuracy: 5134/10000 (51.3400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 31.33ms
___Train Local_ResNet_18,  epoch 185, local model 68, internal_epoch   1,  Average loss: 0.0030, Accuracy: 3399/3589 (94.7060%)
___Train Local_ResNet_18,  epoch 185, local model 68, internal_epoch   2,  Average loss: 0.0041, Accuracy: 3315/3589 (92.3656%)
___Test Local_ResNet_18 poisoned: False, epoch: 185: Average loss: 1.9406, Accuracy: 5689/10000 (56.8900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.80ms
INFO:tornado.access:200 POST /update (::1) 31.22ms
___Train Local_ResNet_18,  epoch 185, local model 28, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4669/5122 (91.1558%)
___Train Local_ResNet_18,  epoch 185, local model 28, internal_epoch   2,  Average loss: 0.0108, Accuracy: 4097/5122 (79.9883%)
___Test Local_ResNet_18 poisoned: False, epoch: 185: Average loss: 2.5678, Accuracy: 4652/10000 (46.5200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 30.75ms
___Train Local_ResNet_18,  epoch 185, local model 34, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4591/4911 (93.4840%)
___Train Local_ResNet_18,  epoch 185, local model 34, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4567/4911 (92.9953%)
___Test Local_ResNet_18 poisoned: False, epoch: 185: Average loss: 2.2171, Accuracy: 5281/10000 (52.8100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 31.47ms
___Train Local_ResNet_18,  epoch 185, local model 90, internal_epoch   1,  Average loss: 0.0025, Accuracy: 4523/4748 (95.2612%)
___Train Local_ResNet_18,  epoch 185, local model 90, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4412/4748 (92.9233%)
___Test Local_ResNet_18 poisoned: False, epoch: 185: Average loss: 2.1979, Accuracy: 5279/10000 (52.7900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 30.44ms
___Train Local_ResNet_18,  epoch 185, local model 64, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4527/4894 (92.5010%)
___Train Local_ResNet_18,  epoch 185, local model 64, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4418/4894 (90.2738%)
___Test Local_ResNet_18 poisoned: False, epoch: 185: Average loss: 2.1194, Accuracy: 5379/10000 (53.7900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 32.23ms
___Train Local_ResNet_18,  epoch 185, local model 6, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4700/4929 (95.3540%)
___Train Local_ResNet_18,  epoch 185, local model 6, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4550/4929 (92.3108%)
___Test Local_ResNet_18 poisoned: False, epoch: 185: Average loss: 1.8993, Accuracy: 5865/10000 (58.6500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 30.51ms
___Train Local_ResNet_18,  epoch 185, local model 54, internal_epoch   1,  Average loss: 0.0044, Accuracy: 5195/5645 (92.0283%)
___Train Local_ResNet_18,  epoch 185, local model 54, internal_epoch   2,  Average loss: 0.0057, Accuracy: 5011/5645 (88.7688%)
___Test Local_ResNet_18 poisoned: False, epoch: 185: Average loss: 2.2463, Accuracy: 5335/10000 (53.3500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 30.39ms
___Train Local_ResNet_18,  epoch 185, local model 43, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4634/4979 (93.0709%)
___Train Local_ResNet_18,  epoch 185, local model 43, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4612/4979 (92.6290%)
___Test Local_ResNet_18 poisoned: False, epoch: 185: Average loss: 2.0690, Accuracy: 5536/10000 (55.3600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 30.00ms
___Train Local_ResNet_18,  epoch 185, local model 77, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4669/5050 (92.4554%)
___Train Local_ResNet_18,  epoch 185, local model 77, internal_epoch   2,  Average loss: 0.0054, Accuracy: 4489/5050 (88.8911%)
___Test Local_ResNet_18 poisoned: False, epoch: 185: Average loss: 2.2433, Accuracy: 5190/10000 (51.9000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 31.37ms
___Train Local_ResNet_18,  epoch 185, local model 76, internal_epoch   1,  Average loss: 0.0035, Accuracy: 3690/3959 (93.2054%)
___Train Local_ResNet_18,  epoch 185, local model 76, internal_epoch   2,  Average loss: 0.0043, Accuracy: 3614/3959 (91.2857%)
___Test Local_ResNet_18 poisoned: False, epoch: 185: Average loss: 2.0363, Accuracy: 5487/10000 (54.8700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 30.29ms
___Train Local_ResNet_18,  epoch 185, local model 83, internal_epoch   1,  Average loss: 0.0031, Accuracy: 3328/3552 (93.6937%)
___Train Local_ResNet_18,  epoch 185, local model 83, internal_epoch   2,  Average loss: 0.0030, Accuracy: 3329/3552 (93.7218%)
___Test Local_ResNet_18 poisoned: False, epoch: 185: Average loss: 1.9565, Accuracy: 5722/10000 (57.2200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 31.79ms
___Train Local_ResNet_18,  epoch 185, local model 84, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4831/5209 (92.7433%)
___Train Local_ResNet_18,  epoch 185, local model 84, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4691/5209 (90.0557%)
___Test Local_ResNet_18 poisoned: False, epoch: 185: Average loss: 2.1146, Accuracy: 5425/10000 (54.2500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 30.67ms
___Train Local_ResNet_18,  epoch 185, local model 52, internal_epoch   1,  Average loss: 0.0030, Accuracy: 3925/4130 (95.0363%)
___Train Local_ResNet_18,  epoch 185, local model 52, internal_epoch   2,  Average loss: 0.0041, Accuracy: 3797/4130 (91.9370%)
___Test Local_ResNet_18 poisoned: False, epoch: 185: Average loss: 2.1435, Accuracy: 5500/10000 (55.0000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 30.93ms
___Train Local_ResNet_18,  epoch 185, local model 26, internal_epoch   1,  Average loss: 0.0027, Accuracy: 3884/4086 (95.0563%)
___Train Local_ResNet_18,  epoch 185, local model 26, internal_epoch   2,  Average loss: 0.0032, Accuracy: 3843/4086 (94.0529%)
___Test Local_ResNet_18 poisoned: False, epoch: 185: Average loss: 2.1045, Accuracy: 5383/10000 (53.8300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 31.36ms
time spent on training: 266.43586325645447
___Test Target_ResNet_18 poisoned: False, epoch: 185: Average loss: 1.5022, Accuracy: 6351/10000 (63.5100%)
___Test Target_ResNet_18 poisoned: True, epoch: 185: Average loss: 0.0243, Accuracy: 9832/9900 (99.3131%)
Done in 292.7985908985138 sec.
Server Epoch:186 choose agents : [13, 36, 58, 71, 90, 6, 39, 89, 88, 7, 3, 94, 74, 66, 25, 96, 31, 98, 78, 34].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 186, local model 13, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5217/5308 (98.2856%), train_poison_data_count: 415
Global model norm: 44.76566999343289.
Norm before scaling: 44.7213650091458. Distance: 1.1501688460085386
Total norm for 4 adversaries is: 44.7213650091458. distance: 1.1501688460085386
___Test Local_ResNet_18 poisoned: True, epoch: 186: Average loss: 0.0229, Accuracy: 9838/9900 (99.3737%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 186, local model 36, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5681/5777 (98.3382%), train_poison_data_count: 455
Global model norm: 44.76566999343289.
Norm before scaling: 44.71367104063015. Distance: 1.1618442777990914
Total norm for 4 adversaries is: 44.71367104063015. distance: 1.1618442777990914
___Test Local_ResNet_18 poisoned: True, epoch: 186: Average loss: 0.0182, Accuracy: 9855/9900 (99.5455%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 186, local model 58, internal_epoch   1,  Average loss: 0.0021, Accuracy: 5026/5123 (98.1066%), train_poison_data_count: 403
Global model norm: 44.76566999343289.
Norm before scaling: 44.71985689362096. Distance: 1.119187545458528
Total norm for 4 adversaries is: 44.71985689362096. distance: 1.119187545458528
___Test Local_ResNet_18 poisoned: True, epoch: 186: Average loss: 0.1057, Accuracy: 9614/9900 (97.1111%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 186, local model 71, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5405/5503 (98.2192%), train_poison_data_count: 430
Global model norm: 44.76566999343289.
Norm before scaling: 44.71941468539909. Distance: 1.160775221807581
Total norm for 4 adversaries is: 44.71941468539909. distance: 1.160775221807581
___Test Local_ResNet_18 poisoned: True, epoch: 186: Average loss: 0.0461, Accuracy: 9782/9900 (98.8081%)
___Train Local_ResNet_18,  epoch 186, local model 90, internal_epoch   1,  Average loss: 0.0023, Accuracy: 4544/4748 (95.7035%)
___Train Local_ResNet_18,  epoch 186, local model 90, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4423/4748 (93.1550%)
___Test Local_ResNet_18 poisoned: False, epoch: 186: Average loss: 2.0633, Accuracy: 5476/10000 (54.7600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 32.07ms
___Train Local_ResNet_18,  epoch 186, local model 6, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4671/4929 (94.7657%)
___Train Local_ResNet_18,  epoch 186, local model 6, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4536/4929 (92.0268%)
___Test Local_ResNet_18 poisoned: False, epoch: 186: Average loss: 2.0820, Accuracy: 5576/10000 (55.7600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 30.14ms
___Train Local_ResNet_18,  epoch 186, local model 39, internal_epoch   1,  Average loss: 0.0033, Accuracy: 3908/4175 (93.6048%)
___Train Local_ResNet_18,  epoch 186, local model 39, internal_epoch   2,  Average loss: 0.0037, Accuracy: 3886/4175 (93.0778%)
___Test Local_ResNet_18 poisoned: False, epoch: 186: Average loss: 1.8756, Accuracy: 5758/10000 (57.5800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 31.00ms
___Train Local_ResNet_18,  epoch 186, local model 89, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4443/4737 (93.7935%)
___Train Local_ResNet_18,  epoch 186, local model 89, internal_epoch   2,  Average loss: 0.0056, Accuracy: 4321/4737 (91.2181%)
___Test Local_ResNet_18 poisoned: False, epoch: 186: Average loss: 2.4145, Accuracy: 5128/10000 (51.2800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 30.99ms
___Train Local_ResNet_18,  epoch 186, local model 88, internal_epoch   1,  Average loss: 0.0034, Accuracy: 5020/5362 (93.6218%)
___Train Local_ResNet_18,  epoch 186, local model 88, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4908/5362 (91.5330%)
___Test Local_ResNet_18 poisoned: False, epoch: 186: Average loss: 2.2579, Accuracy: 5210/10000 (52.1000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 31.70ms
___Train Local_ResNet_18,  epoch 186, local model 7, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4522/4869 (92.8733%)
___Train Local_ResNet_18,  epoch 186, local model 7, internal_epoch   2,  Average loss: 0.0095, Accuracy: 3968/4869 (81.4952%)
___Test Local_ResNet_18 poisoned: False, epoch: 186: Average loss: 2.5189, Accuracy: 4963/10000 (49.6300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 31.50ms
___Train Local_ResNet_18,  epoch 186, local model 3, internal_epoch   1,  Average loss: 0.0028, Accuracy: 5075/5346 (94.9308%)
___Train Local_ResNet_18,  epoch 186, local model 3, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4989/5346 (93.3221%)
___Test Local_ResNet_18 poisoned: False, epoch: 186: Average loss: 2.0860, Accuracy: 5466/10000 (54.6600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 30.83ms
___Train Local_ResNet_18,  epoch 186, local model 94, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4799/5224 (91.8645%)
___Train Local_ResNet_18,  epoch 186, local model 94, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4788/5224 (91.6539%)
___Test Local_ResNet_18 poisoned: False, epoch: 186: Average loss: 2.0685, Accuracy: 5409/10000 (54.0900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 31.27ms
___Train Local_ResNet_18,  epoch 186, local model 74, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4463/4797 (93.0373%)
___Train Local_ResNet_18,  epoch 186, local model 74, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4337/4797 (90.4107%)
___Test Local_ResNet_18 poisoned: False, epoch: 186: Average loss: 2.1473, Accuracy: 5364/10000 (53.6400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 31.70ms
___Train Local_ResNet_18,  epoch 186, local model 66, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4540/4843 (93.7435%)
___Train Local_ResNet_18,  epoch 186, local model 66, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4435/4843 (91.5755%)
___Test Local_ResNet_18 poisoned: False, epoch: 186: Average loss: 2.2033, Accuracy: 5394/10000 (53.9400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 30.39ms
___Train Local_ResNet_18,  epoch 186, local model 25, internal_epoch   1,  Average loss: 0.0049, Accuracy: 5821/6419 (90.6839%)
___Train Local_ResNet_18,  epoch 186, local model 25, internal_epoch   2,  Average loss: 0.0072, Accuracy: 5502/6419 (85.7143%)
___Test Local_ResNet_18 poisoned: False, epoch: 186: Average loss: 2.5960, Accuracy: 4915/10000 (49.1500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 30.17ms
___Train Local_ResNet_18,  epoch 186, local model 96, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4758/5086 (93.5509%)
___Train Local_ResNet_18,  epoch 186, local model 96, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4698/5086 (92.3712%)
___Test Local_ResNet_18 poisoned: False, epoch: 186: Average loss: 2.0974, Accuracy: 5451/10000 (54.5100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 30.48ms
___Train Local_ResNet_18,  epoch 186, local model 31, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4281/4537 (94.3575%)
___Train Local_ResNet_18,  epoch 186, local model 31, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4211/4537 (92.8146%)
___Test Local_ResNet_18 poisoned: False, epoch: 186: Average loss: 1.8642, Accuracy: 5834/10000 (58.3400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 30.61ms
___Train Local_ResNet_18,  epoch 186, local model 98, internal_epoch   1,  Average loss: 0.0036, Accuracy: 3979/4161 (95.6261%)
___Train Local_ResNet_18,  epoch 186, local model 98, internal_epoch   2,  Average loss: 0.0044, Accuracy: 3879/4161 (93.2228%)
___Test Local_ResNet_18 poisoned: False, epoch: 186: Average loss: 1.9491, Accuracy: 5817/10000 (58.1700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.80ms
INFO:tornado.access:200 POST /update (::1) 30.99ms
___Train Local_ResNet_18,  epoch 186, local model 78, internal_epoch   1,  Average loss: 0.0026, Accuracy: 4154/4368 (95.1007%)
___Train Local_ResNet_18,  epoch 186, local model 78, internal_epoch   2,  Average loss: 0.0030, Accuracy: 4118/4368 (94.2766%)
___Test Local_ResNet_18 poisoned: False, epoch: 186: Average loss: 1.9794, Accuracy: 5618/10000 (56.1800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 30.73ms
___Train Local_ResNet_18,  epoch 186, local model 34, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4638/4911 (94.4411%)
___Train Local_ResNet_18,  epoch 186, local model 34, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4570/4911 (93.0564%)
___Test Local_ResNet_18 poisoned: False, epoch: 186: Average loss: 2.1915, Accuracy: 5341/10000 (53.4100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 30.60ms
time spent on training: 267.75189185142517
___Test Target_ResNet_18 poisoned: False, epoch: 186: Average loss: 1.5164, Accuracy: 6335/10000 (63.3500%)
___Test Target_ResNet_18 poisoned: True, epoch: 186: Average loss: 0.0230, Accuracy: 9840/9900 (99.3939%)
Done in 294.35982179641724 sec.
Server Epoch:187 choose agents : [13, 36, 58, 71, 44, 82, 1, 10, 89, 11, 87, 28, 22, 78, 31, 79, 27, 46, 35, 41].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 187, local model 13, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5206/5308 (98.0784%), train_poison_data_count: 415
Global model norm: 44.783369356251406.
Norm before scaling: 44.73896048145215. Distance: 1.1740847289656762
Total norm for 4 adversaries is: 44.73896048145215. distance: 1.1740847289656762
___Test Local_ResNet_18 poisoned: True, epoch: 187: Average loss: 0.0363, Accuracy: 9807/9900 (99.0606%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 187, local model 36, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5678/5777 (98.2863%), train_poison_data_count: 455
Global model norm: 44.783369356251406.
Norm before scaling: 44.73295464694136. Distance: 1.192785996264299
Total norm for 4 adversaries is: 44.73295464694136. distance: 1.192785996264299
___Test Local_ResNet_18 poisoned: True, epoch: 187: Average loss: 0.0539, Accuracy: 9767/9900 (98.6566%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 187, local model 58, internal_epoch   1,  Average loss: 0.0021, Accuracy: 4986/5123 (97.3258%), train_poison_data_count: 403
Global model norm: 44.783369356251406.
Norm before scaling: 44.741733917074. Distance: 1.2284202356709546
Total norm for 4 adversaries is: 44.741733917074. distance: 1.2284202356709546
___Test Local_ResNet_18 poisoned: True, epoch: 187: Average loss: 0.0305, Accuracy: 9819/9900 (99.1818%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 187, local model 71, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5383/5503 (97.8194%), train_poison_data_count: 430
Global model norm: 44.783369356251406.
Norm before scaling: 44.7382210514853. Distance: 1.1911454212280859
Total norm for 4 adversaries is: 44.7382210514853. distance: 1.1911454212280859
___Test Local_ResNet_18 poisoned: True, epoch: 187: Average loss: 0.0640, Accuracy: 9739/9900 (98.3737%)
___Train Local_ResNet_18,  epoch 187, local model 44, internal_epoch   1,  Average loss: 0.0028, Accuracy: 4805/5075 (94.6798%)
___Train Local_ResNet_18,  epoch 187, local model 44, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4704/5075 (92.6897%)
___Test Local_ResNet_18 poisoned: False, epoch: 187: Average loss: 2.1547, Accuracy: 5338/10000 (53.3800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 30.20ms
___Train Local_ResNet_18,  epoch 187, local model 82, internal_epoch   1,  Average loss: 0.0027, Accuracy: 5046/5298 (95.2435%)
___Train Local_ResNet_18,  epoch 187, local model 82, internal_epoch   2,  Average loss: 0.0030, Accuracy: 4995/5298 (94.2809%)
___Test Local_ResNet_18 poisoned: False, epoch: 187: Average loss: 2.0846, Accuracy: 5522/10000 (55.2200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 31.76ms
___Train Local_ResNet_18,  epoch 187, local model 1, internal_epoch   1,  Average loss: 0.0025, Accuracy: 5179/5422 (95.5183%)
___Train Local_ResNet_18,  epoch 187, local model 1, internal_epoch   2,  Average loss: 0.0035, Accuracy: 5057/5422 (93.2682%)
___Test Local_ResNet_18 poisoned: False, epoch: 187: Average loss: 1.9793, Accuracy: 5633/10000 (56.3300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.04ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 30.83ms
___Train Local_ResNet_18,  epoch 187, local model 10, internal_epoch   1,  Average loss: 0.0028, Accuracy: 4839/5068 (95.4815%)
___Train Local_ResNet_18,  epoch 187, local model 10, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4638/5068 (91.5154%)
___Test Local_ResNet_18 poisoned: False, epoch: 187: Average loss: 2.2295, Accuracy: 5226/10000 (52.2600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.03ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 30.38ms
___Train Local_ResNet_18,  epoch 187, local model 89, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4430/4737 (93.5191%)
___Train Local_ResNet_18,  epoch 187, local model 89, internal_epoch   2,  Average loss: 0.0055, Accuracy: 4314/4737 (91.0703%)
___Test Local_ResNet_18 poisoned: False, epoch: 187: Average loss: 2.1072, Accuracy: 5434/10000 (54.3400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 31.07ms
___Train Local_ResNet_18,  epoch 187, local model 11, internal_epoch   1,  Average loss: 0.0058, Accuracy: 5087/5702 (89.2143%)
___Train Local_ResNet_18,  epoch 187, local model 11, internal_epoch   2,  Average loss: 0.0103, Accuracy: 4522/5702 (79.3055%)
___Test Local_ResNet_18 poisoned: False, epoch: 187: Average loss: 2.5778, Accuracy: 4637/10000 (46.3700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 30.26ms
___Train Local_ResNet_18,  epoch 187, local model 87, internal_epoch   1,  Average loss: 0.0036, Accuracy: 3714/3995 (92.9662%)
___Train Local_ResNet_18,  epoch 187, local model 87, internal_epoch   2,  Average loss: 0.0049, Accuracy: 3606/3995 (90.2628%)
___Test Local_ResNet_18 poisoned: False, epoch: 187: Average loss: 2.2703, Accuracy: 5303/10000 (53.0300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 31.35ms
___Train Local_ResNet_18,  epoch 187, local model 28, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4644/5122 (90.6677%)
___Train Local_ResNet_18,  epoch 187, local model 28, internal_epoch   2,  Average loss: 0.0121, Accuracy: 3984/5122 (77.7821%)
___Test Local_ResNet_18 poisoned: False, epoch: 187: Average loss: 2.5701, Accuracy: 4624/10000 (46.2400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 31.04ms
___Train Local_ResNet_18,  epoch 187, local model 22, internal_epoch   1,  Average loss: 0.0033, Accuracy: 5312/5696 (93.2584%)
___Train Local_ResNet_18,  epoch 187, local model 22, internal_epoch   2,  Average loss: 0.0044, Accuracy: 5206/5696 (91.3975%)
___Test Local_ResNet_18 poisoned: False, epoch: 187: Average loss: 2.1656, Accuracy: 5330/10000 (53.3000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 31.22ms
___Train Local_ResNet_18,  epoch 187, local model 78, internal_epoch   1,  Average loss: 0.0025, Accuracy: 4175/4368 (95.5815%)
___Train Local_ResNet_18,  epoch 187, local model 78, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4056/4368 (92.8571%)
___Test Local_ResNet_18 poisoned: False, epoch: 187: Average loss: 2.1054, Accuracy: 5418/10000 (54.1800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 30.77ms
___Train Local_ResNet_18,  epoch 187, local model 31, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4282/4537 (94.3795%)
___Train Local_ResNet_18,  epoch 187, local model 31, internal_epoch   2,  Average loss: 0.0032, Accuracy: 4271/4537 (94.1371%)
___Test Local_ResNet_18 poisoned: False, epoch: 187: Average loss: 1.9400, Accuracy: 5747/10000 (57.4700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 30.30ms
___Train Local_ResNet_18,  epoch 187, local model 79, internal_epoch   1,  Average loss: 0.0032, Accuracy: 3862/4111 (93.9431%)
___Train Local_ResNet_18,  epoch 187, local model 79, internal_epoch   2,  Average loss: 0.0046, Accuracy: 3730/4111 (90.7322%)
___Test Local_ResNet_18 poisoned: False, epoch: 187: Average loss: 2.0179, Accuracy: 5459/10000 (54.5900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.79ms
INFO:tornado.access:200 POST /update (::1) 31.39ms
___Train Local_ResNet_18,  epoch 187, local model 27, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4278/4587 (93.2636%)
___Train Local_ResNet_18,  epoch 187, local model 27, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4246/4587 (92.5659%)
___Test Local_ResNet_18 poisoned: False, epoch: 187: Average loss: 2.0627, Accuracy: 5505/10000 (55.0500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 30.66ms
___Train Local_ResNet_18,  epoch 187, local model 46, internal_epoch   1,  Average loss: 0.0050, Accuracy: 4880/5399 (90.3871%)
___Train Local_ResNet_18,  epoch 187, local model 46, internal_epoch   2,  Average loss: 0.0066, Accuracy: 4711/5399 (87.2569%)
___Test Local_ResNet_18 poisoned: False, epoch: 187: Average loss: 2.2738, Accuracy: 5208/10000 (52.0800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 31.22ms
___Train Local_ResNet_18,  epoch 187, local model 35, internal_epoch   1,  Average loss: 0.0032, Accuracy: 5268/5615 (93.8201%)
___Train Local_ResNet_18,  epoch 187, local model 35, internal_epoch   2,  Average loss: 0.0040, Accuracy: 5180/5615 (92.2529%)
___Test Local_ResNet_18 poisoned: False, epoch: 187: Average loss: 2.2263, Accuracy: 5317/10000 (53.1700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 31.16ms
___Train Local_ResNet_18,  epoch 187, local model 41, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4435/4714 (94.0815%)
___Train Local_ResNet_18,  epoch 187, local model 41, internal_epoch   2,  Average loss: 0.0031, Accuracy: 4438/4714 (94.1451%)
___Test Local_ResNet_18 poisoned: False, epoch: 187: Average loss: 2.0927, Accuracy: 5498/10000 (54.9800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 31.92ms
time spent on training: 271.59368205070496
___Test Target_ResNet_18 poisoned: False, epoch: 187: Average loss: 1.5206, Accuracy: 6324/10000 (63.2400%)
___Test Target_ResNet_18 poisoned: True, epoch: 187: Average loss: 0.0227, Accuracy: 9837/9900 (99.3636%)
Done in 298.26067566871643 sec.
Server Epoch:188 choose agents : [13, 36, 58, 71, 50, 45, 74, 0, 54, 55, 59, 96, 81, 75, 98, 14, 62, 25, 73, 29].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 188, local model 13, internal_epoch   1,  Average loss: 0.0012, Accuracy: 5226/5308 (98.4552%), train_poison_data_count: 415
Global model norm: 44.80149359256899.
Norm before scaling: 44.75481844912414. Distance: 1.1158487261241532
Total norm for 4 adversaries is: 44.75481844912414. distance: 1.1158487261241532
___Test Local_ResNet_18 poisoned: True, epoch: 188: Average loss: 0.0415, Accuracy: 9790/9900 (98.8889%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 188, local model 36, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5644/5777 (97.6978%), train_poison_data_count: 455
Global model norm: 44.80149359256899.
Norm before scaling: 44.755228941187696. Distance: 1.320982542946318
Total norm for 4 adversaries is: 44.755228941187696. distance: 1.320982542946318
___Test Local_ResNet_18 poisoned: True, epoch: 188: Average loss: 0.0497, Accuracy: 9765/9900 (98.6364%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 188, local model 58, internal_epoch   1,  Average loss: 0.0024, Accuracy: 5011/5123 (97.8138%), train_poison_data_count: 403
Global model norm: 44.80149359256899.
Norm before scaling: 44.75788545660837. Distance: 1.17870921819857
Total norm for 4 adversaries is: 44.75788545660837. distance: 1.17870921819857
___Test Local_ResNet_18 poisoned: True, epoch: 188: Average loss: 0.0590, Accuracy: 9742/9900 (98.4040%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 188, local model 71, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5395/5503 (98.0374%), train_poison_data_count: 430
Global model norm: 44.80149359256899.
Norm before scaling: 44.75590535843426. Distance: 1.2109787964701046
Total norm for 4 adversaries is: 44.75590535843426. distance: 1.2109787964701046
___Test Local_ResNet_18 poisoned: True, epoch: 188: Average loss: 0.0148, Accuracy: 9863/9900 (99.6263%)
___Train Local_ResNet_18,  epoch 188, local model 50, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4483/4757 (94.2401%)
___Train Local_ResNet_18,  epoch 188, local model 50, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4391/4757 (92.3061%)
___Test Local_ResNet_18 poisoned: False, epoch: 188: Average loss: 2.1276, Accuracy: 5408/10000 (54.0800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.04ms
INFO:tornado.access:200 POST /win_exists (::1) 0.71ms
INFO:tornado.access:200 POST /update (::1) 25.14ms
___Train Local_ResNet_18,  epoch 188, local model 45, internal_epoch   1,  Average loss: 0.0037, Accuracy: 5089/5489 (92.7127%)
___Train Local_ResNet_18,  epoch 188, local model 45, internal_epoch   2,  Average loss: 0.0043, Accuracy: 5017/5489 (91.4010%)
___Test Local_ResNet_18 poisoned: False, epoch: 188: Average loss: 2.1385, Accuracy: 5406/10000 (54.0600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 32.20ms
___Train Local_ResNet_18,  epoch 188, local model 74, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4516/4797 (94.1422%)
___Train Local_ResNet_18,  epoch 188, local model 74, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4438/4797 (92.5162%)
___Test Local_ResNet_18 poisoned: False, epoch: 188: Average loss: 2.0540, Accuracy: 5623/10000 (56.2300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 31.97ms
___Train Local_ResNet_18,  epoch 188, local model 0, internal_epoch   1,  Average loss: 0.0036, Accuracy: 5093/5454 (93.3810%)
___Train Local_ResNet_18,  epoch 188, local model 0, internal_epoch   2,  Average loss: 0.0057, Accuracy: 4831/5454 (88.5772%)
___Test Local_ResNet_18 poisoned: False, epoch: 188: Average loss: 2.2684, Accuracy: 5206/10000 (52.0600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 30.84ms
___Train Local_ResNet_18,  epoch 188, local model 54, internal_epoch   1,  Average loss: 0.0046, Accuracy: 5132/5645 (90.9123%)
___Train Local_ResNet_18,  epoch 188, local model 54, internal_epoch   2,  Average loss: 0.0059, Accuracy: 4994/5645 (88.4677%)
___Test Local_ResNet_18 poisoned: False, epoch: 188: Average loss: 2.1585, Accuracy: 5340/10000 (53.4000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 31.54ms
___Train Local_ResNet_18,  epoch 188, local model 55, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4496/4731 (95.0328%)
___Train Local_ResNet_18,  epoch 188, local model 55, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4408/4731 (93.1727%)
___Test Local_ResNet_18 poisoned: False, epoch: 188: Average loss: 1.9406, Accuracy: 5702/10000 (57.0200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 31.75ms
___Train Local_ResNet_18,  epoch 188, local model 59, internal_epoch   1,  Average loss: 0.0023, Accuracy: 4203/4397 (95.5879%)
___Train Local_ResNet_18,  epoch 188, local model 59, internal_epoch   2,  Average loss: 0.0024, Accuracy: 4197/4397 (95.4514%)
___Test Local_ResNet_18 poisoned: False, epoch: 188: Average loss: 1.8887, Accuracy: 5817/10000 (58.1700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 32.20ms
___Train Local_ResNet_18,  epoch 188, local model 96, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4762/5086 (93.6296%)
___Train Local_ResNet_18,  epoch 188, local model 96, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4677/5086 (91.9583%)
___Test Local_ResNet_18 poisoned: False, epoch: 188: Average loss: 2.0457, Accuracy: 5428/10000 (54.2800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 32.03ms
___Train Local_ResNet_18,  epoch 188, local model 81, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4737/5035 (94.0814%)
___Train Local_ResNet_18,  epoch 188, local model 81, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4651/5035 (92.3734%)
___Test Local_ResNet_18 poisoned: False, epoch: 188: Average loss: 2.1414, Accuracy: 5429/10000 (54.2900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 30.64ms
___Train Local_ResNet_18,  epoch 188, local model 75, internal_epoch   1,  Average loss: 0.0026, Accuracy: 4434/4672 (94.9058%)
___Train Local_ResNet_18,  epoch 188, local model 75, internal_epoch   2,  Average loss: 0.0030, Accuracy: 4405/4672 (94.2851%)
___Test Local_ResNet_18 poisoned: False, epoch: 188: Average loss: 1.9074, Accuracy: 5802/10000 (58.0200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 31.93ms
___Train Local_ResNet_18,  epoch 188, local model 98, internal_epoch   1,  Average loss: 0.0037, Accuracy: 3968/4161 (95.3617%)
___Train Local_ResNet_18,  epoch 188, local model 98, internal_epoch   2,  Average loss: 0.0052, Accuracy: 3796/4161 (91.2281%)
___Test Local_ResNet_18 poisoned: False, epoch: 188: Average loss: 2.3093, Accuracy: 5353/10000 (53.5300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 31.59ms
___Train Local_ResNet_18,  epoch 188, local model 14, internal_epoch   1,  Average loss: 0.0021, Accuracy: 4037/4196 (96.2107%)
___Train Local_ResNet_18,  epoch 188, local model 14, internal_epoch   2,  Average loss: 0.0025, Accuracy: 3997/4196 (95.2574%)
___Test Local_ResNet_18 poisoned: False, epoch: 188: Average loss: 1.8235, Accuracy: 5834/10000 (58.3400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 31.77ms
___Train Local_ResNet_18,  epoch 188, local model 62, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4968/5504 (90.2616%)
___Train Local_ResNet_18,  epoch 188, local model 62, internal_epoch   2,  Average loss: 0.0066, Accuracy: 4761/5504 (86.5007%)
___Test Local_ResNet_18 poisoned: False, epoch: 188: Average loss: 2.4880, Accuracy: 4893/10000 (48.9300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.78ms
INFO:tornado.access:200 POST /update (::1) 31.12ms
___Train Local_ResNet_18,  epoch 188, local model 25, internal_epoch   1,  Average loss: 0.0049, Accuracy: 5826/6419 (90.7618%)
___Train Local_ResNet_18,  epoch 188, local model 25, internal_epoch   2,  Average loss: 0.0077, Accuracy: 5427/6419 (84.5459%)
___Test Local_ResNet_18 poisoned: False, epoch: 188: Average loss: 2.4879, Accuracy: 4904/10000 (49.0400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 31.11ms
___Train Local_ResNet_18,  epoch 188, local model 73, internal_epoch   1,  Average loss: 0.0028, Accuracy: 4362/4605 (94.7231%)
___Train Local_ResNet_18,  epoch 188, local model 73, internal_epoch   2,  Average loss: 0.0030, Accuracy: 4342/4605 (94.2888%)
___Test Local_ResNet_18 poisoned: False, epoch: 188: Average loss: 2.0073, Accuracy: 5694/10000 (56.9400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 31.19ms
___Train Local_ResNet_18,  epoch 188, local model 29, internal_epoch   1,  Average loss: 0.0024, Accuracy: 4537/4732 (95.8791%)
___Train Local_ResNet_18,  epoch 188, local model 29, internal_epoch   2,  Average loss: 0.0026, Accuracy: 4493/4732 (94.9493%)
___Test Local_ResNet_18 poisoned: False, epoch: 188: Average loss: 1.8233, Accuracy: 5952/10000 (59.5200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 31.02ms
time spent on training: 271.1521694660187
___Test Target_ResNet_18 poisoned: False, epoch: 188: Average loss: 1.5152, Accuracy: 6323/10000 (63.2300%)
___Test Target_ResNet_18 poisoned: True, epoch: 188: Average loss: 0.0228, Accuracy: 9837/9900 (99.3636%)
Done in 298.0904493331909 sec.
Server Epoch:189 choose agents : [13, 36, 58, 71, 1, 41, 43, 84, 99, 94, 23, 2, 40, 82, 59, 28, 14, 56, 63, 26].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 189, local model 13, internal_epoch   1,  Average loss: 0.0012, Accuracy: 5222/5308 (98.3798%), train_poison_data_count: 415
Global model norm: 44.81781425515277.
Norm before scaling: 44.77123519601132. Distance: 1.1047848584385371
Total norm for 4 adversaries is: 44.77123519601132. distance: 1.1047848584385371
___Test Local_ResNet_18 poisoned: True, epoch: 189: Average loss: 0.0393, Accuracy: 9786/9900 (98.8485%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 189, local model 36, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5670/5777 (98.1478%), train_poison_data_count: 455
Global model norm: 44.81781425515277.
Norm before scaling: 44.76598494619687. Distance: 1.1587889863732224
Total norm for 4 adversaries is: 44.76598494619687. distance: 1.1587889863732224
___Test Local_ResNet_18 poisoned: True, epoch: 189: Average loss: 0.0302, Accuracy: 9832/9900 (99.3131%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 189, local model 58, internal_epoch   1,  Average loss: 0.0023, Accuracy: 5002/5123 (97.6381%), train_poison_data_count: 403
Global model norm: 44.81781425515277.
Norm before scaling: 44.77401481153717. Distance: 1.1943909327523752
Total norm for 4 adversaries is: 44.77401481153717. distance: 1.1943909327523752
___Test Local_ResNet_18 poisoned: True, epoch: 189: Average loss: 0.0449, Accuracy: 9782/9900 (98.8081%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 189, local model 71, internal_epoch   1,  Average loss: 0.0015, Accuracy: 5383/5503 (97.8194%), train_poison_data_count: 430
Global model norm: 44.81781425515277.
Norm before scaling: 44.773405464785256. Distance: 1.238907375943782
Total norm for 4 adversaries is: 44.773405464785256. distance: 1.238907375943782
___Test Local_ResNet_18 poisoned: True, epoch: 189: Average loss: 0.0409, Accuracy: 9796/9900 (98.9495%)
___Train Local_ResNet_18,  epoch 189, local model 1, internal_epoch   1,  Average loss: 0.0026, Accuracy: 5159/5422 (95.1494%)
___Train Local_ResNet_18,  epoch 189, local model 1, internal_epoch   2,  Average loss: 0.0034, Accuracy: 5063/5422 (93.3788%)
___Test Local_ResNet_18 poisoned: False, epoch: 189: Average loss: 1.8490, Accuracy: 5827/10000 (58.2700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 31.88ms
___Train Local_ResNet_18,  epoch 189, local model 41, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4473/4714 (94.8876%)
___Train Local_ResNet_18,  epoch 189, local model 41, internal_epoch   2,  Average loss: 0.0032, Accuracy: 4407/4714 (93.4875%)
___Test Local_ResNet_18 poisoned: False, epoch: 189: Average loss: 2.1517, Accuracy: 5429/10000 (54.2900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 31.95ms
___Train Local_ResNet_18,  epoch 189, local model 43, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4700/4979 (94.3965%)
___Train Local_ResNet_18,  epoch 189, local model 43, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4584/4979 (92.0667%)
___Test Local_ResNet_18 poisoned: False, epoch: 189: Average loss: 2.0438, Accuracy: 5546/10000 (55.4600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 31.08ms
___Train Local_ResNet_18,  epoch 189, local model 84, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4801/5209 (92.1674%)
___Train Local_ResNet_18,  epoch 189, local model 84, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4721/5209 (90.6316%)
___Test Local_ResNet_18 poisoned: False, epoch: 189: Average loss: 2.0381, Accuracy: 5483/10000 (54.8300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 32.09ms
___Train Local_ResNet_18,  epoch 189, local model 99, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4452/4851 (91.7749%)
___Train Local_ResNet_18,  epoch 189, local model 99, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4425/4851 (91.2183%)
___Test Local_ResNet_18 poisoned: False, epoch: 189: Average loss: 2.1171, Accuracy: 5549/10000 (55.4900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.81ms
INFO:tornado.access:200 POST /update (::1) 31.10ms
___Train Local_ResNet_18,  epoch 189, local model 94, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4858/5224 (92.9939%)
___Train Local_ResNet_18,  epoch 189, local model 94, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4718/5224 (90.3139%)
___Test Local_ResNet_18 poisoned: False, epoch: 189: Average loss: 2.2717, Accuracy: 5182/10000 (51.8200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 31.63ms
___Train Local_ResNet_18,  epoch 189, local model 23, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4305/4549 (94.6362%)
___Train Local_ResNet_18,  epoch 189, local model 23, internal_epoch   2,  Average loss: 0.0067, Accuracy: 3986/4549 (87.6237%)
___Test Local_ResNet_18 poisoned: False, epoch: 189: Average loss: 2.2473, Accuracy: 5159/10000 (51.5900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 32.06ms
___Train Local_ResNet_18,  epoch 189, local model 2, internal_epoch   1,  Average loss: 0.0024, Accuracy: 3811/3968 (96.0433%)
___Train Local_ResNet_18,  epoch 189, local model 2, internal_epoch   2,  Average loss: 0.0028, Accuracy: 3754/3968 (94.6069%)
___Test Local_ResNet_18 poisoned: False, epoch: 189: Average loss: 1.8003, Accuracy: 5926/10000 (59.2600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 31.90ms
___Train Local_ResNet_18,  epoch 189, local model 40, internal_epoch   1,  Average loss: 0.0034, Accuracy: 5544/5939 (93.3490%)
___Train Local_ResNet_18,  epoch 189, local model 40, internal_epoch   2,  Average loss: 0.0043, Accuracy: 5418/5939 (91.2275%)
___Test Local_ResNet_18 poisoned: False, epoch: 189: Average loss: 2.2749, Accuracy: 5194/10000 (51.9400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 30.26ms
___Train Local_ResNet_18,  epoch 189, local model 82, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4958/5298 (93.5825%)
___Train Local_ResNet_18,  epoch 189, local model 82, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4933/5298 (93.1106%)
___Test Local_ResNet_18 poisoned: False, epoch: 189: Average loss: 2.0790, Accuracy: 5431/10000 (54.3100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 30.97ms
___Train Local_ResNet_18,  epoch 189, local model 59, internal_epoch   1,  Average loss: 0.0025, Accuracy: 4194/4397 (95.3832%)
___Train Local_ResNet_18,  epoch 189, local model 59, internal_epoch   2,  Average loss: 0.0023, Accuracy: 4201/4397 (95.5424%)
___Test Local_ResNet_18 poisoned: False, epoch: 189: Average loss: 1.8673, Accuracy: 5831/10000 (58.3100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 31.40ms
___Train Local_ResNet_18,  epoch 189, local model 28, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4649/5122 (90.7653%)
___Train Local_ResNet_18,  epoch 189, local model 28, internal_epoch   2,  Average loss: 0.0117, Accuracy: 4031/5122 (78.6997%)
___Test Local_ResNet_18 poisoned: False, epoch: 189: Average loss: 2.4189, Accuracy: 4670/10000 (46.7000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 31.79ms
___Train Local_ResNet_18,  epoch 189, local model 14, internal_epoch   1,  Average loss: 0.0022, Accuracy: 4049/4196 (96.4967%)
___Train Local_ResNet_18,  epoch 189, local model 14, internal_epoch   2,  Average loss: 0.0026, Accuracy: 3995/4196 (95.2097%)
___Test Local_ResNet_18 poisoned: False, epoch: 189: Average loss: 1.8736, Accuracy: 5814/10000 (58.1400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.03ms
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /update (::1) 31.01ms
___Train Local_ResNet_18,  epoch 189, local model 56, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4999/5427 (92.1135%)
___Train Local_ResNet_18,  epoch 189, local model 56, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4839/5427 (89.1653%)
___Test Local_ResNet_18 poisoned: False, epoch: 189: Average loss: 2.1903, Accuracy: 5341/10000 (53.4100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 31.43ms
___Train Local_ResNet_18,  epoch 189, local model 63, internal_epoch   1,  Average loss: 0.0028, Accuracy: 3728/3910 (95.3453%)
___Train Local_ResNet_18,  epoch 189, local model 63, internal_epoch   2,  Average loss: 0.0082, Accuracy: 3315/3910 (84.7826%)
___Test Local_ResNet_18 poisoned: False, epoch: 189: Average loss: 2.7163, Accuracy: 4606/10000 (46.0600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 30.74ms
___Train Local_ResNet_18,  epoch 189, local model 26, internal_epoch   1,  Average loss: 0.0026, Accuracy: 3900/4086 (95.4479%)
___Train Local_ResNet_18,  epoch 189, local model 26, internal_epoch   2,  Average loss: 0.0028, Accuracy: 3867/4086 (94.6402%)
___Test Local_ResNet_18 poisoned: False, epoch: 189: Average loss: 2.0785, Accuracy: 5573/10000 (55.7300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 31.69ms
time spent on training: 266.9579768180847
___Test Target_ResNet_18 poisoned: False, epoch: 189: Average loss: 1.5194, Accuracy: 6302/10000 (63.0200%)
___Test Target_ResNet_18 poisoned: True, epoch: 189: Average loss: 0.0234, Accuracy: 9836/9900 (99.3535%)
Done in 293.47588062286377 sec.
Server Epoch:190 choose agents : [13, 36, 58, 71, 27, 20, 75, 69, 86, 64, 19, 23, 31, 10, 76, 80, 97, 26, 52, 78].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 190, local model 13, internal_epoch   1,  Average loss: 0.0011, Accuracy: 5225/5308 (98.4363%), train_poison_data_count: 415
Global model norm: 44.834894051501614.
Norm before scaling: 44.78685278758921. Distance: 1.0767568670248264
Total norm for 4 adversaries is: 44.78685278758921. distance: 1.0767568670248264
___Test Local_ResNet_18 poisoned: True, epoch: 190: Average loss: 0.0168, Accuracy: 9854/9900 (99.5354%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 190, local model 36, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5669/5777 (98.1305%), train_poison_data_count: 455
Global model norm: 44.834894051501614.
Norm before scaling: 44.78473495904115. Distance: 1.1921325470944575
Total norm for 4 adversaries is: 44.78473495904115. distance: 1.1921325470944575
___Test Local_ResNet_18 poisoned: True, epoch: 190: Average loss: 0.0221, Accuracy: 9852/9900 (99.5152%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 190, local model 58, internal_epoch   1,  Average loss: 0.0024, Accuracy: 5014/5123 (97.8723%), train_poison_data_count: 403
Global model norm: 44.834894051501614.
Norm before scaling: 44.79232269989537. Distance: 1.2090364854764293
Total norm for 4 adversaries is: 44.79232269989537. distance: 1.2090364854764293
___Test Local_ResNet_18 poisoned: True, epoch: 190: Average loss: 0.0221, Accuracy: 9836/9900 (99.3535%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 190, local model 71, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5395/5503 (98.0374%), train_poison_data_count: 430
Global model norm: 44.834894051501614.
Norm before scaling: 44.79016561196079. Distance: 1.2424063339849372
Total norm for 4 adversaries is: 44.79016561196079. distance: 1.2424063339849372
___Test Local_ResNet_18 poisoned: True, epoch: 190: Average loss: 0.0322, Accuracy: 9821/9900 (99.2020%)
___Train Local_ResNet_18,  epoch 190, local model 27, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4303/4587 (93.8086%)
___Train Local_ResNet_18,  epoch 190, local model 27, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4224/4587 (92.0863%)
___Test Local_ResNet_18 poisoned: False, epoch: 190: Average loss: 2.0022, Accuracy: 5644/10000 (56.4400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 31.58ms
___Train Local_ResNet_18,  epoch 190, local model 20, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4465/4714 (94.7179%)
___Train Local_ResNet_18,  epoch 190, local model 20, internal_epoch   2,  Average loss: 0.0032, Accuracy: 4437/4714 (94.1239%)
___Test Local_ResNet_18 poisoned: False, epoch: 190: Average loss: 1.8773, Accuracy: 5781/10000 (57.8100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 31.15ms
___Train Local_ResNet_18,  epoch 190, local model 75, internal_epoch   1,  Average loss: 0.0028, Accuracy: 4432/4672 (94.8630%)
___Train Local_ResNet_18,  epoch 190, local model 75, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4358/4672 (93.2791%)
___Test Local_ResNet_18 poisoned: False, epoch: 190: Average loss: 2.0226, Accuracy: 5677/10000 (56.7700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 32.17ms
___Train Local_ResNet_18,  epoch 190, local model 69, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4073/4364 (93.3318%)
___Train Local_ResNet_18,  epoch 190, local model 69, internal_epoch   2,  Average loss: 0.0055, Accuracy: 3894/4364 (89.2301%)
___Test Local_ResNet_18 poisoned: False, epoch: 190: Average loss: 2.2145, Accuracy: 5256/10000 (52.5600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 31.78ms
___Train Local_ResNet_18,  epoch 190, local model 86, internal_epoch   1,  Average loss: 0.0035, Accuracy: 3668/3929 (93.3571%)
___Train Local_ResNet_18,  epoch 190, local model 86, internal_epoch   2,  Average loss: 0.0040, Accuracy: 3599/3929 (91.6009%)
___Test Local_ResNet_18 poisoned: False, epoch: 190: Average loss: 1.9603, Accuracy: 5715/10000 (57.1500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 31.35ms
___Train Local_ResNet_18,  epoch 190, local model 64, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4517/4894 (92.2967%)
___Train Local_ResNet_18,  epoch 190, local model 64, internal_epoch   2,  Average loss: 0.0057, Accuracy: 4315/4894 (88.1692%)
___Test Local_ResNet_18 poisoned: False, epoch: 190: Average loss: 2.2462, Accuracy: 5113/10000 (51.1300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.81ms
INFO:tornado.access:200 POST /update (::1) 31.04ms
___Train Local_ResNet_18,  epoch 190, local model 19, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4935/5361 (92.0537%)
___Train Local_ResNet_18,  epoch 190, local model 19, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4801/5361 (89.5542%)
___Test Local_ResNet_18 poisoned: False, epoch: 190: Average loss: 2.3560, Accuracy: 5151/10000 (51.5100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.80ms
INFO:tornado.access:200 POST /update (::1) 31.80ms
___Train Local_ResNet_18,  epoch 190, local model 23, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4322/4549 (95.0099%)
___Train Local_ResNet_18,  epoch 190, local model 23, internal_epoch   2,  Average loss: 0.0093, Accuracy: 3751/4549 (82.4577%)
___Test Local_ResNet_18 poisoned: False, epoch: 190: Average loss: 2.3469, Accuracy: 4957/10000 (49.5700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 30.46ms
___Train Local_ResNet_18,  epoch 190, local model 31, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4260/4537 (93.8946%)
___Train Local_ResNet_18,  epoch 190, local model 31, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4202/4537 (92.6163%)
___Test Local_ResNet_18 poisoned: False, epoch: 190: Average loss: 1.9095, Accuracy: 5710/10000 (57.1000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 32.84ms
___Train Local_ResNet_18,  epoch 190, local model 10, internal_epoch   1,  Average loss: 0.0025, Accuracy: 4853/5068 (95.7577%)
___Train Local_ResNet_18,  epoch 190, local model 10, internal_epoch   2,  Average loss: 0.0033, Accuracy: 4742/5068 (93.5675%)
___Test Local_ResNet_18 poisoned: False, epoch: 190: Average loss: 2.1235, Accuracy: 5429/10000 (54.2900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /win_exists (::1) 0.81ms
INFO:tornado.access:200 POST /update (::1) 26.86ms
___Train Local_ResNet_18,  epoch 190, local model 76, internal_epoch   1,  Average loss: 0.0039, Accuracy: 3642/3959 (91.9929%)
___Train Local_ResNet_18,  epoch 190, local model 76, internal_epoch   2,  Average loss: 0.0046, Accuracy: 3590/3959 (90.6795%)
___Test Local_ResNet_18 poisoned: False, epoch: 190: Average loss: 2.0537, Accuracy: 5499/10000 (54.9900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 31.09ms
___Train Local_ResNet_18,  epoch 190, local model 80, internal_epoch   1,  Average loss: 0.0036, Accuracy: 5080/5461 (93.0233%)
___Train Local_ResNet_18,  epoch 190, local model 80, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4969/5461 (90.9907%)
___Test Local_ResNet_18 poisoned: False, epoch: 190: Average loss: 2.3849, Accuracy: 5163/10000 (51.6300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.96ms
INFO:tornado.access:200 POST /win_exists (::1) 0.63ms
INFO:tornado.access:200 POST /update (::1) 25.61ms
___Train Local_ResNet_18,  epoch 190, local model 97, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4395/4736 (92.7998%)
___Train Local_ResNet_18,  epoch 190, local model 97, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4301/4736 (90.8150%)
___Test Local_ResNet_18 poisoned: False, epoch: 190: Average loss: 2.0548, Accuracy: 5589/10000 (55.8900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 31.12ms
___Train Local_ResNet_18,  epoch 190, local model 26, internal_epoch   1,  Average loss: 0.0028, Accuracy: 3870/4086 (94.7137%)
___Train Local_ResNet_18,  epoch 190, local model 26, internal_epoch   2,  Average loss: 0.0030, Accuracy: 3854/4086 (94.3221%)
___Test Local_ResNet_18 poisoned: False, epoch: 190: Average loss: 2.0338, Accuracy: 5622/10000 (56.2200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 30.92ms
___Train Local_ResNet_18,  epoch 190, local model 52, internal_epoch   1,  Average loss: 0.0031, Accuracy: 3879/4130 (93.9225%)
___Train Local_ResNet_18,  epoch 190, local model 52, internal_epoch   2,  Average loss: 0.0034, Accuracy: 3870/4130 (93.7046%)
___Test Local_ResNet_18 poisoned: False, epoch: 190: Average loss: 2.0071, Accuracy: 5644/10000 (56.4400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.81ms
INFO:tornado.access:200 POST /update (::1) 32.19ms
___Train Local_ResNet_18,  epoch 190, local model 78, internal_epoch   1,  Average loss: 0.0024, Accuracy: 4177/4368 (95.6273%)
___Train Local_ResNet_18,  epoch 190, local model 78, internal_epoch   2,  Average loss: 0.0027, Accuracy: 4156/4368 (95.1465%)
___Test Local_ResNet_18 poisoned: False, epoch: 190: Average loss: 1.8501, Accuracy: 5874/10000 (58.7400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 31.18ms
time spent on training: 262.9724180698395
___Test Target_ResNet_18 poisoned: False, epoch: 190: Average loss: 1.5214, Accuracy: 6296/10000 (62.9600%)
___Test Target_ResNet_18 poisoned: True, epoch: 190: Average loss: 0.0223, Accuracy: 9843/9900 (99.4242%)
Done in 289.82272839546204 sec.
Server Epoch:191 choose agents : [13, 36, 58, 71, 46, 98, 55, 51, 80, 4, 97, 11, 35, 61, 86, 6, 83, 73, 84, 7].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 191, local model 13, internal_epoch   1,  Average loss: 0.0012, Accuracy: 5221/5308 (98.3610%), train_poison_data_count: 415
Global model norm: 44.85115901338281.
Norm before scaling: 44.80509276734761. Distance: 1.1376668639985286
Total norm for 4 adversaries is: 44.80509276734761. distance: 1.1376668639985286
___Test Local_ResNet_18 poisoned: True, epoch: 191: Average loss: 0.0270, Accuracy: 9835/9900 (99.3434%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 191, local model 36, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5677/5777 (98.2690%), train_poison_data_count: 455
Global model norm: 44.85115901338281.
Norm before scaling: 44.800902330303295. Distance: 1.2030496449837775
Total norm for 4 adversaries is: 44.800902330303295. distance: 1.2030496449837775
___Test Local_ResNet_18 poisoned: True, epoch: 191: Average loss: 0.0385, Accuracy: 9800/9900 (98.9899%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 191, local model 58, internal_epoch   1,  Average loss: 0.0021, Accuracy: 5009/5123 (97.7747%), train_poison_data_count: 403
Global model norm: 44.85115901338281.
Norm before scaling: 44.80705979443279. Distance: 1.164624379389492
Total norm for 4 adversaries is: 44.80705979443279. distance: 1.164624379389492
___Test Local_ResNet_18 poisoned: True, epoch: 191: Average loss: 0.0582, Accuracy: 9747/9900 (98.4545%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 191, local model 71, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5404/5503 (98.2010%), train_poison_data_count: 430
Global model norm: 44.85115901338281.
Norm before scaling: 44.80321556540334. Distance: 1.1312493424387333
Total norm for 4 adversaries is: 44.80321556540334. distance: 1.1312493424387333
___Test Local_ResNet_18 poisoned: True, epoch: 191: Average loss: 0.0626, Accuracy: 9727/9900 (98.2525%)
___Train Local_ResNet_18,  epoch 191, local model 46, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4917/5399 (91.0724%)
___Train Local_ResNet_18,  epoch 191, local model 46, internal_epoch   2,  Average loss: 0.0064, Accuracy: 4704/5399 (87.1272%)
___Test Local_ResNet_18 poisoned: False, epoch: 191: Average loss: 2.4068, Accuracy: 4979/10000 (49.7900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 30.92ms
___Train Local_ResNet_18,  epoch 191, local model 98, internal_epoch   1,  Average loss: 0.0038, Accuracy: 3961/4161 (95.1935%)
___Train Local_ResNet_18,  epoch 191, local model 98, internal_epoch   2,  Average loss: 0.0045, Accuracy: 3877/4161 (93.1747%)
___Test Local_ResNet_18 poisoned: False, epoch: 191: Average loss: 2.0254, Accuracy: 5701/10000 (57.0100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 31.19ms
___Train Local_ResNet_18,  epoch 191, local model 55, internal_epoch   1,  Average loss: 0.0028, Accuracy: 4505/4731 (95.2230%)
___Train Local_ResNet_18,  epoch 191, local model 55, internal_epoch   2,  Average loss: 0.0032, Accuracy: 4444/4731 (93.9336%)
___Test Local_ResNet_18 poisoned: False, epoch: 191: Average loss: 2.0266, Accuracy: 5612/10000 (56.1200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 30.86ms
___Train Local_ResNet_18,  epoch 191, local model 51, internal_epoch   1,  Average loss: 0.0028, Accuracy: 3906/4108 (95.0828%)
___Train Local_ResNet_18,  epoch 191, local model 51, internal_epoch   2,  Average loss: 0.0035, Accuracy: 3825/4108 (93.1110%)
___Test Local_ResNet_18 poisoned: False, epoch: 191: Average loss: 1.9881, Accuracy: 5633/10000 (56.3300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 30.84ms
___Train Local_ResNet_18,  epoch 191, local model 80, internal_epoch   1,  Average loss: 0.0039, Accuracy: 5042/5461 (92.3274%)
___Train Local_ResNet_18,  epoch 191, local model 80, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4892/5461 (89.5807%)
___Test Local_ResNet_18 poisoned: False, epoch: 191: Average loss: 2.3227, Accuracy: 5180/10000 (51.8000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.79ms
INFO:tornado.access:200 POST /win_exists (::1) 0.65ms
INFO:tornado.access:200 POST /update (::1) 27.44ms
___Train Local_ResNet_18,  epoch 191, local model 4, internal_epoch   1,  Average loss: 0.0030, Accuracy: 3792/4028 (94.1410%)
___Train Local_ResNet_18,  epoch 191, local model 4, internal_epoch   2,  Average loss: 0.0033, Accuracy: 3775/4028 (93.7190%)
___Test Local_ResNet_18 poisoned: False, epoch: 191: Average loss: 1.9517, Accuracy: 5597/10000 (55.9700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 31.51ms
___Train Local_ResNet_18,  epoch 191, local model 97, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4402/4736 (92.9476%)
___Train Local_ResNet_18,  epoch 191, local model 97, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4362/4736 (92.1030%)
___Test Local_ResNet_18 poisoned: False, epoch: 191: Average loss: 1.9531, Accuracy: 5652/10000 (56.5200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 32.49ms
___Train Local_ResNet_18,  epoch 191, local model 11, internal_epoch   1,  Average loss: 0.0056, Accuracy: 5095/5702 (89.3546%)
___Train Local_ResNet_18,  epoch 191, local model 11, internal_epoch   2,  Average loss: 0.0106, Accuracy: 4546/5702 (79.7264%)
___Test Local_ResNet_18 poisoned: False, epoch: 191: Average loss: 2.4150, Accuracy: 4649/10000 (46.4900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 31.63ms
___Train Local_ResNet_18,  epoch 191, local model 35, internal_epoch   1,  Average loss: 0.0033, Accuracy: 5265/5615 (93.7667%)
___Train Local_ResNet_18,  epoch 191, local model 35, internal_epoch   2,  Average loss: 0.0042, Accuracy: 5149/5615 (91.7008%)
___Test Local_ResNet_18 poisoned: False, epoch: 191: Average loss: 2.2852, Accuracy: 5169/10000 (51.6900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 32.34ms
___Train Local_ResNet_18,  epoch 191, local model 61, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4190/4485 (93.4225%)
___Train Local_ResNet_18,  epoch 191, local model 61, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4088/4485 (91.1483%)
___Test Local_ResNet_18 poisoned: False, epoch: 191: Average loss: 2.0952, Accuracy: 5435/10000 (54.3500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 31.60ms
___Train Local_ResNet_18,  epoch 191, local model 86, internal_epoch   1,  Average loss: 0.0039, Accuracy: 3641/3929 (92.6699%)
___Train Local_ResNet_18,  epoch 191, local model 86, internal_epoch   2,  Average loss: 0.0046, Accuracy: 3577/3929 (91.0410%)
___Test Local_ResNet_18 poisoned: False, epoch: 191: Average loss: 1.9590, Accuracy: 5728/10000 (57.2800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 30.73ms
___Train Local_ResNet_18,  epoch 191, local model 6, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4708/4929 (95.5163%)
___Train Local_ResNet_18,  epoch 191, local model 6, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4602/4929 (93.3658%)
___Test Local_ResNet_18 poisoned: False, epoch: 191: Average loss: 2.0740, Accuracy: 5618/10000 (56.1800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 31.17ms
___Train Local_ResNet_18,  epoch 191, local model 83, internal_epoch   1,  Average loss: 0.0032, Accuracy: 3325/3552 (93.6092%)
___Train Local_ResNet_18,  epoch 191, local model 83, internal_epoch   2,  Average loss: 0.0030, Accuracy: 3338/3552 (93.9752%)
___Test Local_ResNet_18 poisoned: False, epoch: 191: Average loss: 1.8081, Accuracy: 5899/10000 (58.9900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 30.73ms
___Train Local_ResNet_18,  epoch 191, local model 73, internal_epoch   1,  Average loss: 0.0024, Accuracy: 4411/4605 (95.7872%)
___Train Local_ResNet_18,  epoch 191, local model 73, internal_epoch   2,  Average loss: 0.0028, Accuracy: 4351/4605 (94.4843%)
___Test Local_ResNet_18 poisoned: False, epoch: 191: Average loss: 1.9546, Accuracy: 5728/10000 (57.2800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 30.80ms
___Train Local_ResNet_18,  epoch 191, local model 84, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4861/5209 (93.3193%)
___Train Local_ResNet_18,  epoch 191, local model 84, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4694/5209 (90.1133%)
___Test Local_ResNet_18 poisoned: False, epoch: 191: Average loss: 2.2302, Accuracy: 5196/10000 (51.9600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 31.07ms
___Train Local_ResNet_18,  epoch 191, local model 7, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4474/4869 (91.8875%)
___Train Local_ResNet_18,  epoch 191, local model 7, internal_epoch   2,  Average loss: 0.0110, Accuracy: 3870/4869 (79.4824%)
___Test Local_ResNet_18 poisoned: False, epoch: 191: Average loss: 2.6691, Accuracy: 4630/10000 (46.3000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.03ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 23.46ms
time spent on training: 258.0198907852173
___Test Target_ResNet_18 poisoned: False, epoch: 191: Average loss: 1.5238, Accuracy: 6293/10000 (62.9300%)
___Test Target_ResNet_18 poisoned: True, epoch: 191: Average loss: 0.0211, Accuracy: 9845/9900 (99.4444%)
Done in 284.8850245475769 sec.
Server Epoch:192 choose agents : [13, 36, 58, 71, 14, 5, 1, 61, 91, 75, 59, 44, 12, 38, 53, 74, 20, 89, 0, 7].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 192, local model 13, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5233/5308 (98.5870%), train_poison_data_count: 415
Global model norm: 44.86752418579055.
Norm before scaling: 44.82195545075747. Distance: 1.1396616695521735
Total norm for 4 adversaries is: 44.82195545075747. distance: 1.1396616695521735
___Test Local_ResNet_18 poisoned: True, epoch: 192: Average loss: 0.0374, Accuracy: 9798/9900 (98.9697%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 192, local model 36, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5680/5777 (98.3209%), train_poison_data_count: 455
Global model norm: 44.86752418579055.
Norm before scaling: 44.815121796125496. Distance: 1.1814883803975926
Total norm for 4 adversaries is: 44.815121796125496. distance: 1.1814883803975926
___Test Local_ResNet_18 poisoned: True, epoch: 192: Average loss: 0.0066, Accuracy: 9883/9900 (99.8283%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 192, local model 58, internal_epoch   1,  Average loss: 0.0022, Accuracy: 5007/5123 (97.7357%), train_poison_data_count: 403
Global model norm: 44.86752418579055.
Norm before scaling: 44.82426896102852. Distance: 1.2255360384201988
Total norm for 4 adversaries is: 44.82426896102852. distance: 1.2255360384201988
___Test Local_ResNet_18 poisoned: True, epoch: 192: Average loss: 0.0514, Accuracy: 9771/9900 (98.6970%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 192, local model 71, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5398/5503 (98.0919%), train_poison_data_count: 430
Global model norm: 44.86752418579055.
Norm before scaling: 44.82065362320074. Distance: 1.1755315065497969
Total norm for 4 adversaries is: 44.82065362320074. distance: 1.1755315065497969
___Test Local_ResNet_18 poisoned: True, epoch: 192: Average loss: 0.0247, Accuracy: 9843/9900 (99.4242%)
___Train Local_ResNet_18,  epoch 192, local model 14, internal_epoch   1,  Average loss: 0.0025, Accuracy: 4000/4196 (95.3289%)
___Train Local_ResNet_18,  epoch 192, local model 14, internal_epoch   2,  Average loss: 0.0033, Accuracy: 3953/4196 (94.2088%)
___Test Local_ResNet_18 poisoned: False, epoch: 192: Average loss: 1.8589, Accuracy: 5804/10000 (58.0400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 31.29ms
___Train Local_ResNet_18,  epoch 192, local model 5, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4737/4993 (94.8728%)
___Train Local_ResNet_18,  epoch 192, local model 5, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4627/4993 (92.6697%)
___Test Local_ResNet_18 poisoned: False, epoch: 192: Average loss: 2.1148, Accuracy: 5563/10000 (55.6300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 31.10ms
___Train Local_ResNet_18,  epoch 192, local model 1, internal_epoch   1,  Average loss: 0.0024, Accuracy: 5174/5422 (95.4260%)
___Train Local_ResNet_18,  epoch 192, local model 1, internal_epoch   2,  Average loss: 0.0036, Accuracy: 5045/5422 (93.0468%)
___Test Local_ResNet_18 poisoned: False, epoch: 192: Average loss: 2.0224, Accuracy: 5615/10000 (56.1500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 31.66ms
___Train Local_ResNet_18,  epoch 192, local model 61, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4207/4485 (93.8016%)
___Train Local_ResNet_18,  epoch 192, local model 61, internal_epoch   2,  Average loss: 0.0093, Accuracy: 3727/4485 (83.0992%)
___Test Local_ResNet_18 poisoned: False, epoch: 192: Average loss: 2.2208, Accuracy: 5082/10000 (50.8200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 30.70ms
___Train Local_ResNet_18,  epoch 192, local model 91, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4193/4527 (92.6220%)
___Train Local_ResNet_18,  epoch 192, local model 91, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4075/4527 (90.0155%)
___Test Local_ResNet_18 poisoned: False, epoch: 192: Average loss: 2.2114, Accuracy: 5246/10000 (52.4600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 30.91ms
___Train Local_ResNet_18,  epoch 192, local model 75, internal_epoch   1,  Average loss: 0.0028, Accuracy: 4427/4672 (94.7560%)
___Train Local_ResNet_18,  epoch 192, local model 75, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4365/4672 (93.4289%)
___Test Local_ResNet_18 poisoned: False, epoch: 192: Average loss: 1.9214, Accuracy: 5748/10000 (57.4800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 31.27ms
___Train Local_ResNet_18,  epoch 192, local model 59, internal_epoch   1,  Average loss: 0.0021, Accuracy: 4222/4397 (96.0200%)
___Train Local_ResNet_18,  epoch 192, local model 59, internal_epoch   2,  Average loss: 0.0025, Accuracy: 4167/4397 (94.7692%)
___Test Local_ResNet_18 poisoned: False, epoch: 192: Average loss: 1.7865, Accuracy: 5958/10000 (59.5800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 32.45ms
___Train Local_ResNet_18,  epoch 192, local model 44, internal_epoch   1,  Average loss: 0.0028, Accuracy: 4817/5075 (94.9163%)
___Train Local_ResNet_18,  epoch 192, local model 44, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4677/5075 (92.1576%)
___Test Local_ResNet_18 poisoned: False, epoch: 192: Average loss: 2.0414, Accuracy: 5604/10000 (56.0400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 31.20ms
___Train Local_ResNet_18,  epoch 192, local model 12, internal_epoch   1,  Average loss: 0.0038, Accuracy: 5131/5526 (92.8520%)
___Train Local_ResNet_18,  epoch 192, local model 12, internal_epoch   2,  Average loss: 0.0059, Accuracy: 4881/5526 (88.3279%)
___Test Local_ResNet_18 poisoned: False, epoch: 192: Average loss: 2.2556, Accuracy: 5095/10000 (50.9500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 31.77ms
___Train Local_ResNet_18,  epoch 192, local model 38, internal_epoch   1,  Average loss: 0.0047, Accuracy: 5668/6235 (90.9062%)
___Train Local_ResNet_18,  epoch 192, local model 38, internal_epoch   2,  Average loss: 0.0065, Accuracy: 5444/6235 (87.3136%)
___Test Local_ResNet_18 poisoned: False, epoch: 192: Average loss: 2.3673, Accuracy: 5054/10000 (50.5400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.81ms
INFO:tornado.access:200 POST /update (::1) 29.44ms
___Train Local_ResNet_18,  epoch 192, local model 53, internal_epoch   1,  Average loss: 0.0051, Accuracy: 6038/6664 (90.6062%)
___Train Local_ResNet_18,  epoch 192, local model 53, internal_epoch   2,  Average loss: 0.0080, Accuracy: 5615/6664 (84.2587%)
___Test Local_ResNet_18 poisoned: False, epoch: 192: Average loss: 2.4200, Accuracy: 4871/10000 (48.7100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 31.35ms
___Train Local_ResNet_18,  epoch 192, local model 74, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4484/4797 (93.4751%)
___Train Local_ResNet_18,  epoch 192, local model 74, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4333/4797 (90.3273%)
___Test Local_ResNet_18 poisoned: False, epoch: 192: Average loss: 2.3851, Accuracy: 5077/10000 (50.7700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 31.06ms
___Train Local_ResNet_18,  epoch 192, local model 20, internal_epoch   1,  Average loss: 0.0021, Accuracy: 4533/4714 (96.1604%)
___Train Local_ResNet_18,  epoch 192, local model 20, internal_epoch   2,  Average loss: 0.0025, Accuracy: 4496/4714 (95.3755%)
___Test Local_ResNet_18 poisoned: False, epoch: 192: Average loss: 1.9183, Accuracy: 5726/10000 (57.2600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /win_exists (::1) 0.72ms
INFO:tornado.access:200 POST /update (::1) 28.43ms
___Train Local_ResNet_18,  epoch 192, local model 89, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4449/4737 (93.9202%)
___Train Local_ResNet_18,  epoch 192, local model 89, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4347/4737 (91.7669%)
___Test Local_ResNet_18 poisoned: False, epoch: 192: Average loss: 2.3412, Accuracy: 5201/10000 (52.0100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 32.09ms
___Train Local_ResNet_18,  epoch 192, local model 0, internal_epoch   1,  Average loss: 0.0037, Accuracy: 5088/5454 (93.2893%)
___Train Local_ResNet_18,  epoch 192, local model 0, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4912/5454 (90.0623%)
___Test Local_ResNet_18 poisoned: False, epoch: 192: Average loss: 2.3453, Accuracy: 5094/10000 (50.9400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 31.19ms
___Train Local_ResNet_18,  epoch 192, local model 7, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4528/4869 (92.9965%)
___Train Local_ResNet_18,  epoch 192, local model 7, internal_epoch   2,  Average loss: 0.0068, Accuracy: 4232/4869 (86.9172%)
___Test Local_ResNet_18 poisoned: False, epoch: 192: Average loss: 2.3082, Accuracy: 5244/10000 (52.4400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 31.38ms
time spent on training: 272.78707218170166
___Test Target_ResNet_18 poisoned: False, epoch: 192: Average loss: 1.5523, Accuracy: 6257/10000 (62.5700%)
___Test Target_ResNet_18 poisoned: True, epoch: 192: Average loss: 0.0194, Accuracy: 9850/9900 (99.4949%)
Done in 299.61029863357544 sec.
Server Epoch:193 choose agents : [13, 36, 58, 71, 17, 26, 15, 18, 38, 29, 82, 21, 84, 80, 85, 11, 12, 88, 89, 9].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 193, local model 13, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5201/5308 (97.9842%), train_poison_data_count: 415
Global model norm: 44.88562260023735.
Norm before scaling: 44.83940527733391. Distance: 1.153488263232937
Total norm for 4 adversaries is: 44.83940527733391. distance: 1.153488263232937
___Test Local_ResNet_18 poisoned: True, epoch: 193: Average loss: 0.0641, Accuracy: 9728/9900 (98.2626%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 193, local model 36, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5672/5777 (98.1824%), train_poison_data_count: 455
Global model norm: 44.88562260023735.
Norm before scaling: 44.83475927947464. Distance: 1.2210591277756249
Total norm for 4 adversaries is: 44.83475927947464. distance: 1.2210591277756249
___Test Local_ResNet_18 poisoned: True, epoch: 193: Average loss: 0.0341, Accuracy: 9824/9900 (99.2323%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 193, local model 58, internal_epoch   1,  Average loss: 0.0022, Accuracy: 5017/5123 (97.9309%), train_poison_data_count: 403
Global model norm: 44.88562260023735.
Norm before scaling: 44.840329518940734. Distance: 1.1449610713521243
Total norm for 4 adversaries is: 44.840329518940734. distance: 1.1449610713521243
___Test Local_ResNet_18 poisoned: True, epoch: 193: Average loss: 0.0319, Accuracy: 9814/9900 (99.1313%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 193, local model 71, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5399/5503 (98.1101%), train_poison_data_count: 430
Global model norm: 44.88562260023735.
Norm before scaling: 44.83908675666661. Distance: 1.1955360253464995
Total norm for 4 adversaries is: 44.83908675666661. distance: 1.1955360253464995
___Test Local_ResNet_18 poisoned: True, epoch: 193: Average loss: 0.0363, Accuracy: 9806/9900 (99.0505%)
___Train Local_ResNet_18,  epoch 193, local model 17, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4515/4903 (92.0865%)
___Train Local_ResNet_18,  epoch 193, local model 17, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4433/4903 (90.4140%)
___Test Local_ResNet_18 poisoned: False, epoch: 193: Average loss: 2.1837, Accuracy: 5378/10000 (53.7800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 31.42ms
___Train Local_ResNet_18,  epoch 193, local model 26, internal_epoch   1,  Average loss: 0.0022, Accuracy: 3917/4086 (95.8639%)
___Train Local_ResNet_18,  epoch 193, local model 26, internal_epoch   2,  Average loss: 0.0023, Accuracy: 3922/4086 (95.9863%)
___Test Local_ResNet_18 poisoned: False, epoch: 193: Average loss: 1.8625, Accuracy: 5818/10000 (58.1800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 32.38ms
___Train Local_ResNet_18,  epoch 193, local model 15, internal_epoch   1,  Average loss: 0.0034, Accuracy: 5663/6068 (93.3256%)
___Train Local_ResNet_18,  epoch 193, local model 15, internal_epoch   2,  Average loss: 0.0040, Accuracy: 5578/6068 (91.9249%)
___Test Local_ResNet_18 poisoned: False, epoch: 193: Average loss: 2.3346, Accuracy: 5193/10000 (51.9300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.80ms
INFO:tornado.access:200 POST /update (::1) 31.78ms
___Train Local_ResNet_18,  epoch 193, local model 18, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4013/4249 (94.4458%)
___Train Local_ResNet_18,  epoch 193, local model 18, internal_epoch   2,  Average loss: 0.0034, Accuracy: 3988/4249 (93.8574%)
___Test Local_ResNet_18 poisoned: False, epoch: 193: Average loss: 1.9442, Accuracy: 5783/10000 (57.8300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 30.89ms
___Train Local_ResNet_18,  epoch 193, local model 38, internal_epoch   1,  Average loss: 0.0043, Accuracy: 5709/6235 (91.5638%)
___Train Local_ResNet_18,  epoch 193, local model 38, internal_epoch   2,  Average loss: 0.0057, Accuracy: 5563/6235 (89.2221%)
___Test Local_ResNet_18 poisoned: False, epoch: 193: Average loss: 2.5353, Accuracy: 4992/10000 (49.9200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /update (::1) 31.08ms
___Train Local_ResNet_18,  epoch 193, local model 29, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4457/4732 (94.1885%)
___Train Local_ResNet_18,  epoch 193, local model 29, internal_epoch   2,  Average loss: 0.0030, Accuracy: 4471/4732 (94.4844%)
___Test Local_ResNet_18 poisoned: False, epoch: 193: Average loss: 1.8763, Accuracy: 5780/10000 (57.8000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 31.77ms
___Train Local_ResNet_18,  epoch 193, local model 82, internal_epoch   1,  Average loss: 0.0027, Accuracy: 5026/5298 (94.8660%)
___Train Local_ResNet_18,  epoch 193, local model 82, internal_epoch   2,  Average loss: 0.0033, Accuracy: 4940/5298 (93.2427%)
___Test Local_ResNet_18 poisoned: False, epoch: 193: Average loss: 2.0263, Accuracy: 5607/10000 (56.0700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 31.41ms
___Train Local_ResNet_18,  epoch 193, local model 21, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4696/5038 (93.2116%)
___Train Local_ResNet_18,  epoch 193, local model 21, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4633/5038 (91.9611%)
___Test Local_ResNet_18 poisoned: False, epoch: 193: Average loss: 1.9424, Accuracy: 5744/10000 (57.4400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 31.56ms
___Train Local_ResNet_18,  epoch 193, local model 84, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4874/5209 (93.5688%)
___Train Local_ResNet_18,  epoch 193, local model 84, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4687/5209 (89.9789%)
___Test Local_ResNet_18 poisoned: False, epoch: 193: Average loss: 2.1718, Accuracy: 5297/10000 (52.9700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 32.22ms
___Train Local_ResNet_18,  epoch 193, local model 80, internal_epoch   1,  Average loss: 0.0031, Accuracy: 5135/5461 (94.0304%)
___Train Local_ResNet_18,  epoch 193, local model 80, internal_epoch   2,  Average loss: 0.0040, Accuracy: 5030/5461 (92.1077%)
___Test Local_ResNet_18 poisoned: False, epoch: 193: Average loss: 2.1143, Accuracy: 5512/10000 (55.1200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.80ms
INFO:tornado.access:200 POST /update (::1) 31.68ms
___Train Local_ResNet_18,  epoch 193, local model 85, internal_epoch   1,  Average loss: 0.0045, Accuracy: 6352/6947 (91.4352%)
___Train Local_ResNet_18,  epoch 193, local model 85, internal_epoch   2,  Average loss: 0.0069, Accuracy: 6011/6947 (86.5266%)
___Test Local_ResNet_18 poisoned: False, epoch: 193: Average loss: 2.3420, Accuracy: 5021/10000 (50.2100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 31.28ms
___Train Local_ResNet_18,  epoch 193, local model 11, internal_epoch   1,  Average loss: 0.0053, Accuracy: 5128/5702 (89.9334%)
___Train Local_ResNet_18,  epoch 193, local model 11, internal_epoch   2,  Average loss: 0.0115, Accuracy: 4436/5702 (77.7973%)
___Test Local_ResNet_18 poisoned: False, epoch: 193: Average loss: 2.4868, Accuracy: 4840/10000 (48.4000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 31.09ms
___Train Local_ResNet_18,  epoch 193, local model 12, internal_epoch   1,  Average loss: 0.0040, Accuracy: 5118/5526 (92.6167%)
___Train Local_ResNet_18,  epoch 193, local model 12, internal_epoch   2,  Average loss: 0.0061, Accuracy: 4866/5526 (88.0565%)
___Test Local_ResNet_18 poisoned: False, epoch: 193: Average loss: 2.5315, Accuracy: 4893/10000 (48.9300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 31.37ms
___Train Local_ResNet_18,  epoch 193, local model 88, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4991/5362 (93.0809%)
___Train Local_ResNet_18,  epoch 193, local model 88, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4852/5362 (90.4886%)
___Test Local_ResNet_18 poisoned: False, epoch: 193: Average loss: 2.2745, Accuracy: 5290/10000 (52.9000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 30.99ms
___Train Local_ResNet_18,  epoch 193, local model 89, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4384/4737 (92.5480%)
___Train Local_ResNet_18,  epoch 193, local model 89, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4308/4737 (90.9436%)
___Test Local_ResNet_18 poisoned: False, epoch: 193: Average loss: 2.5721, Accuracy: 4901/10000 (49.0100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 31.19ms
___Train Local_ResNet_18,  epoch 193, local model 9, internal_epoch   1,  Average loss: 0.0041, Accuracy: 5265/5727 (91.9329%)
___Train Local_ResNet_18,  epoch 193, local model 9, internal_epoch   2,  Average loss: 0.0060, Accuracy: 5055/5727 (88.2661%)
___Test Local_ResNet_18 poisoned: False, epoch: 193: Average loss: 2.1580, Accuracy: 5305/10000 (53.0500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.79ms
INFO:tornado.access:200 POST /update (::1) 33.28ms
time spent on training: 279.04571986198425
___Test Target_ResNet_18 poisoned: False, epoch: 193: Average loss: 1.5608, Accuracy: 6248/10000 (62.4800%)
___Test Target_ResNet_18 poisoned: True, epoch: 193: Average loss: 0.0174, Accuracy: 9855/9900 (99.5455%)
Done in 306.1435487270355 sec.
Server Epoch:194 choose agents : [13, 36, 58, 71, 7, 34, 31, 64, 77, 29, 99, 0, 33, 46, 72, 22, 88, 80, 11, 48].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 194, local model 13, internal_epoch   1,  Average loss: 0.0012, Accuracy: 5233/5308 (98.5870%), train_poison_data_count: 415
Global model norm: 44.90477255963794.
Norm before scaling: 44.85695444749551. Distance: 1.0704975385891493
Total norm for 4 adversaries is: 44.85695444749551. distance: 1.0704975385891493
___Test Local_ResNet_18 poisoned: True, epoch: 194: Average loss: 0.0685, Accuracy: 9722/9900 (98.2020%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 194, local model 36, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5687/5777 (98.4421%), train_poison_data_count: 455
Global model norm: 44.90477255963794.
Norm before scaling: 44.852879079483294. Distance: 1.1536355746511318
Total norm for 4 adversaries is: 44.852879079483294. distance: 1.1536355746511318
___Test Local_ResNet_18 poisoned: True, epoch: 194: Average loss: 0.0537, Accuracy: 9763/9900 (98.6162%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 194, local model 58, internal_epoch   1,  Average loss: 0.0023, Accuracy: 4973/5123 (97.0720%), train_poison_data_count: 403
Global model norm: 44.90477255963794.
Norm before scaling: 44.864710911319264. Distance: 1.2798542235482293
Total norm for 4 adversaries is: 44.864710911319264. distance: 1.2798542235482293
___Test Local_ResNet_18 poisoned: True, epoch: 194: Average loss: 0.1572, Accuracy: 9458/9900 (95.5354%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 194, local model 71, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5396/5503 (98.0556%), train_poison_data_count: 430
Global model norm: 44.90477255963794.
Norm before scaling: 44.85724971019177. Distance: 1.1852801304085034
Total norm for 4 adversaries is: 44.85724971019177. distance: 1.1852801304085034
___Test Local_ResNet_18 poisoned: True, epoch: 194: Average loss: 0.0158, Accuracy: 9861/9900 (99.6061%)
___Train Local_ResNet_18,  epoch 194, local model 7, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4560/4869 (93.6537%)
___Train Local_ResNet_18,  epoch 194, local model 7, internal_epoch   2,  Average loss: 0.0059, Accuracy: 4313/4869 (88.5808%)
___Test Local_ResNet_18 poisoned: False, epoch: 194: Average loss: 2.3811, Accuracy: 5095/10000 (50.9500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 31.08ms
___Train Local_ResNet_18,  epoch 194, local model 34, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4598/4911 (93.6266%)
___Train Local_ResNet_18,  epoch 194, local model 34, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4557/4911 (92.7917%)
___Test Local_ResNet_18 poisoned: False, epoch: 194: Average loss: 2.0449, Accuracy: 5563/10000 (55.6300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 31.67ms
___Train Local_ResNet_18,  epoch 194, local model 31, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4267/4537 (94.0489%)
___Train Local_ResNet_18,  epoch 194, local model 31, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4253/4537 (93.7404%)
___Test Local_ResNet_18 poisoned: False, epoch: 194: Average loss: 1.9563, Accuracy: 5725/10000 (57.2500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.79ms
INFO:tornado.access:200 POST /update (::1) 32.91ms
___Train Local_ResNet_18,  epoch 194, local model 64, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4516/4894 (92.2763%)
___Train Local_ResNet_18,  epoch 194, local model 64, internal_epoch   2,  Average loss: 0.0058, Accuracy: 4324/4894 (88.3531%)
___Test Local_ResNet_18 poisoned: False, epoch: 194: Average loss: 2.3578, Accuracy: 5099/10000 (50.9900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 32.62ms
___Train Local_ResNet_18,  epoch 194, local model 77, internal_epoch   1,  Average loss: 0.0040, Accuracy: 4662/5050 (92.3168%)
___Train Local_ResNet_18,  epoch 194, local model 77, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4549/5050 (90.0792%)
___Test Local_ResNet_18 poisoned: False, epoch: 194: Average loss: 2.0932, Accuracy: 5437/10000 (54.3700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 32.21ms
___Train Local_ResNet_18,  epoch 194, local model 29, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4513/4732 (95.3719%)
___Train Local_ResNet_18,  epoch 194, local model 29, internal_epoch   2,  Average loss: 0.0025, Accuracy: 4506/4732 (95.2240%)
___Test Local_ResNet_18 poisoned: False, epoch: 194: Average loss: 1.8054, Accuracy: 5923/10000 (59.2300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.81ms
INFO:tornado.access:200 POST /update (::1) 31.46ms
___Train Local_ResNet_18,  epoch 194, local model 99, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4520/4851 (93.1767%)
___Train Local_ResNet_18,  epoch 194, local model 99, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4470/4851 (92.1459%)
___Test Local_ResNet_18 poisoned: False, epoch: 194: Average loss: 1.8131, Accuracy: 5890/10000 (58.9000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 32.45ms
___Train Local_ResNet_18,  epoch 194, local model 0, internal_epoch   1,  Average loss: 0.0033, Accuracy: 5131/5454 (94.0777%)
___Train Local_ResNet_18,  epoch 194, local model 0, internal_epoch   2,  Average loss: 0.0046, Accuracy: 4965/5454 (91.0341%)
___Test Local_ResNet_18 poisoned: False, epoch: 194: Average loss: 2.1487, Accuracy: 5359/10000 (53.5900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 31.88ms
___Train Local_ResNet_18,  epoch 194, local model 33, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4538/4818 (94.1885%)
___Train Local_ResNet_18,  epoch 194, local model 33, internal_epoch   2,  Average loss: 0.0049, Accuracy: 4381/4818 (90.9298%)
___Test Local_ResNet_18 poisoned: False, epoch: 194: Average loss: 2.0643, Accuracy: 5366/10000 (53.6600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 31.10ms
___Train Local_ResNet_18,  epoch 194, local model 46, internal_epoch   1,  Average loss: 0.0044, Accuracy: 4933/5399 (91.3688%)
___Train Local_ResNet_18,  epoch 194, local model 46, internal_epoch   2,  Average loss: 0.0065, Accuracy: 4699/5399 (87.0346%)
___Test Local_ResNet_18 poisoned: False, epoch: 194: Average loss: 2.2356, Accuracy: 5131/10000 (51.3100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.81ms
INFO:tornado.access:200 POST /update (::1) 31.18ms
___Train Local_ResNet_18,  epoch 194, local model 72, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4817/5193 (92.7595%)
___Train Local_ResNet_18,  epoch 194, local model 72, internal_epoch   2,  Average loss: 0.0080, Accuracy: 4418/5193 (85.0761%)
___Test Local_ResNet_18 poisoned: False, epoch: 194: Average loss: 2.4050, Accuracy: 4978/10000 (49.7800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /win_exists (::1) 0.74ms
INFO:tornado.access:200 POST /update (::1) 27.80ms
___Train Local_ResNet_18,  epoch 194, local model 22, internal_epoch   1,  Average loss: 0.0029, Accuracy: 5384/5696 (94.5225%)
___Train Local_ResNet_18,  epoch 194, local model 22, internal_epoch   2,  Average loss: 0.0044, Accuracy: 5215/5696 (91.5555%)
___Test Local_ResNet_18 poisoned: False, epoch: 194: Average loss: 2.1828, Accuracy: 5288/10000 (52.8800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.63ms
INFO:tornado.access:200 POST /update (::1) 26.69ms
___Train Local_ResNet_18,  epoch 194, local model 88, internal_epoch   1,  Average loss: 0.0033, Accuracy: 5014/5362 (93.5099%)
___Train Local_ResNet_18,  epoch 194, local model 88, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4914/5362 (91.6449%)
___Test Local_ResNet_18 poisoned: False, epoch: 194: Average loss: 2.0206, Accuracy: 5531/10000 (55.3100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 31.21ms
___Train Local_ResNet_18,  epoch 194, local model 80, internal_epoch   1,  Average loss: 0.0031, Accuracy: 5144/5461 (94.1952%)
___Train Local_ResNet_18,  epoch 194, local model 80, internal_epoch   2,  Average loss: 0.0041, Accuracy: 5012/5461 (91.7781%)
___Test Local_ResNet_18 poisoned: False, epoch: 194: Average loss: 2.2630, Accuracy: 5289/10000 (52.8900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 31.05ms
___Train Local_ResNet_18,  epoch 194, local model 11, internal_epoch   1,  Average loss: 0.0058, Accuracy: 5040/5702 (88.3900%)
___Train Local_ResNet_18,  epoch 194, local model 11, internal_epoch   2,  Average loss: 0.0085, Accuracy: 4757/5702 (83.4269%)
___Test Local_ResNet_18 poisoned: False, epoch: 194: Average loss: 2.5075, Accuracy: 4845/10000 (48.4500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 32.18ms
___Train Local_ResNet_18,  epoch 194, local model 48, internal_epoch   1,  Average loss: 0.0024, Accuracy: 4611/4830 (95.4658%)
___Train Local_ResNet_18,  epoch 194, local model 48, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4475/4830 (92.6501%)
___Test Local_ResNet_18 poisoned: False, epoch: 194: Average loss: 2.1779, Accuracy: 5388/10000 (53.8800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.79ms
INFO:tornado.access:200 POST /update (::1) 31.94ms
time spent on training: 273.57065773010254
___Test Target_ResNet_18 poisoned: False, epoch: 194: Average loss: 1.5787, Accuracy: 6213/10000 (62.1300%)
___Test Target_ResNet_18 poisoned: True, epoch: 194: Average loss: 0.0188, Accuracy: 9847/9900 (99.4646%)
Done in 300.103453874588 sec.
Server Epoch:195 choose agents : [13, 36, 58, 71, 31, 7, 49, 8, 57, 89, 19, 42, 51, 98, 15, 35, 76, 48, 75, 67].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 195, local model 13, internal_epoch   1,  Average loss: 0.0012, Accuracy: 5240/5308 (98.7189%), train_poison_data_count: 415
Global model norm: 44.923809740945.
Norm before scaling: 44.87380308292356. Distance: 1.0562266668868745
Total norm for 4 adversaries is: 44.87380308292356. distance: 1.0562266668868745
___Test Local_ResNet_18 poisoned: True, epoch: 195: Average loss: 0.0326, Accuracy: 9821/9900 (99.2020%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 195, local model 36, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5670/5777 (98.1478%), train_poison_data_count: 455
Global model norm: 44.923809740945.
Norm before scaling: 44.87055220384662. Distance: 1.1786028694731567
Total norm for 4 adversaries is: 44.87055220384662. distance: 1.1786028694731567
___Test Local_ResNet_18 poisoned: True, epoch: 195: Average loss: 0.0104, Accuracy: 9871/9900 (99.7071%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 195, local model 58, internal_epoch   1,  Average loss: 0.0021, Accuracy: 4998/5123 (97.5600%), train_poison_data_count: 403
Global model norm: 44.923809740945.
Norm before scaling: 44.87924471785719. Distance: 1.1725993651558662
Total norm for 4 adversaries is: 44.87924471785719. distance: 1.1725993651558662
___Test Local_ResNet_18 poisoned: True, epoch: 195: Average loss: 0.0255, Accuracy: 9827/9900 (99.2626%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 195, local model 71, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5403/5503 (98.1828%), train_poison_data_count: 430
Global model norm: 44.923809740945.
Norm before scaling: 44.87502720228981. Distance: 1.1596431432375642
Total norm for 4 adversaries is: 44.87502720228981. distance: 1.1596431432375642
___Test Local_ResNet_18 poisoned: True, epoch: 195: Average loss: 0.0690, Accuracy: 9722/9900 (98.2020%)
___Train Local_ResNet_18,  epoch 195, local model 31, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4296/4537 (94.6881%)
___Train Local_ResNet_18,  epoch 195, local model 31, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4243/4537 (93.5199%)
___Test Local_ResNet_18 poisoned: False, epoch: 195: Average loss: 1.9929, Accuracy: 5765/10000 (57.6500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 32.45ms
___Train Local_ResNet_18,  epoch 195, local model 7, internal_epoch   1,  Average loss: 0.0039, Accuracy: 4536/4869 (93.1608%)
___Train Local_ResNet_18,  epoch 195, local model 7, internal_epoch   2,  Average loss: 0.0101, Accuracy: 3919/4869 (80.4888%)
___Test Local_ResNet_18 poisoned: False, epoch: 195: Average loss: 2.5257, Accuracy: 4826/10000 (48.2600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 32.01ms
___Train Local_ResNet_18,  epoch 195, local model 49, internal_epoch   1,  Average loss: 0.0043, Accuracy: 5191/5652 (91.8436%)
___Train Local_ResNet_18,  epoch 195, local model 49, internal_epoch   2,  Average loss: 0.0057, Accuracy: 5031/5652 (89.0127%)
___Test Local_ResNet_18 poisoned: False, epoch: 195: Average loss: 2.4370, Accuracy: 5027/10000 (50.2700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 32.32ms
___Train Local_ResNet_18,  epoch 195, local model 8, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4570/4889 (93.4751%)
___Train Local_ResNet_18,  epoch 195, local model 8, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4503/4889 (92.1047%)
___Test Local_ResNet_18 poisoned: False, epoch: 195: Average loss: 2.1382, Accuracy: 5445/10000 (54.4500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 32.66ms
___Train Local_ResNet_18,  epoch 195, local model 57, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4634/4956 (93.5028%)
___Train Local_ResNet_18,  epoch 195, local model 57, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4513/4956 (91.0613%)
___Test Local_ResNet_18 poisoned: False, epoch: 195: Average loss: 2.2596, Accuracy: 5341/10000 (53.4100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 32.51ms
___Train Local_ResNet_18,  epoch 195, local model 89, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4390/4737 (92.6747%)
___Train Local_ResNet_18,  epoch 195, local model 89, internal_epoch   2,  Average loss: 0.0051, Accuracy: 4345/4737 (91.7247%)
___Test Local_ResNet_18 poisoned: False, epoch: 195: Average loss: 2.3705, Accuracy: 5191/10000 (51.9100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.78ms
INFO:tornado.access:200 POST /win_exists (::1) 0.67ms
INFO:tornado.access:200 POST /update (::1) 31.00ms
___Train Local_ResNet_18,  epoch 195, local model 19, internal_epoch   1,  Average loss: 0.0038, Accuracy: 4982/5361 (92.9304%)
___Train Local_ResNet_18,  epoch 195, local model 19, internal_epoch   2,  Average loss: 0.0054, Accuracy: 4786/5361 (89.2744%)
___Test Local_ResNet_18 poisoned: False, epoch: 195: Average loss: 2.3533, Accuracy: 5125/10000 (51.2500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.79ms
INFO:tornado.access:200 POST /win_exists (::1) 0.70ms
INFO:tornado.access:200 POST /update (::1) 27.20ms
___Train Local_ResNet_18,  epoch 195, local model 42, internal_epoch   1,  Average loss: 0.0042, Accuracy: 5443/5907 (92.1449%)
___Train Local_ResNet_18,  epoch 195, local model 42, internal_epoch   2,  Average loss: 0.0055, Accuracy: 5263/5907 (89.0977%)
___Test Local_ResNet_18 poisoned: False, epoch: 195: Average loss: 2.3952, Accuracy: 5018/10000 (50.1800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 31.72ms
___Train Local_ResNet_18,  epoch 195, local model 51, internal_epoch   1,  Average loss: 0.0029, Accuracy: 3900/4108 (94.9367%)
___Train Local_ResNet_18,  epoch 195, local model 51, internal_epoch   2,  Average loss: 0.0035, Accuracy: 3838/4108 (93.4275%)
___Test Local_ResNet_18 poisoned: False, epoch: 195: Average loss: 2.0330, Accuracy: 5602/10000 (56.0200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 31.36ms
___Train Local_ResNet_18,  epoch 195, local model 98, internal_epoch   1,  Average loss: 0.0038, Accuracy: 3935/4161 (94.5686%)
___Train Local_ResNet_18,  epoch 195, local model 98, internal_epoch   2,  Average loss: 0.0050, Accuracy: 3831/4161 (92.0692%)
___Test Local_ResNet_18 poisoned: False, epoch: 195: Average loss: 2.0350, Accuracy: 5644/10000 (56.4400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 32.08ms
___Train Local_ResNet_18,  epoch 195, local model 15, internal_epoch   1,  Average loss: 0.0034, Accuracy: 5675/6068 (93.5234%)
___Train Local_ResNet_18,  epoch 195, local model 15, internal_epoch   2,  Average loss: 0.0046, Accuracy: 5505/6068 (90.7218%)
___Test Local_ResNet_18 poisoned: False, epoch: 195: Average loss: 2.2624, Accuracy: 5245/10000 (52.4500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 32.34ms
___Train Local_ResNet_18,  epoch 195, local model 35, internal_epoch   1,  Average loss: 0.0034, Accuracy: 5253/5615 (93.5530%)
___Train Local_ResNet_18,  epoch 195, local model 35, internal_epoch   2,  Average loss: 0.0045, Accuracy: 5117/5615 (91.1309%)
___Test Local_ResNet_18 poisoned: False, epoch: 195: Average loss: 2.1718, Accuracy: 5291/10000 (52.9100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 31.75ms
___Train Local_ResNet_18,  epoch 195, local model 76, internal_epoch   1,  Average loss: 0.0038, Accuracy: 3654/3959 (92.2960%)
___Train Local_ResNet_18,  epoch 195, local model 76, internal_epoch   2,  Average loss: 0.0047, Accuracy: 3583/3959 (90.5027%)
___Test Local_ResNet_18 poisoned: False, epoch: 195: Average loss: 2.0976, Accuracy: 5438/10000 (54.3800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 32.54ms
___Train Local_ResNet_18,  epoch 195, local model 48, internal_epoch   1,  Average loss: 0.0026, Accuracy: 4596/4830 (95.1553%)
___Train Local_ResNet_18,  epoch 195, local model 48, internal_epoch   2,  Average loss: 0.0030, Accuracy: 4532/4830 (93.8302%)
___Test Local_ResNet_18 poisoned: False, epoch: 195: Average loss: 2.0933, Accuracy: 5611/10000 (56.1100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 30.91ms
___Train Local_ResNet_18,  epoch 195, local model 75, internal_epoch   1,  Average loss: 0.0026, Accuracy: 4442/4672 (95.0771%)
___Train Local_ResNet_18,  epoch 195, local model 75, internal_epoch   2,  Average loss: 0.0031, Accuracy: 4384/4672 (93.8356%)
___Test Local_ResNet_18 poisoned: False, epoch: 195: Average loss: 1.9969, Accuracy: 5683/10000 (56.8300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 32.57ms
___Train Local_ResNet_18,  epoch 195, local model 67, internal_epoch   1,  Average loss: 0.0039, Accuracy: 5156/5559 (92.7505%)
___Train Local_ResNet_18,  epoch 195, local model 67, internal_epoch   2,  Average loss: 0.0063, Accuracy: 4863/5559 (87.4798%)
___Test Local_ResNet_18 poisoned: False, epoch: 195: Average loss: 2.1099, Accuracy: 5242/10000 (52.4200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 32.80ms
time spent on training: 269.7978935241699
___Test Target_ResNet_18 poisoned: False, epoch: 195: Average loss: 1.5997, Accuracy: 6193/10000 (61.9300%)
___Test Target_ResNet_18 poisoned: True, epoch: 195: Average loss: 0.0161, Accuracy: 9856/9900 (99.5556%)
Done in 296.3342730998993 sec.
Server Epoch:196 choose agents : [13, 36, 58, 71, 21, 78, 19, 42, 25, 70, 73, 31, 96, 99, 88, 18, 0, 54, 32, 45].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 196, local model 13, internal_epoch   1,  Average loss: 0.0012, Accuracy: 5226/5308 (98.4552%), train_poison_data_count: 415
Global model norm: 44.94183116514682.
Norm before scaling: 44.89280853112779. Distance: 1.0788806533815627
Total norm for 4 adversaries is: 44.89280853112779. distance: 1.0788806533815627
___Test Local_ResNet_18 poisoned: True, epoch: 196: Average loss: 0.0342, Accuracy: 9812/9900 (99.1111%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 196, local model 36, internal_epoch   1,  Average loss: 0.0012, Accuracy: 5694/5777 (98.5633%), train_poison_data_count: 455
Global model norm: 44.94183116514682.
Norm before scaling: 44.88864259893587. Distance: 1.1385785386844187
Total norm for 4 adversaries is: 44.88864259893587. distance: 1.1385785386844187
___Test Local_ResNet_18 poisoned: True, epoch: 196: Average loss: 0.0161, Accuracy: 9863/9900 (99.6263%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 196, local model 58, internal_epoch   1,  Average loss: 0.0023, Accuracy: 4989/5123 (97.3843%), train_poison_data_count: 403
Global model norm: 44.94183116514682.
Norm before scaling: 44.89870870045986. Distance: 1.2127469725625102
Total norm for 4 adversaries is: 44.89870870045986. distance: 1.2127469725625102
___Test Local_ResNet_18 poisoned: True, epoch: 196: Average loss: 0.0953, Accuracy: 9654/9900 (97.5152%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 196, local model 71, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5406/5503 (98.2373%), train_poison_data_count: 430
Global model norm: 44.94183116514682.
Norm before scaling: 44.89346656077864. Distance: 1.1644344375682285
Total norm for 4 adversaries is: 44.89346656077864. distance: 1.1644344375682285
___Test Local_ResNet_18 poisoned: True, epoch: 196: Average loss: 0.0381, Accuracy: 9803/9900 (99.0202%)
___Train Local_ResNet_18,  epoch 196, local model 21, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4689/5038 (93.0726%)
___Train Local_ResNet_18,  epoch 196, local model 21, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4655/5038 (92.3978%)
___Test Local_ResNet_18 poisoned: False, epoch: 196: Average loss: 1.8505, Accuracy: 5790/10000 (57.9000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 32.28ms
___Train Local_ResNet_18,  epoch 196, local model 78, internal_epoch   1,  Average loss: 0.0022, Accuracy: 4201/4368 (96.1767%)
___Train Local_ResNet_18,  epoch 196, local model 78, internal_epoch   2,  Average loss: 0.0026, Accuracy: 4164/4368 (95.3297%)
___Test Local_ResNet_18 poisoned: False, epoch: 196: Average loss: 1.9244, Accuracy: 5829/10000 (58.2900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.97ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 28.10ms
___Train Local_ResNet_18,  epoch 196, local model 19, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4904/5361 (91.4755%)
___Train Local_ResNet_18,  epoch 196, local model 19, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4799/5361 (89.5169%)
___Test Local_ResNet_18 poisoned: False, epoch: 196: Average loss: 2.2989, Accuracy: 5047/10000 (50.4700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 33.38ms
___Train Local_ResNet_18,  epoch 196, local model 42, internal_epoch   1,  Average loss: 0.0035, Accuracy: 5499/5907 (93.0929%)
___Train Local_ResNet_18,  epoch 196, local model 42, internal_epoch   2,  Average loss: 0.0046, Accuracy: 5369/5907 (90.8922%)
___Test Local_ResNet_18 poisoned: False, epoch: 196: Average loss: 2.3889, Accuracy: 4988/10000 (49.8800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 31.34ms
___Train Local_ResNet_18,  epoch 196, local model 25, internal_epoch   1,  Average loss: 0.0046, Accuracy: 5852/6419 (91.1668%)
___Train Local_ResNet_18,  epoch 196, local model 25, internal_epoch   2,  Average loss: 0.0066, Accuracy: 5563/6419 (86.6646%)
___Test Local_ResNet_18 poisoned: False, epoch: 196: Average loss: 2.8003, Accuracy: 4583/10000 (45.8300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.97ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 32.06ms
___Train Local_ResNet_18,  epoch 196, local model 70, internal_epoch   1,  Average loss: 0.0032, Accuracy: 5506/5871 (93.7830%)
___Train Local_ResNet_18,  epoch 196, local model 70, internal_epoch   2,  Average loss: 0.0038, Accuracy: 5439/5871 (92.6418%)
___Test Local_ResNet_18 poisoned: False, epoch: 196: Average loss: 2.1008, Accuracy: 5471/10000 (54.7100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 32.45ms
___Train Local_ResNet_18,  epoch 196, local model 73, internal_epoch   1,  Average loss: 0.0022, Accuracy: 4428/4605 (96.1564%)
___Train Local_ResNet_18,  epoch 196, local model 73, internal_epoch   2,  Average loss: 0.0026, Accuracy: 4385/4605 (95.2226%)
___Test Local_ResNet_18 poisoned: False, epoch: 196: Average loss: 1.9587, Accuracy: 5814/10000 (58.1400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 31.83ms
___Train Local_ResNet_18,  epoch 196, local model 31, internal_epoch   1,  Average loss: 0.0028, Accuracy: 4294/4537 (94.6440%)
___Train Local_ResNet_18,  epoch 196, local model 31, internal_epoch   2,  Average loss: 0.0029, Accuracy: 4288/4537 (94.5118%)
___Test Local_ResNet_18 poisoned: False, epoch: 196: Average loss: 1.9259, Accuracy: 5746/10000 (57.4600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.75ms
INFO:tornado.access:200 POST /update (::1) 31.97ms
___Train Local_ResNet_18,  epoch 196, local model 96, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4767/5086 (93.7279%)
___Train Local_ResNet_18,  epoch 196, local model 96, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4698/5086 (92.3712%)
___Test Local_ResNet_18 poisoned: False, epoch: 196: Average loss: 1.9428, Accuracy: 5673/10000 (56.7300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.79ms
INFO:tornado.access:200 POST /update (::1) 31.76ms
___Train Local_ResNet_18,  epoch 196, local model 99, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4536/4851 (93.5065%)
___Train Local_ResNet_18,  epoch 196, local model 99, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4493/4851 (92.6201%)
___Test Local_ResNet_18 poisoned: False, epoch: 196: Average loss: 1.9848, Accuracy: 5744/10000 (57.4400%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 31.33ms
___Train Local_ResNet_18,  epoch 196, local model 88, internal_epoch   1,  Average loss: 0.0031, Accuracy: 5039/5362 (93.9761%)
___Train Local_ResNet_18,  epoch 196, local model 88, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4902/5362 (91.4211%)
___Test Local_ResNet_18 poisoned: False, epoch: 196: Average loss: 2.2027, Accuracy: 5283/10000 (52.8300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 31.07ms
___Train Local_ResNet_18,  epoch 196, local model 18, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4036/4249 (94.9871%)
___Train Local_ResNet_18,  epoch 196, local model 18, internal_epoch   2,  Average loss: 0.0044, Accuracy: 3873/4249 (91.1509%)
___Test Local_ResNet_18 poisoned: False, epoch: 196: Average loss: 2.0010, Accuracy: 5606/10000 (56.0600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 31.84ms
___Train Local_ResNet_18,  epoch 196, local model 0, internal_epoch   1,  Average loss: 0.0035, Accuracy: 5095/5454 (93.4177%)
___Train Local_ResNet_18,  epoch 196, local model 0, internal_epoch   2,  Average loss: 0.0058, Accuracy: 4833/5454 (88.6139%)
___Test Local_ResNet_18 poisoned: False, epoch: 196: Average loss: 2.2197, Accuracy: 5289/10000 (52.8900%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 31.36ms
___Train Local_ResNet_18,  epoch 196, local model 54, internal_epoch   1,  Average loss: 0.0041, Accuracy: 5199/5645 (92.0992%)
___Train Local_ResNet_18,  epoch 196, local model 54, internal_epoch   2,  Average loss: 0.0061, Accuracy: 4950/5645 (87.6882%)
___Test Local_ResNet_18 poisoned: False, epoch: 196: Average loss: 2.3135, Accuracy: 5267/10000 (52.6700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 32.53ms
___Train Local_ResNet_18,  epoch 196, local model 32, internal_epoch   1,  Average loss: 0.0051, Accuracy: 5488/6080 (90.2632%)
___Train Local_ResNet_18,  epoch 196, local model 32, internal_epoch   2,  Average loss: 0.0064, Accuracy: 5299/6080 (87.1546%)
___Test Local_ResNet_18 poisoned: False, epoch: 196: Average loss: 2.3941, Accuracy: 4964/10000 (49.6400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 31.82ms
___Train Local_ResNet_18,  epoch 196, local model 45, internal_epoch   1,  Average loss: 0.0036, Accuracy: 5109/5489 (93.0771%)
___Train Local_ResNet_18,  epoch 196, local model 45, internal_epoch   2,  Average loss: 0.0043, Accuracy: 5010/5489 (91.2735%)
___Test Local_ResNet_18 poisoned: False, epoch: 196: Average loss: 2.2089, Accuracy: 5283/10000 (52.8300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 31.44ms
time spent on training: 277.0521414279938
___Test Target_ResNet_18 poisoned: False, epoch: 196: Average loss: 1.6041, Accuracy: 6174/10000 (61.7400%)
___Test Target_ResNet_18 poisoned: True, epoch: 196: Average loss: 0.0149, Accuracy: 9858/9900 (99.5758%)
Done in 304.0150234699249 sec.
Server Epoch:197 choose agents : [13, 36, 58, 71, 84, 48, 20, 55, 59, 40, 92, 0, 16, 85, 82, 90, 52, 6, 15, 97].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 197, local model 13, internal_epoch   1,  Average loss: 0.0012, Accuracy: 5224/5308 (98.4175%), train_poison_data_count: 415
Global model norm: 44.9602757064674.
Norm before scaling: 44.911667318505614. Distance: 1.0861385351481985
Total norm for 4 adversaries is: 44.911667318505614. distance: 1.0861385351481985
___Test Local_ResNet_18 poisoned: True, epoch: 197: Average loss: 0.0332, Accuracy: 9816/9900 (99.1515%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 197, local model 36, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5671/5777 (98.1651%), train_poison_data_count: 455
Global model norm: 44.9602757064674.
Norm before scaling: 44.908148718123115. Distance: 1.1891742749005316
Total norm for 4 adversaries is: 44.908148718123115. distance: 1.1891742749005316
___Test Local_ResNet_18 poisoned: True, epoch: 197: Average loss: 0.0222, Accuracy: 9843/9900 (99.4242%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 197, local model 58, internal_epoch   1,  Average loss: 0.0024, Accuracy: 5016/5123 (97.9114%), train_poison_data_count: 403
Global model norm: 44.9602757064674.
Norm before scaling: 44.914519778286206. Distance: 1.1460766562842875
Total norm for 4 adversaries is: 44.914519778286206. distance: 1.1460766562842875
___Test Local_ResNet_18 poisoned: True, epoch: 197: Average loss: 0.0455, Accuracy: 9780/9900 (98.7879%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 197, local model 71, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5398/5503 (98.0919%), train_poison_data_count: 430
Global model norm: 44.9602757064674.
Norm before scaling: 44.91212665966454. Distance: 1.1704172349826352
Total norm for 4 adversaries is: 44.91212665966454. distance: 1.1704172349826352
___Test Local_ResNet_18 poisoned: True, epoch: 197: Average loss: 0.0492, Accuracy: 9769/9900 (98.6768%)
___Train Local_ResNet_18,  epoch 197, local model 84, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4856/5209 (93.2233%)
___Train Local_ResNet_18,  epoch 197, local model 84, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4730/5209 (90.8044%)
___Test Local_ResNet_18 poisoned: False, epoch: 197: Average loss: 2.1532, Accuracy: 5401/10000 (54.0100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.83ms
INFO:tornado.access:200 POST /win_exists (::1) 0.82ms
INFO:tornado.access:200 POST /update (::1) 30.74ms
___Train Local_ResNet_18,  epoch 197, local model 48, internal_epoch   1,  Average loss: 0.0024, Accuracy: 4625/4830 (95.7557%)
___Train Local_ResNet_18,  epoch 197, local model 48, internal_epoch   2,  Average loss: 0.0032, Accuracy: 4522/4830 (93.6232%)
___Test Local_ResNet_18 poisoned: False, epoch: 197: Average loss: 2.0578, Accuracy: 5566/10000 (55.6600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 32.83ms
___Train Local_ResNet_18,  epoch 197, local model 20, internal_epoch   1,  Average loss: 0.0023, Accuracy: 4526/4714 (96.0119%)
___Train Local_ResNet_18,  epoch 197, local model 20, internal_epoch   2,  Average loss: 0.0028, Accuracy: 4463/4714 (94.6754%)
___Test Local_ResNet_18 poisoned: False, epoch: 197: Average loss: 1.9828, Accuracy: 5708/10000 (57.0800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.81ms
INFO:tornado.access:200 POST /update (::1) 33.06ms
___Train Local_ResNet_18,  epoch 197, local model 55, internal_epoch   1,  Average loss: 0.0024, Accuracy: 4530/4731 (95.7514%)
___Train Local_ResNet_18,  epoch 197, local model 55, internal_epoch   2,  Average loss: 0.0029, Accuracy: 4458/4731 (94.2295%)
___Test Local_ResNet_18 poisoned: False, epoch: 197: Average loss: 2.0440, Accuracy: 5530/10000 (55.3000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 32.18ms
___Train Local_ResNet_18,  epoch 197, local model 59, internal_epoch   1,  Average loss: 0.0022, Accuracy: 4232/4397 (96.2474%)
___Train Local_ResNet_18,  epoch 197, local model 59, internal_epoch   2,  Average loss: 0.0022, Accuracy: 4210/4397 (95.7471%)
___Test Local_ResNet_18 poisoned: False, epoch: 197: Average loss: 1.8670, Accuracy: 5835/10000 (58.3500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 32.26ms
___Train Local_ResNet_18,  epoch 197, local model 40, internal_epoch   1,  Average loss: 0.0030, Accuracy: 5588/5939 (94.0899%)
___Train Local_ResNet_18,  epoch 197, local model 40, internal_epoch   2,  Average loss: 0.0045, Accuracy: 5398/5939 (90.8907%)
___Test Local_ResNet_18 poisoned: False, epoch: 197: Average loss: 2.2832, Accuracy: 5178/10000 (51.7800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 31.39ms
___Train Local_ResNet_18,  epoch 197, local model 92, internal_epoch   1,  Average loss: 0.0027, Accuracy: 6457/6812 (94.7886%)
___Train Local_ResNet_18,  epoch 197, local model 92, internal_epoch   2,  Average loss: 0.0038, Accuracy: 6323/6812 (92.8215%)
___Test Local_ResNet_18 poisoned: False, epoch: 197: Average loss: 2.3334, Accuracy: 5253/10000 (52.5300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 32.80ms
___Train Local_ResNet_18,  epoch 197, local model 0, internal_epoch   1,  Average loss: 0.0038, Accuracy: 5054/5454 (92.6659%)
___Train Local_ResNet_18,  epoch 197, local model 0, internal_epoch   2,  Average loss: 0.0052, Accuracy: 4889/5454 (89.6406%)
___Test Local_ResNet_18 poisoned: False, epoch: 197: Average loss: 2.2391, Accuracy: 5255/10000 (52.5500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.82ms
INFO:tornado.access:200 POST /update (::1) 32.01ms
___Train Local_ResNet_18,  epoch 197, local model 16, internal_epoch   1,  Average loss: 0.0034, Accuracy: 5024/5353 (93.8539%)
___Train Local_ResNet_18,  epoch 197, local model 16, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4880/5353 (91.1638%)
___Test Local_ResNet_18 poisoned: False, epoch: 197: Average loss: 2.1658, Accuracy: 5313/10000 (53.1300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 31.75ms
___Train Local_ResNet_18,  epoch 197, local model 85, internal_epoch   1,  Average loss: 0.0045, Accuracy: 6335/6947 (91.1904%)
___Train Local_ResNet_18,  epoch 197, local model 85, internal_epoch   2,  Average loss: 0.0069, Accuracy: 6001/6947 (86.3826%)
___Test Local_ResNet_18 poisoned: False, epoch: 197: Average loss: 2.4618, Accuracy: 4950/10000 (49.5000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 33.14ms
___Train Local_ResNet_18,  epoch 197, local model 82, internal_epoch   1,  Average loss: 0.0024, Accuracy: 5047/5298 (95.2624%)
___Train Local_ResNet_18,  epoch 197, local model 82, internal_epoch   2,  Average loss: 0.0029, Accuracy: 4982/5298 (94.0355%)
___Test Local_ResNet_18 poisoned: False, epoch: 197: Average loss: 2.0735, Accuracy: 5487/10000 (54.8700%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 32.76ms
___Train Local_ResNet_18,  epoch 197, local model 90, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4525/4748 (95.3033%)
___Train Local_ResNet_18,  epoch 197, local model 90, internal_epoch   2,  Average loss: 0.0040, Accuracy: 4368/4748 (91.9966%)
___Test Local_ResNet_18 poisoned: False, epoch: 197: Average loss: 2.2335, Accuracy: 5136/10000 (51.3600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 31.25ms
___Train Local_ResNet_18,  epoch 197, local model 52, internal_epoch   1,  Average loss: 0.0027, Accuracy: 3938/4130 (95.3511%)
___Train Local_ResNet_18,  epoch 197, local model 52, internal_epoch   2,  Average loss: 0.0035, Accuracy: 3835/4130 (92.8571%)
___Test Local_ResNet_18 poisoned: False, epoch: 197: Average loss: 2.0732, Accuracy: 5590/10000 (55.9000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 31.80ms
___Train Local_ResNet_18,  epoch 197, local model 6, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4679/4929 (94.9280%)
___Train Local_ResNet_18,  epoch 197, local model 6, internal_epoch   2,  Average loss: 0.0045, Accuracy: 4543/4929 (92.1688%)
___Test Local_ResNet_18 poisoned: False, epoch: 197: Average loss: 2.1277, Accuracy: 5541/10000 (55.4100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 32.12ms
___Train Local_ResNet_18,  epoch 197, local model 15, internal_epoch   1,  Average loss: 0.0033, Accuracy: 5671/6068 (93.4575%)
___Train Local_ResNet_18,  epoch 197, local model 15, internal_epoch   2,  Average loss: 0.0042, Accuracy: 5548/6068 (91.4305%)
___Test Local_ResNet_18 poisoned: False, epoch: 197: Average loss: 2.2904, Accuracy: 5132/10000 (51.3200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 30.88ms
___Train Local_ResNet_18,  epoch 197, local model 97, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4429/4736 (93.5177%)
___Train Local_ResNet_18,  epoch 197, local model 97, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4309/4736 (90.9840%)
___Test Local_ResNet_18 poisoned: False, epoch: 197: Average loss: 1.9453, Accuracy: 5635/10000 (56.3500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 32.35ms
time spent on training: 273.521244764328
___Test Target_ResNet_18 poisoned: False, epoch: 197: Average loss: 1.6164, Accuracy: 6160/10000 (61.6000%)
___Test Target_ResNet_18 poisoned: True, epoch: 197: Average loss: 0.0154, Accuracy: 9857/9900 (99.5657%)
Done in 300.3009235858917 sec.
Server Epoch:198 choose agents : [13, 36, 58, 71, 57, 62, 61, 67, 3, 82, 69, 93, 42, 76, 7, 94, 14, 21, 32, 25].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 198, local model 13, internal_epoch   1,  Average loss: 0.0011, Accuracy: 5230/5308 (98.5305%), train_poison_data_count: 415
Global model norm: 44.978007049713334.
Norm before scaling: 44.92880924741524. Distance: 1.0619985855868992
Total norm for 4 adversaries is: 44.92880924741524. distance: 1.0619985855868992
___Test Local_ResNet_18 poisoned: True, epoch: 198: Average loss: 0.0538, Accuracy: 9756/9900 (98.5455%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 198, local model 36, internal_epoch   1,  Average loss: 0.0014, Accuracy: 5662/5777 (98.0093%), train_poison_data_count: 455
Global model norm: 44.978007049713334.
Norm before scaling: 44.928822832272715. Distance: 1.2938528121418233
Total norm for 4 adversaries is: 44.928822832272715. distance: 1.2938528121418233
___Test Local_ResNet_18 poisoned: True, epoch: 198: Average loss: 0.0088, Accuracy: 9874/9900 (99.7374%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 198, local model 58, internal_epoch   1,  Average loss: 0.0022, Accuracy: 5006/5123 (97.7162%), train_poison_data_count: 403
Global model norm: 44.978007049713334.
Norm before scaling: 44.9339942891063. Distance: 1.193260376065719
Total norm for 4 adversaries is: 44.9339942891063. distance: 1.193260376065719
___Test Local_ResNet_18 poisoned: True, epoch: 198: Average loss: 0.0776, Accuracy: 9696/9900 (97.9394%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 198, local model 71, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5418/5503 (98.4554%), train_poison_data_count: 430
Global model norm: 44.978007049713334.
Norm before scaling: 44.93035381939405. Distance: 1.1632964922929228
Total norm for 4 adversaries is: 44.93035381939405. distance: 1.1632964922929228
___Test Local_ResNet_18 poisoned: True, epoch: 198: Average loss: 0.0290, Accuracy: 9823/9900 (99.2222%)
___Train Local_ResNet_18,  epoch 198, local model 57, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4687/4956 (94.5722%)
___Train Local_ResNet_18,  epoch 198, local model 57, internal_epoch   2,  Average loss: 0.0044, Accuracy: 4535/4956 (91.5052%)
___Test Local_ResNet_18 poisoned: False, epoch: 198: Average loss: 2.1356, Accuracy: 5453/10000 (54.5300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 32.49ms
___Train Local_ResNet_18,  epoch 198, local model 62, internal_epoch   1,  Average loss: 0.0046, Accuracy: 5008/5504 (90.9884%)
___Train Local_ResNet_18,  epoch 198, local model 62, internal_epoch   2,  Average loss: 0.0061, Accuracy: 4815/5504 (87.4818%)
___Test Local_ResNet_18 poisoned: False, epoch: 198: Average loss: 2.3253, Accuracy: 5159/10000 (51.5900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 31.86ms
___Train Local_ResNet_18,  epoch 198, local model 61, internal_epoch   1,  Average loss: 0.0043, Accuracy: 4162/4485 (92.7982%)
___Train Local_ResNet_18,  epoch 198, local model 61, internal_epoch   2,  Average loss: 0.0071, Accuracy: 3888/4485 (86.6890%)
___Test Local_ResNet_18 poisoned: False, epoch: 198: Average loss: 2.1696, Accuracy: 5113/10000 (51.1300%)
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 31.27ms
___Train Local_ResNet_18,  epoch 198, local model 67, internal_epoch   1,  Average loss: 0.0041, Accuracy: 5117/5559 (92.0489%)
___Train Local_ResNet_18,  epoch 198, local model 67, internal_epoch   2,  Average loss: 0.0057, Accuracy: 4925/5559 (88.5951%)
___Test Local_ResNet_18 poisoned: False, epoch: 198: Average loss: 2.2571, Accuracy: 5116/10000 (51.1600%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 32.82ms
___Train Local_ResNet_18,  epoch 198, local model 3, internal_epoch   1,  Average loss: 0.0029, Accuracy: 5042/5346 (94.3135%)
___Train Local_ResNet_18,  epoch 198, local model 3, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4989/5346 (93.3221%)
___Test Local_ResNet_18 poisoned: False, epoch: 198: Average loss: 2.2972, Accuracy: 5270/10000 (52.7000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 32.79ms
___Train Local_ResNet_18,  epoch 198, local model 82, internal_epoch   1,  Average loss: 0.0027, Accuracy: 5026/5298 (94.8660%)
___Train Local_ResNet_18,  epoch 198, local model 82, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4911/5298 (92.6954%)
___Test Local_ResNet_18 poisoned: False, epoch: 198: Average loss: 2.0588, Accuracy: 5501/10000 (55.0100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 31.20ms
___Train Local_ResNet_18,  epoch 198, local model 69, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4126/4364 (94.5463%)
___Train Local_ResNet_18,  epoch 198, local model 69, internal_epoch   2,  Average loss: 0.0054, Accuracy: 3928/4364 (90.0092%)
___Test Local_ResNet_18 poisoned: False, epoch: 198: Average loss: 2.1873, Accuracy: 5330/10000 (53.3000%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 31.51ms
___Train Local_ResNet_18,  epoch 198, local model 93, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4692/5055 (92.8190%)
___Train Local_ResNet_18,  epoch 198, local model 93, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4563/5055 (90.2671%)
___Test Local_ResNet_18 poisoned: False, epoch: 198: Average loss: 2.1667, Accuracy: 5388/10000 (53.8800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 31.32ms
___Train Local_ResNet_18,  epoch 198, local model 42, internal_epoch   1,  Average loss: 0.0039, Accuracy: 5464/5907 (92.5004%)
___Train Local_ResNet_18,  epoch 198, local model 42, internal_epoch   2,  Average loss: 0.0047, Accuracy: 5342/5907 (90.4351%)
___Test Local_ResNet_18 poisoned: False, epoch: 198: Average loss: 2.4917, Accuracy: 5012/10000 (50.1200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 31.76ms
___Train Local_ResNet_18,  epoch 198, local model 76, internal_epoch   1,  Average loss: 0.0040, Accuracy: 3655/3959 (92.3213%)
___Train Local_ResNet_18,  epoch 198, local model 76, internal_epoch   2,  Average loss: 0.0037, Accuracy: 3665/3959 (92.5739%)
___Test Local_ResNet_18 poisoned: False, epoch: 198: Average loss: 1.8540, Accuracy: 5724/10000 (57.2400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 31.70ms
___Train Local_ResNet_18,  epoch 198, local model 7, internal_epoch   1,  Average loss: 0.0036, Accuracy: 4552/4869 (93.4894%)
___Train Local_ResNet_18,  epoch 198, local model 7, internal_epoch   2,  Average loss: 0.0099, Accuracy: 3944/4869 (81.0023%)
___Test Local_ResNet_18 poisoned: False, epoch: 198: Average loss: 2.5590, Accuracy: 4737/10000 (47.3700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 31.91ms
___Train Local_ResNet_18,  epoch 198, local model 94, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4881/5224 (93.4342%)
___Train Local_ResNet_18,  epoch 198, local model 94, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4786/5224 (91.6156%)
___Test Local_ResNet_18 poisoned: False, epoch: 198: Average loss: 2.2264, Accuracy: 5377/10000 (53.7700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 32.65ms
___Train Local_ResNet_18,  epoch 198, local model 14, internal_epoch   1,  Average loss: 0.0020, Accuracy: 4047/4196 (96.4490%)
___Train Local_ResNet_18,  epoch 198, local model 14, internal_epoch   2,  Average loss: 0.0026, Accuracy: 4005/4196 (95.4480%)
___Test Local_ResNet_18 poisoned: False, epoch: 198: Average loss: 1.8609, Accuracy: 5822/10000 (58.2200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 32.02ms
___Train Local_ResNet_18,  epoch 198, local model 21, internal_epoch   1,  Average loss: 0.0033, Accuracy: 4718/5038 (93.6483%)
___Train Local_ResNet_18,  epoch 198, local model 21, internal_epoch   2,  Average loss: 0.0037, Accuracy: 4667/5038 (92.6360%)
___Test Local_ResNet_18 poisoned: False, epoch: 198: Average loss: 1.9847, Accuracy: 5681/10000 (56.8100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 32.02ms
___Train Local_ResNet_18,  epoch 198, local model 32, internal_epoch   1,  Average loss: 0.0052, Accuracy: 5463/6080 (89.8520%)
___Train Local_ResNet_18,  epoch 198, local model 32, internal_epoch   2,  Average loss: 0.0058, Accuracy: 5398/6080 (88.7829%)
___Test Local_ResNet_18 poisoned: False, epoch: 198: Average loss: 2.2208, Accuracy: 5117/10000 (51.1700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.02ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 31.91ms
___Train Local_ResNet_18,  epoch 198, local model 25, internal_epoch   1,  Average loss: 0.0047, Accuracy: 5819/6419 (90.6527%)
___Train Local_ResNet_18,  epoch 198, local model 25, internal_epoch   2,  Average loss: 0.0073, Accuracy: 5493/6419 (85.5741%)
___Test Local_ResNet_18 poisoned: False, epoch: 198: Average loss: 2.3676, Accuracy: 5072/10000 (50.7200%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 31.56ms
time spent on training: 268.12937021255493
___Test Target_ResNet_18 poisoned: False, epoch: 198: Average loss: 1.6126, Accuracy: 6154/10000 (61.5400%)
___Test Target_ResNet_18 poisoned: True, epoch: 198: Average loss: 0.0162, Accuracy: 9855/9900 (99.5455%)
Done in 294.841468334198 sec.
Server Epoch:199 choose agents : [13, 36, 58, 71, 19, 16, 82, 89, 45, 31, 91, 9, 44, 66, 11, 76, 92, 37, 54, 63].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 199, local model 13, internal_epoch   1,  Average loss: 0.0011, Accuracy: 5238/5308 (98.6812%), train_poison_data_count: 415
Global model norm: 44.9975680223908.
Norm before scaling: 44.94885738562703. Distance: 1.063956160420194
Total norm for 4 adversaries is: 44.94885738562703. distance: 1.063956160420194
___Test Local_ResNet_18 poisoned: True, epoch: 199: Average loss: 0.0559, Accuracy: 9752/9900 (98.5051%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 199, local model 36, internal_epoch   1,  Average loss: 0.0012, Accuracy: 5690/5777 (98.4940%), train_poison_data_count: 455
Global model norm: 44.9975680223908.
Norm before scaling: 44.94338343787381. Distance: 1.1525704888159567
Total norm for 4 adversaries is: 44.94338343787381. distance: 1.1525704888159567
___Test Local_ResNet_18 poisoned: True, epoch: 199: Average loss: 0.0378, Accuracy: 9802/9900 (99.0101%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 199, local model 58, internal_epoch   1,  Average loss: 0.0021, Accuracy: 5020/5123 (97.9895%), train_poison_data_count: 403
Global model norm: 44.9975680223908.
Norm before scaling: 44.95197225451084. Distance: 1.1481262615697385
Total norm for 4 adversaries is: 44.95197225451084. distance: 1.1481262615697385
___Test Local_ResNet_18 poisoned: True, epoch: 199: Average loss: 0.0282, Accuracy: 9824/9900 (99.2323%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 199, local model 71, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5416/5503 (98.4190%), train_poison_data_count: 430
Global model norm: 44.9975680223908.
Norm before scaling: 44.94797882865535. Distance: 1.1306382458840338
Total norm for 4 adversaries is: 44.94797882865535. distance: 1.1306382458840338
___Test Local_ResNet_18 poisoned: True, epoch: 199: Average loss: 0.0895, Accuracy: 9658/9900 (97.5556%)
___Train Local_ResNet_18,  epoch 199, local model 19, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4982/5361 (92.9304%)
___Train Local_ResNet_18,  epoch 199, local model 19, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4813/5361 (89.7780%)
___Test Local_ResNet_18 poisoned: False, epoch: 199: Average loss: 2.2038, Accuracy: 5370/10000 (53.7000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 31.99ms
___Train Local_ResNet_18,  epoch 199, local model 16, internal_epoch   1,  Average loss: 0.0031, Accuracy: 5036/5353 (94.0781%)
___Train Local_ResNet_18,  epoch 199, local model 16, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4804/5353 (89.7441%)
___Test Local_ResNet_18 poisoned: False, epoch: 199: Average loss: 2.1681, Accuracy: 5415/10000 (54.1500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 32.05ms
___Train Local_ResNet_18,  epoch 199, local model 82, internal_epoch   1,  Average loss: 0.0025, Accuracy: 5067/5298 (95.6399%)
___Train Local_ResNet_18,  epoch 199, local model 82, internal_epoch   2,  Average loss: 0.0030, Accuracy: 4990/5298 (94.1865%)
___Test Local_ResNet_18 poisoned: False, epoch: 199: Average loss: 2.1610, Accuracy: 5468/10000 (54.6800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 31.36ms
___Train Local_ResNet_18,  epoch 199, local model 89, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4424/4737 (93.3924%)
___Train Local_ResNet_18,  epoch 199, local model 89, internal_epoch   2,  Average loss: 0.0050, Accuracy: 4364/4737 (92.1258%)
___Test Local_ResNet_18 poisoned: False, epoch: 199: Average loss: 2.1734, Accuracy: 5397/10000 (53.9700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 25.89ms
___Train Local_ResNet_18,  epoch 199, local model 45, internal_epoch   1,  Average loss: 0.0039, Accuracy: 5056/5489 (92.1115%)
___Train Local_ResNet_18,  epoch 199, local model 45, internal_epoch   2,  Average loss: 0.0047, Accuracy: 4976/5489 (90.6540%)
___Test Local_ResNet_18 poisoned: False, epoch: 199: Average loss: 2.3741, Accuracy: 4963/10000 (49.6300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 31.70ms
___Train Local_ResNet_18,  epoch 199, local model 31, internal_epoch   1,  Average loss: 0.0027, Accuracy: 4318/4537 (95.1730%)
___Train Local_ResNet_18,  epoch 199, local model 31, internal_epoch   2,  Average loss: 0.0035, Accuracy: 4229/4537 (93.2114%)
___Test Local_ResNet_18 poisoned: False, epoch: 199: Average loss: 1.9888, Accuracy: 5702/10000 (57.0200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /update (::1) 31.70ms
___Train Local_ResNet_18,  epoch 199, local model 91, internal_epoch   1,  Average loss: 0.0042, Accuracy: 4171/4527 (92.1361%)
___Train Local_ResNet_18,  epoch 199, local model 91, internal_epoch   2,  Average loss: 0.0056, Accuracy: 4035/4527 (89.1319%)
___Test Local_ResNet_18 poisoned: False, epoch: 199: Average loss: 2.1005, Accuracy: 5407/10000 (54.0700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 32.21ms
___Train Local_ResNet_18,  epoch 199, local model 9, internal_epoch   1,  Average loss: 0.0039, Accuracy: 5291/5727 (92.3869%)
___Train Local_ResNet_18,  epoch 199, local model 9, internal_epoch   2,  Average loss: 0.0053, Accuracy: 5119/5727 (89.3836%)
___Test Local_ResNet_18 poisoned: False, epoch: 199: Average loss: 2.1199, Accuracy: 5351/10000 (53.5100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 32.34ms
___Train Local_ResNet_18,  epoch 199, local model 44, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4788/5075 (94.3448%)
___Train Local_ResNet_18,  epoch 199, local model 44, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4688/5075 (92.3744%)
___Test Local_ResNet_18 poisoned: False, epoch: 199: Average loss: 2.1141, Accuracy: 5483/10000 (54.8300%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 33.00ms
___Train Local_ResNet_18,  epoch 199, local model 66, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4577/4843 (94.5075%)
___Train Local_ResNet_18,  epoch 199, local model 66, internal_epoch   2,  Average loss: 0.0041, Accuracy: 4461/4843 (92.1123%)
___Test Local_ResNet_18 poisoned: False, epoch: 199: Average loss: 2.3638, Accuracy: 5151/10000 (51.5100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 30.83ms
___Train Local_ResNet_18,  epoch 199, local model 11, internal_epoch   1,  Average loss: 0.0058, Accuracy: 5054/5702 (88.6356%)
___Train Local_ResNet_18,  epoch 199, local model 11, internal_epoch   2,  Average loss: 0.0101, Accuracy: 4552/5702 (79.8316%)
___Test Local_ResNet_18 poisoned: False, epoch: 199: Average loss: 2.9879, Accuracy: 4351/10000 (43.5100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.82ms
INFO:tornado.access:200 POST /update (::1) 31.57ms
___Train Local_ResNet_18,  epoch 199, local model 76, internal_epoch   1,  Average loss: 0.0036, Accuracy: 3685/3959 (93.0791%)
___Train Local_ResNet_18,  epoch 199, local model 76, internal_epoch   2,  Average loss: 0.0040, Accuracy: 3641/3959 (91.9677%)
___Test Local_ResNet_18 poisoned: False, epoch: 199: Average loss: 2.0561, Accuracy: 5558/10000 (55.5800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 32.26ms
___Train Local_ResNet_18,  epoch 199, local model 92, internal_epoch   1,  Average loss: 0.0030, Accuracy: 6427/6812 (94.3482%)
___Train Local_ResNet_18,  epoch 199, local model 92, internal_epoch   2,  Average loss: 0.0045, Accuracy: 6211/6812 (91.1773%)
___Test Local_ResNet_18 poisoned: False, epoch: 199: Average loss: 2.1207, Accuracy: 5321/10000 (53.2100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.98ms
INFO:tornado.access:200 POST /win_exists (::1) 0.79ms
INFO:tornado.access:200 POST /update (::1) 32.19ms
___Train Local_ResNet_18,  epoch 199, local model 37, internal_epoch   1,  Average loss: 0.0041, Accuracy: 4375/4741 (92.2801%)
___Train Local_ResNet_18,  epoch 199, local model 37, internal_epoch   2,  Average loss: 0.0099, Accuracy: 3833/4741 (80.8479%)
___Test Local_ResNet_18 poisoned: False, epoch: 199: Average loss: 2.7684, Accuracy: 4536/10000 (45.3600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.94ms
INFO:tornado.access:200 POST /win_exists (::1) 0.85ms
INFO:tornado.access:200 POST /update (::1) 32.24ms
___Train Local_ResNet_18,  epoch 199, local model 54, internal_epoch   1,  Average loss: 0.0047, Accuracy: 5127/5645 (90.8237%)
___Train Local_ResNet_18,  epoch 199, local model 54, internal_epoch   2,  Average loss: 0.0059, Accuracy: 5006/5645 (88.6802%)
___Test Local_ResNet_18 poisoned: False, epoch: 199: Average loss: 2.3555, Accuracy: 5056/10000 (50.5600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.86ms
INFO:tornado.access:200 POST /update (::1) 33.06ms
___Train Local_ResNet_18,  epoch 199, local model 63, internal_epoch   1,  Average loss: 0.0029, Accuracy: 3727/3910 (95.3197%)
___Train Local_ResNet_18,  epoch 199, local model 63, internal_epoch   2,  Average loss: 0.0058, Accuracy: 3492/3910 (89.3095%)
___Test Local_ResNet_18 poisoned: False, epoch: 199: Average loss: 2.1569, Accuracy: 5407/10000 (54.0700%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 31.41ms
time spent on training: 273.3879144191742
___Test Target_ResNet_18 poisoned: False, epoch: 199: Average loss: 1.6202, Accuracy: 6161/10000 (61.6100%)
___Test Target_ResNet_18 poisoned: True, epoch: 199: Average loss: 0.0170, Accuracy: 9853/9900 (99.5253%)
Done in 300.23680305480957 sec.
Server Epoch:200 choose agents : [13, 36, 58, 71, 42, 74, 66, 6, 50, 49, 10, 11, 1, 96, 61, 52, 79, 72, 55, 38].
poison local model 13 index 0 
poison_now
start trigger fine-tuning
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 200, local model 13, internal_epoch   1,  Average loss: 0.0012, Accuracy: 5227/5308 (98.4740%), train_poison_data_count: 415
Global model norm: 45.01748656555236.
Norm before scaling: 44.96851926191672. Distance: 1.1040101690169555
Total norm for 4 adversaries is: 44.96851926191672. distance: 1.1040101690169555
___Test Local_ResNet_18 poisoned: True, epoch: 200: Average loss: 0.0245, Accuracy: 9844/9900 (99.4343%)
poison local model 36 index 1 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 200, local model 36, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5672/5777 (98.1824%), train_poison_data_count: 455
Global model norm: 45.01748656555236.
Norm before scaling: 44.964053568169874. Distance: 1.164215589863839
Total norm for 4 adversaries is: 44.964053568169874. distance: 1.164215589863839
___Test Local_ResNet_18 poisoned: True, epoch: 200: Average loss: 0.1125, Accuracy: 9613/9900 (97.1010%)
poison local model 58 index 2 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 200, local model 58, internal_epoch   1,  Average loss: 0.0022, Accuracy: 5025/5123 (98.0871%), train_poison_data_count: 403
Global model norm: 45.01748656555236.
Norm before scaling: 44.97094466717163. Distance: 1.1156911899795616
Total norm for 4 adversaries is: 44.97094466717163. distance: 1.1156911899795616
___Test Local_ResNet_18 poisoned: True, epoch: 200: Average loss: 0.2273, Accuracy: 9291/9900 (93.8485%)
poison local model 71 index 3 
poison_now
normally training
save normal model, normally training ending
Current lr: [0.005]
___PoisonTrain Local_ResNet_18 , epoch 200, local model 71, internal_epoch   1,  Average loss: 0.0013, Accuracy: 5400/5503 (98.1283%), train_poison_data_count: 430
Global model norm: 45.01748656555236.
Norm before scaling: 44.969649867212524. Distance: 1.1662759410430374
Total norm for 4 adversaries is: 44.969649867212524. distance: 1.1662759410430374
___Test Local_ResNet_18 poisoned: True, epoch: 200: Average loss: 0.0360, Accuracy: 9808/9900 (99.0707%)
___Train Local_ResNet_18,  epoch 200, local model 42, internal_epoch   1,  Average loss: 0.0036, Accuracy: 5495/5907 (93.0252%)
___Train Local_ResNet_18,  epoch 200, local model 42, internal_epoch   2,  Average loss: 0.0047, Accuracy: 5371/5907 (90.9260%)
___Test Local_ResNet_18 poisoned: False, epoch: 200: Average loss: 2.2312, Accuracy: 5235/10000 (52.3500%)
INFO:tornado.access:200 POST /win_exists (::1) 1.01ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 31.36ms
___Train Local_ResNet_18,  epoch 200, local model 74, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4478/4797 (93.3500%)
___Train Local_ResNet_18,  epoch 200, local model 74, internal_epoch   2,  Average loss: 0.0039, Accuracy: 4415/4797 (92.0367%)
___Test Local_ResNet_18 poisoned: False, epoch: 200: Average loss: 1.9928, Accuracy: 5635/10000 (56.3500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 32.51ms
___Train Local_ResNet_18,  epoch 200, local model 66, internal_epoch   1,  Average loss: 0.0032, Accuracy: 4557/4843 (94.0946%)
___Train Local_ResNet_18,  epoch 200, local model 66, internal_epoch   2,  Average loss: 0.0036, Accuracy: 4507/4843 (93.0622%)
___Test Local_ResNet_18 poisoned: False, epoch: 200: Average loss: 2.0481, Accuracy: 5631/10000 (56.3100%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 33.35ms
___Train Local_ResNet_18,  epoch 200, local model 6, internal_epoch   1,  Average loss: 0.0037, Accuracy: 4681/4929 (94.9686%)
___Train Local_ResNet_18,  epoch 200, local model 6, internal_epoch   2,  Average loss: 0.0048, Accuracy: 4574/4929 (92.7977%)
___Test Local_ResNet_18 poisoned: False, epoch: 200: Average loss: 2.0746, Accuracy: 5678/10000 (56.7800%)
INFO:tornado.access:200 POST /win_exists (::1) 0.93ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 30.93ms
___Train Local_ResNet_18,  epoch 200, local model 50, internal_epoch   1,  Average loss: 0.0031, Accuracy: 4480/4757 (94.1770%)
___Train Local_ResNet_18,  epoch 200, local model 50, internal_epoch   2,  Average loss: 0.0042, Accuracy: 4385/4757 (92.1799%)
___Test Local_ResNet_18 poisoned: False, epoch: 200: Average loss: 2.0360, Accuracy: 5471/10000 (54.7100%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 32.39ms
___Train Local_ResNet_18,  epoch 200, local model 49, internal_epoch   1,  Average loss: 0.0043, Accuracy: 5174/5652 (91.5428%)
___Train Local_ResNet_18,  epoch 200, local model 49, internal_epoch   2,  Average loss: 0.0054, Accuracy: 5051/5652 (89.3666%)
___Test Local_ResNet_18 poisoned: False, epoch: 200: Average loss: 2.3356, Accuracy: 5128/10000 (51.2800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 32.16ms
___Train Local_ResNet_18,  epoch 200, local model 10, internal_epoch   1,  Average loss: 0.0026, Accuracy: 4844/5068 (95.5801%)
___Train Local_ResNet_18,  epoch 200, local model 10, internal_epoch   2,  Average loss: 0.0038, Accuracy: 4697/5068 (92.6796%)
___Test Local_ResNet_18 poisoned: False, epoch: 200: Average loss: 2.2407, Accuracy: 5216/10000 (52.1600%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.87ms
INFO:tornado.access:200 POST /update (::1) 32.20ms
___Train Local_ResNet_18,  epoch 200, local model 11, internal_epoch   1,  Average loss: 0.0056, Accuracy: 5096/5702 (89.3722%)
___Train Local_ResNet_18,  epoch 200, local model 11, internal_epoch   2,  Average loss: 0.0108, Accuracy: 4525/5702 (79.3581%)
___Test Local_ResNet_18 poisoned: False, epoch: 200: Average loss: 2.8989, Accuracy: 4319/10000 (43.1900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 33.07ms
___Train Local_ResNet_18,  epoch 200, local model 1, internal_epoch   1,  Average loss: 0.0022, Accuracy: 5215/5422 (96.1822%)
___Train Local_ResNet_18,  epoch 200, local model 1, internal_epoch   2,  Average loss: 0.0030, Accuracy: 5127/5422 (94.5592%)
___Test Local_ResNet_18 poisoned: False, epoch: 200: Average loss: 1.9302, Accuracy: 5749/10000 (57.4900%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 32.25ms
___Train Local_ResNet_18,  epoch 200, local model 96, internal_epoch   1,  Average loss: 0.0030, Accuracy: 4786/5086 (94.1015%)
___Train Local_ResNet_18,  epoch 200, local model 96, internal_epoch   2,  Average loss: 0.0043, Accuracy: 4666/5086 (91.7420%)
___Test Local_ResNet_18 poisoned: False, epoch: 200: Average loss: 2.0731, Accuracy: 5514/10000 (55.1400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 31.91ms
___Train Local_ResNet_18,  epoch 200, local model 61, internal_epoch   1,  Average loss: 0.0034, Accuracy: 4198/4485 (93.6009%)
___Train Local_ResNet_18,  epoch 200, local model 61, internal_epoch   2,  Average loss: 0.0065, Accuracy: 3936/4485 (87.7592%)
___Test Local_ResNet_18 poisoned: False, epoch: 200: Average loss: 2.2291, Accuracy: 5194/10000 (51.9400%)
INFO:tornado.access:200 POST /win_exists (::1) 0.92ms
INFO:tornado.access:200 POST /win_exists (::1) 0.84ms
INFO:tornado.access:200 POST /update (::1) 31.98ms
___Train Local_ResNet_18,  epoch 200, local model 52, internal_epoch   1,  Average loss: 0.0025, Accuracy: 3939/4130 (95.3753%)
___Train Local_ResNet_18,  epoch 200, local model 52, internal_epoch   2,  Average loss: 0.0030, Accuracy: 3867/4130 (93.6320%)
___Test Local_ResNet_18 poisoned: False, epoch: 200: Average loss: 1.9306, Accuracy: 5760/10000 (57.6000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.88ms
INFO:tornado.access:200 POST /update (::1) 31.93ms
___Train Local_ResNet_18,  epoch 200, local model 79, internal_epoch   1,  Average loss: 0.0031, Accuracy: 3872/4111 (94.1863%)
___Train Local_ResNet_18,  epoch 200, local model 79, internal_epoch   2,  Average loss: 0.0056, Accuracy: 3673/4111 (89.3457%)
___Test Local_ResNet_18 poisoned: False, epoch: 200: Average loss: 2.3314, Accuracy: 5210/10000 (52.1000%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 31.36ms
___Train Local_ResNet_18,  epoch 200, local model 72, internal_epoch   1,  Average loss: 0.0035, Accuracy: 4850/5193 (93.3950%)
___Train Local_ResNet_18,  epoch 200, local model 72, internal_epoch   2,  Average loss: 0.0053, Accuracy: 4653/5193 (89.6014%)
___Test Local_ResNet_18 poisoned: False, epoch: 200: Average loss: 2.2743, Accuracy: 5165/10000 (51.6500%)
INFO:tornado.access:200 POST /win_exists (::1) 0.91ms
INFO:tornado.access:200 POST /win_exists (::1) 0.90ms
INFO:tornado.access:200 POST /update (::1) 31.95ms
___Train Local_ResNet_18,  epoch 200, local model 55, internal_epoch   1,  Average loss: 0.0029, Accuracy: 4463/4731 (94.3352%)
___Train Local_ResNet_18,  epoch 200, local model 55, internal_epoch   2,  Average loss: 0.0034, Accuracy: 4434/4731 (93.7223%)
___Test Local_ResNet_18 poisoned: False, epoch: 200: Average loss: 2.1743, Accuracy: 5418/10000 (54.1800%)
INFO:tornado.access:200 POST /win_exists (::1) 1.00ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 32.50ms
___Train Local_ResNet_18,  epoch 200, local model 38, internal_epoch   1,  Average loss: 0.0040, Accuracy: 5764/6235 (92.4459%)
___Train Local_ResNet_18,  epoch 200, local model 38, internal_epoch   2,  Average loss: 0.0062, Accuracy: 5451/6235 (87.4258%)
___Test Local_ResNet_18 poisoned: False, epoch: 200: Average loss: 2.6570, Accuracy: 4762/10000 (47.6200%)
INFO:tornado.access:200 POST /win_exists (::1) 0.99ms
INFO:tornado.access:200 POST /win_exists (::1) 0.89ms
INFO:tornado.access:200 POST /update (::1) 32.92ms
time spent on training: 272.93607354164124
___Test Target_ResNet_18 poisoned: False, epoch: 200: Average loss: 1.6035, Accuracy: 6184/10000 (61.8400%)
___Test Target_ResNet_18 poisoned: True, epoch: 200: Average loss: 0.0204, Accuracy: 9844/9900 (99.4343%)
Done in 299.4194188117981 sec.
Saving all the graphs.
This run has a label: Aug.22_08.03.55. Visdom environment: cifar100_CerP
INFO:tornado.access:200 POST /save (::1) 40.29ms
